import{j as e,au as _,aM as ne,aT as S,S as U,aW as ye,D as Ne,N as be,bw as Ce,H as Ae,T as Se}from"./ui-CNbESIMS.js";import{r as v,b as te}from"./vendor-DG599jyl.js";import{u as oe,b as K,c as E}from"./query-DFkYe0MV.js";import{C as J,b as ce,c as he,d as me,a as W}from"./card-pTI7iGfo.js";import{B as j}from"./button-BpHONB4D.js";import{B as b}from"./badge-DO_1G0Ng.js";import{I as o}from"./input-DOIJ2OtM.js";import{L as d}from"./label-DkC73-VZ.js";import{S as D,a as M,b as q,c as R,d as f}from"./select-CSg3IHkG.js";import{D as G,f as we,a as $,b as z,c as Q,d as H}from"./dialog-MmBhddhZ.js";import{T as ie,a as le,b as I,c as m,d as de,e as h}from"./table-C7swbe4_.js";import{u as Pe,a as Ie,t as l}from"./index-CvuFKe2_.js";import{P as Te}from"./Page-B106cZ-W.js";import{A as Fe,a as ke}from"./alert-DDFXqRDj.js";import{c as Ue,g as Ke,s as Ee,b as De,u as Me,d as qe}from"./phoneNumberService-_WdHtDLM.js";import{e as Re,f as Le}from"./agentService-XJiHAFON.js";import{C as Be}from"./CreditGuard-Bu38fvg2.js";import"./index-DklBfCbe.js";import"./index-HDeFwIcs.js";import"./router-BavLd_S0.js";import"./scroll-area-CQNQHAmm.js";import"./index-U78YeT7B.js";const Oe=({onSuccess:x,onCancel:w})=>{const{user:u}=Pe(),{isSuperAdmin:L}=Ie(),[a,B]=v.useState({provider:"vapi",phoneNumber:"",name:"",assistantId:"",squadId:"",workflowId:"",fallbackDestination:"",serverUrl:"",serverUrlSecret:"",twilioAccountSid:"",twilioAuthToken:"",vonageApiKey:"",vonageApiSecret:"",telnyxApiKey:"",telnyxApiSecret:"",areaCode:""}),[X,T]=v.useState(!1),O=oe(),{data:y,isLoading:N}=K({queryKey:["assistants","complete",u==null?void 0:u.id],queryFn:()=>Re(""),retry:(r,t)=>{var P;return[404,204,402].includes((P=t==null?void 0:t.response)==null?void 0:P.status)?!1:r<1},enabled:!!(u!=null&&u.id)}),C=(y==null?void 0:y.data)||[],g=E({mutationFn:Ue,onSuccess:()=>{l.success("Phone number created successfully!"),O.invalidateQueries({queryKey:["phoneNumbers"]}),x==null||x()},onError:r=>{var t,p;l.error(((p=(t=r.response)==null?void 0:t.data)==null?void 0:p.message)||"Failed to create phone number")}}),n=(r,t)=>{B(p=>({...p,[r]:t}))},V=r=>{const t=r.replace(/\D/g,"");return t.length===10?`+1${t}`:t.length===11&&t.startsWith("1")?`+${t}`:r},A=r=>{const t=V(r);n("phoneNumber",t)},F=()=>{if(!a.provider)return l.error("Please select a provider"),!1;if(!a.phoneNumber)return l.error("Please enter a phone number"),!1;if(a.provider!=="vapi"){if(!/^\+[1-9]\d{1,14}$/.test(a.phoneNumber))return l.error("Phone number must be in E.164 format (e.g., +1234567890)"),!1}else if(!a.areaCode||a.areaCode.length!==3)return l.error("Please enter a valid 3-digit area code"),!1;if(a.serverUrl)try{new URL(a.serverUrl)}catch{return l.error("Server URL must be a valid URL"),!1}if(a.fallbackDestination)try{JSON.parse(a.fallbackDestination)}catch{return l.error("Fallback destination must be valid JSON"),!1}switch(a.provider){case"vapi":break;case"twilio":if(!a.twilioAccountSid||!a.twilioAuthToken)return l.error("Twilio Account SID and Auth Token are required"),!1;if(!a.twilioAccountSid.startsWith("AC"))return l.error("Twilio Account SID should start with 'AC'"),!1;if(a.twilioAccountSid.length!==34)return l.error("Twilio Account SID should be 34 characters long"),!1;break;case"vonage":if(!a.vonageApiKey||!a.vonageApiSecret)return l.error("Vonage API Key and Secret are required"),!1;break;case"telnyx":if(!a.telnyxApiKey)return l.error("Telnyx API Key is required"),!1;break}return!0},k=r=>{if(r.preventDefault(),!F())return;const t={...a,assistantId:a.assistantId==="unassigned"?"":a.assistantId};g.mutate(t)},Y=()=>{switch(a.provider){case"vapi":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",style:{color:"#12a594"},children:[e.jsx(U,{className:"h-4 w-4"}),"AI CRUITMENT Free Phone Number"]}),e.jsx("div",{className:"rounded-lg p-4 border",style:{backgroundColor:"#fafefd",borderColor:"#12a594"},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5",style:{color:"#12a594"},viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium",style:{color:"#008071"},children:"No credentials required!"}),e.jsx("p",{className:"text-sm mt-1",style:{color:"#008071"},children:"AI CRUITMENT provides free US phone numbers instantly. Just enter your desired area code and we'll assign you a random number in that area."}),e.jsxs("ul",{className:"text-xs mt-2 space-y-1",style:{color:"#12a594"},children:[e.jsx("li",{children:"• Up to 10 free numbers per account"}),e.jsx("li",{children:"• Instant activation (2-3 minutes)"}),e.jsx("li",{children:"• US numbers only"}),e.jsx("li",{children:"• No monthly fees"})]})]})]})})]});case"twilio":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-blue-600",children:[e.jsx(U,{className:"h-4 w-4"}),"Twilio Credentials"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"twilioAccountSid",children:"Account SID *"}),e.jsx(o,{id:"twilioAccountSid",type:"text",placeholder:"ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",value:a.twilioAccountSid,onChange:r=>n("twilioAccountSid",r.target.value),className:"font-mono text-sm"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"twilioAuthToken",children:"Auth Token *"}),e.jsx(o,{id:"twilioAuthToken",type:"password",placeholder:"Your Twilio Auth Token",value:a.twilioAuthToken,onChange:r=>n("twilioAuthToken",r.target.value),className:"font-mono text-sm"})]})]})]});case"vonage":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-orange-600",children:[e.jsx(U,{className:"h-4 w-4"}),"Vonage Credentials"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"vonageApiKey",children:"API Key *"}),e.jsx(o,{id:"vonageApiKey",type:"text",placeholder:"Your Vonage API Key",value:a.vonageApiKey,onChange:r=>n("vonageApiKey",r.target.value),className:"font-mono text-sm"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"vonageApiSecret",children:"API Secret *"}),e.jsx(o,{id:"vonageApiSecret",type:"password",placeholder:"Your Vonage API Secret",value:a.vonageApiSecret,onChange:r=>n("vonageApiSecret",r.target.value),className:"font-mono text-sm"})]})]})]});case"telnyx":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-purple-600",children:[e.jsx(U,{className:"h-4 w-4"}),"Telnyx Credentials"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"telnyxApiKey",children:"API Key *"}),e.jsx(o,{id:"telnyxApiKey",type:"password",placeholder:"Your Telnyx API Key",value:a.telnyxApiKey,onChange:r=>n("telnyxApiKey",r.target.value),className:"font-mono text-sm"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"telnyxApiSecret",children:"API Secret (Optional)"}),e.jsx(o,{id:"telnyxApiSecret",type:"password",placeholder:"Your Telnyx API Secret (if required)",value:a.telnyxApiSecret,onChange:r=>n("telnyxApiSecret",r.target.value),className:"font-mono text-sm"})]})]})]});default:return null}};return e.jsx(Be,{requiredCredits:1,feature:"phone number creation",showUpgradeButton:!0,children:e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs(J,{children:[e.jsxs(ce,{children:[e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-5 w-5 text-blue-600"}),"Create Phone Number"]}),e.jsx(me,{children:"Get a free AI CRUITMENT phone number."})]}),e.jsxs(W,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"provider",children:"Provider *"}),e.jsxs(D,{value:a.provider,onValueChange:r=>n("provider",r),children:[e.jsx(M,{children:e.jsx(q,{placeholder:"Select a provider"})}),e.jsx(R,{children:e.jsx(f,{value:"vapi",className:"font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"#12a594"}}),"AI CRUITMENT (Free US Number)"]})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.provider==="vapi"?e.jsxs("div",{children:[e.jsxs(d,{htmlFor:"areaCode",className:"flex items-center gap-2",children:["Area Code *",e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full text-white font-medium",style:{backgroundColor:"#12a594"},children:"Free"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(o,{id:"areaCode",type:"text",placeholder:"000",value:a.areaCode,onChange:r=>{const t=r.target.value.replace(/\D/g,"").slice(0,3);n("areaCode",t),n("phoneNumber",t)},className:"font-mono text-lg text-center border-2 focus:border-[#12a594] focus:ring-[#12a594]",style:{borderColor:a.areaCode?"#12a594":void 0},maxLength:3}),a.areaCode&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("svg",{className:"h-4 w-4",style:{color:"#12a594"},fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),e.jsx("p",{className:"text-xs mt-1",style:{color:"#12a594"},children:"Enter a 3-digit US area code (e.g., 415, 212, 310)"})]}):e.jsxs("div",{children:[e.jsx(d,{htmlFor:"phoneNumber",children:"Phone Number *"}),e.jsx(o,{id:"phoneNumber",type:"tel",placeholder:"+1 (555) 123-4567",value:a.phoneNumber,onChange:r=>A(r.target.value),className:"font-mono"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the phone number in E.164 format"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"name",children:"Friendly Name"}),e.jsx(o,{id:"name",type:"text",placeholder:a.provider==="vapi"?"My AI CRUITMENT Number":"My Business Number",value:a.name,onChange:r=>n("name",r.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{htmlFor:"assistantId",className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4"}),"Assistant"]}),e.jsxs(D,{value:a.assistantId,onValueChange:r=>n("assistantId",r),children:[e.jsx(M,{children:e.jsx(q,{placeholder:"Select an assistant (optional)"})}),e.jsx(R,{children:N?e.jsxs("div",{className:"flex items-center justify-center p-2",children:[e.jsx(S,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading assistants..."})]}):C.length===0?e.jsx("div",{className:"flex items-center justify-center p-2 text-gray-500",children:"No assistants available"}):e.jsxs(e.Fragment,{children:[e.jsx(f,{value:"unassigned",children:e.jsx("span",{className:"text-gray-500",children:"No assistant assigned"})}),C.map(r=>e.jsx(f,{value:r.assistant_id||r.id,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-3 w-3"}),r.name]})},r.id))]})})]}),e.jsx("p",{className:"text-xs text-gray-500",children:L?"Super admin can see all assistants":"You can only see your own assistants"})]}),a.provider&&e.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:Y()}),a.provider&&a.provider!=="vapi"&&e.jsxs(Fe,{children:[e.jsx(ye,{className:"h-4 w-4"}),e.jsxs(ke,{children:["Your credentials are securely stored and encrypted. They are only used to authenticate with ",a.provider," for phone number management."]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(j,{type:"button",variant:"outline",onClick:w,disabled:g.isPending,children:"Cancel"}),e.jsx(j,{type:"submit",disabled:g.isPending,className:"min-w-[120px]",style:a.provider==="vapi"?{backgroundColor:"#12a594",borderColor:"#12a594",color:"white"}:void 0,children:g.isPending?e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"h-4 w-4 mr-2 animate-spin"}),a.provider==="vapi"?"Getting Free Number...":"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),a.provider==="vapi"?"Get Free Number":"Create Phone Number"]})})]})]})})},cs=()=>{var Z,ee,se,ae;const[x,w]=v.useState({country:"US",limit:10}),[u,L]=v.useState(null),[a,B]=v.useState(!1),[X,T]=v.useState(!1),[O,y]=v.useState(!1),[N,C]=v.useState({friendlyName:"",assistantId:""}),g=oe(),{data:n,isLoading:V,error:A}=K({queryKey:["phoneNumbers"],queryFn:()=>Ke(),retry:1});te.useEffect(()=>{var s;n&&(console.log("Phone numbers data received:",n),((s=n==null?void 0:n.data)==null?void 0:s.length)>0&&console.log("First phone number structure:",n.data[0]))},[n]),te.useEffect(()=>{A&&console.error("Phone numbers fetch error:",A)},[A]);const{data:F,isLoading:k,refetch:Y}=K({queryKey:["phoneNumbers","available",x],queryFn:()=>Ee(x),enabled:!1}),{data:r}=K({queryKey:["assistants"],queryFn:()=>Le(1,""),retry:1}),t=E({mutationFn:De,onSuccess:()=>{g.invalidateQueries({queryKey:["phoneNumbers"]}),l.success("Phone number purchased successfully")},onError:s=>{var i,c;l.error(((c=(i=s.response)==null?void 0:i.data)==null?void 0:c.message)||"Failed to purchase phone number")}}),p=E({mutationFn:({id:s,data:i})=>Me(s,i),onSuccess:()=>{g.invalidateQueries({queryKey:["phoneNumbers"]}),T(!1),l.success("Phone number updated successfully")},onError:s=>{var i,c;l.error(((c=(i=s.response)==null?void 0:i.data)==null?void 0:c.message)||"Failed to update phone number")}}),P=E({mutationFn:qe,onSuccess:()=>{g.invalidateQueries({queryKey:["phoneNumbers"]}),l.success("Phone number deleted successfully")},onError:s=>{var i,c;l.error(((c=(i=s.response)==null?void 0:i.data)==null?void 0:c.message)||"Failed to delete phone number")}}),xe=()=>{Y()},ue=s=>{t.mutate({number:s.number,friendlyName:s.friendlyName})},pe=s=>{L(s),C({friendlyName:s.friendlyName||"",assistantId:s.assistantId||"unassigned"}),T(!0)},je=()=>{u&&p.mutate({id:u.id,data:{...N,assistantId:N.assistantId==="unassigned"?"":N.assistantId}})},ge=s=>{confirm("Are you sure you want to delete this phone number?")&&P.mutate(s)},ve=s=>{const i={active:"default",inactive:"secondary",pending:"outline"};return e.jsx(b,{variant:i[s]||"outline",children:s})},fe=((Z=r==null?void 0:r.data)==null?void 0:Z.assistants)||[];return A?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Phone Numbers"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your phone numbers and purchase new ones"})]}),e.jsx(J,{children:e.jsx(W,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Unable to connect to the backend API. Please ensure the backend server is running."}),e.jsx(j,{onClick:()=>window.location.reload(),children:"Retry Connection"})]})})})]}):e.jsx(Te,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Phone Numbers"}),e.jsx("p",{className:"text-muted-foreground",children:"Get free AI CRUITMENT phone numbers."})]}),e.jsxs(G,{open:O,onOpenChange:y,children:[e.jsx(we,{asChild:!0,children:e.jsxs(j,{children:[e.jsx(Ne,{className:"h-4 w-4 mr-2"}),"Create Phone Number"]})}),e.jsxs($,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(z,{children:[e.jsx(Q,{children:"Create New Phone Number"}),e.jsx(H,{children:"Get a free AI CRUITMENT phone number."})]}),e.jsx(Oe,{onSuccess:()=>y(!1),onCancel:()=>y(!1)})]})]})]}),e.jsx(G,{open:a,onOpenChange:B,children:e.jsxs($,{className:"max-w-4xl",children:[e.jsxs(z,{children:[e.jsx(Q,{children:"Search & Buy Phone Numbers"}),e.jsx(H,{children:"Search for available phone numbers to purchase"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"country",children:"Country"}),e.jsxs(D,{value:x.country,onValueChange:s=>w(i=>({...i,country:s})),children:[e.jsx(M,{children:e.jsx(q,{})}),e.jsxs(R,{children:[e.jsx(f,{value:"US",children:"United States"}),e.jsx(f,{value:"CA",children:"Canada"}),e.jsx(f,{value:"GB",children:"United Kingdom"})]})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"areaCode",children:"Area Code"}),e.jsx(o,{id:"areaCode",value:x.areaCode||"",onChange:s=>w(i=>({...i,areaCode:s.target.value})),placeholder:"e.g., 415"})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"contains",children:"Contains"}),e.jsx(o,{id:"contains",value:x.contains||"",onChange:s=>w(i=>({...i,contains:s.target.value})),placeholder:"e.g., 1234"})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs(j,{onClick:xe,disabled:k,className:"w-full",children:[k?e.jsx(S,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(be,{className:"h-4 w-4 mr-2"}),"Search"]})})]}),F&&e.jsx("div",{className:"border rounded-lg",children:e.jsxs(ie,{children:[e.jsx(le,{children:e.jsxs(I,{children:[e.jsx(m,{children:"Number"}),e.jsx(m,{children:"Location"}),e.jsx(m,{children:"Capabilities"}),e.jsx(m,{children:"Price/Month"}),e.jsx(m,{children:"Action"})]})}),e.jsx(de,{children:(ee=F.data)==null?void 0:ee.map(s=>{var i,c,re;return e.jsxs(I,{children:[e.jsx(h,{className:"font-mono",children:s.number}),e.jsx(h,{children:s.locality&&s.region?`${s.locality}, ${s.region}`:s.locality||s.region||"Unknown Location"}),e.jsx(h,{children:e.jsxs("div",{className:"flex gap-1",children:[((i=s.capabilities)==null?void 0:i.voice)&&e.jsx(b,{variant:"outline",children:"Voice"}),((c=s.capabilities)==null?void 0:c.sms)&&e.jsx(b,{variant:"outline",children:"SMS"}),((re=s.capabilities)==null?void 0:re.mms)&&e.jsx(b,{variant:"outline",children:"MMS"}),!s.capabilities&&e.jsx(b,{variant:"outline",children:"Unknown"})]})}),e.jsx(h,{children:s.monthlyPrice!==void 0?`$${s.monthlyPrice}`:"Contact for pricing"}),e.jsx(h,{children:e.jsxs(j,{size:"sm",onClick:()=>ue(s),disabled:t.isPending,children:[t.isPending?e.jsx(S,{className:"h-3 w-3 mr-1 animate-spin"}):e.jsx(Ce,{className:"h-3 w-3 mr-1"}),"Buy"]})})]},s.number)})})]})})]})]})}),e.jsxs(J,{children:[e.jsxs(ce,{children:[e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-5 w-5"}),"Your Phone Numbers"]}),e.jsx(me,{children:"Manage your purchased phone numbers and their assignments"})]}),e.jsx(W,{children:V?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(S,{className:"h-8 w-8 animate-spin"})}):e.jsxs(ie,{children:[e.jsx(le,{children:e.jsxs(I,{children:[e.jsx(m,{children:"Number"}),e.jsx(m,{children:"Created By"}),e.jsx(m,{children:"Status"}),e.jsx(m,{children:"Assigned Assistant"}),e.jsx(m,{children:"Actions"})]})}),e.jsx(de,{children:((se=n==null?void 0:n.data)==null?void 0:se.length)===0?e.jsx(I,{children:e.jsx(h,{colSpan:6,className:"text-center text-muted-foreground",children:"No phone numbers found. Purchase your first number to get started."})}):(ae=n==null?void 0:n.data)==null?void 0:ae.map(s=>e.jsxs(I,{children:[e.jsx(h,{className:"font-mono",children:s.number||"Unknown"}),e.jsx(h,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:s.created_by||s.user_name||"Unknown User"}),s.user_email&&e.jsx("span",{className:"text-xs text-muted-foreground",children:s.user_email})]})}),e.jsx(h,{children:ve(s.status||"inactive")}),e.jsx(h,{children:s.assistantId?e.jsx(b,{variant:"secondary",children:"Assigned"}):e.jsx(b,{variant:"outline",children:"Unassigned"})}),e.jsx(h,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{size:"sm",variant:"outline",onClick:()=>pe(s),children:e.jsx(Ae,{className:"h-3 w-3"})}),e.jsx(j,{size:"sm",variant:"outline",onClick:()=>ge(s.id),disabled:P.isPending,children:e.jsx(Se,{className:"h-3 w-3"})})]})})]},s.id))})]})})]}),e.jsx(G,{open:X,onOpenChange:T,children:e.jsxs($,{children:[e.jsxs(z,{children:[e.jsx(Q,{children:"Edit Phone Number"}),e.jsx(H,{children:"Update the phone number settings"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"friendlyName",children:"Friendly Name"}),e.jsx(o,{id:"friendlyName",value:N.friendlyName,onChange:s=>C(i=>({...i,friendlyName:s.target.value})),placeholder:"Enter a friendly name..."})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"assistantId",children:"Assign to Assistant"}),e.jsxs(D,{value:N.assistantId,onValueChange:s=>C(i=>({...i,assistantId:s})),children:[e.jsx(M,{children:e.jsx(q,{placeholder:"Select an assistant"})}),e.jsxs(R,{children:[e.jsx(f,{value:"unassigned",children:"Unassigned"}),fe.map(s=>e.jsx(f,{value:s.id,children:s.name},s.id))]})]})]}),e.jsxs(j,{onClick:je,disabled:p.isPending,className:"w-full",children:[p.isPending&&e.jsx(S,{className:"h-4 w-4 mr-2 animate-spin"}),"Update Phone Number"]})]})]})})]})})};export{cs as default};
//# sourceMappingURL=PhoneNumbers-CIcYoXMy.js.map
