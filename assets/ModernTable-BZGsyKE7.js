import{j as e,bQ as U,k as z,C as Q,c3 as W,a7 as q}from"./ui-Bcnk-Zux.js";import{r as c,R as G}from"./vendor-D6QveUxv.js";import{T as J,a as K,b as m,c as g,d as X,e as d}from"./table-RYRZeZk7.js";import{D as S,e as D,B as T,f as M,a0 as A,h as Y,c as i,i as Z}from"./index-CnGOntes.js";function ae({data:h,columns:x,actions:p,onRowClick:j,isSelectable:b=!1,isLoading:N=!1,emptyState:E,showColumnSelection:O=!1,headerClassName:w,rowClassName:R,cellClassName:V}){const[o,v]=c.useState(null),[n,u]=c.useState(null),[B,H]=c.useState(new Set),[P,f]=c.useState(new Set);c.useEffect(()=>{f(new Set)},[h]),c.useEffect(()=>()=>{f(new Set)},[]);const[l,y]=c.useState(x.reduce((s,r)=>({...s,[r.accessor]:!0}),{})),_=s=>{o===s?n==="asc"?u("desc"):n==="desc"?(u(null),v(null)):u("asc"):(v(s),u("asc"))},C=G.useMemo(()=>!o||!n?h:[...h].sort((s,r)=>{const t=s[o],a=r[o];return t===a?0:typeof t=="string"&&typeof a=="string"?n==="asc"?t.localeCompare(a):a.localeCompare(t):t<a?n==="asc"?-1:1:n==="asc"?1:-1}),[h,o,n]),$=(s,r)=>{r.stopPropagation(),H(t=>{const a=new Set(t);return a.has(s)?a.delete(s):a.add(s),a})},F=s=>{s.is_deleted||j&&j(s)};if(h.length===0&&!N)return e.jsx("div",{className:"mt-6 rounded-lg border border-white/10 bg-[#0b0f2e]/90 backdrop-blur-sm shadow-sm overflow-hidden",children:e.jsx("div",{className:"p-8 flex flex-col items-center justify-center text-center",children:E||e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-white/5 flex items-center justify-center mb-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white/40",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),e.jsx("h3",{className:"text-lg font-medium text-white mb-1",children:"No data available"}),e.jsx("p",{className:"text-white/50",children:"No items found. Try adjusting your filters or add a new item."})]})})});const I=()=>e.jsxs(S,{children:[e.jsx(D,{asChild:!0,children:e.jsxs(T,{variant:"outline",size:"sm",className:"ml-auto h-8 flex items-center gap-1 text-xs",children:[e.jsx(U,{className:"h-3.5 w-3.5"}),"Columns"]})}),e.jsxs(M,{align:"end",className:"w-[180px]",children:[e.jsx(A,{checked:Object.values(l).every(Boolean),onCheckedChange:s=>{const r={...l};Object.keys(r).forEach(t=>{r[t]=s}),y(r)},className:"cursor-pointer",children:"Show All"}),e.jsx(Y,{}),x.map(s=>e.jsx(A,{checked:l[s.accessor],onCheckedChange:r=>{y(t=>({...t,[s.accessor]:r}))},className:"cursor-pointer",children:s.header},s.header))]})]});return e.jsxs("div",{className:i("mt-6 rounded-lg border border-white/10 bg-[#0b0f2e]/90 backdrop-blur-sm shadow-sm overflow-hidden",w!=null&&w.includes("bg-")?"bg-transparent border-0 shadow-none":""),children:[O&&e.jsx("div",{className:"px-4 py-2 flex justify-end border-b border-white/10",children:e.jsx(I,{})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(J,{children:[e.jsx(K,{className:i("bg-white/5",w),children:e.jsxs(m,{className:"hover:bg-transparent border-b border-white/10",children:[b&&e.jsx(g,{className:"w-[40px] text-center",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-white/30 bg-white/5 text-primary focus:ring-primary/30",onChange:()=>{}})})}),x.map(s=>l[s.accessor]&&e.jsx(g,{className:i("px-4 py-3 text-left text-xs font-medium text-white/70 tracking-wider",s.sortable&&"cursor-pointer select-none",s.className),onClick:()=>s.sortable&&_(s.accessor),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:s.header}),s.sortable&&e.jsx("span",{className:o===s.accessor?"text-indigo-400":"text-white/40",children:o===s.accessor?n==="asc"?e.jsx(z,{className:"h-4 w-4"}):e.jsx(Q,{className:"h-4 w-4"}):e.jsx(W,{className:"h-3 w-3"})})]})},s.header)),p&&e.jsx(g,{className:"w-[100px] px-4 py-3 text-center text-xs font-medium text-white/70 tracking-wider",children:"Actions"})]})}),e.jsx(X,{children:N?Array.from({length:5}).map((s,r)=>e.jsxs(m,{className:"animate-pulse",children:[b&&e.jsx(d,{className:"w-[40px] text-center",children:e.jsx("div",{className:"h-4 w-4 bg-white/10 rounded mx-auto"})}),x.map((t,a)=>l[t.accessor]&&e.jsx(d,{className:i("px-4 py-4",t.header.includes("Total")||t.header==="Price"?"text-right":""),children:e.jsx("div",{className:i("h-4 bg-white/10 rounded",t.header.includes("Total")||t.header==="Price"?"w-1/2 ml-auto":"w-3/4")})},`loading-cell-${a}`)),p&&e.jsx(d,{className:"w-[100px] px-4 py-4 text-center",children:e.jsx("div",{className:"h-8 w-8 bg-white/10 rounded-full mx-auto"})})]},`loading-${r}`)):C.map(s=>e.jsxs(m,{className:i("border-b border-white/5 transition-colors",j&&!s.is_deleted&&"cursor-pointer hover:bg-white/5",R,s.is_deleted&&"opacity-50 cursor-not-allowed hover:bg-transparent"),onClick:()=>F(s),children:[b&&e.jsx(d,{className:"w-[40px] text-center",onClick:r=>r.stopPropagation(),children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-white/30 bg-white/5 text-primary focus:ring-primary/30",checked:B.has(s.id),onChange:r=>$(s.id,r)})})}),x.map((r,t)=>l[r.accessor]&&e.jsx(d,{className:i("px-4 py-4 text-sm",r.className,V,typeof s[r.accessor]=="number"&&"text-right"),children:r.cell?r.cell(s[r.accessor],s,C.indexOf(s)):String(s[r.accessor])},`${s.id}-${String(r.accessor)}`)),p&&e.jsx(d,{className:"w-[100px] px-4 py-4 text-center",onClick:r=>r.stopPropagation(),children:e.jsx("div",{className:"flex items-center justify-center space-x-2",children:e.jsxs(S,{open:P.has(s.id),onOpenChange:r=>{f(t=>{const a=new Set(t);return r?a.add(s.id):a.delete(s.id),a})},children:[e.jsx(D,{asChild:!0,children:e.jsx(T,{variant:"ghost",className:"h-8 w-8 p-0 rounded-full hover:bg-gray-100","aria-label":"Open menu",children:e.jsx(q,{className:"h-4 w-4"})})}),e.jsx(M,{align:"end",className:"w-[160px] bg-[#0b0f2e] border-white/10 text-white",onCloseAutoFocus:r=>{r.preventDefault()},children:p.filter(r=>!r.condition||r.condition(s)).map((r,t)=>e.jsxs(Z,{onClick:a=>{a.preventDefault(),f(L=>{const k=new Set(L);return k.delete(s.id),k}),setTimeout(()=>{r.onClick(s)},50)},className:"cursor-pointer focus:bg-white/10 focus:text-white hover:bg-white/10",children:[e.jsx("span",{className:"mr-2 h-4 w-4 text-white/70 group-hover:text-white",children:r.icon}),e.jsx("span",{children:r.label})]},t))})]})})})]},s.id))})]})})]})}export{ae as M};
//# sourceMappingURL=ModernTable-BZGsyKE7.js.map
