{"version":3,"file":"ClinicalRoles-DY8fAnoQ.js","sources":["../../src/pages/ClinicalRoles/ClinicalRoles.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { \n  getAllClinicalRoles, \n  getClinicalRoleStats, \n  createClinicalRole, \n  updateClinicalRole, \n  deleteClinicalRole \n} from '../../api/services/clinicalRole/clinicalRoleService';\nimport { Card, CardContent, CardHeader, CardTitle } from '../../components/ui/card';\nimport { Button } from '../../components/ui/button';\nimport { Input } from '../../components/ui/input';\nimport { Badge } from '../../components/ui/badge';\nimport { \n  Dialog, \n  DialogContent, \n  DialogHeader, \n  DialogTitle, \n  DialogTrigger \n} from '../../components/ui/dialog';\nimport { \n  Table, \n  TableBody, \n  TableCell, \n  TableHead, \n  TableHeader, \n  TableRow \n} from '../../components/ui/table';\nimport { \n  Plus, \n  Edit, \n  Trash2, \n  Users, \n  Shield, \n  Settings,\n  Search,\n  AlertCircle\n} from 'lucide-react';\nimport { toast } from 'sonner';\n\nconst ClinicalRoles = () => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isCreateDialogOpen, setIsCreateDialogOpen] = useState(false);\n  const [isEditDialogOpen, setIsEditDialogOpen] = useState(false);\n  const [selectedRole, setSelectedRole] = useState(null);\n  const [formData, setFormData] = useState({\n    name: '',\n    display_name: '',\n    description: '',\n    hierarchy_level: 5,\n    permissions: {\n      view: [],\n      add: [],\n      update: [],\n      delete: []\n    }\n  });\n\n  const queryClient = useQueryClient();\n\n  // Fetch clinical roles\n  const { data: rolesData, isLoading: rolesLoading, error: rolesError } = useQuery({\n    queryKey: ['clinical-roles'],\n    queryFn: getAllClinicalRoles,\n    refetchOnWindowFocus: false\n  });\n\n  const roles = rolesData?.data || [];\n\n  // Fetch clinical role statistics\n  const { data: stats, isLoading: statsLoading } = useQuery({\n    queryKey: ['clinical-role-stats'],\n    queryFn: getClinicalRoleStats,\n    refetchOnWindowFocus: false\n  });\n\n  // Create role mutation\n  const createMutation = useMutation({\n    mutationFn: createClinicalRole,\n    onSuccess: () => {\n      queryClient.invalidateQueries(['clinical-roles']);\n      queryClient.invalidateQueries(['clinical-role-stats']);\n      setIsCreateDialogOpen(false);\n      resetForm();\n      toast.success('Clinical role created successfully');\n    },\n    onError: (error) => {\n      toast.error(error.response?.data?.message || 'Failed to create clinical role');\n    }\n  });\n\n  // Update role mutation\n  const updateMutation = useMutation({\n    mutationFn: ({ id, data }) => updateClinicalRole(id, data),\n    onSuccess: () => {\n      queryClient.invalidateQueries(['clinical-roles']);\n      setIsEditDialogOpen(false);\n      resetForm();\n      toast.success('Clinical role updated successfully');\n    },\n    onError: (error) => {\n      toast.error(error.response?.data?.message || 'Failed to update clinical role');\n    }\n  });\n\n  // Delete role mutation\n  const deleteMutation = useMutation({\n    mutationFn: deleteClinicalRole,\n    onSuccess: () => {\n      queryClient.invalidateQueries(['clinical-roles']);\n      queryClient.invalidateQueries(['clinical-role-stats']);\n      toast.success('Clinical role deleted successfully');\n    },\n    onError: (error) => {\n      toast.error(error.response?.data?.message || 'Failed to delete clinical role');\n    }\n  });\n\n  const resetForm = () => {\n    setFormData({\n      name: '',\n      display_name: '',\n      description: '',\n      hierarchy_level: 5,\n      permissions: {\n        view: [],\n        add: [],\n        update: [],\n        delete: []\n      }\n    });\n    setSelectedRole(null);\n  };\n\n  const handleEdit = (role) => {\n    setSelectedRole(role);\n    setFormData({\n      name: role.name,\n      display_name: role.display_name,\n      description: role.description || '',\n      hierarchy_level: role.hierarchy_level,\n      permissions: role.permissions\n    });\n    setIsEditDialogOpen(true);\n  };\n\n  const handleDelete = (role) => {\n    if (role.is_system_role) {\n      toast.error('Cannot delete system roles');\n      return;\n    }\n    \n    if (window.confirm(`Are you sure you want to delete the role \"${role.display_name}\"?`)) {\n      deleteMutation.mutate(role.id);\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    if (!formData.name || !formData.display_name) {\n      toast.error('Name and display name are required');\n      return;\n    }\n\n    if (selectedRole) {\n      updateMutation.mutate({ id: selectedRole.id, data: formData });\n    } else {\n      createMutation.mutate(formData);\n    }\n  };\n\n  const filteredRoles = roles.filter(role =>\n    role.display_name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    role.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    role.description?.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  const getHierarchyBadgeColor = (level) => {\n    if (level >= 9) return 'bg-red-100 text-red-800';\n    if (level >= 7) return 'bg-orange-100 text-orange-800';\n    if (level >= 5) return 'bg-blue-100 text-blue-800';\n    return 'bg-gray-100 text-gray-800';\n  };\n\n  if (rolesError) {\n    return (\n      <div className=\"p-6\">\n        <Card>\n          <CardContent className=\"flex items-center justify-center py-8\">\n            <div className=\"text-center\">\n              <AlertCircle className=\"h-12 w-12 text-red-500 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Error Loading Clinical Roles</h3>\n              <p className=\"text-gray-600\">Failed to load clinical roles. Please try again later.</p>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6 space-y-6\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900\">Clinical Roles</h1>\n          <p className=\"text-gray-600 mt-1\">Manage clinical research roles and permissions</p>\n        </div>\n        \n        <Dialog open={isCreateDialogOpen} onOpenChange={setIsCreateDialogOpen}>\n          <DialogTrigger asChild>\n            <Button onClick={resetForm}>\n              <Plus className=\"h-4 w-4 mr-2\" />\n              Create Role\n            </Button>\n          </DialogTrigger>\n          <DialogContent className=\"max-w-2xl\">\n            <DialogHeader>\n              <DialogTitle>Create Clinical Role</DialogTitle>\n            </DialogHeader>\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Role Name</label>\n                  <Input\n                    value={formData.name}\n                    onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                    placeholder=\"e.g., clinical_research_coordinator\"\n                    required\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Display Name</label>\n                  <Input\n                    value={formData.display_name}\n                    onChange={(e) => setFormData({ ...formData, display_name: e.target.value })}\n                    placeholder=\"e.g., Clinical Research Coordinator\"\n                    required\n                  />\n                </div>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Description</label>\n                <Input\n                  value={formData.description}\n                  onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                  placeholder=\"Role description...\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Hierarchy Level (1-10)</label>\n                <Input\n                  type=\"number\"\n                  min=\"1\"\n                  max=\"10\"\n                  value={formData.hierarchy_level}\n                  onChange={(e) => setFormData({ ...formData, hierarchy_level: parseInt(e.target.value) })}\n                />\n              </div>\n              \n              <div className=\"flex justify-end space-x-2\">\n                <Button type=\"button\" variant=\"outline\" onClick={() => setIsCreateDialogOpen(false)}>\n                  Cancel\n                </Button>\n                <Button type=\"submit\" disabled={createMutation.isPending}>\n                  {createMutation.isPending ? 'Creating...' : 'Create Role'}\n                </Button>\n              </div>\n            </form>\n          </DialogContent>\n        </Dialog>\n      </div>\n\n      {/* Statistics Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Total Roles</CardTitle>\n            <Shield className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">\n              {statsLoading ? '...' : stats?.total_roles || 0}\n            </div>\n          </CardContent>\n        </Card>\n        \n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">System Roles</CardTitle>\n            <Settings className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">\n              {statsLoading ? '...' : stats?.system_roles || 0}\n            </div>\n          </CardContent>\n        </Card>\n        \n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Custom Roles</CardTitle>\n            <Plus className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">\n              {statsLoading ? '...' : stats?.custom_roles || 0}\n            </div>\n          </CardContent>\n        </Card>\n        \n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Users with Roles</CardTitle>\n            <Users className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">\n              {statsLoading ? '...' : stats?.users_with_roles || 0}\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Search and Filters */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"relative flex-1\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4\" />\n              <Input\n                placeholder=\"Search clinical roles...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"pl-10\"\n              />\n            </div>\n          </div>\n        </CardHeader>\n        \n        <CardContent>\n          {rolesLoading ? (\n            <div className=\"text-center py-8\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"></div>\n              <p className=\"text-gray-600 mt-2\">Loading clinical roles...</p>\n            </div>\n          ) : (\n            <Table>\n              <TableHeader>\n                <TableRow>\n                  <TableHead>Role</TableHead>\n                  <TableHead>Description</TableHead>\n                  <TableHead>Hierarchy</TableHead>\n                  <TableHead>Permissions</TableHead>\n                  <TableHead>Type</TableHead>\n                  <TableHead>Actions</TableHead>\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                {filteredRoles.map((role) => (\n                  <TableRow key={role.id}>\n                    <TableCell>\n                      <div>\n                        <div className=\"font-medium\">{role.display_name}</div>\n                        <div className=\"text-sm text-gray-500\">{role.name}</div>\n                      </div>\n                    </TableCell>\n                    <TableCell>\n                      <div className=\"max-w-xs truncate\" title={role.description}>\n                        {role.description || 'No description'}\n                      </div>\n                    </TableCell>\n                    <TableCell>\n                      <Badge className={getHierarchyBadgeColor(role.hierarchy_level)}>\n                        Level {role.hierarchy_level}\n                      </Badge>\n                    </TableCell>\n                    <TableCell>\n                      <div className=\"text-sm\">\n                        <div>View: {role.permissions?.view?.length || 0}</div>\n                        <div>Edit: {(role.permissions?.add?.length || 0) + (role.permissions?.update?.length || 0)}</div>\n                      </div>\n                    </TableCell>\n                    <TableCell>\n                      <Badge variant={role.is_system_role ? \"secondary\" : \"default\"}>\n                        {role.is_system_role ? 'System' : 'Custom'}\n                      </Badge>\n                    </TableCell>\n                    <TableCell>\n                      <div className=\"flex space-x-2\">\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          onClick={() => handleEdit(role)}\n                        >\n                          <Edit className=\"h-4 w-4\" />\n                        </Button>\n                        {!role.is_system_role && (\n                          <Button\n                            variant=\"outline\"\n                            size=\"sm\"\n                            onClick={() => handleDelete(role)}\n                            disabled={deleteMutation.isPending}\n                          >\n                            <Trash2 className=\"h-4 w-4\" />\n                          </Button>\n                        )}\n                      </div>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          )}\n          \n          {!rolesLoading && filteredRoles.length === 0 && (\n            <div className=\"text-center py-8\">\n              <Shield className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">No Clinical Roles Found</h3>\n              <p className=\"text-gray-600\">\n                {searchTerm ? 'No roles match your search criteria.' : 'Get started by creating your first clinical role.'}\n              </p>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Edit Dialog */}\n      <Dialog open={isEditDialogOpen} onOpenChange={setIsEditDialogOpen}>\n        <DialogContent className=\"max-w-2xl\">\n          <DialogHeader>\n            <DialogTitle>Edit Clinical Role</DialogTitle>\n          </DialogHeader>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Role Name</label>\n                <Input\n                  value={formData.name}\n                  onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n                  placeholder=\"e.g., clinical_research_coordinator\"\n                  required\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Display Name</label>\n                <Input\n                  value={formData.display_name}\n                  onChange={(e) => setFormData({ ...formData, display_name: e.target.value })}\n                  placeholder=\"e.g., Clinical Research Coordinator\"\n                  required\n                />\n              </div>\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Description</label>\n              <Input\n                value={formData.description}\n                onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                placeholder=\"Role description...\"\n              />\n            </div>\n            \n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Hierarchy Level (1-10)</label>\n              <Input\n                type=\"number\"\n                min=\"1\"\n                max=\"10\"\n                value={formData.hierarchy_level}\n                onChange={(e) => setFormData({ ...formData, hierarchy_level: parseInt(e.target.value) })}\n              />\n            </div>\n            \n            <div className=\"flex justify-end space-x-2\">\n              <Button type=\"button\" variant=\"outline\" onClick={() => setIsEditDialogOpen(false)}>\n                Cancel\n              </Button>\n              <Button type=\"submit\" disabled={updateMutation.isPending}>\n                {updateMutation.isPending ? 'Updating...' : 'Update Role'}\n              </Button>\n            </div>\n          </form>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ClinicalRoles;\n"],"names":["ClinicalRoles","searchTerm","setSearchTerm","useState","isCreateDialogOpen","setIsCreateDialogOpen","isEditDialogOpen","setIsEditDialogOpen","selectedRole","setSelectedRole","formData","setFormData","queryClient","useQueryClient","rolesData","rolesLoading","rolesError","useQuery","getAllClinicalRoles","roles","stats","statsLoading","getClinicalRoleStats","createMutation","useMutation","createClinicalRole","resetForm","toast","error","_b","_a","updateMutation","id","data","updateClinicalRole","deleteMutation","deleteClinicalRole","handleEdit","role","handleDelete","handleSubmit","e","filteredRoles","getHierarchyBadgeColor","level","jsx","Card","CardContent","jsxs","AlertCircle","Dialog","DialogTrigger","Button","Plus","DialogContent","DialogHeader","DialogTitle","Input","CardHeader","CardTitle","Shield","Settings","Users","Search","Table","TableHeader","TableRow","TableHead","TableBody","TableCell","Badge","_d","_c","_f","_e","Edit","Trash2"],"mappings":"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"}