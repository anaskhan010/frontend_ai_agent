import{j as e,as as Ce,at as ae,bu as T,bJ as te,bN as re,S as k,bq as J,b4 as ne,a3 as le,aa as Q,aZ as q,bc as Z,av as Se,aw as Ue,a1 as Ae}from"./ui-D0JisYOU.js";import{r as x}from"./vendor-D6QveUxv.js";import{P as Fe}from"./Page-CbRGIW_l.js";import{H as Ee}from"./Header-BACMMwmO.js";import{j as Me,t as g,y as V,z as X,A as z,E as H,F as $,L as N,I as w,B as b,S as ie,p as ce,q as de,r as me,s as oe,w as he,v as L,C as G,k as K}from"./index-9NRFi5uV.js";import{A as xe,b as ue,a as fe}from"./avatar-D2BkmAVY.js";import{S}from"./skeleton-D5TGfaB_.js";import{c as Ie,u as Pe,d as Le,g as Oe}from"./userService-DQ5xw3jM.js";import{P as Re}from"./PermissionRoute-CsiA_Pg_.js";import{A as ke,a as qe,b as Te,c as Ve,d as Xe,e as ze,f as He,g as $e}from"./alert-dialog-CxQcnlgL.js";import{t as F,c as Be,e as We,n as ge,a as Ye,g as Je,m as Qe,o as ee,p as se,q as M,f as R}from"./format-C-QuTXqM.js";import"./scroll-area-0qqJ8lEY.js";import"./index-GLe5Mnqi.js";import"./router-jXXg-8rg.js";import"./query-CXvbhbrr.js";import"./usePermissions-AmklbSAW.js";import"./Loading-_we4eg7o.js";function I(r,i){const s=+F(r)-+F(i);return s<0?-1:s>0?1:s}function Ze(r){return Be(r,Date.now())}function Ge(r){return i=>{const s=Math.trunc,l=s(i);return l===0?0:l}}function Ke(r,i){return+F(r)-+F(i)}function es(r,i){const s=F(r,i==null?void 0:i.in);return s.setHours(23,59,59,999),s}function ss(r,i){const s=F(r,i==null?void 0:i.in);return+es(s,i)==+We(s,i)}function as(r,i,s){const[l,a,u]=ge(s==null?void 0:s.in,r,r,i),f=I(a,u),m=Math.abs(Ye(a,u));if(m<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-f*m);let o=I(a,u)===-f;ss(l)&&m===1&&I(l,u)===1&&(o=!1);const c=f*(m-+o);return c===0?0:c}function ts(r,i,s){const l=Ke(r,i)/1e3;return Ge()(l)}function rs(r,i,s){const l=Je(),a=(s==null?void 0:s.locale)??l.locale??Qe,u=2520,f=I(r,i);if(isNaN(f))throw new RangeError("Invalid time value");const m=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:f}),[o,c]=ge(s==null?void 0:s.in,...f>0?[i,r]:[r,i]),y=ts(c,o),_=(ee(c)-ee(o))/1e3,h=Math.round((y-_)/60);let v;if(h<2)return s!=null&&s.includeSeconds?y<5?a.formatDistance("lessThanXSeconds",5,m):y<10?a.formatDistance("lessThanXSeconds",10,m):y<20?a.formatDistance("lessThanXSeconds",20,m):y<40?a.formatDistance("halfAMinute",0,m):y<60?a.formatDistance("lessThanXMinutes",1,m):a.formatDistance("xMinutes",1,m):h===0?a.formatDistance("lessThanXMinutes",1,m):a.formatDistance("xMinutes",h,m);if(h<45)return a.formatDistance("xMinutes",h,m);if(h<90)return a.formatDistance("aboutXHours",1,m);if(h<se){const n=Math.round(h/60);return a.formatDistance("aboutXHours",n,m)}else{if(h<u)return a.formatDistance("xDays",1,m);if(h<M){const n=Math.round(h/se);return a.formatDistance("xDays",n,m)}else if(h<M*2)return v=Math.round(h/M),a.formatDistance("aboutXMonths",v,m)}if(v=as(c,o),v<12){const n=Math.round(h/M);return a.formatDistance("xMonths",n,m)}else{const n=v%12,j=Math.trunc(v/12);return n<3?a.formatDistance("aboutXYears",j,m):n<9?a.formatDistance("overXYears",j,m):a.formatDistance("almostXYears",j+1,m)}}function P(r,i){return rs(r,Ze(r),i)}const B=async()=>{try{const r=await Me.get("/api/roles");if(r.status===200)return r.data;throw new Error("Failed to get roles")}catch(r){throw console.error("Error getting roles:",r),r}},ns=({open:r,onOpenChange:i,onUserCreated:s})=>{const[l,a]=x.useState(!1),[u,f]=x.useState([]),[m,o]=x.useState(!1),[c,y]=x.useState({username:"",email:"",password:"",first_name:"",last_name:"",phone_number:"",role_id:"",is_active:!0});x.useEffect(()=>{r&&_()},[r]);const _=async()=>{try{const d=await B();if(d.success){const p=d.data.filter(D=>D.is_active);f(p)}else g.error("Failed to fetch roles")}catch(d){console.error("Error fetching roles:",d),g.error("Failed to fetch roles")}},h=(d,p)=>{y(D=>({...D,[d]:p}))},v=async d=>{var p,D;if(d.preventDefault(),!c.username||!c.email||!c.password||!c.first_name||!c.last_name||!c.role_id){g.error("Please fill in all required fields");return}if(c.password.length<6){g.error("Password must be at least 6 characters long");return}try{a(!0);const C=await Ie(c);C.success?(g.success("User created successfully"),s(),i(!1),n()):g.error(C.message||"Failed to create user")}catch(C){console.error("Error creating user:",C),g.error(((D=(p=C.response)==null?void 0:p.data)==null?void 0:D.message)||"Failed to create user")}finally{a(!1)}},n=()=>{y({username:"",email:"",password:"",first_name:"",last_name:"",phone_number:"",role_id:"",is_active:!0}),o(!1)},j=()=>{i(!1),n()};return e.jsx(V,{open:r,onOpenChange:j,children:e.jsxs(X,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[e.jsxs(z,{children:[e.jsx(H,{children:"Add New User"}),e.jsx($,{children:"Create a new user account with role assignment."})]}),e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(N,{htmlFor:"first_name",className:"text-sm font-medium",children:"First Name *"}),e.jsx(w,{id:"first_name",value:c.first_name,onChange:d=>h("first_name",d.target.value),placeholder:"Enter first name",required:!0,className:"h-11"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(N,{htmlFor:"last_name",className:"text-sm font-medium",children:"Last Name *"}),e.jsx(w,{id:"last_name",value:c.last_name,onChange:d=>h("last_name",d.target.value),placeholder:"Enter last name",required:!0,className:"h-11"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(N,{htmlFor:"username",className:"text-sm font-medium",children:"Username *"}),e.jsx(w,{id:"username",value:c.username,onChange:d=>h("username",d.target.value),placeholder:"Enter username",required:!0,className:"h-11"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(N,{htmlFor:"email",className:"text-sm font-medium",children:"Email *"}),e.jsx(w,{id:"email",type:"email",value:c.email,onChange:d=>h("email",d.target.value),placeholder:"Enter email address",required:!0,className:"h-11"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(N,{htmlFor:"password",className:"text-sm font-medium",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{id:"password",type:m?"text":"password",value:c.password,onChange:d=>h("password",d.target.value),placeholder:"Enter password (min 6 characters)",required:!0,minLength:6,className:"h-11 pr-10"}),e.jsx(b,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-11 px-3 py-2 hover:bg-transparent",onClick:()=>o(!m),children:m?e.jsx(Ce,{className:"h-4 w-4"}):e.jsx(ae,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(N,{htmlFor:"phone_number",className:"text-sm font-medium",children:"Phone Number"}),e.jsx(w,{id:"phone_number",value:c.phone_number,onChange:d=>h("phone_number",d.target.value),placeholder:"Enter phone number (optional)",className:"h-11"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(N,{htmlFor:"role_id",className:"text-sm font-medium",children:"Role *"}),e.jsxs(ie,{value:c.role_id,onValueChange:d=>h("role_id",d),required:!0,children:[e.jsx(ce,{className:"h-11",children:e.jsx(de,{placeholder:"Select a role"})}),e.jsx(me,{children:u.length>0?u.map(d=>e.jsx(oe,{value:d.id.toString(),children:d.display_name},d.id)):e.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:"No roles available"})})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 py-2",children:[e.jsx(he,{id:"is_active",checked:c.is_active,onCheckedChange:d=>h("is_active",d)}),e.jsx(N,{htmlFor:"is_active",className:"text-sm font-medium",children:"Active User"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[e.jsx(b,{type:"button",variant:"outline",onClick:j,disabled:l,className:"h-11 px-6",children:"Cancel"}),e.jsxs(b,{type:"submit",disabled:l,className:"h-11 px-6",children:[l&&e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),"Create User"]})]})]})]})})},ls=({open:r,onOpenChange:i,onUserUpdated:s,user:l})=>{const[a,u]=x.useState(!1),[f,m]=x.useState([]),[o,c]=x.useState({username:"",email:"",first_name:"",last_name:"",phone_number:"",role_id:"",is_active:!0});x.useEffect(()=>{var n;r&&l&&(c({username:l.username||"",email:l.email||"",first_name:l.first_name||"",last_name:l.last_name||"",phone_number:l.phone_number||"",role_id:((n=l.role_id)==null?void 0:n.toString())||"",is_active:l.is_active??!0}),y())},[r,l]);const y=async()=>{try{const n=await B();n.success&&m(n.data.filter(j=>j.is_active))}catch(n){console.error("Error fetching roles:",n),g.error("Failed to fetch roles")}},_=(n,j)=>{c(d=>({...d,[n]:j}))},h=async n=>{var j,d;if(n.preventDefault(),!!l){if(!o.username||!o.email||!o.first_name||!o.last_name||!o.role_id){g.error("Please fill in all required fields");return}try{u(!0);const p=await Pe(l.id,o);p.success?(g.success("User updated successfully"),s(),i(!1)):g.error(p.message||"Failed to update user")}catch(p){console.error("Error updating user:",p),g.error(((d=(j=p.response)==null?void 0:j.data)==null?void 0:d.message)||"Failed to update user")}finally{u(!1)}}},v=()=>{i(!1)};return l?e.jsx(V,{open:r,onOpenChange:v,children:e.jsxs(X,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[e.jsxs(z,{children:[e.jsx(H,{children:"Edit User"}),e.jsx($,{children:"Update user information and role assignment."})]}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(N,{htmlFor:"first_name",className:"text-sm font-medium",children:"First Name *"}),e.jsx(w,{id:"first_name",value:o.first_name,onChange:n=>_("first_name",n.target.value),placeholder:"Enter first name",required:!0,className:"h-11"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(N,{htmlFor:"last_name",className:"text-sm font-medium",children:"Last Name *"}),e.jsx(w,{id:"last_name",value:o.last_name,onChange:n=>_("last_name",n.target.value),placeholder:"Enter last name",required:!0,className:"h-11"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"username",children:"Username *"}),e.jsx(w,{id:"username",value:o.username,onChange:n=>_("username",n.target.value),placeholder:"Enter username",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"email",children:"Email *"}),e.jsx(w,{id:"email",type:"email",value:o.email,onChange:n=>_("email",n.target.value),placeholder:"Enter email address",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"phone_number",children:"Phone Number"}),e.jsx(w,{id:"phone_number",value:o.phone_number,onChange:n=>_("phone_number",n.target.value),placeholder:"Enter phone number (optional)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"role_id",children:"Role *"}),e.jsxs(ie,{value:o.role_id,onValueChange:n=>_("role_id",n),required:!0,children:[e.jsx(ce,{children:e.jsx(de,{placeholder:"Select a role"})}),e.jsx(me,{children:f.map(n=>e.jsx(oe,{value:n.id.toString(),children:n.display_name},n.id))})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{id:"is_active",checked:o.is_active,onCheckedChange:n=>_("is_active",n)}),e.jsx(N,{htmlFor:"is_active",children:"Active User"})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(b,{type:"button",variant:"outline",onClick:v,disabled:a,children:"Cancel"}),e.jsxs(b,{type:"submit",disabled:a,children:[a&&e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),"Update User"]})]})]})]})}):null},is=({open:r,onOpenChange:i,onUserDeleted:s,user:l})=>{const[a,u]=x.useState(!1),f=async()=>{var m,o;if(l){if(l.is_super_admin){g.error("Cannot delete super admin user");return}try{u(!0);const c=await Le(l.id);c.success?(g.success("User deleted successfully"),s(),i(!1)):g.error(c.message||"Failed to delete user")}catch(c){console.error("Error deleting user:",c),g.error(((o=(m=c.response)==null?void 0:m.data)==null?void 0:o.message)||"Failed to delete user")}finally{u(!1)}}};return l?e.jsx(ke,{open:r,onOpenChange:i,children:e.jsxs(qe,{children:[e.jsxs(Te,{children:[e.jsx(Ve,{children:"Delete User"}),e.jsxs(Xe,{children:["Are you sure you want to delete ",e.jsxs("strong",{children:[l.first_name," ",l.last_name]})," (",l.email,")?",e.jsx("br",{}),e.jsx("br",{}),"This action cannot be undone. The user will be permanently removed from the system.",l.is_super_admin&&e.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-red-700",children:[e.jsx("strong",{children:"Warning:"})," This is a super admin user and cannot be deleted."]})]})]}),e.jsxs(ze,{children:[e.jsx(He,{disabled:a,children:"Cancel"}),e.jsxs($e,{onClick:f,disabled:a||l.is_super_admin,className:"bg-red-600 hover:bg-red-700",children:[a&&e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}),"Delete User"]})]})]})}):null},cs=({open:r,onOpenChange:i,user:s})=>{if(!s)return null;const l=a=>a.roles&&a.roles.length>0?a.roles.map(u=>u.display_name).join(", "):a.is_super_admin?"Super Administrator":"No Role";return e.jsx(V,{open:r,onOpenChange:i,children:e.jsxs(X,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[e.jsxs(z,{children:[e.jsx(H,{children:"User Details"}),e.jsx($,{children:"View detailed information about this user account."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs(xe,{className:"h-16 w-16",children:[e.jsx(ue,{src:`https://api.dicebear.com/7.x/initials/svg?seed=${s.first_name} ${s.last_name}`}),e.jsxs(fe,{className:"text-lg",children:[s.first_name.charAt(0),s.last_name.charAt(0)]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsxs("h3",{className:"text-xl font-semibold",children:[s.first_name," ",s.last_name]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{variant:s.is_active?"default":"secondary",children:s.is_active?e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"h-3 w-3 mr-1"}),"Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"h-3 w-3 mr-1"}),"Inactive"]})}),e.jsxs(L,{variant:"outline",children:[e.jsx(k,{className:"h-3 w-3 mr-1"}),l(s)]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-lg font-medium flex items-center gap-2",children:[e.jsx(J,{className:"h-5 w-5"}),"Contact Information"]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(ne,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Email"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.email})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(J,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Username"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.username})]})]}),s.phone_number&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(le,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Phone Number"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.phone_number})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-lg font-medium flex items-center gap-2",children:[e.jsx(Q,{className:"h-5 w-5"}),"Account Information"]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(q,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Member Since"}),e.jsxs("p",{className:"text-sm text-gray-900",children:[R(new Date(s.created_at),"PPP"),e.jsxs("span",{className:"text-gray-500 ml-1",children:["(",P(new Date(s.created_at),{addSuffix:!0}),")"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(q,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Last Updated"}),e.jsxs("p",{className:"text-sm text-gray-900",children:[R(new Date(s.updated_at),"PPP"),e.jsxs("span",{className:"text-gray-500 ml-1",children:["(",P(new Date(s.updated_at),{addSuffix:!0}),")"]})]})]})]}),s.last_login&&e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Q,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Last Login"}),e.jsxs("p",{className:"text-sm text-gray-900",children:[R(new Date(s.last_login),"PPP"),e.jsxs("span",{className:"text-gray-500 ml-1",children:["(",P(new Date(s.last_login),{addSuffix:!0}),")"]})]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-lg font-medium flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),"System Information"]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"User ID"}),e.jsxs("p",{className:"text-sm text-gray-900",children:["#",s.id]})]})}),e.jsx("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Account Status"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.is_active?"Active - Can login and access system":"Inactive - Cannot login to system"})]})}),e.jsx("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Admin Privileges"}),e.jsx("p",{className:"text-sm text-gray-900",children:s.is_super_admin?"Super Administrator - Full system access":"Regular User - Role-based access"})]})})]})]})]})]})})},Cs=()=>{const[r,i]=x.useState([]),[s,l]=x.useState([]),[a,u]=x.useState(!0),[f,m]=x.useState(""),[o,c]=x.useState(null),[y,_]=x.useState(!1),[h,v]=x.useState(!1),[n,j]=x.useState(!1),[d,p]=x.useState(!1),[D,C]=x.useState(!1);x.useEffect(()=>{E(),je()},[]);const E=async()=>{try{u(!0);const t=await Oe();if(t.success){const A=t.data.map(U=>({...U,username:U.username||U.email||`user_${U.id}`}));i(A)}else g.error("Failed to fetch users")}catch(t){console.error("Error fetching users:",t),g.error("Failed to fetch users")}finally{u(!1)}},je=async()=>{try{const t=await B();t.success&&l(t.data)}catch(t){console.error("Error fetching roles:",t)}},O=(r||[]).filter(t=>t.username.toLowerCase().includes(f.toLowerCase())||t.email.toLowerCase().includes(f.toLowerCase())||t.first_name.toLowerCase().includes(f.toLowerCase())||t.last_name.toLowerCase().includes(f.toLowerCase())),pe=t=>t.roles&&t.roles.length>0?t.roles.map(A=>A.display_name).join(", "):t.role_names?t.role_names.split(",").map(U=>{const Y=(s||[]).find(De=>De.name===U.trim());return Y?Y.display_name:U}).join(", "):t.is_super_admin?"Super Administrator":"No Role",Ne=t=>{c(t),C(!0)},ve=t=>{c(t),j(!0)},ye=t=>{c(t),p(!0)},W=()=>{v(!0)},_e=()=>{E()},we=()=>{E()},be=()=>{E()};return e.jsx(Re,{requireSuperAdmin:!0,children:e.jsxs(Fe,{children:[e.jsx(Ee,{title:"User Management",buttonText:"Add User",action:W,filterByName:!0,filterWord:f,onFilterChange:m,useSheet:!1,showViewToggle:!1,showFilters:!1}),e.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-3",children:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(L,{variant:"secondary",className:"px-3 py-1",children:[e.jsx(Z,{className:"h-3 w-3 mr-1"}),e.jsxs("span",{children:[O.length," Users"]})]})})}),e.jsx("div",{className:"grid gap-4",children:a&&r.length===0?Array.from({length:3}).map((t,A)=>e.jsx(G,{className:"hover:shadow-md transition-shadow",children:e.jsx(K,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(S,{className:"h-12 w-12 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(S,{className:"h-5 w-48 mb-2"}),e.jsx(S,{className:"h-4 w-32 mb-1"}),e.jsx(S,{className:"h-4 w-24"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{className:"h-8 w-16"}),e.jsx(S,{className:"h-8 w-8"}),e.jsx(S,{className:"h-8 w-8"}),e.jsx(S,{className:"h-8 w-8"})]})]})})},`skeleton-${A}`)):O.map(t=>e.jsx(G,{className:"hover:shadow-md transition-shadow",children:e.jsx(K,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(xe,{className:"h-12 w-12",children:[e.jsx(ue,{src:`https://api.dicebear.com/7.x/initials/svg?seed=${t.first_name} ${t.last_name}`}),e.jsxs(fe,{children:[t.first_name.charAt(0),t.last_name.charAt(0)]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("h3",{className:"font-semibold text-lg",children:[t.first_name," ",t.last_name]}),e.jsx(L,{variant:t.is_active?"default":"secondary",children:t.is_active?e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"h-3 w-3 mr-1"}),"Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"h-3 w-3 mr-1"}),"Inactive"]})})]}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1 mt-1",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ne,{className:"h-3 w-3"}),t.email]}),t.phone_number&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(le,{className:"h-3 w-3"}),t.phone_number]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(k,{className:"h-3 w-3"}),pe(t)]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(q,{className:"h-3 w-3"}),"Joined ",P(new Date(t.created_at),{addSuffix:!0})]})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(b,{variant:"outline",size:"sm",onClick:()=>Ne(t),className:"flex items-center gap-1",children:[e.jsx(ae,{className:"h-4 w-4"}),"View"]}),e.jsxs(b,{variant:"outline",size:"sm",onClick:()=>ve(t),className:"flex items-center gap-1",children:[e.jsx(Se,{className:"h-4 w-4"}),"Edit"]}),e.jsxs(b,{variant:"outline",size:"sm",onClick:()=>ye(t),className:"flex items-center gap-1 text-red-600 hover:text-red-700",children:[e.jsx(Ue,{className:"h-4 w-4"}),"Delete"]})]})]})})},t.id))}),O.length===0&&!a&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No users found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:f?"No users match your search criteria.":"No users have been created yet."}),e.jsxs(b,{onClick:W,children:[e.jsx(Ae,{className:"h-4 w-4 mr-2"}),"Add First User"]})]}),e.jsx(ns,{open:h,onOpenChange:v,onUserCreated:_e}),e.jsx(ls,{open:n,onOpenChange:j,onUserUpdated:we,user:o}),e.jsx(is,{open:d,onOpenChange:p,onUserDeleted:be,user:o}),e.jsx(cs,{open:D,onOpenChange:C,user:o})]})})};export{Cs as default};
//# sourceMappingURL=UserManagement-B8ZyCNI-.js.map
