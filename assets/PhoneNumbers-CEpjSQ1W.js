import{j as e,au as H,aM as ne,aT as w,S as k,aW as ye,D as Ne,N as be,bw as Ce,H as Ae,T as we}from"./ui-C7wuVsKo.js";import{r as v,b as ie}from"./vendor-DG599jyl.js";import{u as de,b as U,c as K}from"./query-BI4h7QWD.js";import{C as _,b as ce,c as he,d as me,a as J}from"./card-aEf8HYk2.js";import{B as p}from"./button-DAfv1lEn.js";import{B as b}from"./badge-DTmq5TA0.js";import{I as d}from"./input-qfwdyloT.js";import{L as o}from"./label-BXa85Llt.js";import{S as E,a as D,b as M,c as q,d as f}from"./select-CsZI97Jz.js";import{D as Y,f as Se,a as $,b as z,c as G,d as Q}from"./dialog-D2hWIkvB.js";import{T as te,a as le,b as P,c as m,d as oe,e as h}from"./table-D230vnLP.js";import{u as Pe,a as Ie,t as l}from"./index-CUjvNcD6.js";import{P as Fe}from"./Page-CldTp-5P.js";import{A as Te,a as ke}from"./alert-CY7OR61Y.js";import{c as Ue,g as Ke,s as Ee,b as De,u as Me,d as qe}from"./phoneNumberService-snmx0IUq.js";import{e as Re,f as Le}from"./agentService-iu3dQ7HS.js";import"./index-DUGBtJKR.js";import"./index-HDeFwIcs.js";import"./router-BavLd_S0.js";import"./scroll-area-DnO9GNsc.js";import"./index-CyKAHSi_.js";const Be=({onSuccess:x,onCancel:S})=>{const{user:u}=Pe(),{isSuperAdmin:R}=Ie(),[a,L]=v.useState({provider:"vapi",phoneNumber:"",name:"",assistantId:"",squadId:"",workflowId:"",fallbackDestination:"",serverUrl:"",serverUrlSecret:"",twilioAccountSid:"",twilioAuthToken:"",vonageApiKey:"",vonageApiSecret:"",telnyxApiKey:"",telnyxApiSecret:"",areaCode:""}),[W,I]=v.useState(!1),B=de(),{data:y,isLoading:N}=U({queryKey:["assistants","complete",u==null?void 0:u.id],queryFn:()=>Re(""),retry:1,enabled:!!(u!=null&&u.id)}),C=(y==null?void 0:y.data)||[],j=K({mutationFn:Ue,onSuccess:()=>{l.success("Phone number created successfully!"),B.invalidateQueries({queryKey:["phoneNumbers"]}),x==null||x()},onError:r=>{var t,g;l.error(((g=(t=r.response)==null?void 0:t.data)==null?void 0:g.message)||"Failed to create phone number")}}),n=(r,t)=>{L(g=>({...g,[r]:t}))},O=r=>{const t=r.replace(/\D/g,"");return t.length===10?`+1${t}`:t.length===11&&t.startsWith("1")?`+${t}`:r},A=r=>{const t=O(r);n("phoneNumber",t)},F=()=>{if(!a.provider)return l.error("Please select a provider"),!1;if(!a.phoneNumber)return l.error("Please enter a phone number"),!1;if(a.provider!=="vapi"){if(!/^\+[1-9]\d{1,14}$/.test(a.phoneNumber))return l.error("Phone number must be in E.164 format (e.g., +1234567890)"),!1}else if(!a.areaCode||a.areaCode.length!==3)return l.error("Please enter a valid 3-digit area code"),!1;if(a.serverUrl)try{new URL(a.serverUrl)}catch{return l.error("Server URL must be a valid URL"),!1}if(a.fallbackDestination)try{JSON.parse(a.fallbackDestination)}catch{return l.error("Fallback destination must be valid JSON"),!1}switch(a.provider){case"vapi":break;case"twilio":if(!a.twilioAccountSid||!a.twilioAuthToken)return l.error("Twilio Account SID and Auth Token are required"),!1;if(!a.twilioAccountSid.startsWith("AC"))return l.error("Twilio Account SID should start with 'AC'"),!1;if(a.twilioAccountSid.length!==34)return l.error("Twilio Account SID should be 34 characters long"),!1;break;case"vonage":if(!a.vonageApiKey||!a.vonageApiSecret)return l.error("Vonage API Key and Secret are required"),!1;break;case"telnyx":if(!a.telnyxApiKey)return l.error("Telnyx API Key is required"),!1;break}return!0},T=r=>{if(r.preventDefault(),!F())return;const t={...a,assistantId:a.assistantId==="unassigned"?"":a.assistantId};j.mutate(t)},V=()=>{switch(a.provider){case"vapi":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",style:{color:"#12a594"},children:[e.jsx(k,{className:"h-4 w-4"}),"AI CRUITMENT Free Phone Number"]}),e.jsx("div",{className:"rounded-lg p-4 border",style:{backgroundColor:"#fafefd",borderColor:"#12a594"},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5",style:{color:"#12a594"},viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium",style:{color:"#008071"},children:"No credentials required!"}),e.jsx("p",{className:"text-sm mt-1",style:{color:"#008071"},children:"AI CRUITMENT provides free US phone numbers instantly. Just enter your desired area code and we'll assign you a random number in that area."}),e.jsxs("ul",{className:"text-xs mt-2 space-y-1",style:{color:"#12a594"},children:[e.jsx("li",{children:"• Up to 10 free numbers per account"}),e.jsx("li",{children:"• Instant activation (2-3 minutes)"}),e.jsx("li",{children:"• US numbers only"}),e.jsx("li",{children:"• No monthly fees"})]})]})]})})]});case"twilio":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-blue-600",children:[e.jsx(k,{className:"h-4 w-4"}),"Twilio Credentials"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"twilioAccountSid",children:"Account SID *"}),e.jsx(d,{id:"twilioAccountSid",type:"text",placeholder:"ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",value:a.twilioAccountSid,onChange:r=>n("twilioAccountSid",r.target.value),className:"font-mono text-sm"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"twilioAuthToken",children:"Auth Token *"}),e.jsx(d,{id:"twilioAuthToken",type:"password",placeholder:"Your Twilio Auth Token",value:a.twilioAuthToken,onChange:r=>n("twilioAuthToken",r.target.value),className:"font-mono text-sm"})]})]})]});case"vonage":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-orange-600",children:[e.jsx(k,{className:"h-4 w-4"}),"Vonage Credentials"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"vonageApiKey",children:"API Key *"}),e.jsx(d,{id:"vonageApiKey",type:"text",placeholder:"Your Vonage API Key",value:a.vonageApiKey,onChange:r=>n("vonageApiKey",r.target.value),className:"font-mono text-sm"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"vonageApiSecret",children:"API Secret *"}),e.jsx(d,{id:"vonageApiSecret",type:"password",placeholder:"Your Vonage API Secret",value:a.vonageApiSecret,onChange:r=>n("vonageApiSecret",r.target.value),className:"font-mono text-sm"})]})]})]});case"telnyx":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-purple-600",children:[e.jsx(k,{className:"h-4 w-4"}),"Telnyx Credentials"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"telnyxApiKey",children:"API Key *"}),e.jsx(d,{id:"telnyxApiKey",type:"password",placeholder:"Your Telnyx API Key",value:a.telnyxApiKey,onChange:r=>n("telnyxApiKey",r.target.value),className:"font-mono text-sm"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"telnyxApiSecret",children:"API Secret (Optional)"}),e.jsx(d,{id:"telnyxApiSecret",type:"password",placeholder:"Your Telnyx API Secret (if required)",value:a.telnyxApiSecret,onChange:r=>n("telnyxApiSecret",r.target.value),className:"font-mono text-sm"})]})]})]});default:return null}};return e.jsxs("form",{onSubmit:T,className:"space-y-6",children:[e.jsxs(_,{children:[e.jsxs(ce,{children:[e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5 text-blue-600"}),"Create Phone Number"]}),e.jsx(me,{children:"Get a free AI CRUITMENT phone number."})]}),e.jsxs(J,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"provider",children:"Provider *"}),e.jsxs(E,{value:a.provider,onValueChange:r=>n("provider",r),children:[e.jsx(D,{children:e.jsx(M,{placeholder:"Select a provider"})}),e.jsx(q,{children:e.jsx(f,{value:"vapi",className:"font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"#12a594"}}),"AI CRUITMENT (Free US Number)"]})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.provider==="vapi"?e.jsxs("div",{children:[e.jsxs(o,{htmlFor:"areaCode",className:"flex items-center gap-2",children:["Area Code *",e.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full text-white font-medium",style:{backgroundColor:"#12a594"},children:"Free"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(d,{id:"areaCode",type:"text",placeholder:"000",value:a.areaCode,onChange:r=>{const t=r.target.value.replace(/\D/g,"").slice(0,3);n("areaCode",t),n("phoneNumber",t)},className:"font-mono text-lg text-center border-2 focus:border-[#12a594] focus:ring-[#12a594]",style:{borderColor:a.areaCode?"#12a594":void 0},maxLength:3}),a.areaCode&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("svg",{className:"h-4 w-4",style:{color:"#12a594"},fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),e.jsx("p",{className:"text-xs mt-1",style:{color:"#12a594"},children:"Enter a 3-digit US area code (e.g., 415, 212, 310)"})]}):e.jsxs("div",{children:[e.jsx(o,{htmlFor:"phoneNumber",children:"Phone Number *"}),e.jsx(d,{id:"phoneNumber",type:"tel",placeholder:"+1 (555) 123-4567",value:a.phoneNumber,onChange:r=>A(r.target.value),className:"font-mono"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the phone number in E.164 format"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"name",children:"Friendly Name"}),e.jsx(d,{id:"name",type:"text",placeholder:a.provider==="vapi"?"My AI CRUITMENT Number":"My Business Number",value:a.name,onChange:r=>n("name",r.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{htmlFor:"assistantId",className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4"}),"Assistant"]}),e.jsxs(E,{value:a.assistantId,onValueChange:r=>n("assistantId",r),children:[e.jsx(D,{children:e.jsx(M,{placeholder:"Select an assistant (optional)"})}),e.jsx(q,{children:N?e.jsxs("div",{className:"flex items-center justify-center p-2",children:[e.jsx(w,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading assistants..."})]}):C.length===0?e.jsx("div",{className:"flex items-center justify-center p-2 text-gray-500",children:"No assistants available"}):e.jsxs(e.Fragment,{children:[e.jsx(f,{value:"unassigned",children:e.jsx("span",{className:"text-gray-500",children:"No assistant assigned"})}),C.map(r=>e.jsx(f,{value:r.assistant_id||r.id,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-3 w-3"}),r.name]})},r.id))]})})]}),e.jsx("p",{className:"text-xs text-gray-500",children:R?"Super admin can see all assistants":"You can only see your own assistants"})]}),a.provider&&e.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:V()}),a.provider&&a.provider!=="vapi"&&e.jsxs(Te,{children:[e.jsx(ye,{className:"h-4 w-4"}),e.jsxs(ke,{children:["Your credentials are securely stored and encrypted. They are only used to authenticate with ",a.provider," for phone number management."]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(p,{type:"button",variant:"outline",onClick:S,disabled:j.isPending,children:"Cancel"}),e.jsx(p,{type:"submit",disabled:j.isPending,className:"min-w-[120px]",style:a.provider==="vapi"?{backgroundColor:"#12a594",borderColor:"#12a594",color:"white"}:void 0,children:j.isPending?e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"h-4 w-4 mr-2 animate-spin"}),a.provider==="vapi"?"Getting Free Number...":"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),a.provider==="vapi"?"Get Free Number":"Create Phone Number"]})})]})]})},os=()=>{var Z,ee,se,ae;const[x,S]=v.useState({country:"US",limit:10}),[u,R]=v.useState(null),[a,L]=v.useState(!1),[W,I]=v.useState(!1),[B,y]=v.useState(!1),[N,C]=v.useState({friendlyName:"",assistantId:""}),j=de(),{data:n,isLoading:O,error:A}=U({queryKey:["phoneNumbers"],queryFn:()=>Ke(),retry:1});ie.useEffect(()=>{var s;n&&(console.log("Phone numbers data received:",n),((s=n==null?void 0:n.data)==null?void 0:s.length)>0&&console.log("First phone number structure:",n.data[0]))},[n]),ie.useEffect(()=>{A&&console.error("Phone numbers fetch error:",A)},[A]);const{data:F,isLoading:T,refetch:V}=U({queryKey:["phoneNumbers","available",x],queryFn:()=>Ee(x),enabled:!1}),{data:r}=U({queryKey:["assistants"],queryFn:()=>Le(1,""),retry:1}),t=K({mutationFn:De,onSuccess:()=>{j.invalidateQueries({queryKey:["phoneNumbers"]}),l.success("Phone number purchased successfully")},onError:s=>{var i,c;l.error(((c=(i=s.response)==null?void 0:i.data)==null?void 0:c.message)||"Failed to purchase phone number")}}),g=K({mutationFn:({id:s,data:i})=>Me(s,i),onSuccess:()=>{j.invalidateQueries({queryKey:["phoneNumbers"]}),I(!1),l.success("Phone number updated successfully")},onError:s=>{var i,c;l.error(((c=(i=s.response)==null?void 0:i.data)==null?void 0:c.message)||"Failed to update phone number")}}),X=K({mutationFn:qe,onSuccess:()=>{j.invalidateQueries({queryKey:["phoneNumbers"]}),l.success("Phone number deleted successfully")},onError:s=>{var i,c;l.error(((c=(i=s.response)==null?void 0:i.data)==null?void 0:c.message)||"Failed to delete phone number")}}),xe=()=>{V()},ue=s=>{t.mutate({number:s.number,friendlyName:s.friendlyName})},pe=s=>{R(s),C({friendlyName:s.friendlyName||"",assistantId:s.assistantId||"unassigned"}),I(!0)},je=()=>{u&&g.mutate({id:u.id,data:{...N,assistantId:N.assistantId==="unassigned"?"":N.assistantId}})},ge=s=>{confirm("Are you sure you want to delete this phone number?")&&X.mutate(s)},ve=s=>{const i={active:"default",inactive:"secondary",pending:"outline"};return e.jsx(b,{variant:i[s]||"outline",children:s})},fe=((Z=r==null?void 0:r.data)==null?void 0:Z.assistants)||[];return A?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Phone Numbers"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your phone numbers and purchase new ones"})]}),e.jsx(_,{children:e.jsx(J,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Unable to connect to the backend API. Please ensure the backend server is running."}),e.jsx(p,{onClick:()=>window.location.reload(),children:"Retry Connection"})]})})})]}):e.jsx(Fe,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Phone Numbers"}),e.jsx("p",{className:"text-muted-foreground",children:"Get free AI CRUITMENT phone numbers."})]}),e.jsxs(Y,{open:B,onOpenChange:y,children:[e.jsx(Se,{asChild:!0,children:e.jsxs(p,{children:[e.jsx(Ne,{className:"h-4 w-4 mr-2"}),"Create Phone Number"]})}),e.jsxs($,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(z,{children:[e.jsx(G,{children:"Create New Phone Number"}),e.jsx(Q,{children:"Get a free VAPI phone number."})]}),e.jsx(Be,{onSuccess:()=>y(!1),onCancel:()=>y(!1)})]})]})]}),e.jsx(Y,{open:a,onOpenChange:L,children:e.jsxs($,{className:"max-w-4xl",children:[e.jsxs(z,{children:[e.jsx(G,{children:"Search & Buy Phone Numbers"}),e.jsx(Q,{children:"Search for available phone numbers to purchase"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"country",children:"Country"}),e.jsxs(E,{value:x.country,onValueChange:s=>S(i=>({...i,country:s})),children:[e.jsx(D,{children:e.jsx(M,{})}),e.jsxs(q,{children:[e.jsx(f,{value:"US",children:"United States"}),e.jsx(f,{value:"CA",children:"Canada"}),e.jsx(f,{value:"GB",children:"United Kingdom"})]})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"areaCode",children:"Area Code"}),e.jsx(d,{id:"areaCode",value:x.areaCode||"",onChange:s=>S(i=>({...i,areaCode:s.target.value})),placeholder:"e.g., 415"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"contains",children:"Contains"}),e.jsx(d,{id:"contains",value:x.contains||"",onChange:s=>S(i=>({...i,contains:s.target.value})),placeholder:"e.g., 1234"})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs(p,{onClick:xe,disabled:T,className:"w-full",children:[T?e.jsx(w,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(be,{className:"h-4 w-4 mr-2"}),"Search"]})})]}),F&&e.jsx("div",{className:"border rounded-lg",children:e.jsxs(te,{children:[e.jsx(le,{children:e.jsxs(P,{children:[e.jsx(m,{children:"Number"}),e.jsx(m,{children:"Location"}),e.jsx(m,{children:"Capabilities"}),e.jsx(m,{children:"Price/Month"}),e.jsx(m,{children:"Action"})]})}),e.jsx(oe,{children:(ee=F.data)==null?void 0:ee.map(s=>{var i,c,re;return e.jsxs(P,{children:[e.jsx(h,{className:"font-mono",children:s.number}),e.jsx(h,{children:s.locality&&s.region?`${s.locality}, ${s.region}`:s.locality||s.region||"Unknown Location"}),e.jsx(h,{children:e.jsxs("div",{className:"flex gap-1",children:[((i=s.capabilities)==null?void 0:i.voice)&&e.jsx(b,{variant:"outline",children:"Voice"}),((c=s.capabilities)==null?void 0:c.sms)&&e.jsx(b,{variant:"outline",children:"SMS"}),((re=s.capabilities)==null?void 0:re.mms)&&e.jsx(b,{variant:"outline",children:"MMS"}),!s.capabilities&&e.jsx(b,{variant:"outline",children:"Unknown"})]})}),e.jsx(h,{children:s.monthlyPrice!==void 0?`$${s.monthlyPrice}`:"Contact for pricing"}),e.jsx(h,{children:e.jsxs(p,{size:"sm",onClick:()=>ue(s),disabled:t.isPending,children:[t.isPending?e.jsx(w,{className:"h-3 w-3 mr-1 animate-spin"}):e.jsx(Ce,{className:"h-3 w-3 mr-1"}),"Buy"]})})]},s.number)})})]})})]})]})}),e.jsxs(_,{children:[e.jsxs(ce,{children:[e.jsxs(he,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5"}),"Your Phone Numbers"]}),e.jsx(me,{children:"Manage your purchased phone numbers and their assignments"})]}),e.jsx(J,{children:O?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(w,{className:"h-8 w-8 animate-spin"})}):e.jsxs(te,{children:[e.jsx(le,{children:e.jsxs(P,{children:[e.jsx(m,{children:"Number"}),e.jsx(m,{children:"Created By"}),e.jsx(m,{children:"Status"}),e.jsx(m,{children:"Assigned Assistant"}),e.jsx(m,{children:"Actions"})]})}),e.jsx(oe,{children:((se=n==null?void 0:n.data)==null?void 0:se.length)===0?e.jsx(P,{children:e.jsx(h,{colSpan:6,className:"text-center text-muted-foreground",children:"No phone numbers found. Purchase your first number to get started."})}):(ae=n==null?void 0:n.data)==null?void 0:ae.map(s=>e.jsxs(P,{children:[e.jsx(h,{className:"font-mono",children:s.number||"Unknown"}),e.jsx(h,{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-medium",children:s.created_by||s.user_name||"Unknown User"}),s.user_email&&e.jsx("span",{className:"text-xs text-muted-foreground",children:s.user_email})]})}),e.jsx(h,{children:ve(s.status||"inactive")}),e.jsx(h,{children:s.assistantId?e.jsx(b,{variant:"secondary",children:"Assigned"}):e.jsx(b,{variant:"outline",children:"Unassigned"})}),e.jsx(h,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(p,{size:"sm",variant:"outline",onClick:()=>pe(s),children:e.jsx(Ae,{className:"h-3 w-3"})}),e.jsx(p,{size:"sm",variant:"outline",onClick:()=>ge(s.id),disabled:X.isPending,children:e.jsx(we,{className:"h-3 w-3"})})]})})]},s.id))})]})})]}),e.jsx(Y,{open:W,onOpenChange:I,children:e.jsxs($,{children:[e.jsxs(z,{children:[e.jsx(G,{children:"Edit Phone Number"}),e.jsx(Q,{children:"Update the phone number settings"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"friendlyName",children:"Friendly Name"}),e.jsx(d,{id:"friendlyName",value:N.friendlyName,onChange:s=>C(i=>({...i,friendlyName:s.target.value})),placeholder:"Enter a friendly name..."})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"assistantId",children:"Assign to Assistant"}),e.jsxs(E,{value:N.assistantId,onValueChange:s=>C(i=>({...i,assistantId:s})),children:[e.jsx(D,{children:e.jsx(M,{placeholder:"Select an assistant"})}),e.jsxs(q,{children:[e.jsx(f,{value:"unassigned",children:"Unassigned"}),fe.map(s=>e.jsx(f,{value:s.id,children:s.name},s.id))]})]})]}),e.jsxs(p,{onClick:je,disabled:g.isPending,className:"w-full",children:[g.isPending&&e.jsx(w,{className:"h-4 w-4 mr-2 animate-spin"}),"Update Phone Number"]})]})]})})]})})};export{os as default};
//# sourceMappingURL=PhoneNumbers-CEpjSQ1W.js.map
