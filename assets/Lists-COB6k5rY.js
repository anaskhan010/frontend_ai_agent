import{j as e,b6 as Xs,aA as Ve,T as Zs,ar as Ge,av as U,D as We,N as is,b as et,b4 as os,H as st,b1 as tt,b5 as ds,F as at,aT as rt,b7 as lt,aW as nt,C as ct,aP as it,b8 as ot,M as dt,b9 as mt,ba as xt,bb as ut}from"./ui-DHRUPyaA.js";import{r as a}from"./vendor-DG599jyl.js";import{P as ht}from"./Page-DlVj60Rh.js";import{c as ft,a as gt,b as pt,d as Nt,e as jt,u as bt,r as yt}from"./contactService-Bragvwuw.js";import{createOutboundCall as vt,unmuteCall as Ct,muteCall as wt,endCallViaControl as St}from"./outboundService-BGMgJ0Ny.js";import{f as At}from"./agentService-DQSzxg5u.js";import{g as kt}from"./phoneNumberService-DMPdoasi.js";import{g as Et,f as Dt,h as ms,a as Pt,b as It,c as Lt,C as Ft}from"./CallRecordingPlayer-DZEHrPoN.js";import{c as _t,u as $t}from"./router-BavLd_S0.js";import{u as Mt,a as Tt}from"./resolvers-BzctgYTE.js";import{o as Ut,c as xs,b as Ht,a as B}from"./index.esm-C7RSptL2.js";import{B as x}from"./button-D7rqocXn.js";import{I as v}from"./input-XSLov9pl.js";import{L as O}from"./label-CrKKAiqk.js";import{S as qt,a as Rt,b as zt,c as Bt,d as Ot}from"./sheet-BN9AFl4I.js";import{S as Vt,a as Gt,b as Wt,c as Yt,d as le}from"./select-fj8F7bwK.js";import{u as hs,a as Jt,d as fs,t as o,e as Kt,j as Qt}from"./index-kojKzVbx.js";import{T as Xt}from"./textarea-_NvWYALn.js";import{D as gs,a as ps,b as Ns,c as js}from"./dialog-DAE_8wqa.js";import{B as He}from"./badge-CqQHrhpt.js";import{A as qe,a as Re}from"./avatar-BGZIpprs.js";import{T as Zt,a as ea,b as ze,c as Be}from"./tabs-Dvfc-j2U.js";import{u as sa}from"./usePermissions-Kfk46XwT.js";import{D as ta,a as aa,b as ra,e as Oe,d as us}from"./dropdown-menu-BDAlliZC.js";import{A as la,a as na,b as ca,c as ia,d as oa,e as da,f as ma,g as xa}from"./alert-dialog-CrYK-JZp.js";import"./scroll-area-D8Yh2lEB.js";import"./index-gFMHSLmD.js";import"./index-CQ23FXLP.js";import"./slider-Dznb9qLi.js";import"./index-HDeFwIcs.js";import"./query-C4fL1Hv3.js";const ua=xs().shape({listName:B().required("List Name is required").min(2,"List Name must be at least 2 characters"),description:B().required("Description is required"),type:B().required("Type is required"),contacts:Ht().of(xs().shape({fullName:B().required("Full Name is required").min(2,"Full Name must be at least 2 characters"),email:B().required("Email is required").email("Email is invalid"),phoneNumber:B().required("Phone Number is required").matches(/^\+1[0-9]{10}$/,"Phone Number must start with +1 followed by 10 digits (e.g., +1234567890)")})).required("Contacts are required").min(1,"At least one contact is required")});function ha(){a.useRef(null);const[H,V]=a.useState(!1),[ne,P]=a.useState(0),{user:r}=hs(),{isSuperAdmin:ye}=Jt(),{register:E,control:G,handleSubmit:l,formState:{errors:u,isSubmitting:ce},reset:ie,watch:ve,setValue:oe}=Mt({resolver:Ut(ua),defaultValues:{listName:"",description:"",type:"General",contacts:[{fullName:"",email:"",phoneNumber:""}]}}),{fields:I,append:Ce,remove:L}=Tt({control:G,name:"contacts"}),we=()=>{var n,j;const g=Kt.getItem("token");if(!g)return console.log("No token found in storage"),null;try{const c=Qt(g);console.log("Decoded token:",c);let p=null;return(n=c.user)!=null&&n.id?p=c.user.id:(j=c.user)!=null&&j.user_id?p=c.user.user_id:c.id?p=c.id:c.user_id&&(p=c.user_id),console.log("Extracted userId:",p),p}catch(c){return console.error("Error decoding token:",c),null}},Ye=async g=>{if(!ye)try{const c=(await fs.get("/api/credits/balance")).data.data;if(!c||parseFloat(c.available_credits)<1){P((c==null?void 0:c.available_credits)||0),V(!0);return}}catch(j){console.error("Error checking credit balance:",j),o.error("Unable to verify credit balance. Please try again.");return}const n=we();if(!n){o.error("User ID not found. Please log in again.");return}try{const j=await ft({listName:g.listName,description:g.description,type:g.type}),c=g.contacts.map(F=>({email:F.email,contact_number:F.phoneNumber,first_name:F.fullName})),p={user_id:n,list_name:g.listName,list_description:g.description,contacts:c};await gt(p),ie({listName:"",description:"",type:"General",contacts:[{fullName:"",email:"",phoneNumber:""}]}),o.success("Contact List created successfully!"),typeof window<"u"&&window.location.reload()}catch(j){console.error("Error submitting form:",j),o.error("Failed to create contact list. Please try again.")}};return e.jsxs(e.Fragment,{children:[e.jsx(qt,{className:"text-xl font-semibold jakarta bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent mb-1",children:"Create Contact List"}),e.jsx(Rt,{className:"text-muted-foreground mb-6",children:"Create a new contact list for your voice AI agents to use for campaigns."}),e.jsxs("form",{onSubmit:l(Ye),className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Xs,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-sm font-medium",children:"List Information"})]}),e.jsxs("div",{children:[e.jsxs(O,{htmlFor:"listName",className:"text-sm font-medium text-foreground mb-1.5 block",children:["List Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(v,{id:"listName",placeholder:"Enter contact list name",className:"w-full border-border/50 bg-card focus:border-primary/50 focus:ring-primary/20",...E("listName")}),u.listName&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:u.listName.message})]}),e.jsxs("div",{children:[e.jsxs(O,{htmlFor:"description",className:"text-sm font-medium text-foreground mb-1.5 block",children:["Description",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Xt,{id:"description",placeholder:"Enter contact list description",className:"w-full min-h-[80px] border-border/50 bg-card focus:border-primary/50 focus:ring-primary/20",...E("description")}),u.description&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:u.description.message})]}),e.jsxs("div",{children:[e.jsxs(O,{htmlFor:"type",className:"text-sm font-medium text-foreground mb-1.5 block",children:["Type",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(Vt,{value:ve("type"),onValueChange:g=>oe("type",g),children:[e.jsx(Gt,{className:"w-full border-border/50 bg-card focus:border-primary/50 focus:ring-primary/20",children:e.jsx(Wt,{placeholder:"Select list type"})}),e.jsxs(Yt,{children:[e.jsx(le,{value:"General",children:"General"}),e.jsx(le,{value:"Marketing",children:"Marketing"}),e.jsx(le,{value:"Sales",children:"Sales"}),e.jsx(le,{value:"Event",children:"Event"}),e.jsx(le,{value:"Customer",children:"Customer"})]})]}),u.type&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:u.type.message})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Ve,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-sm font-medium",children:"Contacts"}),e.jsx("span",{className:"text-xs text-red-500",children:"*"})]}),e.jsxs("div",{className:"space-y-4",children:[I.map((g,n)=>{var j,c,p,F,de,me,q,xe,_;return e.jsxs("div",{className:"border border-border/50 rounded-lg p-4 mb-4 relative bg-card/50",children:[I.length>1&&e.jsx("button",{type:"button",onClick:()=>L(n),className:"absolute top-3 right-3 text-muted-foreground hover:text-red-500 transition-colors",title:"Remove Contact",children:e.jsx(Zs,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx("div",{className:"h-6 w-6 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-medium text-primary",children:n+1})}),e.jsxs("h4",{className:"text-sm font-medium",children:["Contact ",n+1]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs(O,{htmlFor:`contacts.${n}.fullName`,className:"text-sm font-medium text-foreground mb-1.5 block",children:["Full Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"relative",children:e.jsx(v,{id:`contacts.${n}.fullName`,type:"text",placeholder:"Enter full name",className:"w-full border-border/50 bg-card focus:border-primary/50 focus:ring-primary/20",...E(`contacts.${n}.fullName`)})}),((c=(j=u.contacts)==null?void 0:j[n])==null?void 0:c.fullName)&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:(p=u.contacts[n].fullName)==null?void 0:p.message})]}),e.jsxs("div",{children:[e.jsxs(O,{htmlFor:`contacts.${n}.email`,className:"text-sm font-medium text-foreground mb-1.5 block",children:["Email",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(v,{id:`contacts.${n}.email`,type:"email",placeholder:"Enter contact email",className:"w-full pl-10 border-border/50 bg-card focus:border-primary/50 focus:ring-primary/20",...E(`contacts.${n}.email`)})]}),((de=(F=u.contacts)==null?void 0:F[n])==null?void 0:de.email)&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:(me=u.contacts[n].email)==null?void 0:me.message})]}),e.jsxs("div",{children:[e.jsxs(O,{htmlFor:`contacts.${n}.phoneNumber`,className:"text-sm font-medium text-foreground mb-1.5 block",children:["Phone Number",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(U,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(v,{id:`contacts.${n}.phoneNumber`,type:"tel",placeholder:"Enter phone number with +1 (e.g., +1234567890)",className:"w-full pl-10 border-border/50 bg-card focus:border-primary/50 focus:ring-primary/20",...E(`contacts.${n}.phoneNumber`)})]}),((xe=(q=u.contacts)==null?void 0:q[n])==null?void 0:xe.phoneNumber)&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:(_=u.contacts[n].phoneNumber)==null?void 0:_.message})]})]})]},g.id)}),e.jsxs(x,{type:"button",variant:"outline",className:"w-full border-dashed border-border/50 hover:bg-muted/20 flex items-center justify-center gap-2 py-6",onClick:()=>Ce({fullName:"",email:"",phoneNumber:""}),children:[e.jsx(We,{className:"w-4 h-4"}),"Add Another Contact"]})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end space-x-3",children:[e.jsx(zt,{asChild:!0,children:e.jsx(x,{type:"button",variant:"outline",className:"border-border/50 text-foreground hover:bg-muted/20",children:"Cancel"})}),e.jsx(x,{type:"submit",className:"btn-gradient text-white",disabled:ce,children:ce?"Creating...":"Create List"})]})]}),e.jsx(gs,{open:H,onOpenChange:V,children:e.jsxs(ps,{className:"sm:max-w-md",children:[e.jsx(Ns,{children:e.jsxs(js,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Insufficient Credits"}),e.jsx("p",{className:"text-sm text-gray-500 font-normal",children:"You need credits to create contact lists"})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Current Balance:"}),e.jsxs("span",{className:"font-semibold",children:[ne," credits"]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Required:"}),e.jsx("span",{className:"font-semibold text-red-600",children:"1 credit minimum"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(x,{variant:"outline",onClick:()=>V(!1),className:"flex-1",children:"Cancel"}),e.jsx(x,{onClick:()=>{V(!1),window.location.href="/credits"},className:"flex-1 bg-primary hover:bg-primary/90",children:"Buy Credits"})]})]})]})})]})}const Wa=()=>{_t(),$t();const{isSuperAdmin:H}=sa(),{user:V}=hs(),[ne,P]=a.useState([]),[r,ye]=a.useState(null),[E,G]=a.useState([]),[l,u]=a.useState(null),[ce,ie]=a.useState(!0),[ve,oe]=a.useState(!1),[I,Ce]=a.useState(""),[L,we]=a.useState(""),[Ye,g]=a.useState("list"),[n,j]=a.useState("list"),[c,p]=a.useState(1),[F,de]=a.useState(0),[me,q]=a.useState(!1),[xe,_]=a.useState(!1),[bs,ys]=a.useState(0),[ue,W]=a.useState(!1),[b,Y]=a.useState({fullName:"",email:"",phoneNumber:""}),[vs,he]=a.useState(!1),[C,R]=a.useState({fullName:"",email:"",phoneNumber:""}),[Cs,J]=a.useState(!1),[N,ws]=a.useState(null),[$,Ss]=a.useState([]),[Je,As]=a.useState([]),[M,Se]=a.useState(""),[z,Ae]=a.useState(""),[Ke,Qe]=a.useState(!1),[w,ke]=a.useState(null),[D,Ee]=a.useState(!1),[K,fe]=a.useState(!1),[T,De]=a.useState(!1),[S,Pe]=a.useState(null),[ks,ge]=a.useState(0),[pe,Ie]=a.useState(null),[A,Le]=a.useState(null),[Xe,Fe]=a.useState(null),[_e,$e]=a.useState([]),[Es,Ze]=a.useState(!1),[es,ss]=a.useState(1),[ts,Me]=a.useState(0),[Ds,as]=a.useState(null),[Ps,rs]=a.useState(!1),Is=async()=>{if(H){q(!0);return}try{const t=(await fs.get("/api/credits/balance")).data.data;if(!t||parseFloat(t.available_credits)<1){ys((t==null?void 0:t.available_credits)||0),_(!0);return}q(!0)}catch(s){console.error("Error checking credit balance:",s),o.error("Unable to verify credit balance. Please try again.")}},ls=async()=>{try{ie(!0);const s=await pt(1,I,H);if(s.success){const t=Array.isArray(s.data)?s.data:[];P(t)}else P([])}catch(s){console.error("Error fetching lists:",s),P([])}finally{ie(!1)}},Ne=async s=>{var t,h,d,y,Q,X,Z,ee,se,m,f,te,ae,be;try{oe(!0);const i=await Nt(s.toString(),c,L);if(console.log("Full API response:",i),i.success){const re=Array.isArray((t=i.data)==null?void 0:t.contacts)?i.data.contacts:[];console.log("Extracted contacts:",re),G(re),de(((d=(h=i.data)==null?void 0:h.pagination)==null?void 0:d.totalPages)||1)}else console.log("Response not successful:",i),G([])}catch(i){console.error("Error fetching contacts:",i);const re=k=>typeof k=="object"&&k!==null,Qs=k=>typeof k=="object"&&k!==null&&"message"in k&&typeof k.message=="string";if(re(i)&&(((y=i.response)==null?void 0:y.status)===404||((Z=(X=(Q=i.response)==null?void 0:Q.data)==null?void 0:X.message)==null?void 0:Z.toLowerCase().includes("not found"))||((m=(se=(ee=i.response)==null?void 0:ee.data)==null?void 0:se.error)==null?void 0:m.toLowerCase().includes("not found"))))console.error("Error details:",((be=i.response)==null?void 0:be.data)||i.message);else if(re(i)){console.error("Error details:",((f=i.response)==null?void 0:f.data)||i.message);const k=((ae=(te=i.response)==null?void 0:te.data)==null?void 0:ae.error)||i.message||"Unknown error occurred";o.error(`Failed to fetch contacts: ${k}`)}else Qs(i)?(console.error("Error details:",i.message),o.error(`Failed to fetch contacts: ${i.message}`)):(console.error("Error details:",String(i)),o.error("Failed to fetch contacts: Unknown error occurred"));G([])}finally{oe(!1)}};a.useEffect(()=>{ls()},[I,H]),a.useEffect(()=>{r&&Ne(r.id)},[r,c,L]),a.useEffect(()=>{l&&l.phoneNumber&&_s(l)},[l,es]);const Ls=s=>{if(s.is_deleted&&!H){o.error("This list has been disabled and is not accessible.");return}console.log("Selected list:",s),ye(s),u(null),W(!1),he(!1),p(1)},Fs=s=>{u(s),$e([]),ss(1),Me(0)},_s=async s=>{if(s.phoneNumber)try{Ze(!0);const t=await Et(s.phoneNumber,es,10);$e(t.calls),Me(t.totalCalls)}catch(t){console.error("Error fetching call history:",t),$e([]),Me(0)}finally{Ze(!1)}},$s=async s=>{if(ms(s))try{as(s),rs(!0)}catch(t){console.error("Error playing recording:",t),o.error("Failed to play recording")}},Ms=s=>{Y({fullName:s.fullName||"",email:s.email||"",phoneNumber:s.phoneNumber||""}),W(!0)},Ts=async()=>{if(!l)return;const s=/^\+1[0-9]{10}$/;if(b.phoneNumber&&!s.test(b.phoneNumber)){o.error("Phone Number must start with +1 followed by 10 digits (e.g., +1234567890)");return}try{await bt(l.id.toString(),b),o.success("Contact updated successfully"),W(!1),r&&Ne(r.id),u({...l,...b})}catch(t){console.error("Error updating contact:",t)}},Us=()=>{W(!1),Y({fullName:"",email:"",phoneNumber:""})},Hs=async()=>{if(!r||!C.fullName||!C.email||!C.phoneNumber){o.error("Please fill in all required fields");return}if(!/^\+1[0-9]{10}$/.test(C.phoneNumber)){o.error("Phone Number must start with +1 followed by 10 digits (e.g., +1234567890)");return}try{await jt(r.id.toString(),{fullName:C.fullName,email:C.email,contact_number:C.phoneNumber,phoneNumber:C.phoneNumber}),o.success("Contact added successfully"),Ne(r.id),P(t=>t.map(h=>h.id===r.id?{...h,contactCount:h.contactCount+1}:h)),he(!1),R({fullName:"",email:"",phoneNumber:""})}catch(t){console.error("Error adding contact:",t)}},qs=()=>{he(!1),R({fullName:"",email:"",phoneNumber:""})},Rs=async()=>{var s,t,h;try{const[d,y]=await Promise.all([At(""),kt()]);console.log("ðŸ” Debug - Loaded dialer data:",{agentsCount:((s=d==null?void 0:d.data)==null?void 0:s.length)||0,phoneNumbersCount:((t=y==null?void 0:y.data)==null?void 0:t.length)||0,sampleAgent:(h=d==null?void 0:d.data)!=null&&h[0]?{id:d.data[0].id,assistant_id:d.data[0].assistant_id,name:d.data[0].name}:null}),Ss((d==null?void 0:d.data)||[]),As((y==null?void 0:y.data)||[])}catch(d){console.error("Error loading dialer data:",d)}},ns=async s=>{if(!s.phoneNumber){o.error("Contact has no phone number");return}ws(s),J(!0),($.length===0||Je.length===0)&&await Rs()},zs=s=>{let t=s.replace(/\D/g,"");if(t.length===10)t="1"+t;else if(!(t.length===11&&t.startsWith("1"))){if(t.length<10)throw new Error("Phone number is too short")}return"+"+t},Bs=async()=>{var h,d,y,Q,X,Z,ee,se;if(!N||!M||!z){o.error("Please select an agent and from number");return}console.log("ðŸ” Debug - Making call with:",{selectedAgent:M,availableAgents:$.map(m=>({id:m.id,assistant_id:m.assistant_id,name:m.name})),dialerContact:N.fullName,selectedFromNumber:z});let s=$.find(m=>m.id===M);if(s||(s=$.find(m=>m.assistant_id===M)),!s){console.error("âŒ Selected agent not found in agents array:",{selectedAgent:M,availableAgentIds:$.map(m=>m.id),availableAssistantIds:$.map(m=>m.assistant_id)}),o.error("Selected agent not found");return}const t=s.assistant_id||s.id;console.log("Making call with:",{selectedAgentData:s,assistantUUID:t,originalPhoneNumber:N.phoneNumber,selectedFromNumber:z}),Qe(!0);try{const m=zs(N.phoneNumber);console.log("Formatted phone number:",m);const f=await vt({assistantId:t,phoneNumber:m,phoneNumberId:z,metadata:{contactId:N.id,contactName:N.fullName,listId:r==null?void 0:r.id,listName:r==null?void 0:r.list_name}});console.log("ðŸ“ž Call response:",f),console.log("ðŸ“ž Call response structure:",{id:f.id,callId:f.callId,data:f.data,monitor:f.monitor,dataMonitor:(h=f.data)==null?void 0:h.monitor,controlUrl:((d=f.monitor)==null?void 0:d.controlUrl)||((Q=(y=f.data)==null?void 0:y.monitor)==null?void 0:Q.controlUrl)}),o.success(`Call initiated to ${N.fullName}`),Fe(f);const te=f.id||f.callId||((X=f.data)==null?void 0:X.id),ae=((Z=f.monitor)==null?void 0:Z.controlUrl)||((se=(ee=f.data)==null?void 0:ee.monitor)==null?void 0:se.controlUrl);console.log("ðŸ“ž Extracted call control data:",{callId:te,controlUrl:ae}),Pe(te),Le(ae),Ee(!0),ge(0);const be=setInterval(()=>{ge(i=>i+1)},1e3);Ie(be)}catch(m){console.error("Error making call:",m)}finally{Qe(!1)}},Os=async()=>{if(console.log("ðŸ”‡ Mute toggle - Call control data:",{currentCallId:S,callControlUrl:A,isMuted:K,callData:Xe}),!S||!A){console.error("âŒ Call control not available:",{currentCallId:S,callControlUrl:A}),o.error("Call control not available - missing call ID or control URL");return}try{K?(await Ct(S,A),fe(!1)):(await wt(S,A),fe(!0))}catch(s){console.error("Error toggling mute:",s)}},Vs=()=>{De(!T),o.success(T?"Call resumed":"Call on hold")},Gs=async()=>{if(console.log("ðŸ“ž End call - Call control data:",{currentCallId:S,callControlUrl:A,callData:Xe}),!S||!A){console.error("âŒ Call control not available:",{currentCallId:S,callControlUrl:A}),o.error("Call control not available - missing call ID or control URL");return}try{await St(S,A),pe&&(clearInterval(pe),Ie(null)),Ee(!1),fe(!1),De(!1),Pe(null),Le(null),Fe(null),ge(0),J(!1),Se(""),Ae("")}catch(s){console.error("Error ending call:",s),pe&&(clearInterval(pe),Ie(null)),Ee(!1),fe(!1),De(!1),Pe(null),Le(null),Fe(null),ge(0),J(!1),Se(""),Ae("")}},Ws=s=>{const t=Math.floor(s/60),h=s%60;return`${t.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}`},Ys=()=>{r&&(u(null),W(!1),he(!0),R({fullName:"",email:"",phoneNumber:""}))},Js=s=>{ke(s)},Ks=async()=>{if(!(!r||!w))try{await yt(r.id.toString(),w.id.toString()),o.success("Contact removed from list successfully"),Ne(r.id),P(s=>s.map(t=>t.id===r.id?{...t,contactCount:Math.max(0,t.contactCount-1)}:t)),(l==null?void 0:l.id)===w.id&&u(null),ke(null)}catch(s){console.error("Error removing contact:",s)}},cs=s=>s.substring(0,2).toUpperCase(),Te=s=>s?s.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3"):"N/A",je=Array.isArray(ne)?ne.filter(s=>s.list_name.toLowerCase().includes(I.toLowerCase())):[],Ue=Array.isArray(E)?E.filter(s=>{var t;return s.email.toLowerCase().includes(L.toLowerCase())||((t=s.fullName)==null?void 0:t.toLowerCase().includes(L.toLowerCase()))}):[];return e.jsxs(ht,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Contacts"}),e.jsx(He,{variant:"secondary",className:"px-3 py-1 bg-red-100 text-red-600",children:e.jsx("span",{children:je.length})}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Total Contact groups: ",je.length]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(x,{onClick:Is,className:"bg-red-500 hover:bg-red-600",children:[e.jsx(We,{className:"h-4 w-8 mr-2"}),"Add"]})})]}),e.jsxs("div",{className:"flex h-[calc(100vh-200px)] gap-4",children:[e.jsxs("div",{className:"w-80 bg-white border border-gray-300 rounded-lg flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Contact Groups"}),e.jsxs("div",{className:"relative",children:[e.jsx(is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(v,{placeholder:"Search",value:I,onChange:s=>Ce(s.target.value),className:"pl-10"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:ce?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading..."}):je.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"No groups found"}):e.jsx("div",{className:"p-2",children:je.map(s=>e.jsx("div",{onClick:()=>Ls(s),className:`flex items-center p-3 rounded-lg cursor-pointer mb-1 transition-colors ${(r==null?void 0:r.id)===s.id?"bg-gray-900 text-white":"hover:bg-gray-100"} ${s.is_deleted?"opacity-50":""}`,children:e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx(qe,{className:"h-8 w-8",children:e.jsx(Re,{className:(r==null?void 0:r.id)===s.id?"bg-gray-700":"bg-gray-200",children:s.list_name.substring(0,2).toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium truncate",children:s.list_name}),e.jsxs("div",{className:`text-xs ${(r==null?void 0:r.id)===s.id?"text-gray-300":"text-gray-500"}`,children:[s.contactCount," contacts"]})]}),e.jsx(He,{variant:"secondary",className:"text-xs",children:s.contactCount})]})},s.id))})})]}),e.jsxs("div",{className:"flex-1 bg-white border border-gray-300 rounded-lg flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:r?r.list_name:"Default"}),r&&e.jsxs("p",{className:"text-sm text-gray-500",children:[Ue.length," contacts"]})]}),e.jsxs(ta,{modal:!1,children:[e.jsx(aa,{asChild:!0,children:e.jsx(x,{variant:"ghost",size:"sm","aria-label":"Contact options",children:e.jsx(et,{className:"h-4 w-4"})})}),e.jsxs(ra,{align:"end",side:"bottom",sideOffset:5,children:[e.jsxs(Oe,{onClick:()=>Ys(),children:[e.jsx(os,{className:"h-4 w-4 mr-2"}),"Add Contacts"]}),e.jsx(us,{}),e.jsxs(Oe,{onClick:()=>l&&Ms(l),disabled:!l,children:[e.jsx(st,{className:"h-4 w-4 mr-2"}),"Edit Contact"]}),e.jsx(us,{}),e.jsxs(Oe,{onClick:()=>l&&Js(l),className:"text-red-600 focus:text-red-600",disabled:!l,children:[e.jsx(tt,{className:"h-4 w-4 mr-2"}),"Remove from List"]})]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(v,{placeholder:"Search",value:L,onChange:s=>we(s.target.value),className:"pl-10"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:r?ve?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading contacts..."}):Ue.length===0?e.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ge,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No contacts found in this group"})]})}):e.jsx("div",{className:"p-2",children:Ue.map(s=>e.jsx("div",{onClick:()=>Fs(s),className:`flex items-center p-3 rounded-lg cursor-pointer mb-1 transition-colors ${(l==null?void 0:l.id)===s.id?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx(qe,{className:"h-10 w-10",children:e.jsx(Re,{className:"bg-green-100 text-green-600",children:cs(s.email)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.fullName||"No Name"}),e.jsx("div",{className:"text-sm text-gray-500 truncate",children:s.email})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{size:"sm",className:"rounded-full bg-green-600 hover:bg-green-700 text-white shadow-md p-2",onClick:()=>ns(s),children:e.jsx(U,{className:"h-4 w-4"})}),e.jsx(x,{size:"sm",className:"rounded-full bg-blue-600 hover:bg-blue-700 text-white shadow-md p-2",children:e.jsx(ds,{className:"h-4 w-4"})})]})]})},s.id))}):e.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ve,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Select a contact group to view contacts"})]})})})]}),e.jsx("div",{className:"w-96 bg-white border border-gray-300 rounded-lg flex flex-col",children:vs?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(os,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Add New Contact"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Add contact to ",r==null?void 0:r.list_name]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(x,{variant:"outline",size:"sm",onClick:qs,children:"Cancel"}),e.jsx(x,{size:"sm",onClick:Hs,children:"Save"})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Contact Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),e.jsx(v,{value:C.fullName,onChange:s=>R(t=>({...t,fullName:s.target.value})),placeholder:"Enter full name",className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),e.jsx(v,{type:"email",value:C.email,onChange:s=>R(t=>({...t,email:s.target.value})),placeholder:"Enter email address",className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),e.jsx(v,{type:"tel",value:C.phoneNumber,onChange:s=>R(t=>({...t,phoneNumber:s.target.value})),placeholder:"Enter phone number with +1 (e.g., +1234567890)",className:"w-full"})]})]})]})})})]}):l?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(qe,{className:"h-16 w-16",children:e.jsx(Re,{className:"bg-green-100 text-green-600 text-xl",children:cs(l.email)})}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx(x,{size:"sm",className:"rounded-full bg-green-600 hover:bg-green-700 text-white shadow-md p-2",onClick:()=>l&&ns(l),children:e.jsx(U,{className:"h-4 w-4"})})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:ue?b.fullName||"No Name":l.fullName||"No Name"}),e.jsx("p",{className:"text-sm text-gray-500",children:Te(ue?b.phoneNumber:l.phoneNumber)})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"General Info"}),ue&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(x,{variant:"outline",size:"sm",onClick:Us,children:"Cancel"}),e.jsx(x,{size:"sm",onClick:Ts,children:"Save"})]})]}),ue?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-900 block mb-1",children:"Full Name"}),e.jsx(v,{value:b.fullName,onChange:s=>Y({...b,fullName:s.target.value}),placeholder:"Enter full name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-900 block mb-1",children:"Phone Number"}),e.jsx(v,{value:b.phoneNumber,onChange:s=>Y({...b,phoneNumber:s.target.value}),placeholder:"Enter phone number with +1 (e.g., +1234567890)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-900 block mb-1",children:"Email Address"}),e.jsx(v,{value:b.email,onChange:s=>Y({...b,email:s.target.value}),placeholder:"Enter email address",type:"email"})]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(U,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Phone Number"}),e.jsx("p",{className:"text-sm text-gray-500",children:Te(l.phoneNumber)})]}),e.jsx("div",{className:"flex items-center space-x-1",children:e.jsx("span",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded",children:"Not Validated"})})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ge,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Email Address"}),e.jsx("p",{className:"text-sm text-gray-500",children:l.email})]})]})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Labels"}),e.jsx(x,{variant:"ghost",size:"sm",children:e.jsx(We,{className:"h-4 w-4"})})]})}),e.jsx("div",{children:e.jsxs(Zt,{defaultValue:"notes",className:"w-full",children:[e.jsxs(ea,{className:"grid w-full grid-cols-3",children:[e.jsx(ze,{value:"notes",className:"text-xs",children:"Notes"}),e.jsx(ze,{value:"calls",className:"text-xs",children:"Call History"}),e.jsx(ze,{value:"chats",className:"text-xs",children:"Chat History"})]}),e.jsx(Be,{value:"notes",className:"mt-4",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(at,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No notes yet"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Add your first note using the text area above"})]})}),e.jsx(Be,{value:"calls",className:"mt-4",children:Es?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(rt,{className:"h-8 w-8 mx-auto mb-4 text-gray-400 animate-spin"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Loading call history..."})]}):_e.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(U,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No call history"})]}):e.jsxs("div",{className:"space-y-3",children:[_e.map(s=>{const t=Dt(s.status),h=ms(s);return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:Pt(s.created_at)}),e.jsx(He,{variant:"secondary",className:`text-xs ${t.color}`,children:t.text})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[h&&e.jsx(x,{size:"sm",variant:"ghost",onClick:()=>$s(s),className:"h-6 w-6 p-0",children:e.jsx(lt,{className:"h-3 w-3"})}),e.jsx("span",{className:"text-xs text-gray-500",children:It(s.duration)})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsx("span",{children:s.assistant_name||"Unknown Assistant"}),e.jsx("span",{children:Lt(s.cost)})]})]},s.call_id)}),ts>10&&e.jsx("div",{className:"text-center pt-4",children:e.jsx(x,{variant:"outline",size:"sm",onClick:()=>ss(s=>s+1),disabled:_e.length>=ts,children:"Load More"})})]})}),e.jsx(Be,{value:"chats",className:"mt-4",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ds,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No chat history"})]})})]})})]})})]}):e.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ve,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Select a contact to view details"})]})})})]}),e.jsx(gs,{open:xe,onOpenChange:_,children:e.jsxs(ps,{className:"sm:max-w-md",children:[e.jsx(Ns,{children:e.jsxs(js,{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-red-100 flex items-center justify-center",children:e.jsx(nt,{className:"w-4 h-4 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Insufficient Credits"}),e.jsx("p",{className:"text-sm text-gray-500 font-normal",children:"You need credits to create contact lists"})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Current Balance:"}),e.jsxs("span",{className:"font-semibold",children:[bs," credits"]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Required:"}),e.jsx("span",{className:"font-semibold text-red-600",children:"1 credit minimum"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(x,{variant:"outline",onClick:()=>_(!1),className:"flex-1",children:"Cancel"}),e.jsx(x,{onClick:()=>{_(!1),window.location.href="/credits"},className:"flex-1 bg-primary hover:bg-primary/90",children:"Buy Credits"})]})]})]})}),e.jsx(Bt,{open:me,onOpenChange:s=>{q(s),s||ls()},children:e.jsx(Ot,{size:"half",children:e.jsx(ha,{})})}),e.jsx(la,{open:!!w,onOpenChange:()=>ke(null),children:e.jsxs(na,{children:[e.jsxs(ca,{children:[e.jsx(ia,{children:"Remove Contact from List"}),e.jsxs(oa,{children:['Are you sure you want to remove "',(w==null?void 0:w.fullName)||(w==null?void 0:w.email),'" from this list? This action cannot be undone.']})]}),e.jsxs(da,{children:[e.jsx(ma,{children:"Cancel"}),e.jsx(xa,{onClick:Ks,className:"bg-red-600 hover:bg-red-700",children:"Remove Contact"})]})]})}),Cs&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-sm mx-auto overflow-hidden",children:[e.jsx("div",{className:`px-6 py-4 text-white ${D?"bg-green-600":"bg-primary"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),D?"Active Call":"Make Call"]}),!D&&e.jsx("button",{onClick:()=>J(!1),className:"text-white hover:text-gray-200 transition-colors text-2xl leading-none",children:"Ã—"}),D&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ct,{className:"h-4 w-4"}),Ws(ks)]})]})}),e.jsx("div",{className:"px-6 py-6 bg-white",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-16 h-16 border-2 border-gray-300 rounded-full flex items-center justify-center shadow-sm ${D?"bg-green-500 animate-pulse":"bg-green-500"}`,children:e.jsx(it,{className:"h-8 w-8 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"rounded px-3 mb-2 bg-gray-50 flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Name"}),e.jsx("p",{className:"font-medium text-gray-900",children:N==null?void 0:N.fullName})]}),e.jsxs("div",{className:"rounded px-3 bg-gray-50 flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Number"}),e.jsx("p",{className:"font-medium text-gray-900",children:N==null?void 0:N.phoneNumber})]}),D&&e.jsx("div",{className:"mt-2 text-center",children:e.jsx("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-medium ${T?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:T?"On Hold":"Connected"})})]})]})}),!D&&e.jsxs("div",{className:"px-6 py-4 space-y-4 bg-white border-t border-gray-200",children:[e.jsx("div",{className:"border border-gray-300 rounded-lg bg-gray-50",children:e.jsxs("select",{value:M,onChange:s=>Se(s.target.value),className:"w-full bg-transparent text-gray-900 px-4 py-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent appearance-none",children:[e.jsx("option",{value:"",children:"Agent"}),$.map(s=>e.jsx("option",{value:s.assistant_id||s.id,children:s.name||s.id},s.id))]})}),e.jsx("div",{className:"border border-gray-300 rounded-lg bg-gray-50",children:e.jsxs("select",{value:z,onChange:s=>Ae(s.target.value),className:"w-full bg-transparent text-gray-900 px-4 py-4 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent appearance-none",children:[e.jsx("option",{value:"",children:"From Number"}),Je.map(s=>e.jsx("option",{value:s.id,children:s.number||s.friendlyName},s.id))]})})]}),e.jsx("div",{className:"px-6 py-6 bg-white border-t border-gray-200",children:D?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-6",children:[e.jsx("button",{onClick:Os,className:`w-16 h-16 rounded-full flex items-center justify-center transition-all ${K?"bg-red-500 hover:bg-red-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:K?e.jsx(ot,{className:"h-6 w-6"}):e.jsx(dt,{className:"h-6 w-6"})}),e.jsx("button",{onClick:Gs,className:"w-20 h-20 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center transition-colors shadow-lg",children:e.jsx(mt,{className:"h-8 w-8"})}),e.jsx("button",{onClick:Vs,className:`w-16 h-16 rounded-full flex items-center justify-center transition-all ${T?"bg-yellow-500 hover:bg-yellow-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:T?e.jsx(xt,{className:"h-6 w-6"}):e.jsx(ut,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-6 text-xs text-gray-500",children:[e.jsx("span",{className:"w-16 text-center",children:K?"Unmute":"Mute"}),e.jsx("span",{className:"w-20 text-center",children:"End Call"}),e.jsx("span",{className:"w-16 text-center",children:T?"Resume":"Hold"})]})]}):e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx("button",{onClick:()=>J(!1),className:"flex-1 py-3 px-6 bg-red-700 text-white hover:bg-red-800 rounded-full font-medium transition-colors",children:"Cancel"}),e.jsx("button",{onClick:Bs,disabled:!M||!z||Ke,className:"flex-1 py-3 bg-green-700 hover:bg-green-800 text-white px-6 rounded-full font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:Ke?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin mr-2"}),"Calling..."]}):"Call"})]})})]})}),e.jsx(Ft,{call:Ds,isOpen:Ps,onClose:()=>{rs(!1),as(null)}})]})};export{Wa as default};
//# sourceMappingURL=Lists-COB6k5rY.js.map
