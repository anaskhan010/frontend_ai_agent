import{j as e,O as X,aQ as Y,b_ as Z,bh as ee,S as ae,bv as M,x as F,y as E}from"./ui-S570Xcny.js";import{r as i}from"./vendor-DG599jyl.js";import{P as I}from"./Page-BJWqKr2O.js";import{u as se,t as x,d as L}from"./index-Dlzy9K_J.js";import{a as T,b as re}from"./userService-CqVlSYvm.js";import{B as g}from"./button-BSd9MMPp.js";import{I as p}from"./input-jxB46izN.js";import{L as y}from"./label-C1-UM1F-.js";import{B as P}from"./badge-ij7fArnn.js";import{A as te,b as ne,a as ie}from"./avatar-Cwu0Oo_-.js";import{C as le}from"./CreditBalance-C6G4XNDb.js";import"./scroll-area-C-pzVjaj.js";import"./index-BHBJ6RT-.js";import"./index-CWMUKvWL.js";import"./router-BavLd_S0.js";import"./query-Cab5P5bd.js";import"./card-DMfGhRm1.js";import"./PurchaseCreditsModal-CPxI1_BG.js";import"./dialog-Cc2g-8Kh.js";import"./react-stripe.esm-DpsyRb7I.js";import"./index-BET1hbAS.js";const Ce=()=>{const{user:n}=se(),[s,j]=i.useState(null),[u,B]=i.useState(!1),[H,D]=i.useState(!0),[w,N]=i.useState(!1),[l,v]=i.useState("profile"),[h,b]=i.useState({first_name:"",last_name:"",username:"",email:"",phone_number:""}),[o,f]=i.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[A,R]=i.useState(!1),[S,W]=i.useState(!1),[C,z]=i.useState(!1);i.useEffect(()=>{O()},[n]);const O=async()=>{try{if(D(!0),n&&typeof n=="object"&&n!==null){let a={...n,phone_number:n.phone_number||"",created_at:n.created_at||"",last_login:n.last_login||""};try{const r=await T();r&&r.id===n.id&&(a={...a,roles:r.roles,role:r.role,permissions:r.permissions,pagePermissions:r.pagePermissions,created_at:r.created_at||a.created_at,updated_at:r.updated_at,last_login:r.last_login||a.last_login})}catch(r){console.warn("Could not fetch additional role data from API:",r)}j(a),b({first_name:a.first_name||(a.name?a.name.split(" ")[0]:""),last_name:a.last_name||(a.name?a.name.split(" ").slice(1).join(" "):""),username:a.username||"",email:a.email||"",phone_number:a.phone_number||""})}else{const a=await T();a&&(j(a),b({first_name:a.first_name||(a.name?a.name.split(" ")[0]:""),last_name:a.last_name||(a.name?a.name.split(" ").slice(1).join(" "):""),username:a.username||"",email:a.email||"",phone_number:a.phone_number||""}))}}catch(a){if(console.error("Error fetching user profile:",a),n&&typeof n=="object"&&n!==null){const r={...n,phone_number:n.phone_number||"",created_at:n.created_at||"",last_login:n.last_login||""};j(r),b({first_name:r.first_name||(r.name?r.name.split(" ")[0]:""),last_name:r.last_name||(r.name?r.name.split(" ").slice(1).join(" "):""),username:r.username||"",email:r.email||"",phone_number:r.phone_number||""})}}finally{D(!1)}},k=(a,r)=>{b(d=>({...d,[a]:r}))},V=async()=>{if(s)try{N(!0);const a=await re({id:s.id,...h});a&&(j(a),B(!1),x.success("Profile updated successfully!"))}catch(a){console.error("Error updating profile:",a),x.error("Failed to update profile")}finally{N(!1)}},Q=async()=>{var a,r,d;if(!o.currentPassword||!o.newPassword||!o.confirmPassword){x.error("Please fill in all password fields");return}if(o.newPassword!==o.confirmPassword){x.error("New passwords do not match");return}if(o.newPassword.length<6){x.error("New password must be at least 6 characters long");return}try{N(!0),(await L.post("/api/auth/change-password",{currentPassword:o.currentPassword,newPassword:o.newPassword})).data.success&&(x.success("Password changed successfully!"),f({currentPassword:"",newPassword:"",confirmPassword:""}))}catch(m){console.error("Error changing password:",m),((a=m.response)==null?void 0:a.status)===404?x.error("Password change functionality is not yet implemented"):x.error(((d=(r=m.response)==null?void 0:r.data)==null?void 0:d.message)||"Failed to change password")}finally{N(!1)}},q=()=>{if(s!=null&&s.first_name&&(s!=null&&s.last_name))return`${s.first_name.charAt(0)}${s.last_name.charAt(0)}`.toUpperCase();if(s!=null&&s.name){const a=s.name.split(" ");return a.length>=2?`${a[0].charAt(0)}${a[1].charAt(0)}`.toUpperCase():s.name.charAt(0).toUpperCase()}else{if(s!=null&&s.username)return s.username.charAt(0).toUpperCase();if(s!=null&&s.email)return s.email.charAt(0).toUpperCase()}return"U"},$=()=>s!=null&&s.first_name&&(s!=null&&s.last_name)?`${s.first_name} ${s.last_name}`:s!=null&&s.name?s.name:s!=null&&s.username?s.username:"User",G=a=>{if(console.log("ðŸ” getRoleDisplayName - user data:",{is_super_admin:a==null?void 0:a.is_super_admin,isSuperAdmin:a==null?void 0:a.isSuperAdmin,role_id:a==null?void 0:a.role_id,roles:a==null?void 0:a.roles,role:a==null?void 0:a.role}),a!=null&&a.is_super_admin||a!=null&&a.isSuperAdmin||(a==null?void 0:a.role_id)===1)return console.log("âœ… Detected as Super Administrator"),"Super Administrator";if(a!=null&&a.roles&&a.roles.length>0){const r=a.roles.map(d=>d.display_name).join(", ");return console.log("âœ… Using roles array:",r),r}if(a!=null&&a.role&&a.role.display_name)return console.log("âœ… Using primary role:",a.role.display_name),a.role.display_name;if(a!=null&&a.role_id){const d={1:"Super Administrator",2:"Administrator",3:"Manager",4:"User"}[a.role_id]||"User";return console.log("âœ… Using role_id mapping:",a.role_id,"â†’",d),d}return console.log("âš ï¸ Falling back to default 'User' role"),"User"},J=()=>{const[a,r]=i.useState([]),[d,m]=i.useState(!0);i.useEffect(()=>{U()},[]);const U=async()=>{try{m(!0);const t=n!=null&&n.isSuperAdmin?"/api/credits/admin/transactions":"/api/credits/transactions",c=await L.get(t);console.log("Transaction API Response:",c.data);let _=[];c.data.data&&(Array.isArray(c.data.data.transactions)?_=c.data.data.transactions:Array.isArray(c.data.data)&&(_=c.data.data)),console.log("Processed transaction data:",_),r(_)}catch(t){console.error("Error fetching transactions:",t),x.error("Failed to load transaction history"),r([])}finally{m(!1)}};return d?e.jsx("div",{className:"text-center py-8",children:"Loading transaction history..."}):a.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No transactions found"}):e.jsx("div",{className:"space-y-4",children:Array.isArray(a)&&a.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${t.type==="purchase"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:t.type==="purchase"?"+":"-"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t.description||`${t.type} transaction`}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("p",{children:new Date(t.created_at).toLocaleDateString()}),(n==null?void 0:n.isSuperAdmin)&&t.user_email&&e.jsxs("p",{children:["User: ",t.user_email]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`font-semibold ${t.type==="purchase"?"text-green-600":"text-red-600"}`,children:[t.type==="purchase"?"+":"-",Math.abs(t.amount)," credits"]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Balance: ",t.balance_after]})]})]},t.id))})},K=()=>{const[a,r]=i.useState([]),[d,m]=i.useState(!0);i.useEffect(()=>{U()},[]);const U=async()=>{try{m(!0);const t=await L.get("/api/credits/admin/users");console.log("Users Credits API Response:",t.data);let c=[];t.data.data&&(Array.isArray(t.data.data.users)?c=t.data.data.users:Array.isArray(t.data.data)&&(c=t.data.data)),console.log("Processed users data:",c),r(c)}catch(t){console.error("Error fetching all users credits:",t),x.error("Failed to load users billing information"),r([])}finally{m(!1)}};return d?e.jsx("div",{className:"text-center py-8",children:"Loading users billing information..."}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"All Users Plans & Billing"}),e.jsx("div",{className:"space-y-4",children:a.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No users found"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 dark:text-white",children:"User"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900 dark:text-white",children:"Email"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-900 dark:text-white",children:"Total Credits"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-900 dark:text-white",children:"Used Credits"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-900 dark:text-white",children:"Available"}),e.jsx("th",{className:"text-center py-3 px-4 font-medium text-gray-900 dark:text-white",children:"Status"})]})}),e.jsx("tbody",{children:Array.isArray(a)&&a.map(t=>e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[t.first_name," ",t.last_name]})}),e.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:t.email}),e.jsx("td",{className:"py-3 px-4 text-right text-gray-900 dark:text-white",children:parseFloat(t.total_credits||0).toFixed(2)}),e.jsx("td",{className:"py-3 px-4 text-right text-gray-600 dark:text-gray-400",children:parseFloat(t.used_credits||0).toFixed(2)}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsx("span",{className:`font-medium ${parseFloat(t.available_credits||0)<=10?"text-red-600":"text-green-600"}`,children:parseFloat(t.available_credits||0).toFixed(2)})}),e.jsx("td",{className:"py-3 px-4 text-center",children:e.jsx(P,{variant:parseFloat(t.available_credits||0)<=0?"destructive":parseFloat(t.available_credits||0)<=10?"secondary":"default",children:parseFloat(t.available_credits||0)<=0?"No Credits":parseFloat(t.available_credits||0)<=10?"Low Credits":"Active"})})]},t.user_id))})]})})})]})};return H?e.jsx(I,{children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):e.jsx(I,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-74 bg-white-900 border border-gray-200 dark:bg-gray-900 min-h-screen",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[e.jsx(X,{className:"h-6 w-6 text-black"}),e.jsx("h1",{className:"text-xl font-semibold text-black",children:"Settings"})]}),e.jsxs("nav",{className:"space-y-2",children:[e.jsxs("div",{className:`p-3 flex items-center justify-between rounded-lg cursor-pointer transition-colors ${l==="profile"?"bg-primary dark:bg-gray-800 text-white font-medium":"text-black hover:text-white hover:bg-primary/90 dark:hover:bg-primary/90"}`,onClick:()=>v("profile"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Y,{className:"w-4 h-4"}),e.jsx("span",{children:"My Profile"})]}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsxs("div",{className:`p-3 flex items-center justify-between rounded-lg cursor-pointer transition-colors ${l==="billing"?"bg-primary dark:bg-gray-800 text-white font-medium":"text-black hover:text-white hover:bg-primary/90 dark:hover:bg-primary/90"}`,onClick:()=>v("billing"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Z,{className:"w-4 h-4"}),e.jsx("span",{children:"Plan & Billing"})]}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsxs("div",{className:`p-3 flex items-center justify-between rounded-lg cursor-pointer transition-colors ${l==="transactions"?"bg-primary dark:bg-gray-800 text-white font-medium":"text-black hover:text-white hover:bg-primary/90 dark:hover:bg-primary/90"}`,onClick:()=>v("transactions"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ee,{className:"w-4 h-4"}),e.jsx("span",{children:"Transaction History"})]}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsxs("div",{className:`p-3 flex items-center justify-between rounded-lg cursor-pointer transition-colors ${l==="security"?"bg-primary dark:bg-gray-800 text-white font-medium":"text-black hover:text-white hover:bg-primary/90 dark:hover:bg-primary/90"}`,onClick:()=>v("security"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ae,{className:"w-4 h-4"}),e.jsx("span",{children:"Security"})]}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("span",{children:"Account"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),e.jsxs("span",{className:"text-gray-900 dark:text-white font-medium",children:[l==="profile"&&"Profile",l==="billing"&&"Plan & Billing",l==="transactions"&&"Transaction History",l==="security"&&"Security"]})]})}),e.jsx("div",{className:"mb-8",children:e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:[l==="profile"&&"My Profile",l==="billing"&&"Plan & Billing",l==="transactions"&&"Transaction History",l==="security"&&"Security Settings"]})}),l==="profile"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gray-800 dark:bg-gray-900 rounded-lg p-6 mb-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/20 to-purple-600/20"}),e.jsx("div",{className:"relative flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(te,{className:"h-16 w-16 border-2 border-white/20",children:[e.jsx(ne,{src:"",alt:$()}),e.jsx(ie,{className:"bg-green-500 text-white text-lg font-semibold",children:q()})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:$()}),e.jsx("p",{className:"text-gray-300 text-sm mb-2",children:s==null?void 0:s.email}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{className:"bg-white/20 text-white border-white/30",children:G(s)}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),e.jsx("span",{className:"text-green-400 text-sm font-medium",children:"Active"})]})]})]})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Personal Information"})})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"first_name",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"First Name"}),u?e.jsx(p,{id:"first_name",value:h.first_name,onChange:a=>k("first_name",a.target.value),placeholder:"Enter your first name"}):e.jsx("div",{className:"text-gray-900 dark:text-white font-medium",children:h.first_name||"N/A"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"last_name",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Last Name"}),u?e.jsx(p,{id:"last_name",value:h.last_name,onChange:a=>k("last_name",a.target.value),placeholder:"Enter your last name"}):e.jsx("div",{className:"text-gray-900 dark:text-white font-medium",children:h.last_name||"N/A"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"email",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),u?e.jsx(p,{id:"email",type:"email",value:h.email,onChange:a=>k("email",a.target.value),placeholder:"Enter your email address"}):e.jsx("div",{className:"text-gray-900 dark:text-white font-medium",children:h.email||"N/A"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"phone_number",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Cell Phone"}),u?e.jsx(p,{id:"phone_number",value:h.phone_number,onChange:a=>k("phone_number",a.target.value),placeholder:"Enter your phone number"}):e.jsx("div",{className:"text-gray-900 dark:text-white font-medium",children:h.phone_number||"N/A"})]})]}),u&&e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(g,{variant:"outline",onClick:()=>{B(!1);const a=(s==null?void 0:s.first_name)||(s!=null&&s.name?s.name.split(" ")[0]:""),r=(s==null?void 0:s.last_name)||(s!=null&&s.name?s.name.split(" ").slice(1).join(" "):"");b({first_name:a,last_name:r,username:(s==null?void 0:s.username)||"",email:(s==null?void 0:s.email)||"",phone_number:(s==null?void 0:s.phone_number)||""})},children:"Cancel"}),e.jsxs(g,{onClick:V,disabled:w,children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),w?"Saving...":"Save Changes"]})]})]})]})]}),l==="billing"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Current Plan & Credits"}),e.jsx(le,{showPurchaseButton:!0,compact:!1,showUsageButton:!0})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Plan Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Plan Type"}),e.jsx(P,{variant:"default",children:n!=null&&n.isSuperAdmin?"Super Admin (Unlimited)":"Credit-Based Plan"})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Status"}),e.jsx(P,{variant:"outline",className:"text-green-600 border-green-600",children:"Active"})]}),(n==null?void 0:n.isSuperAdmin)&&e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Access Level"}),e.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Unlimited Access to All Features"})]})]})]}),(n==null?void 0:n.isSuperAdmin)&&e.jsx(K,{})]}),l==="transactions"&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Transaction History"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:n!=null&&n.isSuperAdmin?"View all users credit transactions and purchases":"View all your credit transactions and purchases"})]}),e.jsx("div",{className:"p-6",children:e.jsx(J,{})})]}),l==="security"&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Security Settings"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:"Manage your account security and password"})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"space-y-6 bg-white dark:bg-gray-900 p-6 rounded-2xl shadow-md",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"currentPassword",className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(p,{id:"currentPassword",type:A?"text":"password",value:o.currentPassword,onChange:a=>f(r=>({...r,currentPassword:a.target.value})),placeholder:"Enter your current password",className:`
    w-full
    rounded-md
    border
    border-gray-300
    dark:border-gray-600
    bg-transparent
    px-3 py-2
    text-sm
    text-gray-900 dark:text-gray-100
    placeholder-gray-400
    focus:border-indigo-500
    focus:ring-1
    focus:ring-indigo-500
    transition
    duration-200
  `}),e.jsx(g,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-indigo-500",onClick:()=>R(!A),children:A?e.jsx(F,{className:"h-4 w-4"}):e.jsx(E,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"newPassword",className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(p,{id:"newPassword",type:S?"text":"password",value:o.newPassword,onChange:a=>f(r=>({...r,newPassword:a.target.value})),placeholder:"Enter your new password",className:"pr-10 rounded-lg border-gray-300 dark:border-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),e.jsx(g,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-indigo-500",onClick:()=>W(!S),children:S?e.jsx(F,{className:"h-4 w-4"}):e.jsx(E,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"confirmPassword",className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(p,{id:"confirmPassword",type:C?"text":"password",value:o.confirmPassword,onChange:a=>f(r=>({...r,confirmPassword:a.target.value})),placeholder:"Confirm your new password",className:"pr-10 rounded-lg border-gray-300 dark:border-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),e.jsx(g,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-indigo-500",onClick:()=>z(!C),children:C?e.jsx(F,{className:"h-4 w-4"}):e.jsx(E,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(g,{variant:"outline",className:"rounded-lg border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800",onClick:()=>f({currentPassword:"",newPassword:"",confirmPassword:""}),children:"Cancel"}),e.jsxs(g,{onClick:Q,disabled:w,className:"rounded-lg bg-indigo-600 hover:bg-indigo-700 text-white shadow-md",children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),w?"Changing...":"Change Password"]})]})]})})})]})]})]})})})};export{Ce as default};
//# sourceMappingURL=Settings-C02fZYZU.js.map
