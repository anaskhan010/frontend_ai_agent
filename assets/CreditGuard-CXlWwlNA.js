import{j as e,aE as f}from"./ui-CZ40mCLE.js";import{r as t}from"./vendor-DG599jyl.js";import{a as b,C as h,b as j}from"./index-D2HGmCxA.js";const y=({children:d,requiredCredits:s=1,feature:o="this feature",showUpgradeButton:m=!0})=>{const[r,u]=t.useState(null),[x,l]=t.useState(!0),[p,n]=t.useState(!1);t.useEffect(()=>{i();const a=()=>{i()};return window.addEventListener("creditBalanceUpdate",a),()=>{window.removeEventListener("creditBalanceUpdate",a)}},[s]);const i=async()=>{try{l(!0);const c=(await b.get("/api/credits/balance")).data.data;u(c),c.isSuperAdmin?n(!0):n(parseFloat(c.available_credits)>=s)}catch(a){console.error("Error checking credit balance:",a),n(!1)}finally{l(!1)}};return x?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):p?d:e.jsx(h,{className:"border-orange-200 bg-orange-50",children:e.jsxs(j,{className:"p-8 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:e.jsx(f,{className:"h-8 w-8 text-orange-600"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Insufficient Credits"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["You need at least ",s," credit",s>1?"s":""," to use ",o,".",r&&!r.isSuperAdmin&&e.jsxs("span",{className:"block mt-1",children:["Current balance: ",r.available_credits," credits"]})]}),m&&e.jsx("div",{className:"space-y-3",children:e.jsx("p",{className:"text-xs text-gray-500",children:"Credits are added instantly after purchase"})})]})})};export{y as C};
//# sourceMappingURL=CreditGuard-CXlWwlNA.js.map
