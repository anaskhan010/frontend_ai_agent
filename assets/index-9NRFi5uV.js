const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DashboardLayout-DMAl0DeD.js","assets/ui-D0JisYOU.js","assets/vendor-D6QveUxv.js","assets/router-jXXg-8rg.js","assets/index-DjKJqAo0.js","assets/scroll-area-0qqJ8lEY.js","assets/index-GLe5Mnqi.js","assets/tooltip-Do8j6jlR.js","assets/index-DqfjuIPD.js","assets/LogoutModal-DHiuV_F5.js","assets/CreditBalance-wqi8gAO6.js","assets/PurchaseCreditsModal-CPkWOJT4.js","assets/react-stripe.esm-H7TrQbxp.js","assets/index-B4aCQGRZ.js","assets/query-CXvbhbrr.js","assets/Login-r7K6BL4S.js","assets/index-BOLv8Y2Q.js","assets/resolvers-BDyAs6MX.js","assets/AuthCard-4dexcxRD.js","assets/Register-B46rogpI.js","assets/GmailCallback-1aHlXEYq.js","assets/GmailPopupCallback-DLdbBAfL.js","assets/FacebookPopupCallback-gDuq6pV-.js","assets/FacebookCallback-BJuyvbet.js","assets/Dashboard-BWdEyjTF.js","assets/Page-CbRGIW_l.js","assets/Header-BACMMwmO.js","assets/PieChart-ZKHhN9Go.js","assets/BarChart-CCw7VmQV.js","assets/LineChart-BjyECsBc.js","assets/KnowledgeBases-CJptN3-_.js","assets/dynamicdata-DBD5QZ1_.js","assets/ModernTable-Cn3nupNb.js","assets/table-D2v1tUEF.js","assets/sheet-Mo85OIuZ.js","assets/popover-D21OAb7Y.js","assets/radio-group-CupB72oo.js","assets/slider-DQ7gSdP_.js","assets/separator-DybKX2mU.js","assets/CustomPagination-Cmbh9e-8.js","assets/Action-NzFRBQPZ.js","assets/Contacts-DUG41PtV.js","assets/Loading-_we4eg7o.js","assets/index.esm-2IctsHce.js","assets/ChatSidebar-0f7VtxRC.js","assets/avatar-D2BkmAVY.js","assets/messagingService-DNZepe-t.js","assets/phoneNumberService-DmJgRrqZ.js","assets/CreatePhoneNumberForm-DG6IktvO.js","assets/agentService-z9O1fRXJ.js","assets/CreditGuard-Dopxmp1f.js","assets/ChatSidebar-Bbgo5x5y.css","assets/Messages-5U28KSxR.js","assets/Patients-DJ-UVvLf.js","assets/ClinicalRoles-CmyU-4-i.js","assets/clinicalRoleService-rGA0f9oF.js","assets/ClinicalDashboard-D9nwqWRP.js","assets/clinicalSiteService-DPfATl5u.js","assets/clinicalStudyService-FcvW_KFn.js","assets/clinicalUserService-BLcvq9lA.js","assets/studyParticipantService-DUIpGYiL.js","assets/ClinicalSites-CudjzyqM.js","assets/ClinicalStudies-BlVMcl-S.js","assets/ClinicalUsers-B61fHWTZ.js","assets/StudyParticipants-D6d8secX.js","assets/Lists-CGFzw4-Y.js","assets/outboundService-CbrcGKI7.js","assets/CallRecordingPlayer-b3BMXIjZ.js","assets/usePermissions-AmklbSAW.js","assets/alert-dialog-CxQcnlgL.js","assets/ListDetails-C7xaC6sh.js","assets/Campaigns-n8bT6tTs.js","assets/calendar-DvqTZ8Bm.js","assets/format-C-QuTXqM.js","assets/Recordings-CdItVzHA.js","assets/recordingService-BLvBC7ys.js","assets/RecordingDetail-BfKQ6AHS.js","assets/Support-WoNn-Mez.js","assets/supportService-DFsQUdVA.js","assets/client-KjsKJkIG.js","assets/SupportTicketDetail-D_GdPhcK.js","assets/AdminSupport-CRIqIMlr.js","assets/Agents-C8A8kFUz.js","assets/VapiStyleAgents-N0RQPC0H.js","assets/vapi-DgZiUPdj.js","assets/defaultAssistantTemplateService-B20ToO8a.js","assets/vapiProviders-vn4HR3C-.js","assets/AddAgent-BiQQtQ-z.js","assets/Models-BXcY1Ak_.js","assets/Voices-DA-W5s-N.js","assets/VoicePreviewTest-DFp3CXgR.js","assets/PhoneNumbers-kZVs8VG3.js","assets/userService-DQ5xw3jM.js","assets/OutboundCalls-BDqSLgHg.js","assets/Outbound-BSoUlCmU.js","assets/campaignService-CkLKvS-T.js","assets/CreateCampaignPage-4y9BDiBx.js","assets/Workflows-Bc7oWD-N.js","assets/skeleton-D5TGfaB_.js","assets/workflowService-DTCpWPaj.js","assets/vapiService-JwnqY2-A.js","assets/WorkflowBuilder-DY9n8X2a.js","assets/Webhooks-D1YlL8zS.js","assets/GmailOAuthModal-CmSzTKsm.js","assets/AuditLogs-DWMXiHzb.js","assets/Integrations-BZ8e6JeW.js","assets/SuperAdminDashboard-DhHqMcr0.js","assets/Roles-_YceSwpl.js","assets/checkbox-CPtWch8K.js","assets/PermissionRoute-CsiA_Pg_.js","assets/RolePermissionManagement-BfrLKW-s.js","assets/Permissions-CuQQnbhi.js","assets/DefaultAssistants-BcnNQbYN.js","assets/UserManagement-B8ZyCNI-.js","assets/CreditManagement-BLg-1AD2.js","assets/UserCreditPortal-BLus9ty2.js","assets/TestCreditsPage-CfbSMEOc.js","assets/CreditPurchasePage-Me3RIUfO.js","assets/TestPurchasePage-F_3ThWyX.js","assets/CreditDebug-Dg_58-lV.js","assets/SimpleCreditTest-B36-YwGc.js","assets/GmailDebug-Cm7YtPlS.js","assets/ModalTestPage-BJE4JdOh.js","assets/Settings-eAnBGb3V.js","assets/TestLogout-DluzZnkn.js","assets/Privacy-CHONU9J1.js","assets/Terms-6_UAROCM.js","assets/NotFound-DY19zR40.js"])))=>i.map(i=>d[i]);
var Yx=Object.defineProperty;var Xx=(e,t,s)=>t in e?Yx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var vs=(e,t,s)=>Xx(e,typeof t!="symbol"?t+"":t,s);import{j as r,M as Gc,Z as Kc,B as Ni,S as nr,W as Jx,a as Qx,u as ev,o as tv,s as nv,l as sv,f as rv,b as iv,c as ov,h as av,d as lv,e as cv,g as dv,i as uv,R as hv,F as fv,C as ch,k as mv,m as dh,n as qc,T as pv,I as gv,V as Yc,U as Ci,X as uh,p as hh,q as xv,D as da,O as fh,P as vv,r as mh,t as yv,v as ph,w as gh,x as _v,y as bv,z as xh,A as wv,E as vh,G as jv,H as yh,J as _h,K as bh,L as wh,N as jh,Q as Sv,Y as Sh,_ as Nh,$ as Nv,a0 as Cv,a1 as Oo,a2 as Tv,a3 as Xc,a4 as Pv,a5 as Jc}from"./ui-D0JisYOU.js";import{a as Ps,r as f,R as me,c as Ch,g as Ev,d as gn,b as jr,e as Lv}from"./vendor-D6QveUxv.js";import{O as Th,u as Sr,N as Av,a as Ph,b as kv,R as Rv,c as pe,H as Mv}from"./router-jXXg-8rg.js";import{u as Iv,Q as Ov,a as Dv}from"./query-CXvbhbrr.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function s(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(a){if(a.ep)return;a.ep=!0;const c=s(a);fetch(a.href,c)}})();var Eh,Qc=Ps;Eh=Qc.createRoot,Qc.hydrateRoot;const Bv="modulepreload",zv=function(e){return"/"+e},ed={},be=function(t,s,i){let a=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.allSettled(s.map(h=>{if(h=zv(h),h in ed)return;ed[h]=!0;const m=h.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":Bv,m||(x.as="script"),x.crossOrigin="",x.href=h,u&&x.setAttribute("nonce",u),document.head.appendChild(x),m)return new Promise((y,_)=>{x.addEventListener("load",y),x.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function c(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return a.then(l=>{for(const u of l||[])u.status==="rejected"&&c(u.reason);return t().catch(c)})};var Fv=(e,t,s,i,a,c,l,u)=>{let h=document.documentElement,m=["light","dark"];function g(_){(Array.isArray(e)?e:[e]).forEach(w=>{let b=w==="class",N=b&&c?a.map(T=>c[T]||T):a;b?(h.classList.remove(...N),h.classList.add(_)):h.setAttribute(w,_)}),x(_)}function x(_){u&&m.includes(_)&&(h.style.colorScheme=_)}function y(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(i)g(i);else try{let _=localStorage.getItem(t)||s,w=l&&_==="system"?y():_;g(w)}catch{}},Vv=f.createContext(void 0),$v={setTheme:e=>{},themes:[]},Uv=()=>{var e;return(e=f.useContext(Vv))!=null?e:$v};f.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:i,enableColorScheme:a,defaultTheme:c,value:l,themes:u,nonce:h,scriptProps:m})=>{let g=JSON.stringify([s,t,c,e,u,l,i,a]).slice(1,-1);return f.createElement("script",{...m,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${Fv.toString()})(${g})`}})});var Hv=e=>{switch(e){case"success":return Gv;case"info":return qv;case"warning":return Kv;case"error":return Yv;default:return null}},Wv=Array(12).fill(0),Zv=({visible:e,className:t})=>me.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},me.createElement("div",{className:"sonner-spinner"},Wv.map((s,i)=>me.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),Gv=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Kv=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),qv=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Yv=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Xv=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},me.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),me.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Jv=()=>{let[e,t]=me.useState(document.hidden);return me.useEffect(()=>{let s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e},ua=1,Qv=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:s,...i}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:ua++,c=this.toasts.find(u=>u.id===a),l=e.dismissible===void 0?!0:e.dismissible;return c?this.toasts=this.toasts.map(u=>u.id===a?(this.publish({...u,...e,id:a,title:s}),{...u,...e,id:a,dismissible:l,title:s}):u):this.addToast({title:s,...i,dismissible:l,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let i=e instanceof Promise?e:e(),a=s!==void 0,c,l=i.then(async h=>{if(c=["resolve",h],me.isValidElement(h))a=!1,this.create({id:s,type:"default",message:h});else if(ty(h)&&!h.ok){a=!1;let m=typeof t.error=="function"?await t.error(`HTTP error! status: ${h.status}`):t.error,g=typeof t.description=="function"?await t.description(`HTTP error! status: ${h.status}`):t.description;this.create({id:s,type:"error",message:m,description:g})}else if(t.success!==void 0){a=!1;let m=typeof t.success=="function"?await t.success(h):t.success,g=typeof t.description=="function"?await t.description(h):t.description;this.create({id:s,type:"success",message:m,description:g})}}).catch(async h=>{if(c=["reject",h],t.error!==void 0){a=!1;let m=typeof t.error=="function"?await t.error(h):t.error,g=typeof t.description=="function"?await t.description(h):t.description;this.create({id:s,type:"error",message:m,description:g})}}).finally(()=>{var h;a&&(this.dismiss(s),s=void 0),(h=t.finally)==null||h.call(t)}),u=()=>new Promise((h,m)=>l.then(()=>c[0]==="reject"?m(c[1]):h(c[1])).catch(m));return typeof s!="string"&&typeof s!="number"?{unwrap:u}:Object.assign(s,{unwrap:u})},this.custom=(e,t)=>{let s=(t==null?void 0:t.id)||ua++;return this.create({jsx:e(s),id:s,...t}),s},this.subscribers=[],this.toasts=[]}},Ft=new Qv,ey=(e,t)=>{let s=(t==null?void 0:t.id)||ua++;return Ft.addToast({title:e,...t,id:s}),s},ty=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",ny=ey,sy=()=>Ft.toasts,re=Object.assign(ny,{success:Ft.success,info:Ft.info,warning:Ft.warning,error:Ft.error,custom:Ft.custom,message:Ft.message,promise:Ft.promise,dismiss:Ft.dismiss,loading:Ft.loading},{getHistory:sy});function ry(e,{insertAt:t}={}){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t==="top"&&s.firstChild?s.insertBefore(i,s.firstChild):s.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}ry(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ci(e){return e.label!==void 0}var iy=3,oy="32px",td=4e3,ay=356,ly=14,cy=20,dy=200;function uy(...e){return e.filter(Boolean).join(" ")}var hy=e=>{var t,s,i,a,c,l,u,h,m,g,x;let{invert:y,toast:_,unstyled:w,interacting:b,setHeights:N,visibleToasts:T,heights:C,index:j,toasts:P,expanded:E,removeToast:B,defaultRichColors:V,closeButton:U,style:X,cancelButtonStyle:M,actionButtonStyle:$,className:H="",descriptionClassName:O="",duration:ee,position:de,gap:J,loadingIcon:he,expandByDefault:ne,classNames:F,icons:k,closeButtonAriaLabel:D="Close toast",pauseWhenPageIsHidden:W,cn:z}=e,[Z,ge]=me.useState(!1),[xe,ue]=me.useState(!1),[Te,ze]=me.useState(!1),[K,ie]=me.useState(!1),[le,Pe]=me.useState(!1),[Ne,Ae]=me.useState(0),[Ke,De]=me.useState(0),Oe=me.useRef(_.duration||ee||td),Ge=me.useRef(null),Be=me.useRef(null),xt=j===0,ft=j+1<=T,et=_.type,ot=_.dismissible!==!1,Tt=_.className||"",Q=_.descriptionClassName||"",_e=me.useMemo(()=>C.findIndex(te=>te.toastId===_.id)||0,[C,_.id]),Ee=me.useMemo(()=>{var te;return(te=_.closeButton)!=null?te:U},[_.closeButton,U]);me.useMemo(()=>_.duration||ee||td,[_.duration,ee]);let Ye=me.useRef(0),Qe=me.useRef(0),se=me.useRef(0),Le=me.useRef(null),[tt,st]=de.split("-"),R=me.useMemo(()=>C.reduce((te,fe,Se)=>Se>=_e?te:te+fe.height,0),[C,_e]),je=Jv(),ke=_.invert||y,I=et==="loading";Qe.current=me.useMemo(()=>_e*J+R,[_e,R]),me.useEffect(()=>{ge(!0)},[]),me.useEffect(()=>{let te=Be.current;if(te){let fe=te.getBoundingClientRect().height;return De(fe),N(Se=>[{toastId:_.id,height:fe,position:_.position},...Se]),()=>N(Se=>Se.filter(qe=>qe.toastId!==_.id))}},[N,_.id]),me.useLayoutEffect(()=>{if(!Z)return;let te=Be.current,fe=te.style.height;te.style.height="auto";let Se=te.getBoundingClientRect().height;te.style.height=fe,De(Se),N(qe=>qe.find(nt=>nt.toastId===_.id)?qe.map(nt=>nt.toastId===_.id?{...nt,height:Se}:nt):[{toastId:_.id,height:Se,position:_.position},...qe])},[Z,_.title,_.description,N,_.id]);let ce=me.useCallback(()=>{ue(!0),Ae(Qe.current),N(te=>te.filter(fe=>fe.toastId!==_.id)),setTimeout(()=>{B(_)},dy)},[_,B,N,Qe]);me.useEffect(()=>{if(_.promise&&et==="loading"||_.duration===1/0||_.type==="loading")return;let te;return E||b||W&&je?(()=>{if(se.current<Ye.current){let fe=new Date().getTime()-Ye.current;Oe.current=Oe.current-fe}se.current=new Date().getTime()})():Oe.current!==1/0&&(Ye.current=new Date().getTime(),te=setTimeout(()=>{var fe;(fe=_.onAutoClose)==null||fe.call(_,_),ce()},Oe.current)),()=>clearTimeout(te)},[E,b,_,et,W,je,ce]),me.useEffect(()=>{_.delete&&ce()},[ce,_.delete]);function ae(){var te,fe,Se;return k!=null&&k.loading?me.createElement("div",{className:z(F==null?void 0:F.loader,(te=_==null?void 0:_.classNames)==null?void 0:te.loader,"sonner-loader"),"data-visible":et==="loading"},k.loading):he?me.createElement("div",{className:z(F==null?void 0:F.loader,(fe=_==null?void 0:_.classNames)==null?void 0:fe.loader,"sonner-loader"),"data-visible":et==="loading"},he):me.createElement(Zv,{className:z(F==null?void 0:F.loader,(Se=_==null?void 0:_.classNames)==null?void 0:Se.loader),visible:et==="loading"})}return me.createElement("li",{tabIndex:0,ref:Be,className:z(H,Tt,F==null?void 0:F.toast,(t=_==null?void 0:_.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[et],(s=_==null?void 0:_.classNames)==null?void 0:s[et]),"data-sonner-toast":"","data-rich-colors":(i=_.richColors)!=null?i:V,"data-styled":!(_.jsx||_.unstyled||w),"data-mounted":Z,"data-promise":!!_.promise,"data-swiped":le,"data-removed":xe,"data-visible":ft,"data-y-position":tt,"data-x-position":st,"data-index":j,"data-front":xt,"data-swiping":Te,"data-dismissible":ot,"data-type":et,"data-invert":ke,"data-swipe-out":K,"data-expanded":!!(E||ne&&Z),style:{"--index":j,"--toasts-before":j,"--z-index":P.length-j,"--offset":`${xe?Ne:Qe.current}px`,"--initial-height":ne?"auto":`${Ke}px`,...X,..._.style},onPointerDown:te=>{I||!ot||(Ge.current=new Date,Ae(Qe.current),te.target.setPointerCapture(te.pointerId),te.target.tagName!=="BUTTON"&&(ze(!0),Le.current={x:te.clientX,y:te.clientY}))},onPointerUp:()=>{var te,fe,Se,qe;if(K||!ot)return;Le.current=null;let nt=Number(((te=Be.current)==null?void 0:te.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Xt=new Date().getTime()-((fe=Ge.current)==null?void 0:fe.getTime()),as=Math.abs(nt)/Xt;if(Math.abs(nt)>=cy||as>.11){Ae(Qe.current),(Se=_.onDismiss)==null||Se.call(_,_),ce(),ie(!0),Pe(!1);return}(qe=Be.current)==null||qe.style.setProperty("--swipe-amount","0px"),ze(!1)},onPointerMove:te=>{var fe,Se,qe;if(!Le.current||!ot)return;let nt=te.clientY-Le.current.y,Xt=((fe=window.getSelection())==null?void 0:fe.toString().length)>0;Number(((Se=Be.current)==null?void 0:Se.style.getPropertyValue("--swipe-amount").replace("px",""))||0)>0&&Pe(!0),!Xt&&((qe=Be.current)==null||qe.style.setProperty("--swipe-amount",`${Math.max(0,nt)}px`))}},Ee&&!_.jsx?me.createElement("button",{"aria-label":D,"data-disabled":I,"data-close-button":!0,onClick:I||!ot?()=>{}:()=>{var te;ce(),(te=_.onDismiss)==null||te.call(_,_)},className:z(F==null?void 0:F.closeButton,(a=_==null?void 0:_.classNames)==null?void 0:a.closeButton)},(c=k==null?void 0:k.close)!=null?c:Xv):null,_.jsx||me.isValidElement(_.title)?_.jsx?_.jsx:typeof _.title=="function"?_.title():_.title:me.createElement(me.Fragment,null,et||_.icon||_.promise?me.createElement("div",{"data-icon":"",className:z(F==null?void 0:F.icon,(l=_==null?void 0:_.classNames)==null?void 0:l.icon)},_.promise||_.type==="loading"&&!_.icon?_.icon||ae():null,_.type!=="loading"?_.icon||(k==null?void 0:k[et])||Hv(et):null):null,me.createElement("div",{"data-content":"",className:z(F==null?void 0:F.content,(u=_==null?void 0:_.classNames)==null?void 0:u.content)},me.createElement("div",{"data-title":"",className:z(F==null?void 0:F.title,(h=_==null?void 0:_.classNames)==null?void 0:h.title)},typeof _.title=="function"?_.title():_.title),_.description?me.createElement("div",{"data-description":"",className:z(O,Q,F==null?void 0:F.description,(m=_==null?void 0:_.classNames)==null?void 0:m.description)},typeof _.description=="function"?_.description():_.description):null),me.isValidElement(_.cancel)?_.cancel:_.cancel&&ci(_.cancel)?me.createElement("button",{"data-button":!0,"data-cancel":!0,style:_.cancelButtonStyle||M,onClick:te=>{var fe,Se;ci(_.cancel)&&ot&&((Se=(fe=_.cancel).onClick)==null||Se.call(fe,te),ce())},className:z(F==null?void 0:F.cancelButton,(g=_==null?void 0:_.classNames)==null?void 0:g.cancelButton)},_.cancel.label):null,me.isValidElement(_.action)?_.action:_.action&&ci(_.action)?me.createElement("button",{"data-button":!0,"data-action":!0,style:_.actionButtonStyle||$,onClick:te=>{var fe,Se;ci(_.action)&&((Se=(fe=_.action).onClick)==null||Se.call(fe,te),!te.defaultPrevented&&ce())},className:z(F==null?void 0:F.actionButton,(x=_==null?void 0:_.classNames)==null?void 0:x.actionButton)},_.action.label):null))};function nd(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var fy=f.forwardRef(function(e,t){let{invert:s,position:i="bottom-right",hotkey:a=["altKey","KeyT"],expand:c,closeButton:l,className:u,offset:h,theme:m="light",richColors:g,duration:x,style:y,visibleToasts:_=iy,toastOptions:w,dir:b=nd(),gap:N=ly,loadingIcon:T,icons:C,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:P,cn:E=uy}=e,[B,V]=me.useState([]),U=me.useMemo(()=>Array.from(new Set([i].concat(B.filter(W=>W.position).map(W=>W.position)))),[B,i]),[X,M]=me.useState([]),[$,H]=me.useState(!1),[O,ee]=me.useState(!1),[de,J]=me.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),he=me.useRef(null),ne=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=me.useRef(null),k=me.useRef(!1),D=me.useCallback(W=>{V(z=>{var Z;return(Z=z.find(ge=>ge.id===W.id))!=null&&Z.delete||Ft.dismiss(W.id),z.filter(({id:ge})=>ge!==W.id)})},[]);return me.useEffect(()=>Ft.subscribe(W=>{if(W.dismiss){V(z=>z.map(Z=>Z.id===W.id?{...Z,delete:!0}:Z));return}setTimeout(()=>{Ch.flushSync(()=>{V(z=>{let Z=z.findIndex(ge=>ge.id===W.id);return Z!==-1?[...z.slice(0,Z),{...z[Z],...W},...z.slice(Z+1)]:[W,...z]})})})}),[]),me.useEffect(()=>{if(m!=="system"){J(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:z})=>{J(z?"dark":"light")})}catch{W.addListener(({matches:Z})=>{try{J(Z?"dark":"light")}catch(ge){console.error(ge)}})}},[m]),me.useEffect(()=>{B.length<=1&&H(!1)},[B]),me.useEffect(()=>{let W=z=>{var Z,ge;a.every(xe=>z[xe]||z.code===xe)&&(H(!0),(Z=he.current)==null||Z.focus()),z.code==="Escape"&&(document.activeElement===he.current||(ge=he.current)!=null&&ge.contains(document.activeElement))&&H(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[a]),me.useEffect(()=>{if(he.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,k.current=!1)}},[he.current]),me.createElement("section",{"aria-label":`${j} ${ne}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false"},U.map((W,z)=>{var Z;let[ge,xe]=W.split("-");return B.length?me.createElement("ol",{key:W,dir:b==="auto"?nd():b,tabIndex:-1,ref:he,className:u,"data-sonner-toaster":!0,"data-theme":de,"data-y-position":ge,"data-lifted":$&&B.length>1&&!c,"data-x-position":xe,style:{"--front-toast-height":`${((Z=X[0])==null?void 0:Z.height)||0}px`,"--offset":typeof h=="number"?`${h}px`:h||oy,"--width":`${ay}px`,"--gap":`${N}px`,...y},onBlur:ue=>{k.current&&!ue.currentTarget.contains(ue.relatedTarget)&&(k.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||k.current||(k.current=!0,F.current=ue.relatedTarget)},onMouseEnter:()=>H(!0),onMouseMove:()=>H(!0),onMouseLeave:()=>{O||H(!1)},onPointerDown:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||ee(!0)},onPointerUp:()=>ee(!1)},B.filter(ue=>!ue.position&&z===0||ue.position===W).map((ue,Te)=>{var ze,K;return me.createElement(hy,{key:ue.id,icons:C,index:Te,toast:ue,defaultRichColors:g,duration:(ze=w==null?void 0:w.duration)!=null?ze:x,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:s,visibleToasts:_,closeButton:(K=w==null?void 0:w.closeButton)!=null?K:l,interacting:O,position:W,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:D,toasts:B.filter(ie=>ie.position==ue.position),heights:X.filter(ie=>ie.position==ue.position),setHeights:M,expandByDefault:c,gap:N,loadingIcon:T,expanded:$,pauseWhenPageIsHidden:P,cn:E})})):null}))});const my=({...e})=>{const{theme:t="system"}=Uv();return r.jsx(fy,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},Lh=f.createContext({});function py(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}const rl=typeof window<"u",gy=rl?f.useLayoutEffect:f.useEffect,il=f.createContext(null),Ah=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function xy(e=!0){const t=f.useContext(il);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:i,register:a}=t,c=f.useId();f.useEffect(()=>{if(e)return a(c)},[e]);const l=f.useCallback(()=>e&&i&&i(c),[c,i,e]);return!s&&i?[!1,l]:[!0]}function ol(e,t){e.indexOf(t)===-1&&e.push(t)}function al(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const Sn=(e,t,s)=>s>t?t:s<e?e:s;let Ti=()=>{};const Nn={},kh=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Rh=e=>/^0[^.\s]+$/u.test(e);function ll(e){let t;return()=>(t===void 0&&(t=e()),t)}const Yt=e=>e,vy=(e,t)=>s=>t(e(s)),Nr=(...e)=>e.reduce(vy),pr=(e,t,s)=>{const i=t-e;return i===0?1:(s-e)/i};class cl{constructor(){this.subscriptions=[]}add(t){return ol(this.subscriptions,t),()=>al(this.subscriptions,t)}notify(t,s,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,s,i);else for(let c=0;c<a;c++){const l=this.subscriptions[c];l&&l(t,s,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const hn=e=>e*1e3,fn=e=>e/1e3;function Mh(e,t){return t?e*(1e3/t):0}const Ih=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,yy=1e-7,_y=12;function by(e,t,s,i,a){let c,l,u=0;do l=t+(s-t)/2,c=Ih(l,i,a)-e,c>0?s=l:t=l;while(Math.abs(c)>yy&&++u<_y);return l}function Cr(e,t,s,i){if(e===t&&s===i)return Yt;const a=c=>by(c,0,1,e,s);return c=>c===0||c===1?c:Ih(a(c),t,i)}const Oh=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Dh=e=>t=>1-e(1-t),Bh=Cr(.33,1.53,.69,.99),dl=Dh(Bh),zh=Oh(dl),Fh=e=>(e*=2)<1?.5*dl(e):.5*(2-Math.pow(2,-10*(e-1))),ul=e=>1-Math.sin(Math.acos(e)),Vh=Dh(ul),$h=Oh(ul),wy=Cr(.42,0,1,1),jy=Cr(0,0,.58,1),Uh=Cr(.42,0,.58,1),Sy=e=>Array.isArray(e)&&typeof e[0]!="number",Hh=e=>Array.isArray(e)&&typeof e[0]=="number",sd={linear:Yt,easeIn:wy,easeInOut:Uh,easeOut:jy,circIn:ul,circInOut:$h,circOut:Vh,backIn:dl,backInOut:zh,backOut:Bh,anticipate:Fh},Ny=e=>typeof e=="string",rd=e=>{if(Hh(e)){Ti(e.length===4);const[t,s,i,a]=e;return Cr(t,s,i,a)}else if(Ny(e))return Ti(sd[e]!==void 0),sd[e];return e},di=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],id={value:null};function Cy(e,t){let s=new Set,i=new Set,a=!1,c=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},h=0;function m(x){l.has(x)&&(g.schedule(x),e()),h++,x(u)}const g={schedule:(x,y=!1,_=!1)=>{const b=_&&a?s:i;return y&&l.add(x),b.has(x)||b.add(x),x},cancel:x=>{i.delete(x),l.delete(x)},process:x=>{if(u=x,a){c=!0;return}a=!0,[s,i]=[i,s],s.forEach(m),t&&id.value&&id.value.frameloop[t].push(h),h=0,s.clear(),a=!1,c&&(c=!1,g.process(x))}};return g}const Ty=40;function Wh(e,t){let s=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},c=()=>s=!0,l=di.reduce((j,P)=>(j[P]=Cy(c,t?P:void 0),j),{}),{setup:u,read:h,resolveKeyframes:m,preUpdate:g,update:x,preRender:y,render:_,postRender:w}=l,b=()=>{const j=Nn.useManualTiming?a.timestamp:performance.now();s=!1,Nn.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(j-a.timestamp,Ty),1)),a.timestamp=j,a.isProcessing=!0,u.process(a),h.process(a),m.process(a),g.process(a),x.process(a),y.process(a),_.process(a),w.process(a),a.isProcessing=!1,s&&t&&(i=!1,e(b))},N=()=>{s=!0,i=!0,a.isProcessing||e(b)};return{schedule:di.reduce((j,P)=>{const E=l[P];return j[P]=(B,V=!1,U=!1)=>(s||N(),E.schedule(B,V,U)),j},{}),cancel:j=>{for(let P=0;P<di.length;P++)l[di[P]].cancel(j)},state:a,steps:l}}const{schedule:ut,cancel:In,state:St,steps:Do}=Wh(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yt,!0);let xi;function Py(){xi=void 0}const Rt={now:()=>(xi===void 0&&Rt.set(St.isProcessing||Nn.useManualTiming?St.timestamp:performance.now()),xi),set:e=>{xi=e,queueMicrotask(Py)}},Zh=e=>t=>typeof t=="string"&&t.startsWith(e),hl=Zh("--"),Ey=Zh("var(--"),fl=e=>Ey(e)?Ly.test(e.split("/*")[0].trim()):!1,Ly=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Es={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},gr={...Es,transform:e=>Sn(0,1,e)},ui={...Es,default:1},dr=e=>Math.round(e*1e5)/1e5,ml=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ay(e){return e==null}const ky=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pl=(e,t)=>s=>!!(typeof s=="string"&&ky.test(s)&&s.startsWith(e)||t&&!Ay(s)&&Object.prototype.hasOwnProperty.call(s,t)),Gh=(e,t,s)=>i=>{if(typeof i!="string")return i;const[a,c,l,u]=i.match(ml);return{[e]:parseFloat(a),[t]:parseFloat(c),[s]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},Ry=e=>Sn(0,255,e),Bo={...Es,transform:e=>Math.round(Ry(e))},Jn={test:pl("rgb","red"),parse:Gh("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:i=1})=>"rgba("+Bo.transform(e)+", "+Bo.transform(t)+", "+Bo.transform(s)+", "+dr(gr.transform(i))+")"};function My(e){let t="",s="",i="",a="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),i=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),i=e.substring(3,4),a=e.substring(4,5),t+=t,s+=s,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const ha={test:pl("#"),parse:My,transform:Jn.transform},Tr=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),kn=Tr("deg"),mn=Tr("%"),Me=Tr("px"),Iy=Tr("vh"),Oy=Tr("vw"),od={...mn,parse:e=>mn.parse(e)/100,transform:e=>mn.transform(e*100)},ys={test:pl("hsl","hue"),parse:Gh("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:i=1})=>"hsla("+Math.round(e)+", "+mn.transform(dr(t))+", "+mn.transform(dr(s))+", "+dr(gr.transform(i))+")"},Nt={test:e=>Jn.test(e)||ha.test(e)||ys.test(e),parse:e=>Jn.test(e)?Jn.parse(e):ys.test(e)?ys.parse(e):ha.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Jn.transform(e):ys.transform(e)},Dy=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function By(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ml))==null?void 0:t.length)||0)+(((s=e.match(Dy))==null?void 0:s.length)||0)>0}const Kh="number",qh="color",zy="var",Fy="var(",ad="${}",Vy=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xr(e){const t=e.toString(),s=[],i={color:[],number:[],var:[]},a=[];let c=0;const u=t.replace(Vy,h=>(Nt.test(h)?(i.color.push(c),a.push(qh),s.push(Nt.parse(h))):h.startsWith(Fy)?(i.var.push(c),a.push(zy),s.push(h)):(i.number.push(c),a.push(Kh),s.push(parseFloat(h))),++c,ad)).split(ad);return{values:s,split:u,indexes:i,types:a}}function Yh(e){return xr(e).values}function Xh(e){const{split:t,types:s}=xr(e),i=t.length;return a=>{let c="";for(let l=0;l<i;l++)if(c+=t[l],a[l]!==void 0){const u=s[l];u===Kh?c+=dr(a[l]):u===qh?c+=Nt.transform(a[l]):c+=a[l]}return c}}const $y=e=>typeof e=="number"?0:e;function Uy(e){const t=Yh(e);return Xh(e)(t.map($y))}const On={test:By,parse:Yh,createTransformer:Xh,getAnimatableNone:Uy};function zo(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function Hy({hue:e,saturation:t,lightness:s,alpha:i}){e/=360,t/=100,s/=100;let a=0,c=0,l=0;if(!t)a=c=l=s;else{const u=s<.5?s*(1+t):s+t-s*t,h=2*s-u;a=zo(h,u,e+1/3),c=zo(h,u,e),l=zo(h,u,e-1/3)}return{red:Math.round(a*255),green:Math.round(c*255),blue:Math.round(l*255),alpha:i}}function Pi(e,t){return s=>s>0?t:e}const dt=(e,t,s)=>e+(t-e)*s,Fo=(e,t,s)=>{const i=e*e,a=s*(t*t-i)+i;return a<0?0:Math.sqrt(a)},Wy=[ha,Jn,ys],Zy=e=>Wy.find(t=>t.test(e));function ld(e){const t=Zy(e);if(!t)return!1;let s=t.parse(e);return t===ys&&(s=Hy(s)),s}const cd=(e,t)=>{const s=ld(e),i=ld(t);if(!s||!i)return Pi(e,t);const a={...s};return c=>(a.red=Fo(s.red,i.red,c),a.green=Fo(s.green,i.green,c),a.blue=Fo(s.blue,i.blue,c),a.alpha=dt(s.alpha,i.alpha,c),Jn.transform(a))},fa=new Set(["none","hidden"]);function Gy(e,t){return fa.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function Ky(e,t){return s=>dt(e,t,s)}function gl(e){return typeof e=="number"?Ky:typeof e=="string"?fl(e)?Pi:Nt.test(e)?cd:Xy:Array.isArray(e)?Jh:typeof e=="object"?Nt.test(e)?cd:qy:Pi}function Jh(e,t){const s=[...e],i=s.length,a=e.map((c,l)=>gl(c)(c,t[l]));return c=>{for(let l=0;l<i;l++)s[l]=a[l](c);return s}}function qy(e,t){const s={...e,...t},i={};for(const a in s)e[a]!==void 0&&t[a]!==void 0&&(i[a]=gl(e[a])(e[a],t[a]));return a=>{for(const c in i)s[c]=i[c](a);return s}}function Yy(e,t){const s=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const c=t.types[a],l=e.indexes[c][i[c]],u=e.values[l]??0;s[a]=u,i[c]++}return s}const Xy=(e,t)=>{const s=On.createTransformer(t),i=xr(e),a=xr(t);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?fa.has(e)&&!a.values.length||fa.has(t)&&!i.values.length?Gy(e,t):Nr(Jh(Yy(i,a),a.values),s):Pi(e,t)};function Qh(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?dt(e,t,s):gl(e)(e,t)}const Jy=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>ut.update(t,s),stop:()=>In(t),now:()=>St.isProcessing?St.timestamp:Rt.now()}},ef=(e,t,s=10)=>{let i="";const a=Math.max(Math.round(t/s),2);for(let c=0;c<a;c++)i+=e(c/(a-1))+", ";return`linear(${i.substring(0,i.length-2)})`},Ei=2e4;function xl(e){let t=0;const s=50;let i=e.next(t);for(;!i.done&&t<Ei;)t+=s,i=e.next(t);return t>=Ei?1/0:t}function Qy(e,t=100,s){const i=s({...e,keyframes:[0,t]}),a=Math.min(xl(i),Ei);return{type:"keyframes",ease:c=>i.next(a*c).value/t,duration:fn(a)}}const e0=5;function tf(e,t,s){const i=Math.max(t-e0,0);return Mh(s-e(i),t-i)}const ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vo=.001;function t0({duration:e=ht.duration,bounce:t=ht.bounce,velocity:s=ht.velocity,mass:i=ht.mass}){let a,c,l=1-t;l=Sn(ht.minDamping,ht.maxDamping,l),e=Sn(ht.minDuration,ht.maxDuration,fn(e)),l<1?(a=m=>{const g=m*l,x=g*e,y=g-s,_=ma(m,l),w=Math.exp(-x);return Vo-y/_*w},c=m=>{const x=m*l*e,y=x*s+s,_=Math.pow(l,2)*Math.pow(m,2)*e,w=Math.exp(-x),b=ma(Math.pow(m,2),l);return(-a(m)+Vo>0?-1:1)*((y-_)*w)/b}):(a=m=>{const g=Math.exp(-m*e),x=(m-s)*e+1;return-Vo+g*x},c=m=>{const g=Math.exp(-m*e),x=(s-m)*(e*e);return g*x});const u=5/e,h=s0(a,c,u);if(e=hn(e),isNaN(h))return{stiffness:ht.stiffness,damping:ht.damping,duration:e};{const m=Math.pow(h,2)*i;return{stiffness:m,damping:l*2*Math.sqrt(i*m),duration:e}}}const n0=12;function s0(e,t,s){let i=s;for(let a=1;a<n0;a++)i=i-e(i)/t(i);return i}function ma(e,t){return e*Math.sqrt(1-t*t)}const r0=["duration","bounce"],i0=["stiffness","damping","mass"];function dd(e,t){return t.some(s=>e[s]!==void 0)}function o0(e){let t={velocity:ht.velocity,stiffness:ht.stiffness,damping:ht.damping,mass:ht.mass,isResolvedFromDuration:!1,...e};if(!dd(e,i0)&&dd(e,r0))if(e.visualDuration){const s=e.visualDuration,i=2*Math.PI/(s*1.2),a=i*i,c=2*Sn(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ht.mass,stiffness:a,damping:c}}else{const s=t0(e);t={...t,...s,mass:ht.mass},t.isResolvedFromDuration=!0}return t}function Li(e=ht.visualDuration,t=ht.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:a}=s;const c=s.keyframes[0],l=s.keyframes[s.keyframes.length-1],u={done:!1,value:c},{stiffness:h,damping:m,mass:g,duration:x,velocity:y,isResolvedFromDuration:_}=o0({...s,velocity:-fn(s.velocity||0)}),w=y||0,b=m/(2*Math.sqrt(h*g)),N=l-c,T=fn(Math.sqrt(h/g)),C=Math.abs(N)<5;i||(i=C?ht.restSpeed.granular:ht.restSpeed.default),a||(a=C?ht.restDelta.granular:ht.restDelta.default);let j;if(b<1){const E=ma(T,b);j=B=>{const V=Math.exp(-b*T*B);return l-V*((w+b*T*N)/E*Math.sin(E*B)+N*Math.cos(E*B))}}else if(b===1)j=E=>l-Math.exp(-T*E)*(N+(w+T*N)*E);else{const E=T*Math.sqrt(b*b-1);j=B=>{const V=Math.exp(-b*T*B),U=Math.min(E*B,300);return l-V*((w+b*T*N)*Math.sinh(U)+E*N*Math.cosh(U))/E}}const P={calculatedDuration:_&&x||null,next:E=>{const B=j(E);if(_)u.done=E>=x;else{let V=E===0?w:0;b<1&&(V=E===0?hn(w):tf(j,E,B));const U=Math.abs(V)<=i,X=Math.abs(l-B)<=a;u.done=U&&X}return u.value=u.done?l:B,u},toString:()=>{const E=Math.min(xl(P),Ei),B=ef(V=>P.next(E*V).value,E,30);return E+"ms "+B},toTransition:()=>{}};return P}Li.applyToOptions=e=>{const t=Qy(e,100,Li);return e.ease=t.ease,e.duration=hn(t.duration),e.type="keyframes",e};function pa({keyframes:e,velocity:t=0,power:s=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:c=500,modifyTarget:l,min:u,max:h,restDelta:m=.5,restSpeed:g}){const x=e[0],y={done:!1,value:x},_=U=>u!==void 0&&U<u||h!==void 0&&U>h,w=U=>u===void 0?h:h===void 0||Math.abs(u-U)<Math.abs(h-U)?u:h;let b=s*t;const N=x+b,T=l===void 0?N:l(N);T!==N&&(b=T-x);const C=U=>-b*Math.exp(-U/i),j=U=>T+C(U),P=U=>{const X=C(U),M=j(U);y.done=Math.abs(X)<=m,y.value=y.done?T:M};let E,B;const V=U=>{_(y.value)&&(E=U,B=Li({keyframes:[y.value,w(y.value)],velocity:tf(j,U,y.value),damping:a,stiffness:c,restDelta:m,restSpeed:g}))};return V(0),{calculatedDuration:null,next:U=>{let X=!1;return!B&&E===void 0&&(X=!0,P(U),V(U)),E!==void 0&&U>=E?B.next(U-E):(!X&&P(U),y)}}}function a0(e,t,s){const i=[],a=s||Nn.mix||Qh,c=e.length-1;for(let l=0;l<c;l++){let u=a(e[l],e[l+1]);if(t){const h=Array.isArray(t)?t[l]||Yt:t;u=Nr(h,u)}i.push(u)}return i}function l0(e,t,{clamp:s=!0,ease:i,mixer:a}={}){const c=e.length;if(Ti(c===t.length),c===1)return()=>t[0];if(c===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=a0(t,i,a),h=u.length,m=g=>{if(l&&g<e[0])return t[0];let x=0;if(h>1)for(;x<e.length-2&&!(g<e[x+1]);x++);const y=pr(e[x],e[x+1],g);return u[x](y)};return s?g=>m(Sn(e[0],e[c-1],g)):m}function c0(e,t){const s=e[e.length-1];for(let i=1;i<=t;i++){const a=pr(0,t,i);e.push(dt(s,1,a))}}function d0(e){const t=[0];return c0(t,e.length-1),t}function u0(e,t){return e.map(s=>s*t)}function h0(e,t){return e.map(()=>t||Uh).splice(0,e.length-1)}function ur({duration:e=300,keyframes:t,times:s,ease:i="easeInOut"}){const a=Sy(i)?i.map(rd):rd(i),c={done:!1,value:t[0]},l=u0(s&&s.length===t.length?s:d0(t),e),u=l0(l,t,{ease:Array.isArray(a)?a:h0(t,a)});return{calculatedDuration:e,next:h=>(c.value=u(h),c.done=h>=e,c)}}const f0=e=>e!==null;function vl(e,{repeat:t,repeatType:s="loop"},i,a=1){const c=e.filter(f0),u=a<0||t&&s!=="loop"&&t%2===1?0:c.length-1;return!u||i===void 0?c[u]:i}const m0={decay:pa,inertia:pa,tween:ur,keyframes:ur,spring:Li};function nf(e){typeof e.type=="string"&&(e.type=m0[e.type])}class yl{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const p0=e=>e/100;class _l extends yl{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(s=!0)=>{var i,a;if(s){const{motionValue:c}=this.options;c&&c.updatedAt!==Rt.now()&&this.tick(Rt.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(i=this.options).onStop)==null||a.call(i))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;nf(t);const{type:s=ur,repeat:i=0,repeatDelay:a=0,repeatType:c,velocity:l=0}=t;let{keyframes:u}=t;const h=s||ur;h!==ur&&typeof u[0]!="number"&&(this.mixKeyframes=Nr(p0,Qh(u[0],u[1])),u=[0,100]);const m=h({...t,keyframes:u});c==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...u].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=xl(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=m}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:i,totalDuration:a,mixKeyframes:c,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:g,repeat:x,repeatType:y,repeatDelay:_,type:w,onUpdate:b,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const T=this.currentTime-m*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?T<0:T>a;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let j=this.currentTime,P=i;if(x){const U=Math.min(this.currentTime,a)/u;let X=Math.floor(U),M=U%1;!M&&U>=1&&(M=1),M===1&&X--,X=Math.min(X,x+1),!!(X%2)&&(y==="reverse"?(M=1-M,_&&(M-=_/u)):y==="mirror"&&(P=l)),j=Sn(0,1,M)*u}const E=C?{done:!1,value:g[0]}:P.next(j);c&&(E.value=c(E.value));let{done:B}=E;!C&&h!==null&&(B=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return V&&w!==pa&&(E.value=vl(g,this.options,N,this.speed)),b&&b(E.value),V&&this.finish(),E}then(t,s){return this.finished.then(t,s)}get duration(){return fn(this.calculatedDuration)}get time(){return fn(this.currentTime)}set time(t){var s;t=hn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Rt.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=fn(this.currentTime))}play(){var a,c;if(this.isStopped)return;const{driver:t=Jy,startTime:s}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),(c=(a=this.options).onPlay)==null||c.call(a);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Rt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function g0(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Qn=e=>e*180/Math.PI,ga=e=>{const t=Qn(Math.atan2(e[1],e[0]));return xa(t)},x0={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ga,rotateZ:ga,skewX:e=>Qn(Math.atan(e[1])),skewY:e=>Qn(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},xa=e=>(e=e%360,e<0&&(e+=360),e),ud=ga,hd=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),fd=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),v0={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hd,scaleY:fd,scale:e=>(hd(e)+fd(e))/2,rotateX:e=>xa(Qn(Math.atan2(e[6],e[5]))),rotateY:e=>xa(Qn(Math.atan2(-e[2],e[0]))),rotateZ:ud,rotate:ud,skewX:e=>Qn(Math.atan(e[4])),skewY:e=>Qn(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function md(e){return e.includes("scale")?1:0}function va(e,t){if(!e||e==="none")return md(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(s)i=v0,a=s;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=x0,a=u}if(!a)return md(t);const c=i[t],l=a[1].split(",").map(_0);return typeof c=="function"?c(l):l[c]}const y0=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return va(s,t)};function _0(e){return parseFloat(e.trim())}const Ls=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],As=new Set(Ls),pd=e=>e===Es||e===Me,b0=new Set(["x","y","z"]),w0=Ls.filter(e=>!b0.has(e));function j0(e){const t=[];return w0.forEach(s=>{const i=e.getValue(s);i!==void 0&&(t.push([s,i.get()]),i.set(s.startsWith("scale")?1:0))}),t}const ts={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>va(t,"x"),y:(e,{transform:t})=>va(t,"y")};ts.translateX=ts.x;ts.translateY=ts.y;const ns=new Set;let ya=!1,_a=!1,ba=!1;function sf(){if(_a){const e=Array.from(ns).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),s=new Map;t.forEach(i=>{const a=j0(i);a.length&&(s.set(i,a),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const a=s.get(i);a&&a.forEach(([c,l])=>{var u;(u=i.getValue(c))==null||u.set(l)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}_a=!1,ya=!1,ns.forEach(e=>e.complete(ba)),ns.clear()}function rf(){ns.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(_a=!0)})}function S0(){ba=!0,rf(),sf(),ba=!1}class bl{constructor(t,s,i,a,c,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=i,this.motionValue=a,this.element=c,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(ns.add(this),ya||(ya=!0,ut.read(rf),ut.resolveKeyframes(sf))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:i,motionValue:a}=this;if(t[0]===null){const c=a==null?void 0:a.get(),l=t[t.length-1];if(c!==void 0)t[0]=c;else if(i&&s){const u=i.readValue(s,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),a&&c===void 0&&a.set(t[0])}g0(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ns.delete(this)}cancel(){this.state==="scheduled"&&(ns.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const N0=e=>e.startsWith("--");function C0(e,t,s){N0(t)?e.style.setProperty(t,s):e.style[t]=s}const T0=ll(()=>window.ScrollTimeline!==void 0),P0={};function E0(e,t){const s=ll(e);return()=>P0[t]??s()}const of=E0(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ar=([e,t,s,i])=>`cubic-bezier(${e}, ${t}, ${s}, ${i})`,gd={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ar([0,.65,.55,1]),circOut:ar([.55,0,1,.45]),backIn:ar([.31,.01,.66,-.59]),backOut:ar([.33,1.53,.69,.99])};function af(e,t){if(e)return typeof e=="function"?of()?ef(e,t):"ease-out":Hh(e)?ar(e):Array.isArray(e)?e.map(s=>af(s,t)||gd.easeOut):gd[e]}function L0(e,t,s,{delay:i=0,duration:a=300,repeat:c=0,repeatType:l="loop",ease:u="easeOut",times:h}={},m=void 0){const g={[t]:s};h&&(g.offset=h);const x=af(u,a);Array.isArray(x)&&(g.easing=x);const y={delay:i,duration:a,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:c+1,direction:l==="reverse"?"alternate":"normal"};return m&&(y.pseudoElement=m),e.animate(g,y)}function lf(e){return typeof e=="function"&&"applyToOptions"in e}function A0({type:e,...t}){return lf(e)&&of()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class k0 extends yl{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:i,keyframes:a,pseudoElement:c,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=t;this.isPseudoElement=!!c,this.allowFlatten=l,this.options=t,Ti(typeof t.type!="string");const m=A0(t);this.animation=L0(s,i,a,m,c),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const g=vl(a,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):C0(s,i,g),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,i;const t=((i=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:i.call(s).duration)||0;return fn(Number(t))}get time(){return fn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=hn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&T0()?(this.animation.timeline=t,Yt):s(this)}}const cf={anticipate:Fh,backInOut:zh,circInOut:$h};function R0(e){return e in cf}function M0(e){typeof e.ease=="string"&&R0(e.ease)&&(e.ease=cf[e.ease])}const xd=10;class I0 extends k0{constructor(t){M0(t),nf(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:i,onComplete:a,element:c,...l}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const u=new _l({...l,autoplay:!1}),h=hn(this.finishedTime??this.time);s.setWithVelocity(u.sample(h-xd).value,u.sample(h).value,xd),u.stop()}}const vd=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(On.test(e)||e==="0")&&!e.startsWith("url("));function O0(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function D0(e,t,s,i){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const c=e[e.length-1],l=vd(a,t),u=vd(c,t);return!l||!u?!1:O0(e)||(s==="spring"||lf(s))&&i}const B0=new Set(["opacity","clipPath","filter","transform"]),z0=ll(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function F0(e){const{motionValue:t,name:s,repeatDelay:i,repeatType:a,damping:c,type:l}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=t.owner.getProps();return z0()&&s&&B0.has(s)&&(s!=="transform"||!h)&&!u&&!i&&a!=="mirror"&&c!==0&&l!=="inertia"}const V0=40;class $0 extends yl{constructor({autoplay:t=!0,delay:s=0,type:i="keyframes",repeat:a=0,repeatDelay:c=0,repeatType:l="loop",keyframes:u,name:h,motionValue:m,element:g,...x}){var w;super(),this.stop=()=>{var b,N;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=Rt.now();const y={autoplay:t,delay:s,type:i,repeat:a,repeatDelay:c,repeatType:l,name:h,motionValue:m,element:g,...x},_=(g==null?void 0:g.KeyframeResolver)||bl;this.keyframeResolver=new _(u,(b,N,T)=>this.onKeyframesResolved(b,N,y,!T),h,m,g),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,s,i,a){this.keyframeResolver=void 0;const{name:c,type:l,velocity:u,delay:h,isHandoff:m,onUpdate:g}=i;this.resolvedAt=Rt.now(),D0(t,c,l,u)||((Nn.instantAnimations||!h)&&(g==null||g(vl(t,i,s))),t[0]=t[t.length-1],i.duration=0,i.repeat=0);const y={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>V0?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...i,keyframes:t},_=!m&&F0(y)?new I0({...y,element:y.motionValue.owner.current}):new _l(y);_.finished.then(()=>this.notifyFinished()).catch(Yt),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),S0()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const U0=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function H0(e){const t=U0.exec(e);if(!t)return[,];const[,s,i,a]=t;return[`--${s??i}`,a]}function df(e,t,s=1){const[i,a]=H0(e);if(!i)return;const c=window.getComputedStyle(t).getPropertyValue(i);if(c){const l=c.trim();return kh(l)?parseFloat(l):l}return fl(a)?df(a,t,s+1):a}function wl(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const uf=new Set(["width","height","top","left","right","bottom",...Ls]),W0={test:e=>e==="auto",parse:e=>e},hf=e=>t=>t.test(e),ff=[Es,Me,mn,kn,Oy,Iy,W0],yd=e=>ff.find(hf(e));function Z0(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Rh(e):!0}const G0=new Set(["brightness","contrast","saturate","opacity"]);function K0(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=s.match(ml)||[];if(!i)return e;const a=s.replace(i,"");let c=G0.has(t)?1:0;return i!==s&&(c*=100),t+"("+c+a+")"}const q0=/\b([a-z-]*)\(.*?\)/gu,wa={...On,getAnimatableNone:e=>{const t=e.match(q0);return t?t.map(K0).join(" "):e}},_d={...Es,transform:Math.round},Y0={rotate:kn,rotateX:kn,rotateY:kn,rotateZ:kn,scale:ui,scaleX:ui,scaleY:ui,scaleZ:ui,skew:kn,skewX:kn,skewY:kn,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:gr,originX:od,originY:od,originZ:Me},jl={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,radius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,top:Me,right:Me,bottom:Me,left:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,backgroundPositionX:Me,backgroundPositionY:Me,...Y0,zIndex:_d,fillOpacity:gr,strokeOpacity:gr,numOctaves:_d},X0={...jl,color:Nt,backgroundColor:Nt,outlineColor:Nt,fill:Nt,stroke:Nt,borderColor:Nt,borderTopColor:Nt,borderRightColor:Nt,borderBottomColor:Nt,borderLeftColor:Nt,filter:wa,WebkitFilter:wa},mf=e=>X0[e];function pf(e,t){let s=mf(e);return s!==wa&&(s=On),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const J0=new Set(["auto","none","0"]);function Q0(e,t,s){let i=0,a;for(;i<e.length&&!a;){const c=e[i];typeof c=="string"&&!J0.has(c)&&xr(c).values.length&&(a=e[i]),i++}if(a&&s)for(const c of t)e[c]=pf(s,a)}class e_ extends bl{constructor(t,s,i,a,c){super(t,s,i,a,c,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:i}=this;if(!s||!s.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let m=t[h];if(typeof m=="string"&&(m=m.trim(),fl(m))){const g=df(m,s.current);g!==void 0&&(t[h]=g),h===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!uf.has(i)||t.length!==2)return;const[a,c]=t,l=yd(a),u=yd(c);if(l!==u)if(pd(l)&&pd(u))for(let h=0;h<t.length;h++){const m=t[h];typeof m=="string"&&(t[h]=parseFloat(m))}else ts[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,i=[];for(let a=0;a<t.length;a++)(t[a]===null||Z0(t[a]))&&i.push(a);i.length&&Q0(t,i,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ts[i](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const a=s[s.length-1];a!==void 0&&t.getValue(i,a).jump(a,!1)}measureEndState(){var u;const{element:t,name:s,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(s);a&&a.jump(this.measuredOrigin,!1);const c=i.length-1,l=i[c];i[c]=ts[s](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,m])=>{t.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function t_(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const a=(s==null?void 0:s[e])??i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const bd=30,n_=e=>!isNaN(parseFloat(e));class s_{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,a=!0)=>{var l,u;const c=Rt.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();a&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Rt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=n_(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new cl);const i=this.events[t].add(s);return t==="change"?()=>{i(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,i){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Rt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>bd)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,bd);return Mh(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Cs(e,t){return new s_(e,t)}const gf=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:Sl}=Wh(queueMicrotask,!1),en={x:!1,y:!1};function xf(){return en.x||en.y}function r_(e){return e==="x"||e==="y"?en[e]?null:(en[e]=!0,()=>{en[e]=!1}):en.x||en.y?null:(en.x=en.y=!0,()=>{en.x=en.y=!1})}function vf(e,t){const s=t_(e),i=new AbortController,a={passive:!0,...t,signal:i.signal};return[s,a,()=>i.abort()]}function wd(e){return!(e.pointerType==="touch"||xf())}function i_(e,t,s={}){const[i,a,c]=vf(e,s),l=u=>{if(!wd(u))return;const{target:h}=u,m=t(h,u);if(typeof m!="function"||!h)return;const g=x=>{wd(x)&&(m(x),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,a)};return i.forEach(u=>{u.addEventListener("pointerenter",l,a)}),c}const yf=(e,t)=>t?e===t?!0:yf(e,t.parentElement):!1,Nl=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,o_=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function a_(e){return o_.has(e.tagName)||e.tabIndex!==-1}const vi=new WeakSet;function jd(e){return t=>{t.key==="Enter"&&e(t)}}function $o(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const l_=(e,t)=>{const s=e.currentTarget;if(!s)return;const i=jd(()=>{if(vi.has(s))return;$o(s,"down");const a=jd(()=>{$o(s,"up")}),c=()=>$o(s,"cancel");s.addEventListener("keyup",a,t),s.addEventListener("blur",c,t)});s.addEventListener("keydown",i,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",i),t)};function Sd(e){return Nl(e)&&!xf()}function c_(e,t,s={}){const[i,a,c]=vf(e,s),l=u=>{const h=u.currentTarget;if(!Sd(u))return;vi.add(h);const m=t(h,u),g=(_,w)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",y),vi.has(h)&&vi.delete(h),Sd(_)&&typeof m=="function"&&m(_,{success:w})},x=_=>{g(_,h===window||h===document||s.useGlobalTarget||yf(h,_.target))},y=_=>{g(_,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",y,a)};return i.forEach(u=>{(s.useGlobalTarget?window:u).addEventListener("pointerdown",l,a),u instanceof HTMLElement&&(u.addEventListener("focus",m=>l_(m,a)),!a_(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),c}const d_=[...ff,Nt,On],u_=e=>d_.find(hf(e)),_f=f.createContext({strict:!1}),Nd={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ts={};for(const e in Nd)Ts[e]={isEnabled:t=>Nd[e].some(s=>!!t[s])};function h_(e){for(const t in e)Ts[t]={...Ts[t],...e[t]}}const f_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ai(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||f_.has(e)}let bf=e=>!Ai(e);function m_(e){e&&(bf=t=>t.startsWith("on")?!Ai(t):e(t))}try{m_(require("@emotion/is-prop-valid").default)}catch{}function p_(e,t,s){const i={};for(const a in e)a==="values"&&typeof e.values=="object"||(bf(a)||s===!0&&Ai(a)||!t&&!Ai(a)||e.draggable&&a.startsWith("onDrag"))&&(i[a]=e[a]);return i}function g_(e){if(typeof Proxy>"u")return e;const t=new Map,s=(...i)=>e(...i);return new Proxy(s,{get:(i,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const Zi=f.createContext({});function Gi(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function vr(e){return typeof e=="string"||Array.isArray(e)}const Cl=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Tl=["initial",...Cl];function Ki(e){return Gi(e.animate)||Tl.some(t=>vr(e[t]))}function wf(e){return!!(Ki(e)||e.variants)}function x_(e,t){if(Ki(e)){const{initial:s,animate:i}=e;return{initial:s===!1||vr(s)?s:void 0,animate:vr(i)?i:void 0}}return e.inherit!==!1?t:{}}function v_(e){const{initial:t,animate:s}=x_(e,f.useContext(Zi));return f.useMemo(()=>({initial:t,animate:s}),[Cd(t),Cd(s)])}function Cd(e){return Array.isArray(e)?e.join(" "):e}const y_=Symbol.for("motionComponentSymbol");function _s(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function __(e,t,s){return f.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),s&&(typeof s=="function"?s(i):_s(s)&&(s.current=i))},[t])}const Pl=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),b_="framerAppearId",jf="data-"+Pl(b_),Sf=f.createContext({});function w_(e,t,s,i,a){var b,N;const{visualElement:c}=f.useContext(Zi),l=f.useContext(_f),u=f.useContext(il),h=f.useContext(Ah).reducedMotion,m=f.useRef(null);i=i||l.renderer,!m.current&&i&&(m.current=i(e,{visualState:t,parent:c,props:s,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const g=m.current,x=f.useContext(Sf);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&j_(m.current,s,a,x);const y=f.useRef(!1);f.useInsertionEffect(()=>{g&&y.current&&g.update(s,u)});const _=s[jf],w=f.useRef(!!_&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,_))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,_)));return gy(()=>{g&&(y.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),Sl.render(g.render),w.current&&g.animationState&&g.animationState.animateChanges())}),f.useEffect(()=>{g&&(!w.current&&g.animationState&&g.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)==null||T.call(window,_)}),w.current=!1))}),g}function j_(e,t,s,i){const{layoutId:a,layout:c,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:m,layoutCrossfade:g}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:Nf(e.parent)),e.projection.setOptions({layoutId:a,layout:c,alwaysMeasureLayout:!!l||u&&_s(u),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:h,layoutRoot:m})}function Nf(e){if(e)return e.options.allowProjection!==!1?e.projection:Nf(e.parent)}function S_({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:i,Component:a}){e&&h_(e);function c(u,h){let m;const g={...f.useContext(Ah),...u,layoutId:N_(u)},{isStatic:x}=g,y=v_(u),_=i(u,x);if(!x&&rl){C_();const w=T_(g);m=w.MeasureLayout,y.visualElement=w_(a,_,g,t,w.ProjectionNode)}return r.jsxs(Zi.Provider,{value:y,children:[m&&y.visualElement?r.jsx(m,{visualElement:y.visualElement,...g}):null,s(a,u,__(_,y.visualElement,h),_,x,y.visualElement)]})}c.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const l=f.forwardRef(c);return l[y_]=a,l}function N_({layoutId:e}){const t=f.useContext(Lh).id;return t&&e!==void 0?t+"-"+e:e}function C_(e,t){f.useContext(_f).strict}function T_(e){const{drag:t,layout:s}=Ts;if(!t&&!s)return{};const i={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const yr={};function P_(e){for(const t in e)yr[t]=e[t],hl(t)&&(yr[t].isCSSVariable=!0)}function Cf(e,{layout:t,layoutId:s}){return As.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!yr[e]||e==="opacity")}const Ct=e=>!!(e&&e.getVelocity),E_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},L_=Ls.length;function A_(e,t,s){let i="",a=!0;for(let c=0;c<L_;c++){const l=Ls[c],u=e[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||s){const m=gf(u,jl[l]);if(!h){a=!1;const g=E_[l]||l;i+=`${g}(${m}) `}s&&(t[l]=m)}}return i=i.trim(),s?i=s(t,a?"":i):a&&(i="none"),i}function El(e,t,s){const{style:i,vars:a,transformOrigin:c}=e;let l=!1,u=!1;for(const h in t){const m=t[h];if(As.has(h)){l=!0;continue}else if(hl(h)){a[h]=m;continue}else{const g=gf(m,jl[h]);h.startsWith("origin")?(u=!0,c[h]=g):i[h]=g}}if(t.transform||(l||s?i.transform=A_(t,e.transform,s):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:g=0}=c;i.transformOrigin=`${h} ${m} ${g}`}}const Ll=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Tf(e,t,s){for(const i in t)!Ct(t[i])&&!Cf(i,s)&&(e[i]=t[i])}function k_({transformTemplate:e},t){return f.useMemo(()=>{const s=Ll();return El(s,t,e),Object.assign({},s.vars,s.style)},[t])}function R_(e,t){const s=e.style||{},i={};return Tf(i,s,e),Object.assign(i,k_(e,t)),i}function M_(e,t){const s={},i=R_(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=i,s}const I_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Al(e){return typeof e!="string"||e.includes("-")?!1:!!(I_.indexOf(e)>-1||/[A-Z]/u.test(e))}const O_={offset:"stroke-dashoffset",array:"stroke-dasharray"},D_={offset:"strokeDashoffset",array:"strokeDasharray"};function B_(e,t,s=1,i=0,a=!0){e.pathLength=1;const c=a?O_:D_;e[c.offset]=Me.transform(-i);const l=Me.transform(t),u=Me.transform(s);e[c.array]=`${l} ${u}`}function Pf(e,{attrX:t,attrY:s,attrScale:i,pathLength:a,pathSpacing:c=1,pathOffset:l=0,...u},h,m,g){if(El(e,u,m),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:y}=e;x.transform&&(y.transform=x.transform,delete x.transform),(y.transform||x.transformOrigin)&&(y.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),y.transform&&(y.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete x.transformBox),t!==void 0&&(x.x=t),s!==void 0&&(x.y=s),i!==void 0&&(x.scale=i),a!==void 0&&B_(x,a,c,l,!1)}const Ef=()=>({...Ll(),attrs:{}}),Lf=e=>typeof e=="string"&&e.toLowerCase()==="svg";function z_(e,t,s,i){const a=f.useMemo(()=>{const c=Ef();return Pf(c,t,Lf(i),e.transformTemplate,e.style),{...c.attrs,style:{...c.style}}},[t]);if(e.style){const c={};Tf(c,e.style,e),a.style={...c,...a.style}}return a}function F_(e=!1){return(s,i,a,{latestValues:c},l)=>{const h=(Al(s)?z_:M_)(i,c,l,s),m=p_(i,typeof s=="string",e),g=s!==f.Fragment?{...m,...h,ref:a}:{},{children:x}=i,y=f.useMemo(()=>Ct(x)?x.get():x,[x]);return f.createElement(s,{...g,children:y})}}function Td(e){const t=[{},{}];return e==null||e.values.forEach((s,i)=>{t[0][i]=s.get(),t[1][i]=s.getVelocity()}),t}function kl(e,t,s,i){if(typeof t=="function"){const[a,c]=Td(i);t=t(s!==void 0?s:e.custom,a,c)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,c]=Td(i);t=t(s!==void 0?s:e.custom,a,c)}return t}function yi(e){return Ct(e)?e.get():e}function V_({scrapeMotionValuesFromProps:e,createRenderState:t},s,i,a){return{latestValues:$_(s,i,a,e),renderState:t()}}const Af=e=>(t,s)=>{const i=f.useContext(Zi),a=f.useContext(il),c=()=>V_(e,t,i,a);return s?c():py(c)};function $_(e,t,s,i){const a={},c=i(e,{});for(const y in c)a[y]=yi(c[y]);let{initial:l,animate:u}=e;const h=Ki(e),m=wf(e);t&&m&&!h&&e.inherit!==!1&&(l===void 0&&(l=t.initial),u===void 0&&(u=t.animate));let g=s?s.initial===!1:!1;g=g||l===!1;const x=g?u:l;if(x&&typeof x!="boolean"&&!Gi(x)){const y=Array.isArray(x)?x:[x];for(let _=0;_<y.length;_++){const w=kl(e,y[_]);if(w){const{transitionEnd:b,transition:N,...T}=w;for(const C in T){let j=T[C];if(Array.isArray(j)){const P=g?j.length-1:0;j=j[P]}j!==null&&(a[C]=j)}for(const C in b)a[C]=b[C]}}}return a}function Rl(e,t,s){var c;const{style:i}=e,a={};for(const l in i)(Ct(i[l])||t.style&&Ct(t.style[l])||Cf(l,e)||((c=s==null?void 0:s.getValue(l))==null?void 0:c.liveStyle)!==void 0)&&(a[l]=i[l]);return a}const U_={useVisualState:Af({scrapeMotionValuesFromProps:Rl,createRenderState:Ll})};function kf(e,t,s){const i=Rl(e,t,s);for(const a in e)if(Ct(e[a])||Ct(t[a])){const c=Ls.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[c]=e[a]}return i}const H_={useVisualState:Af({scrapeMotionValuesFromProps:kf,createRenderState:Ef})};function W_(e,t){return function(i,{forwardMotionProps:a}={forwardMotionProps:!1}){const l={...Al(i)?H_:U_,preloadedFeatures:e,useRender:F_(a),createVisualElement:t,Component:i};return S_(l)}}function _r(e,t,s){const i=e.getProps();return kl(i,t,s!==void 0?s:i.custom,e)}const ja=e=>Array.isArray(e);function Z_(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Cs(s))}function G_(e){return ja(e)?e[e.length-1]||0:e}function K_(e,t){const s=_r(e,t);let{transitionEnd:i={},transition:a={},...c}=s||{};c={...c,...i};for(const l in c){const u=G_(c[l]);Z_(e,l,u)}}function q_(e){return!!(Ct(e)&&e.add)}function Sa(e,t){const s=e.getValue("willChange");if(q_(s))return s.add(t);if(!s&&Nn.WillChange){const i=new Nn.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function Rf(e){return e.props[jf]}const Y_=e=>e!==null;function X_(e,{repeat:t,repeatType:s="loop"},i){const a=e.filter(Y_),c=t&&s!=="loop"&&t%2===1?0:a.length-1;return!c||i===void 0?a[c]:i}const J_={type:"spring",stiffness:500,damping:25,restSpeed:10},Q_=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),eb={type:"keyframes",duration:.8},tb={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nb=(e,{keyframes:t})=>t.length>2?eb:As.has(e)?e.startsWith("scale")?Q_(t[1]):J_:tb;function sb({when:e,delay:t,delayChildren:s,staggerChildren:i,staggerDirection:a,repeat:c,repeatType:l,repeatDelay:u,from:h,elapsed:m,...g}){return!!Object.keys(g).length}const Ml=(e,t,s,i={},a,c)=>l=>{const u=wl(i,e)||{},h=u.delay||i.delay||0;let{elapsed:m=0}=i;m=m-hn(h);const g={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-m,onUpdate:y=>{t.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:c?void 0:a};sb(u)||Object.assign(g,nb(e,g)),g.duration&&(g.duration=hn(g.duration)),g.repeatDelay&&(g.repeatDelay=hn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let x=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(x=!0)),(Nn.instantAnimations||Nn.skipAnimations)&&(x=!0,g.duration=0,g.delay=0),g.allowFlatten=!u.type&&!u.ease,x&&!c&&t.get()!==void 0){const y=X_(g.keyframes,u);if(y!==void 0){ut.update(()=>{g.onUpdate(y),g.onComplete()});return}}return u.isSync?new _l(g):new $0(g)};function rb({protectedKeys:e,needsAnimating:t},s){const i=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,i}function Mf(e,t,{delay:s=0,transitionOverride:i,type:a}={}){let{transition:c=e.getDefaultTransition(),transitionEnd:l,...u}=t;i&&(c=i);const h=[],m=a&&e.animationState&&e.animationState.getState()[a];for(const g in u){const x=e.getValue(g,e.latestValues[g]??null),y=u[g];if(y===void 0||m&&rb(m,g))continue;const _={delay:s,...wl(c||{},g)},w=x.get();if(w!==void 0&&!x.isAnimating&&!Array.isArray(y)&&y===w&&!_.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const T=Rf(e);if(T){const C=window.MotionHandoffAnimation(T,g,ut);C!==null&&(_.startTime=C,b=!0)}}Sa(e,g),x.start(Ml(g,x,y,e.shouldReduceMotion&&uf.has(g)?{type:!1}:_,e,b));const N=x.animation;N&&h.push(N)}return l&&Promise.all(h).then(()=>{ut.update(()=>{l&&K_(e,l)})}),h}function Na(e,t,s={}){var h;const i=_r(e,t,s.type==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(a=s.transitionOverride);const c=i?()=>Promise.all(Mf(e,i,s)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:x,staggerDirection:y}=a;return ib(e,t,g+m,x,y,s)}:()=>Promise.resolve(),{when:u}=a;if(u){const[m,g]=u==="beforeChildren"?[c,l]:[l,c];return m().then(()=>g())}else return Promise.all([c(),l(s.delay)])}function ib(e,t,s=0,i=0,a=1,c){const l=[],u=(e.variantChildren.size-1)*i,h=a===1?(m=0)=>m*i:(m=0)=>u-m*i;return Array.from(e.variantChildren).sort(ob).forEach((m,g)=>{m.notify("AnimationStart",t),l.push(Na(m,t,{...c,delay:s+h(g)}).then(()=>m.notify("AnimationComplete",t)))}),Promise.all(l)}function ob(e,t){return e.sortNodePosition(t)}function ab(e,t,s={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(c=>Na(e,c,s));i=Promise.all(a)}else if(typeof t=="string")i=Na(e,t,s);else{const a=typeof t=="function"?_r(e,t,s.custom):t;i=Promise.all(Mf(e,a,s))}return i.then(()=>{e.notify("AnimationComplete",t)})}function If(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let i=0;i<s;i++)if(t[i]!==e[i])return!1;return!0}const lb=Tl.length;function Of(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?Of(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<lb;s++){const i=Tl[s],a=e.props[i];(vr(a)||a===!1)&&(t[i]=a)}return t}const cb=[...Cl].reverse(),db=Cl.length;function ub(e){return t=>Promise.all(t.map(({animation:s,options:i})=>ab(e,s,i)))}function hb(e){let t=ub(e),s=Pd(),i=!0;const a=h=>(m,g)=>{var y;const x=_r(e,g,h==="exit"?(y=e.presenceContext)==null?void 0:y.custom:void 0);if(x){const{transition:_,transitionEnd:w,...b}=x;m={...m,...b,...w}}return m};function c(h){t=h(e)}function l(h){const{props:m}=e,g=Of(e.parent)||{},x=[],y=new Set;let _={},w=1/0;for(let N=0;N<db;N++){const T=cb[N],C=s[T],j=m[T]!==void 0?m[T]:g[T],P=vr(j),E=T===h?C.isActive:null;E===!1&&(w=N);let B=j===g[T]&&j!==m[T]&&P;if(B&&i&&e.manuallyAnimateOnMount&&(B=!1),C.protectedKeys={..._},!C.isActive&&E===null||!j&&!C.prevProp||Gi(j)||typeof j=="boolean")continue;const V=fb(C.prevProp,j);let U=V||T===h&&C.isActive&&!B&&P||N>w&&P,X=!1;const M=Array.isArray(j)?j:[j];let $=M.reduce(a(T),{});E===!1&&($={});const{prevResolvedValues:H={}}=C,O={...H,...$},ee=he=>{U=!0,y.has(he)&&(X=!0,y.delete(he)),C.needsAnimating[he]=!0;const ne=e.getValue(he);ne&&(ne.liveStyle=!1)};for(const he in O){const ne=$[he],F=H[he];if(_.hasOwnProperty(he))continue;let k=!1;ja(ne)&&ja(F)?k=!If(ne,F):k=ne!==F,k?ne!=null?ee(he):y.add(he):ne!==void 0&&y.has(he)?ee(he):C.protectedKeys[he]=!0}C.prevProp=j,C.prevResolvedValues=$,C.isActive&&(_={..._,...$}),i&&e.blockInitialAnimation&&(U=!1),U&&(!(B&&V)||X)&&x.push(...M.map(he=>({animation:he,options:{type:T}})))}if(y.size){const N={};if(typeof m.initial!="boolean"){const T=_r(e,Array.isArray(m.initial)?m.initial[0]:m.initial);T&&T.transition&&(N.transition=T.transition)}y.forEach(T=>{const C=e.getBaseTarget(T),j=e.getValue(T);j&&(j.liveStyle=!0),N[T]=C??null}),x.push({animation:N})}let b=!!x.length;return i&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(b=!1),i=!1,b?t(x):Promise.resolve()}function u(h,m){var x;if(s[h].isActive===m)return Promise.resolve();(x=e.variantChildren)==null||x.forEach(y=>{var _;return(_=y.animationState)==null?void 0:_.setActive(h,m)}),s[h].isActive=m;const g=l(h);for(const y in s)s[y].protectedKeys={};return g}return{animateChanges:l,setActive:u,setAnimateFunction:c,getState:()=>s,reset:()=>{s=Pd(),i=!0}}}function fb(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!If(t,e):!1}function Gn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Pd(){return{animate:Gn(!0),whileInView:Gn(),whileHover:Gn(),whileTap:Gn(),whileDrag:Gn(),whileFocus:Gn(),exit:Gn()}}class Dn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class mb extends Dn{constructor(t){super(t),t.animationState||(t.animationState=hb(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Gi(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let pb=0;class gb extends Dn{constructor(){super(...arguments),this.id=pb++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t);s&&!t&&a.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const xb={animation:{Feature:mb},exit:{Feature:gb}};function br(e,t,s,i={passive:!0}){return e.addEventListener(t,s,i),()=>e.removeEventListener(t,s)}function Pr(e){return{point:{x:e.pageX,y:e.pageY}}}const vb=e=>t=>Nl(t)&&e(t,Pr(t));function hr(e,t,s,i){return br(e,t,vb(s),i)}function Df({top:e,left:t,right:s,bottom:i}){return{x:{min:t,max:s},y:{min:e,max:i}}}function yb({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function _b(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:i.y,right:i.x}}const Bf=1e-4,bb=1-Bf,wb=1+Bf,zf=.01,jb=0-zf,Sb=0+zf;function Lt(e){return e.max-e.min}function Nb(e,t,s){return Math.abs(e-t)<=s}function Ed(e,t,s,i=.5){e.origin=i,e.originPoint=dt(t.min,t.max,e.origin),e.scale=Lt(s)/Lt(t),e.translate=dt(s.min,s.max,e.origin)-e.originPoint,(e.scale>=bb&&e.scale<=wb||isNaN(e.scale))&&(e.scale=1),(e.translate>=jb&&e.translate<=Sb||isNaN(e.translate))&&(e.translate=0)}function fr(e,t,s,i){Ed(e.x,t.x,s.x,i?i.originX:void 0),Ed(e.y,t.y,s.y,i?i.originY:void 0)}function Ld(e,t,s){e.min=s.min+t.min,e.max=e.min+Lt(t)}function Cb(e,t,s){Ld(e.x,t.x,s.x),Ld(e.y,t.y,s.y)}function Ad(e,t,s){e.min=t.min-s.min,e.max=e.min+Lt(t)}function mr(e,t,s){Ad(e.x,t.x,s.x),Ad(e.y,t.y,s.y)}const kd=()=>({translate:0,scale:1,origin:0,originPoint:0}),bs=()=>({x:kd(),y:kd()}),Rd=()=>({min:0,max:0}),pt=()=>({x:Rd(),y:Rd()});function Zt(e){return[e("x"),e("y")]}function Uo(e){return e===void 0||e===1}function Ca({scale:e,scaleX:t,scaleY:s}){return!Uo(e)||!Uo(t)||!Uo(s)}function qn(e){return Ca(e)||Ff(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Ff(e){return Md(e.x)||Md(e.y)}function Md(e){return e&&e!=="0%"}function ki(e,t,s){const i=e-s,a=t*i;return s+a}function Id(e,t,s,i,a){return a!==void 0&&(e=ki(e,a,i)),ki(e,s,i)+t}function Ta(e,t=0,s=1,i,a){e.min=Id(e.min,t,s,i,a),e.max=Id(e.max,t,s,i,a)}function Vf(e,{x:t,y:s}){Ta(e.x,t.translate,t.scale,t.originPoint),Ta(e.y,s.translate,s.scale,s.originPoint)}const Od=.999999999999,Dd=1.0000000000001;function Tb(e,t,s,i=!1){const a=s.length;if(!a)return;t.x=t.y=1;let c,l;for(let u=0;u<a;u++){c=s[u],l=c.projectionDelta;const{visualElement:h}=c.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&c.options.layoutScroll&&c.scroll&&c!==c.root&&js(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,Vf(e,l)),i&&qn(c.latestValues)&&js(e,c.latestValues))}t.x<Dd&&t.x>Od&&(t.x=1),t.y<Dd&&t.y>Od&&(t.y=1)}function ws(e,t){e.min=e.min+t,e.max=e.max+t}function Bd(e,t,s,i,a=.5){const c=dt(e.min,e.max,a);Ta(e,t,s,c,i)}function js(e,t){Bd(e.x,t.x,t.scaleX,t.scale,t.originX),Bd(e.y,t.y,t.scaleY,t.scale,t.originY)}function $f(e,t){return Df(_b(e.getBoundingClientRect(),t))}function Pb(e,t,s){const i=$f(e,s),{scroll:a}=t;return a&&(ws(i.x,a.offset.x),ws(i.y,a.offset.y)),i}const Uf=({current:e})=>e?e.ownerDocument.defaultView:null,zd=(e,t)=>Math.abs(e-t);function Eb(e,t){const s=zd(e.x,t.x),i=zd(e.y,t.y);return Math.sqrt(s**2+i**2)}class Hf{constructor(t,s,{transformPagePoint:i,contextWindow:a,dragSnapToOrigin:c=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Wo(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,_=Eb(x.offset,{x:0,y:0})>=3;if(!y&&!_)return;const{point:w}=x,{timestamp:b}=St;this.history.push({...w,timestamp:b});const{onStart:N,onMove:T}=this.handlers;y||(N&&N(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,x)},this.handlePointerMove=(x,y)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Ho(y,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(x,y)=>{this.end();const{onEnd:_,onSessionEnd:w,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Wo(x.type==="pointercancel"?this.lastMoveEventInfo:Ho(y,this.transformPagePoint),this.history);this.startEvent&&_&&_(x,N),w&&w(x,N)},!Nl(t))return;this.dragSnapToOrigin=c,this.handlers=s,this.transformPagePoint=i,this.contextWindow=a||window;const l=Pr(t),u=Ho(l,this.transformPagePoint),{point:h}=u,{timestamp:m}=St;this.history=[{...h,timestamp:m}];const{onSessionStart:g}=s;g&&g(t,Wo(u,this.history)),this.removeListeners=Nr(hr(this.contextWindow,"pointermove",this.handlePointerMove),hr(this.contextWindow,"pointerup",this.handlePointerUp),hr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),In(this.updatePoint)}}function Ho(e,t){return t?{point:t(e.point)}:e}function Fd(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Wo({point:e},t){return{point:e,delta:Fd(e,Wf(t)),offset:Fd(e,Lb(t)),velocity:Ab(t,.1)}}function Lb(e){return e[0]}function Wf(e){return e[e.length-1]}function Ab(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,i=null;const a=Wf(e);for(;s>=0&&(i=e[s],!(a.timestamp-i.timestamp>hn(t)));)s--;if(!i)return{x:0,y:0};const c=fn(a.timestamp-i.timestamp);if(c===0)return{x:0,y:0};const l={x:(a.x-i.x)/c,y:(a.y-i.y)/c};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function kb(e,{min:t,max:s},i){return t!==void 0&&e<t?e=i?dt(t,e,i.min):Math.max(e,t):s!==void 0&&e>s&&(e=i?dt(s,e,i.max):Math.min(e,s)),e}function Vd(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function Rb(e,{top:t,left:s,bottom:i,right:a}){return{x:Vd(e.x,s,a),y:Vd(e.y,t,i)}}function $d(e,t){let s=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,i]=[i,s]),{min:s,max:i}}function Mb(e,t){return{x:$d(e.x,t.x),y:$d(e.y,t.y)}}function Ib(e,t){let s=.5;const i=Lt(e),a=Lt(t);return a>i?s=pr(t.min,t.max-i,e.min):i>a&&(s=pr(e.min,e.max-a,t.min)),Sn(0,1,s)}function Ob(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Pa=.35;function Db(e=Pa){return e===!1?e=0:e===!0&&(e=Pa),{x:Ud(e,"left","right"),y:Ud(e,"top","bottom")}}function Ud(e,t,s){return{min:Hd(e,t),max:Hd(e,s)}}function Hd(e,t){return typeof e=="number"?e:e[t]||0}const Bb=new WeakMap;class zb{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pt(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Pr(g).point)},c=(g,x)=>{const{drag:y,dragPropagation:_,onDragStart:w}=this.getProps();if(y&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=r_(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zt(N=>{let T=this.getAxisMotionValue(N).get()||0;if(mn.test(T)){const{projection:C}=this.visualElement;if(C&&C.layout){const j=C.layout.layoutBox[N];j&&(T=Lt(j)*(parseFloat(T)/100))}}this.originPoint[N]=T}),w&&ut.postRender(()=>w(g,x)),Sa(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(g,x)=>{const{dragPropagation:y,dragDirectionLock:_,onDirectionLock:w,onDrag:b}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:N}=x;if(_&&this.currentDirection===null){this.currentDirection=Fb(N),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",x.point,N),this.updateAxis("y",x.point,N),this.visualElement.render(),b&&b(g,x)},u=(g,x)=>this.stop(g,x),h=()=>Zt(g=>{var x;return this.getAnimationState(g)==="paused"&&((x=this.getAxisMotionValue(g).animation)==null?void 0:x.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Hf(t,{onSessionStart:a,onStart:c,onMove:l,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:Uf(this.visualElement)})}stop(t,s){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&ut.postRender(()=>c(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,i){const{drag:a}=this.getProps();if(!i||!hi(t,a,this.currentDirection))return;const c=this.getAxisMotionValue(t);let l=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(l=kb(l,this.constraints[t],this.elastic[t])),c.set(l)}resolveConstraints(){var c;const{dragConstraints:t,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(c=this.visualElement.projection)==null?void 0:c.layout,a=this.constraints;t&&_s(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=Rb(i.layoutBox,t):this.constraints=!1,this.elastic=Db(s),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Zt(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Ob(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!_s(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const c=Pb(i,a.root,this.visualElement.getTransformPagePoint());let l=Mb(a.layout.layoutBox,c);if(s){const u=s(yb(l));this.hasMutatedConstraints=!!u,u&&(l=Df(u))}return l}startAnimation(t){const{drag:s,dragMomentum:i,dragElastic:a,dragTransition:c,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},m=Zt(g=>{if(!hi(g,s,this.currentDirection))return;let x=h&&h[g]||{};l&&(x={min:0,max:0});const y=a?200:1e6,_=a?40:1e7,w={type:"inertia",velocity:i?t[g]:0,bounceStiffness:y,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...c,...x};return this.startAxisValueAnimation(g,w)});return Promise.all(m).then(u)}startAxisValueAnimation(t,s){const i=this.getAxisMotionValue(t);return Sa(this.visualElement,t),i.start(Ml(t,i,0,s,this.visualElement,!1))}stopAnimation(){Zt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Zt(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),a=i[s];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Zt(s=>{const{drag:i}=this.getProps();if(!hi(s,i,this.currentDirection))return;const{projection:a}=this.visualElement,c=this.getAxisMotionValue(s);if(a&&a.layout){const{min:l,max:u}=a.layout.layoutBox[s];c.set(t[s]-dt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:i}=this.visualElement;if(!_s(s)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Zt(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();a[l]=Ib({min:h,max:h},this.constraints[l])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Zt(l=>{if(!hi(l,t,null))return;const u=this.getAxisMotionValue(l),{min:h,max:m}=this.constraints[l];u.set(dt(h,m,a[l]))})}addListeners(){if(!this.visualElement.current)return;Bb.set(this.visualElement,this);const t=this.visualElement.current,s=hr(t,"pointerdown",h=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();_s(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,c=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ut.read(i);const l=br(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Zt(g=>{const x=this.getAxisMotionValue(g);x&&(this.originPoint[g]+=h[g].translate,x.set(x.get()+h[g].translate))}),this.visualElement.render())});return()=>{l(),s(),c(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:c=!1,dragElastic:l=Pa,dragMomentum:u=!0}=t;return{...t,drag:s,dragDirectionLock:i,dragPropagation:a,dragConstraints:c,dragElastic:l,dragMomentum:u}}}function hi(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function Fb(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class Vb extends Dn{constructor(t){super(t),this.removeGroupControls=Yt,this.removeListeners=Yt,this.controls=new zb(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Wd=e=>(t,s)=>{e&&ut.postRender(()=>e(t,s))};class $b extends Dn{constructor(){super(...arguments),this.removePointerDownListener=Yt}onPointerDown(t){this.session=new Hf(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Uf(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Wd(t),onStart:Wd(s),onMove:i,onEnd:(c,l)=>{delete this.session,a&&ut.postRender(()=>a(c,l))}}}mount(){this.removePointerDownListener=hr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _i={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zd(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const sr={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Me.test(e))e=parseFloat(e);else return e;const s=Zd(e,t.target.x),i=Zd(e,t.target.y);return`${s}% ${i}%`}},Ub={correct:(e,{treeScale:t,projectionDelta:s})=>{const i=e,a=On.parse(e);if(a.length>5)return i;const c=On.createTransformer(e),l=typeof a[0]!="number"?1:0,u=s.x.scale*t.x,h=s.y.scale*t.y;a[0+l]/=u,a[1+l]/=h;const m=dt(u,h,.5);return typeof a[2+l]=="number"&&(a[2+l]/=m),typeof a[3+l]=="number"&&(a[3+l]/=m),c(a)}};class Hb extends f.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:i,layoutId:a}=this.props,{projection:c}=t;P_(Wb),c&&(s.group&&s.group.add(c),i&&i.register&&a&&i.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),_i.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:i,drag:a,isPresent:c}=this.props,{projection:l}=i;return l&&(l.isPresent=c,a||t.layoutDependency!==s||s===void 0||t.isPresent!==c?l.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?l.promote():l.relegate()||ut.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Sl.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:i}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Zf(e){const[t,s]=xy(),i=f.useContext(Lh);return r.jsx(Hb,{...e,layoutGroup:i,switchLayoutGroup:f.useContext(Sf),isPresent:t,safeToRemove:s})}const Wb={borderRadius:{...sr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sr,borderTopRightRadius:sr,borderBottomLeftRadius:sr,borderBottomRightRadius:sr,boxShadow:Ub};function Zb(e,t,s){const i=Ct(e)?e:Cs(e);return i.start(Ml("",i,t,s)),i.animation}function Gb(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Kb=(e,t)=>e.depth-t.depth;class qb{constructor(){this.children=[],this.isDirty=!1}add(t){ol(this.children,t),this.isDirty=!0}remove(t){al(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Kb),this.isDirty=!1,this.children.forEach(t)}}function Yb(e,t){const s=Rt.now(),i=({timestamp:a})=>{const c=a-s;c>=t&&(In(i),e(c-t))};return ut.setup(i,!0),()=>In(i)}const Gf=["TopLeft","TopRight","BottomLeft","BottomRight"],Xb=Gf.length,Gd=e=>typeof e=="string"?parseFloat(e):e,Kd=e=>typeof e=="number"||Me.test(e);function Jb(e,t,s,i,a,c){a?(e.opacity=dt(0,s.opacity??1,Qb(i)),e.opacityExit=dt(t.opacity??1,0,ew(i))):c&&(e.opacity=dt(t.opacity??1,s.opacity??1,i));for(let l=0;l<Xb;l++){const u=`border${Gf[l]}Radius`;let h=qd(t,u),m=qd(s,u);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||Kd(h)===Kd(m)?(e[u]=Math.max(dt(Gd(h),Gd(m),i),0),(mn.test(m)||mn.test(h))&&(e[u]+="%")):e[u]=m}(t.rotate||s.rotate)&&(e.rotate=dt(t.rotate||0,s.rotate||0,i))}function qd(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Qb=Kf(0,.5,Vh),ew=Kf(.5,.95,Yt);function Kf(e,t,s){return i=>i<e?0:i>t?1:s(pr(e,t,i))}function Yd(e,t){e.min=t.min,e.max=t.max}function Wt(e,t){Yd(e.x,t.x),Yd(e.y,t.y)}function Xd(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Jd(e,t,s,i,a){return e-=t,e=ki(e,1/s,i),a!==void 0&&(e=ki(e,1/a,i)),e}function tw(e,t=0,s=1,i=.5,a,c=e,l=e){if(mn.test(t)&&(t=parseFloat(t),t=dt(l.min,l.max,t/100)-l.min),typeof t!="number")return;let u=dt(c.min,c.max,i);e===c&&(u-=t),e.min=Jd(e.min,t,s,u,a),e.max=Jd(e.max,t,s,u,a)}function Qd(e,t,[s,i,a],c,l){tw(e,t[s],t[i],t[a],t.scale,c,l)}const nw=["x","scaleX","originX"],sw=["y","scaleY","originY"];function eu(e,t,s,i){Qd(e.x,t,nw,s?s.x:void 0,i?i.x:void 0),Qd(e.y,t,sw,s?s.y:void 0,i?i.y:void 0)}function tu(e){return e.translate===0&&e.scale===1}function qf(e){return tu(e.x)&&tu(e.y)}function nu(e,t){return e.min===t.min&&e.max===t.max}function rw(e,t){return nu(e.x,t.x)&&nu(e.y,t.y)}function su(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Yf(e,t){return su(e.x,t.x)&&su(e.y,t.y)}function ru(e){return Lt(e.x)/Lt(e.y)}function iu(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class iw{constructor(){this.members=[]}add(t){ol(this.members,t),t.scheduleRender()}remove(t){if(al(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(a=>t===a);if(s===0)return!1;let i;for(let a=s;a>=0;a--){const c=this.members[a];if(c.isPresent!==!1){i=c;break}}return i?(this.promote(i),!0):!1}promote(t,s){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,s&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:i}=t;s.onExitComplete&&s.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ow(e,t,s){let i="";const a=e.x.translate/t.x,c=e.y.translate/t.y,l=(s==null?void 0:s.z)||0;if((a||c||l)&&(i=`translate3d(${a}px, ${c}px, ${l}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:m,rotate:g,rotateX:x,rotateY:y,skewX:_,skewY:w}=s;m&&(i=`perspective(${m}px) ${i}`),g&&(i+=`rotate(${g}deg) `),x&&(i+=`rotateX(${x}deg) `),y&&(i+=`rotateY(${y}deg) `),_&&(i+=`skewX(${_}deg) `),w&&(i+=`skewY(${w}deg) `)}const u=e.x.scale*t.x,h=e.y.scale*t.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const Zo=["","X","Y","Z"],aw={visibility:"hidden"},lw=1e3;let cw=0;function Go(e,t,s,i){const{latestValues:a}=t;a[e]&&(s[e]=a[e],t.setStaticValue(e,0),i&&(i[e]=0))}function Xf(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=Rf(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:a,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",ut,!(a||c))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&Xf(i)}function Jf({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(l={},u=t==null?void 0:t()){this.id=cw++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(hw),this.nodes.forEach(xw),this.nodes.forEach(vw),this.nodes.forEach(fw)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new qb)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new cl),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Gb(l),this.instance=l;const{layoutId:u,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),e){let g;const x=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=Yb(x,250),_i.hasAnimatedSinceResize&&(_i.hasAnimatedSinceResize=!1,this.nodes.forEach(au))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:x,hasRelativeLayoutChanged:y,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||m.getDefaultTransition()||jw,{onLayoutAnimationStart:b,onLayoutAnimationComplete:N}=m.getProps(),T=!this.targetLayout||!Yf(this.targetLayout,_),C=!x&&y;if(this.options.layoutRoot||this.resumeFrom||C||x&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,C);const j={...wl(w,"layout"),onPlay:b,onComplete:N};(m.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else x||au(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),In(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yw),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Xf(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const x=this.path[g];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ou);return}this.isUpdating||this.nodes.forEach(pw),this.isUpdating=!1,this.nodes.forEach(gw),this.nodes.forEach(dw),this.nodes.forEach(uw),this.clearAllSnapshots();const u=Rt.now();St.delta=Sn(0,1e3/60,u-St.timestamp),St.timestamp=u,St.isProcessing=!0,Do.update.process(St),Do.preRender.process(St),Do.render.process(St),St.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Sl.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mw),this.sharedNodes.forEach(_w)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Lt(this.snapshot.measuredBox.x)&&!Lt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!qf(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;l&&this.instance&&(u||qn(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),Sw(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:l}=this.options;if(!l)return pt();const u=l.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(Nw))){const{scroll:g}=this.root;g&&(ws(u.x,g.offset.x),ws(u.y,g.offset.y))}return u}removeElementScroll(l){var h;const u=pt();if(Wt(u,l),(h=this.scroll)!=null&&h.wasRoot)return u;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:x,options:y}=g;g!==this.root&&x&&y.layoutScroll&&(x.wasRoot&&Wt(u,l),ws(u.x,x.offset.x),ws(u.y,x.offset.y))}return u}applyTransform(l,u=!1){const h=pt();Wt(h,l);for(let m=0;m<this.path.length;m++){const g=this.path[m];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&js(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),qn(g.latestValues)&&js(h,g.latestValues)}return qn(this.latestValues)&&js(h,this.latestValues),h}removeTransform(l){const u=pt();Wt(u,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!qn(m.latestValues))continue;Ca(m.latestValues)&&m.updateSnapshot();const g=pt(),x=m.measurePageBox();Wt(g,x),eu(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return qn(this.latestValues)&&eu(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==St.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var y;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:x}=this.options;if(!(!this.layout||!(g||x))){if(this.resolvedRelativeTargetAt=St.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),mr(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Wt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pt(),this.targetWithTransforms=pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Cb(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wt(this.target,this.layout.layoutBox),Vf(this.target,this.targetDelta)):Wt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),mr(this.relativeTargetOrigin,this.target,_.target),Wt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ca(this.parent.latestValues)||Ff(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===St.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Wt(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,y=this.treeScale.y;Tb(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=pt());const{target:_}=l;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Xd(this.prevProjectionDelta.x,this.projectionDelta.x),Xd(this.prevProjectionDelta.y,this.projectionDelta.y)),fr(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==y||!iu(this.projectionDelta.x,this.prevProjectionDelta.x)||!iu(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bs(),this.projectionDelta=bs(),this.projectionDeltaWithTransform=bs()}setAnimationOrigin(l,u=!1){const h=this.snapshot,m=h?h.latestValues:{},g={...this.latestValues},x=bs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=pt(),_=h?h.source:void 0,w=this.layout?this.layout.source:void 0,b=_!==w,N=this.getStack(),T=!N||N.members.length<=1,C=!!(b&&!T&&this.options.crossfade===!0&&!this.path.some(ww));this.animationProgress=0;let j;this.mixTargetDelta=P=>{const E=P/1e3;lu(x.x,l.x,E),lu(x.y,l.y,E),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mr(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bw(this.relativeTarget,this.relativeTargetOrigin,y,E),j&&rw(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=pt()),Wt(j,this.relativeTarget)),b&&(this.animationValues=g,Jb(g,m,this.latestValues,E,C,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,h,m;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(!1),(m=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||m.stop(!1),this.pendingAnimation&&(In(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{_i.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Cs(0)),this.currentAnimation=Zb(this.motionValue,[0,1e3],{...l,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),l.onUpdate&&l.onUpdate(g)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lw),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:m,latestValues:g}=l;if(!(!u||!h||!m)){if(this!==l&&this.layout&&m&&Qf(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||pt();const x=Lt(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+x;const y=Lt(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+y}Wt(u,h),js(u,g),fr(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new iw),this.sharedNodes.get(l).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const m={};h.z&&Go("z",l,m,this.animationValues);for(let g=0;g<Zo.length;g++)Go(`rotate${Zo[g]}`,l,m,this.animationValues),Go(`skew${Zo[g]}`,l,m,this.animationValues);l.render();for(const g in m)l.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return aw;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=yi(l==null?void 0:l.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=yi(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!qn(this.latestValues)&&(_.transform=h?h({},""):"none",this.hasProjected=!1),_}const g=m.animationValues||m.latestValues;this.applyTransformsToTarget(),u.transform=ow(this.projectionDeltaWithTransform,this.treeScale,g),h&&(u.transform=h(g,u.transform));const{x,y}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${y.origin*100}% 0`,m.animationValues?u.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const _ in yr){if(g[_]===void 0)continue;const{correct:w,applyTo:b,isCSSVariable:N}=yr[_],T=u.transform==="none"?g[_]:w(g[_],m);if(b){const C=b.length;for(let j=0;j<C;j++)u[b[j]]=T}else N?this.options.visualElement.renderState.vars[_]=T:u[_]=T}return this.options.layoutId&&(u.pointerEvents=m===this?yi(l==null?void 0:l.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop(!1)}),this.root.nodes.forEach(ou),this.root.sharedNodes.clear()}}}function dw(e){e.updateLayout()}function uw(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=e.layout,{animationType:c}=e.options,l=t.source!==e.layout.source;c==="size"?Zt(x=>{const y=l?t.measuredBox[x]:t.layoutBox[x],_=Lt(y);y.min=i[x].min,y.max=y.min+_}):Qf(c,t.layoutBox,i)&&Zt(x=>{const y=l?t.measuredBox[x]:t.layoutBox[x],_=Lt(i[x]);y.max=y.min+_,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[x].max=e.relativeTarget[x].min+_)});const u=bs();fr(u,i,t.layoutBox);const h=bs();l?fr(h,e.applyTransform(a,!0),t.measuredBox):fr(h,i,t.layoutBox);const m=!qf(u);let g=!1;if(!e.resumeFrom){const x=e.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:y,layout:_}=x;if(y&&_){const w=pt();mr(w,t.layoutBox,y.layoutBox);const b=pt();mr(b,i,_.layoutBox),Yf(w,b)||(g=!0),x.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=w,e.relativeParent=x)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function hw(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function fw(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function mw(e){e.clearSnapshot()}function ou(e){e.clearMeasurements()}function pw(e){e.isLayoutDirty=!1}function gw(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function au(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function xw(e){e.resolveTargetDelta()}function vw(e){e.calcProjection()}function yw(e){e.resetSkewAndRotation()}function _w(e){e.removeLeadSnapshot()}function lu(e,t,s){e.translate=dt(t.translate,0,s),e.scale=dt(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function cu(e,t,s,i){e.min=dt(t.min,s.min,i),e.max=dt(t.max,s.max,i)}function bw(e,t,s,i){cu(e.x,t.x,s.x,i),cu(e.y,t.y,s.y,i)}function ww(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const jw={duration:.45,ease:[.4,0,.1,1]},du=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),uu=du("applewebkit/")&&!du("chrome/")?Math.round:Yt;function hu(e){e.min=uu(e.min),e.max=uu(e.max)}function Sw(e){hu(e.x),hu(e.y)}function Qf(e,t,s){return e==="position"||e==="preserve-aspect"&&!Nb(ru(t),ru(s),.2)}function Nw(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Cw=Jf({attachResizeListener:(e,t)=>br(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ko={current:void 0},em=Jf({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ko.current){const e=new Cw({});e.mount(window),e.setOptions({layoutScroll:!0}),Ko.current=e}return Ko.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Tw={pan:{Feature:$b},drag:{Feature:Vb,ProjectionNode:em,MeasureLayout:Zf}};function fu(e,t,s){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",s==="Start");const a="onHover"+s,c=i[a];c&&ut.postRender(()=>c(t,Pr(t)))}class Pw extends Dn{mount(){const{current:t}=this.node;t&&(this.unmount=i_(t,(s,i)=>(fu(this.node,i,"Start"),a=>fu(this.node,a,"End"))))}unmount(){}}class Ew extends Dn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nr(br(this.node.current,"focus",()=>this.onFocus()),br(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mu(e,t,s){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",s==="Start");const a="onTap"+(s==="End"?"":s),c=i[a];c&&ut.postRender(()=>c(t,Pr(t)))}class Lw extends Dn{mount(){const{current:t}=this.node;t&&(this.unmount=c_(t,(s,i)=>(mu(this.node,i,"Start"),(a,{success:c})=>mu(this.node,a,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ea=new WeakMap,qo=new WeakMap,Aw=e=>{const t=Ea.get(e.target);t&&t(e)},kw=e=>{e.forEach(Aw)};function Rw({root:e,...t}){const s=e||document;qo.has(s)||qo.set(s,{});const i=qo.get(s),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver(kw,{root:e,...t})),i[a]}function Mw(e,t,s){const i=Rw(t);return Ea.set(e,s),i.observe(e),()=>{Ea.delete(e),i.unobserve(e)}}const Iw={some:0,all:1};class Ow extends Dn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:i,amount:a="some",once:c}=t,l={root:s?s.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:Iw[a]},u=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,c&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:x}=this.node.getProps(),y=m?g:x;y&&y(h)};return Mw(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(Dw(t,s))&&this.startObserver()}unmount(){}}function Dw({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const Bw={inView:{Feature:Ow},tap:{Feature:Lw},focus:{Feature:Ew},hover:{Feature:Pw}},zw={layout:{ProjectionNode:em,MeasureLayout:Zf}},La={current:null},tm={current:!1};function Fw(){if(tm.current=!0,!!rl)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>La.current=e.matches;e.addListener(t),t()}else La.current=!1}const Vw=new WeakMap;function $w(e,t,s){for(const i in t){const a=t[i],c=s[i];if(Ct(a))e.addValue(i,a);else if(Ct(c))e.addValue(i,Cs(a,{owner:e}));else if(c!==a)if(e.hasValue(i)){const l=e.getValue(i);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=e.getStaticValue(i);e.addValue(i,Cs(l!==void 0?l:a,{owner:e}))}}for(const i in s)t[i]===void 0&&e.removeValue(i);return t}const pu=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Uw{scrapeMotionValuesFromProps(t,s,i){return{}}constructor({parent:t,props:s,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:c,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bl,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Rt.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,ut.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=s.initial?{...h}:{},this.renderState=m,this.parent=t,this.props=s,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!c,this.isControllingVariants=Ki(s),this.isVariantNode=wf(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...x}=this.scrapeMotionValuesFromProps(s,{},this);for(const y in x){const _=x[y];h[y]!==void 0&&Ct(_)&&_.set(h[y],!1)}}mount(t){this.current=t,Vw.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),tm.current||Fw(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:La.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),In(this.notifyUpdate),In(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=As.has(t);i&&this.onBindTransform&&this.onBindTransform();const a=s.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&ut.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),c=s.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{a(),c(),l&&l(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ts){const s=Ts[t];if(!s)continue;const{isEnabled:i,Feature:a}=s;if(!this.features[t]&&a&&i(this.props)&&(this.features[t]=new a(this)),this.features[t]){const c=this.features[t];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let i=0;i<pu.length;i++){const a=pu[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const c="on"+a,l=t[c];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=$w(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const i=this.values.get(t);s!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&s!==void 0&&(i=Cs(s===null?void 0:s,{owner:this}),this.addValue(t,i)),i}readValue(t,s){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(kh(i)||Rh(i))?i=parseFloat(i):!u_(i)&&On.test(s)&&(i=pf(t,s)),this.setBaseTarget(t,Ct(i)?i.get():i)),Ct(i)?i.get():i}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var c;const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const l=kl(this.props,s,(c=this.presenceContext)==null?void 0:c.custom);l&&(i=l[t])}if(s&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ct(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new cl),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class nm extends Uw{constructor(){super(...arguments),this.KeyframeResolver=e_}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:i}){delete s[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ct(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function sm(e,{style:t,vars:s},i,a){Object.assign(e.style,t,a&&a.getProjectionStyles(i));for(const c in s)e.style.setProperty(c,s[c])}function Hw(e){return window.getComputedStyle(e)}class Ww extends nm{constructor(){super(...arguments),this.type="html",this.renderInstance=sm}readValueFromInstance(t,s){if(As.has(s))return y0(t,s);{const i=Hw(t),a=(hl(s)?i.getPropertyValue(s):i[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:s}){return $f(t,s)}build(t,s,i){El(t,s,i.transformTemplate)}scrapeMotionValuesFromProps(t,s,i){return Rl(t,s,i)}}const rm=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Zw(e,t,s,i){sm(e,t,void 0,i);for(const a in t.attrs)e.setAttribute(rm.has(a)?a:Pl(a),t.attrs[a])}class Gw extends nm{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pt}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(As.has(s)){const i=mf(s);return i&&i.default||0}return s=rm.has(s)?s:Pl(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,i){return kf(t,s,i)}build(t,s,i){Pf(t,s,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,s,i,a){Zw(t,s,i,a)}mount(t){this.isSVGTag=Lf(t.tagName),super.mount(t)}}const Kw=(e,t)=>Al(e)?new Gw(t):new Ww(t,{allowProjection:e!==f.Fragment}),qw=W_({...xb,...Bw,...Tw,...zw},Kw),cn=g_(qw),Yw=()=>{const e=f.useRef(null);return f.useEffect(()=>{const t=e.current;if(!t)return;const s=t.getContext("2d");if(!s)return;const i=()=>{const u=t.parentElement;u&&(t.width=u.clientWidth,t.height=120)};i(),window.addEventListener("resize",i);let a,c=0;const l=()=>{if(!s||!t)return;s.clearRect(0,0,t.width,t.height);const u=t.height/2,h=30,m=.02,g=.05;s.beginPath(),s.moveTo(0,u);for(let w=0;w<t.width;w++){const b=Math.sin(w*m+c)*h*.5,N=Math.sin(w*m*1.5+c*1.1)*h*.3,T=Math.sin(w*m*.5+c*.9)*h*.2,C=u+b+N+T;s.lineTo(w,C)}const x=s.createLinearGradient(0,0,t.width,0);x.addColorStop(0,"rgba(99, 102, 241, 0.2)"),x.addColorStop(.5,"rgba(99, 102, 241, 0.6)"),x.addColorStop(1,"rgba(99, 102, 241, 0.2)"),s.strokeStyle=x,s.lineWidth=2,s.stroke(),s.beginPath(),s.moveTo(0,u);for(let w=0;w<t.width;w++){const b=Math.sin(w*m*.8+c*1.2)*h*.4,N=Math.sin(w*m*1.2+c*.8)*h*.2,T=u+b+N;s.lineTo(w,T)}const y=s.createLinearGradient(0,0,t.width,0);y.addColorStop(0,"rgba(139, 92, 246, 0.1)"),y.addColorStop(.5,"rgba(139, 92, 246, 0.3)"),y.addColorStop(1,"rgba(139, 92, 246, 0.1)"),s.strokeStyle=y,s.lineWidth=1.5,s.stroke();const _=15;for(let w=0;w<_;w++){const b=t.width/_*w+Math.sin(c*2+w)*5,N=Math.sin(c*3+w*.3)*h*.7,T=u+N,C=Math.abs(N)/10+1;s.beginPath(),s.arc(b,T,C,0,Math.PI*2),s.fillStyle="rgba(255, 255, 255, 0.5)",s.fill()}c+=g,a=requestAnimationFrame(l)};return l(),()=>{window.removeEventListener("resize",i),cancelAnimationFrame(a)}},[]),r.jsx("canvas",{ref:e,className:"w-full h-[120px] opacity-70"})},Yo=({icon:e,title:t,description:s,delay:i})=>r.jsxs(cn.div,{className:"flex items-start mb-6",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:i*.1+.5},children:[r.jsx("div",{className:"flex-shrink-0 mr-4",children:r.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:e})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base font-semibold mb-1 text-white",children:t}),r.jsx("p",{className:"text-sm text-muted-foreground",children:s})]})]}),Xw=()=>r.jsxs("main",{className:"min-h-screen bg-background text-foreground flex flex-col md:flex-row",children:[r.jsxs("div",{className:"md:flex md:w-1/2 bg-gradient-to-br from-indigo-950 via-indigo-900 to-violet-900 text-white relative overflow-hidden",children:[r.jsxs("div",{className:"md:hidden flex items-center justify-between p-6 border-b border-indigo-800",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center mr-2",children:r.jsx(Gc,{className:"w-4 h-4 text-white"})}),r.jsx("h2",{className:"text-lg font-bold",children:"VoiceAI"})]}),r.jsx(cn.div,{initial:{opacity:0},animate:{opacity:1},className:"text-xs px-2 py-1 bg-white/10 rounded-full",children:"Enterprise Solution"})]}),r.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-[10%] right-[-10%] w-[40%] h-[40%] rounded-full bg-indigo-600/10 blur-3xl"}),r.jsx("div",{className:"absolute bottom-[10%] left-[-10%] w-[40%] h-[40%] rounded-full bg-violet-600/10 blur-3xl"}),r.jsx("div",{className:"absolute top-[40%] left-[20%] w-[30%] h-[30%] rounded-full bg-indigo-500/10 blur-3xl"})]}),r.jsxs("div",{className:"relative z-10 flex flex-col justify-between h-full w-full p-6 md:p-8 lg:p-12 md:block hidden",children:[r.jsxs("div",{children:[r.jsxs(cn.div,{className:"flex items-center mb-6",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center mr-3",children:r.jsx(Gc,{className:"w-5 h-5 text-white"})}),r.jsx("h2",{className:"text-xl font-bold",children:"VoiceAI"})]}),r.jsxs(cn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[r.jsx("h1",{className:"text-3xl lg:text-4xl font-bold mb-3",children:"Transform Your Business Communication"}),r.jsx("p",{className:"text-lg text-indigo-100 mb-6",children:"Intelligent voice agents that deliver exceptional customer experiences."})]})]}),r.jsxs("div",{className:"my-8",children:[r.jsx(cn.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:.4},children:r.jsx(Yw,{})}),r.jsx("div",{className:"flex items-center justify-center mt-4 space-x-2",children:[...Array(5)].map((e,t)=>r.jsx(cn.div,{className:"w-2 h-2 rounded-full bg-indigo-400",animate:{scale:[1,1.5,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:t*.2,ease:"easeInOut"}},t))})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx(Yo,{icon:r.jsx(Kc,{className:"w-5 h-5"}),title:"AI-Powered Voice Agents",description:"Lifelike conversations that handle customer inquiries with natural flow.",delay:1}),r.jsx(Yo,{icon:r.jsx(Ni,{className:"w-5 h-5"}),title:"Advanced Natural Language Processing",description:"Understands context, sentiment, and intent for human-like interactions.",delay:2}),r.jsx(Yo,{icon:r.jsx(nr,{className:"w-5 h-5"}),title:"Enterprise-Grade Security",description:"Secure handling of sensitive customer data with full compliance.",delay:3})]}),r.jsxs(cn.div,{className:"mt-auto pt-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:1},children:[r.jsx("p",{className:"text-sm text-indigo-200 mb-3",children:"Trusted by leading enterprises worldwide"}),r.jsx("div",{className:"flex items-center space-x-6",children:[1,2,3,4].map(e=>r.jsx("div",{className:"h-6 w-16 bg-white/10 rounded-md flex items-center justify-center",children:r.jsx("div",{className:"w-10 h-2 bg-white/20 rounded-sm"})},e))}),r.jsxs("div",{className:"flex items-center mt-4 space-x-3",children:[r.jsxs("div",{className:"flex items-center text-xs text-indigo-200",children:[r.jsx(nr,{className:"w-3 h-3 mr-1"}),r.jsx("span",{children:"SOC 2"})]}),r.jsxs("div",{className:"flex items-center text-xs text-indigo-200",children:[r.jsx(nr,{className:"w-3 h-3 mr-1"}),r.jsx("span",{children:"GDPR"})]}),r.jsxs("div",{className:"flex items-center text-xs text-indigo-200",children:[r.jsx(nr,{className:"w-3 h-3 mr-1"}),r.jsx("span",{children:"HIPAA"})]})]})]})]}),r.jsxs("div",{className:"md:hidden p-6 pt-0",children:[r.jsxs(cn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx("h1",{className:"text-xl font-bold mb-2",children:"Transform Your Business Communication"}),r.jsx("p",{className:"text-sm text-indigo-100 mb-4",children:"Intelligent voice agents for exceptional customer experiences."})]}),r.jsxs(cn.div,{className:"space-y-2 mb-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},children:[r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center mr-2",children:r.jsx(Kc,{className:"w-3 h-3 text-white"})}),r.jsx("span",{children:"AI-Powered Voice Agents"})]}),r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center mr-2",children:r.jsx(Ni,{className:"w-3 h-3 text-white"})}),r.jsx("span",{children:"Advanced NLP Technology"})]}),r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center mr-2",children:r.jsx(nr,{className:"w-3 h-3 text-white"})}),r.jsx("span",{children:"Enterprise-Grade Security"})]})]})]})]}),r.jsxs("div",{className:"flex-1 flex items-center justify-center p-6 md:p-10 relative",children:[r.jsxs("div",{className:"absolute top-0 right-0 w-full h-full overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-[5%] right-[5%] w-[20%] h-[20%] rounded-full bg-primary/5 blur-3xl"}),r.jsx("div",{className:"absolute bottom-[5%] left-[5%] w-[20%] h-[20%] rounded-full bg-primary/5 blur-3xl"})]}),r.jsx(cn.div,{className:"w-full max-w-md relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:r.jsx(Th,{})})]})]}),Jw=()=>r.jsx(Xw,{});var Il={},Er={},im={exports:{}};function Qw(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Xo={exports:{}};const e1={},t1=Object.freeze(Object.defineProperty({__proto__:null,default:e1},Symbol.toStringTag,{value:"Module"})),n1=Ev(t1);var gu;function Bn(){return gu||(gu=1,function(e,t){(function(s,i){e.exports=i()})(gn,function(){var s=s||function(i,a){var c;if(typeof window<"u"&&window.crypto&&(c=window.crypto),typeof self<"u"&&self.crypto&&(c=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(c=globalThis.crypto),!c&&typeof window<"u"&&window.msCrypto&&(c=window.msCrypto),!c&&typeof globalThis<"u"&&globalThis.crypto&&(c=globalThis.crypto),!c&&typeof Qw=="function")try{c=n1}catch{}var l=function(){if(c){if(typeof c.getRandomValues=="function")try{return c.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof c.randomBytes=="function")try{return c.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},u=Object.create||function(){function C(){}return function(j){var P;return C.prototype=j,P=new C,C.prototype=null,P}}(),h={},m=h.lib={},g=m.Base=function(){return{extend:function(C){var j=u(this);return C&&j.mixIn(C),(!j.hasOwnProperty("init")||this.init===j.init)&&(j.init=function(){j.$super.init.apply(this,arguments)}),j.init.prototype=j,j.$super=this,j},create:function(){var C=this.extend();return C.init.apply(C,arguments),C},init:function(){},mixIn:function(C){for(var j in C)C.hasOwnProperty(j)&&(this[j]=C[j]);C.hasOwnProperty("toString")&&(this.toString=C.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),x=m.WordArray=g.extend({init:function(C,j){C=this.words=C||[],j!=a?this.sigBytes=j:this.sigBytes=C.length*4},toString:function(C){return(C||_).stringify(this)},concat:function(C){var j=this.words,P=C.words,E=this.sigBytes,B=C.sigBytes;if(this.clamp(),E%4)for(var V=0;V<B;V++){var U=P[V>>>2]>>>24-V%4*8&255;j[E+V>>>2]|=U<<24-(E+V)%4*8}else for(var X=0;X<B;X+=4)j[E+X>>>2]=P[X>>>2];return this.sigBytes+=B,this},clamp:function(){var C=this.words,j=this.sigBytes;C[j>>>2]&=4294967295<<32-j%4*8,C.length=i.ceil(j/4)},clone:function(){var C=g.clone.call(this);return C.words=this.words.slice(0),C},random:function(C){for(var j=[],P=0;P<C;P+=4)j.push(l());return new x.init(j,C)}}),y=h.enc={},_=y.Hex={stringify:function(C){for(var j=C.words,P=C.sigBytes,E=[],B=0;B<P;B++){var V=j[B>>>2]>>>24-B%4*8&255;E.push((V>>>4).toString(16)),E.push((V&15).toString(16))}return E.join("")},parse:function(C){for(var j=C.length,P=[],E=0;E<j;E+=2)P[E>>>3]|=parseInt(C.substr(E,2),16)<<24-E%8*4;return new x.init(P,j/2)}},w=y.Latin1={stringify:function(C){for(var j=C.words,P=C.sigBytes,E=[],B=0;B<P;B++){var V=j[B>>>2]>>>24-B%4*8&255;E.push(String.fromCharCode(V))}return E.join("")},parse:function(C){for(var j=C.length,P=[],E=0;E<j;E++)P[E>>>2]|=(C.charCodeAt(E)&255)<<24-E%4*8;return new x.init(P,j)}},b=y.Utf8={stringify:function(C){try{return decodeURIComponent(escape(w.stringify(C)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(C){return w.parse(unescape(encodeURIComponent(C)))}},N=m.BufferedBlockAlgorithm=g.extend({reset:function(){this._data=new x.init,this._nDataBytes=0},_append:function(C){typeof C=="string"&&(C=b.parse(C)),this._data.concat(C),this._nDataBytes+=C.sigBytes},_process:function(C){var j,P=this._data,E=P.words,B=P.sigBytes,V=this.blockSize,U=V*4,X=B/U;C?X=i.ceil(X):X=i.max((X|0)-this._minBufferSize,0);var M=X*V,$=i.min(M*4,B);if(M){for(var H=0;H<M;H+=V)this._doProcessBlock(E,H);j=E.splice(0,M),P.sigBytes-=$}return new x.init(j,$)},clone:function(){var C=g.clone.call(this);return C._data=this._data.clone(),C},_minBufferSize:0});m.Hasher=N.extend({cfg:g.extend(),init:function(C){this.cfg=this.cfg.extend(C),this.reset()},reset:function(){N.reset.call(this),this._doReset()},update:function(C){return this._append(C),this._process(),this},finalize:function(C){C&&this._append(C);var j=this._doFinalize();return j},blockSize:16,_createHelper:function(C){return function(j,P){return new C.init(P).finalize(j)}},_createHmacHelper:function(C){return function(j,P){return new T.HMAC.init(C,P).finalize(j)}}});var T=h.algo={};return h}(Math);return s})}(Xo)),Xo.exports}(function(e,t){(function(s,i){e.exports=i(Bn())})(gn,function(s){return s.enc.Utf8})})(im);var s1=im.exports,om={exports:{}},Jo={exports:{}},xu;function r1(){return xu||(xu=1,function(e,t){(function(s,i){e.exports=i(Bn())})(gn,function(s){return function(){var i=s,a=i.lib,c=a.WordArray,l=i.enc;l.Base64={stringify:function(h){var m=h.words,g=h.sigBytes,x=this._map;h.clamp();for(var y=[],_=0;_<g;_+=3)for(var w=m[_>>>2]>>>24-_%4*8&255,b=m[_+1>>>2]>>>24-(_+1)%4*8&255,N=m[_+2>>>2]>>>24-(_+2)%4*8&255,T=w<<16|b<<8|N,C=0;C<4&&_+C*.75<g;C++)y.push(x.charAt(T>>>6*(3-C)&63));var j=x.charAt(64);if(j)for(;y.length%4;)y.push(j);return y.join("")},parse:function(h){var m=h.length,g=this._map,x=this._reverseMap;if(!x){x=this._reverseMap=[];for(var y=0;y<g.length;y++)x[g.charCodeAt(y)]=y}var _=g.charAt(64);if(_){var w=h.indexOf(_);w!==-1&&(m=w)}return u(h,m,x)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function u(h,m,g){for(var x=[],y=0,_=0;_<m;_++)if(_%4){var w=g[h.charCodeAt(_-1)]<<_%4*2,b=g[h.charCodeAt(_)]>>>6-_%4*2,N=w|b;x[y>>>2]|=N<<24-y%4*8,y++}return c.create(x,y)}}(),s.enc.Base64})}(Jo)),Jo.exports}var Qo={exports:{}},vu;function i1(){return vu||(vu=1,function(e,t){(function(s,i){e.exports=i(Bn())})(gn,function(s){return function(i){var a=s,c=a.lib,l=c.WordArray,u=c.Hasher,h=a.algo,m=[];(function(){for(var b=0;b<64;b++)m[b]=i.abs(i.sin(b+1))*4294967296|0})();var g=h.MD5=u.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(b,N){for(var T=0;T<16;T++){var C=N+T,j=b[C];b[C]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360}var P=this._hash.words,E=b[N+0],B=b[N+1],V=b[N+2],U=b[N+3],X=b[N+4],M=b[N+5],$=b[N+6],H=b[N+7],O=b[N+8],ee=b[N+9],de=b[N+10],J=b[N+11],he=b[N+12],ne=b[N+13],F=b[N+14],k=b[N+15],D=P[0],W=P[1],z=P[2],Z=P[3];D=x(D,W,z,Z,E,7,m[0]),Z=x(Z,D,W,z,B,12,m[1]),z=x(z,Z,D,W,V,17,m[2]),W=x(W,z,Z,D,U,22,m[3]),D=x(D,W,z,Z,X,7,m[4]),Z=x(Z,D,W,z,M,12,m[5]),z=x(z,Z,D,W,$,17,m[6]),W=x(W,z,Z,D,H,22,m[7]),D=x(D,W,z,Z,O,7,m[8]),Z=x(Z,D,W,z,ee,12,m[9]),z=x(z,Z,D,W,de,17,m[10]),W=x(W,z,Z,D,J,22,m[11]),D=x(D,W,z,Z,he,7,m[12]),Z=x(Z,D,W,z,ne,12,m[13]),z=x(z,Z,D,W,F,17,m[14]),W=x(W,z,Z,D,k,22,m[15]),D=y(D,W,z,Z,B,5,m[16]),Z=y(Z,D,W,z,$,9,m[17]),z=y(z,Z,D,W,J,14,m[18]),W=y(W,z,Z,D,E,20,m[19]),D=y(D,W,z,Z,M,5,m[20]),Z=y(Z,D,W,z,de,9,m[21]),z=y(z,Z,D,W,k,14,m[22]),W=y(W,z,Z,D,X,20,m[23]),D=y(D,W,z,Z,ee,5,m[24]),Z=y(Z,D,W,z,F,9,m[25]),z=y(z,Z,D,W,U,14,m[26]),W=y(W,z,Z,D,O,20,m[27]),D=y(D,W,z,Z,ne,5,m[28]),Z=y(Z,D,W,z,V,9,m[29]),z=y(z,Z,D,W,H,14,m[30]),W=y(W,z,Z,D,he,20,m[31]),D=_(D,W,z,Z,M,4,m[32]),Z=_(Z,D,W,z,O,11,m[33]),z=_(z,Z,D,W,J,16,m[34]),W=_(W,z,Z,D,F,23,m[35]),D=_(D,W,z,Z,B,4,m[36]),Z=_(Z,D,W,z,X,11,m[37]),z=_(z,Z,D,W,H,16,m[38]),W=_(W,z,Z,D,de,23,m[39]),D=_(D,W,z,Z,ne,4,m[40]),Z=_(Z,D,W,z,E,11,m[41]),z=_(z,Z,D,W,U,16,m[42]),W=_(W,z,Z,D,$,23,m[43]),D=_(D,W,z,Z,ee,4,m[44]),Z=_(Z,D,W,z,he,11,m[45]),z=_(z,Z,D,W,k,16,m[46]),W=_(W,z,Z,D,V,23,m[47]),D=w(D,W,z,Z,E,6,m[48]),Z=w(Z,D,W,z,H,10,m[49]),z=w(z,Z,D,W,F,15,m[50]),W=w(W,z,Z,D,M,21,m[51]),D=w(D,W,z,Z,he,6,m[52]),Z=w(Z,D,W,z,U,10,m[53]),z=w(z,Z,D,W,de,15,m[54]),W=w(W,z,Z,D,B,21,m[55]),D=w(D,W,z,Z,O,6,m[56]),Z=w(Z,D,W,z,k,10,m[57]),z=w(z,Z,D,W,$,15,m[58]),W=w(W,z,Z,D,ne,21,m[59]),D=w(D,W,z,Z,X,6,m[60]),Z=w(Z,D,W,z,J,10,m[61]),z=w(z,Z,D,W,V,15,m[62]),W=w(W,z,Z,D,ee,21,m[63]),P[0]=P[0]+D|0,P[1]=P[1]+W|0,P[2]=P[2]+z|0,P[3]=P[3]+Z|0},_doFinalize:function(){var b=this._data,N=b.words,T=this._nDataBytes*8,C=b.sigBytes*8;N[C>>>5]|=128<<24-C%32;var j=i.floor(T/4294967296),P=T;N[(C+64>>>9<<4)+15]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,N[(C+64>>>9<<4)+14]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,b.sigBytes=(N.length+1)*4,this._process();for(var E=this._hash,B=E.words,V=0;V<4;V++){var U=B[V];B[V]=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360}return E},clone:function(){var b=u.clone.call(this);return b._hash=this._hash.clone(),b}});function x(b,N,T,C,j,P,E){var B=b+(N&T|~N&C)+j+E;return(B<<P|B>>>32-P)+N}function y(b,N,T,C,j,P,E){var B=b+(N&C|T&~C)+j+E;return(B<<P|B>>>32-P)+N}function _(b,N,T,C,j,P,E){var B=b+(N^T^C)+j+E;return(B<<P|B>>>32-P)+N}function w(b,N,T,C,j,P,E){var B=b+(T^(N|~C))+j+E;return(B<<P|B>>>32-P)+N}a.MD5=u._createHelper(g),a.HmacMD5=u._createHmacHelper(g)}(Math),s.MD5})}(Qo)),Qo.exports}var ea={exports:{}},ta={exports:{}},yu;function o1(){return yu||(yu=1,function(e,t){(function(s,i){e.exports=i(Bn())})(gn,function(s){return function(){var i=s,a=i.lib,c=a.WordArray,l=a.Hasher,u=i.algo,h=[],m=u.SHA1=l.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(g,x){for(var y=this._hash.words,_=y[0],w=y[1],b=y[2],N=y[3],T=y[4],C=0;C<80;C++){if(C<16)h[C]=g[x+C]|0;else{var j=h[C-3]^h[C-8]^h[C-14]^h[C-16];h[C]=j<<1|j>>>31}var P=(_<<5|_>>>27)+T+h[C];C<20?P+=(w&b|~w&N)+1518500249:C<40?P+=(w^b^N)+1859775393:C<60?P+=(w&b|w&N|b&N)-1894007588:P+=(w^b^N)-899497514,T=N,N=b,b=w<<30|w>>>2,w=_,_=P}y[0]=y[0]+_|0,y[1]=y[1]+w|0,y[2]=y[2]+b|0,y[3]=y[3]+N|0,y[4]=y[4]+T|0},_doFinalize:function(){var g=this._data,x=g.words,y=this._nDataBytes*8,_=g.sigBytes*8;return x[_>>>5]|=128<<24-_%32,x[(_+64>>>9<<4)+14]=Math.floor(y/4294967296),x[(_+64>>>9<<4)+15]=y,g.sigBytes=x.length*4,this._process(),this._hash},clone:function(){var g=l.clone.call(this);return g._hash=this._hash.clone(),g}});i.SHA1=l._createHelper(m),i.HmacSHA1=l._createHmacHelper(m)}(),s.SHA1})}(ta)),ta.exports}var na={exports:{}},_u;function a1(){return _u||(_u=1,function(e,t){(function(s,i){e.exports=i(Bn())})(gn,function(s){(function(){var i=s,a=i.lib,c=a.Base,l=i.enc,u=l.Utf8,h=i.algo;h.HMAC=c.extend({init:function(m,g){m=this._hasher=new m.init,typeof g=="string"&&(g=u.parse(g));var x=m.blockSize,y=x*4;g.sigBytes>y&&(g=m.finalize(g)),g.clamp();for(var _=this._oKey=g.clone(),w=this._iKey=g.clone(),b=_.words,N=w.words,T=0;T<x;T++)b[T]^=1549556828,N[T]^=909522486;_.sigBytes=w.sigBytes=y,this.reset()},reset:function(){var m=this._hasher;m.reset(),m.update(this._iKey)},update:function(m){return this._hasher.update(m),this},finalize:function(m){var g=this._hasher,x=g.finalize(m);g.reset();var y=g.finalize(this._oKey.clone().concat(x));return y}})})()})}(na)),na.exports}var bu;function am(){return bu||(bu=1,function(e,t){(function(s,i,a){e.exports=i(Bn(),o1(),a1())})(gn,function(s){return function(){var i=s,a=i.lib,c=a.Base,l=a.WordArray,u=i.algo,h=u.MD5,m=u.EvpKDF=c.extend({cfg:c.extend({keySize:128/32,hasher:h,iterations:1}),init:function(g){this.cfg=this.cfg.extend(g)},compute:function(g,x){for(var y,_=this.cfg,w=_.hasher.create(),b=l.create(),N=b.words,T=_.keySize,C=_.iterations;N.length<T;){y&&w.update(y),y=w.update(g).finalize(x),w.reset();for(var j=1;j<C;j++)y=w.finalize(y),w.reset();b.concat(y)}return b.sigBytes=T*4,b}});i.EvpKDF=function(g,x,y){return m.create(y).compute(g,x)}}(),s.EvpKDF})}(ea)),ea.exports}var sa={exports:{}},wu;function l1(){return wu||(wu=1,function(e,t){(function(s,i,a){e.exports=i(Bn(),am())})(gn,function(s){s.lib.Cipher||function(i){var a=s,c=a.lib,l=c.Base,u=c.WordArray,h=c.BufferedBlockAlgorithm,m=a.enc;m.Utf8;var g=m.Base64,x=a.algo,y=x.EvpKDF,_=c.Cipher=h.extend({cfg:l.extend(),createEncryptor:function(M,$){return this.create(this._ENC_XFORM_MODE,M,$)},createDecryptor:function(M,$){return this.create(this._DEC_XFORM_MODE,M,$)},init:function(M,$,H){this.cfg=this.cfg.extend(H),this._xformMode=M,this._key=$,this.reset()},reset:function(){h.reset.call(this),this._doReset()},process:function(M){return this._append(M),this._process()},finalize:function(M){M&&this._append(M);var $=this._doFinalize();return $},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function M($){return typeof $=="string"?X:B}return function($){return{encrypt:function(H,O,ee){return M(O).encrypt($,H,O,ee)},decrypt:function(H,O,ee){return M(O).decrypt($,H,O,ee)}}}}()});c.StreamCipher=_.extend({_doFinalize:function(){var M=this._process(!0);return M},blockSize:1});var w=a.mode={},b=c.BlockCipherMode=l.extend({createEncryptor:function(M,$){return this.Encryptor.create(M,$)},createDecryptor:function(M,$){return this.Decryptor.create(M,$)},init:function(M,$){this._cipher=M,this._iv=$}}),N=w.CBC=function(){var M=b.extend();M.Encryptor=M.extend({processBlock:function(H,O){var ee=this._cipher,de=ee.blockSize;$.call(this,H,O,de),ee.encryptBlock(H,O),this._prevBlock=H.slice(O,O+de)}}),M.Decryptor=M.extend({processBlock:function(H,O){var ee=this._cipher,de=ee.blockSize,J=H.slice(O,O+de);ee.decryptBlock(H,O),$.call(this,H,O,de),this._prevBlock=J}});function $(H,O,ee){var de,J=this._iv;J?(de=J,this._iv=i):de=this._prevBlock;for(var he=0;he<ee;he++)H[O+he]^=de[he]}return M}(),T=a.pad={},C=T.Pkcs7={pad:function(M,$){for(var H=$*4,O=H-M.sigBytes%H,ee=O<<24|O<<16|O<<8|O,de=[],J=0;J<O;J+=4)de.push(ee);var he=u.create(de,O);M.concat(he)},unpad:function(M){var $=M.words[M.sigBytes-1>>>2]&255;M.sigBytes-=$}};c.BlockCipher=_.extend({cfg:_.cfg.extend({mode:N,padding:C}),reset:function(){var M;_.reset.call(this);var $=this.cfg,H=$.iv,O=$.mode;this._xformMode==this._ENC_XFORM_MODE?M=O.createEncryptor:(M=O.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==M?this._mode.init(this,H&&H.words):(this._mode=M.call(O,this,H&&H.words),this._mode.__creator=M)},_doProcessBlock:function(M,$){this._mode.processBlock(M,$)},_doFinalize:function(){var M,$=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?($.pad(this._data,this.blockSize),M=this._process(!0)):(M=this._process(!0),$.unpad(M)),M},blockSize:128/32});var j=c.CipherParams=l.extend({init:function(M){this.mixIn(M)},toString:function(M){return(M||this.formatter).stringify(this)}}),P=a.format={},E=P.OpenSSL={stringify:function(M){var $,H=M.ciphertext,O=M.salt;return O?$=u.create([1398893684,1701076831]).concat(O).concat(H):$=H,$.toString(g)},parse:function(M){var $,H=g.parse(M),O=H.words;return O[0]==1398893684&&O[1]==1701076831&&($=u.create(O.slice(2,4)),O.splice(0,4),H.sigBytes-=16),j.create({ciphertext:H,salt:$})}},B=c.SerializableCipher=l.extend({cfg:l.extend({format:E}),encrypt:function(M,$,H,O){O=this.cfg.extend(O);var ee=M.createEncryptor(H,O),de=ee.finalize($),J=ee.cfg;return j.create({ciphertext:de,key:H,iv:J.iv,algorithm:M,mode:J.mode,padding:J.padding,blockSize:M.blockSize,formatter:O.format})},decrypt:function(M,$,H,O){O=this.cfg.extend(O),$=this._parse($,O.format);var ee=M.createDecryptor(H,O).finalize($.ciphertext);return ee},_parse:function(M,$){return typeof M=="string"?$.parse(M,this):M}}),V=a.kdf={},U=V.OpenSSL={execute:function(M,$,H,O,ee){if(O||(O=u.random(64/8)),ee)var de=y.create({keySize:$+H,hasher:ee}).compute(M,O);else var de=y.create({keySize:$+H}).compute(M,O);var J=u.create(de.words.slice($),H*4);return de.sigBytes=$*4,j.create({key:de,iv:J,salt:O})}},X=c.PasswordBasedCipher=B.extend({cfg:B.cfg.extend({kdf:U}),encrypt:function(M,$,H,O){O=this.cfg.extend(O);var ee=O.kdf.execute(H,M.keySize,M.ivSize,O.salt,O.hasher);O.iv=ee.iv;var de=B.encrypt.call(this,M,$,ee.key,O);return de.mixIn(ee),de},decrypt:function(M,$,H,O){O=this.cfg.extend(O),$=this._parse($,O.format);var ee=O.kdf.execute(H,M.keySize,M.ivSize,$.salt,O.hasher);O.iv=ee.iv;var de=B.decrypt.call(this,M,$,ee.key,O);return de}})}()})}(sa)),sa.exports}(function(e,t){(function(s,i,a){e.exports=i(Bn(),r1(),i1(),am(),l1())})(gn,function(s){return function(){var i=s,a=i.lib,c=a.BlockCipher,l=i.algo,u=[],h=[],m=[],g=[],x=[],y=[],_=[],w=[],b=[],N=[];(function(){for(var j=[],P=0;P<256;P++)P<128?j[P]=P<<1:j[P]=P<<1^283;for(var E=0,B=0,P=0;P<256;P++){var V=B^B<<1^B<<2^B<<3^B<<4;V=V>>>8^V&255^99,u[E]=V,h[V]=E;var U=j[E],X=j[U],M=j[X],$=j[V]*257^V*16843008;m[E]=$<<24|$>>>8,g[E]=$<<16|$>>>16,x[E]=$<<8|$>>>24,y[E]=$;var $=M*16843009^X*65537^U*257^E*16843008;_[V]=$<<24|$>>>8,w[V]=$<<16|$>>>16,b[V]=$<<8|$>>>24,N[V]=$,E?(E=U^j[j[j[M^U]]],B^=j[j[B]]):E=B=1}})();var T=[0,1,2,4,8,16,32,64,128,27,54],C=l.AES=c.extend({_doReset:function(){var j;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var P=this._keyPriorReset=this._key,E=P.words,B=P.sigBytes/4,V=this._nRounds=B+6,U=(V+1)*4,X=this._keySchedule=[],M=0;M<U;M++)M<B?X[M]=E[M]:(j=X[M-1],M%B?B>6&&M%B==4&&(j=u[j>>>24]<<24|u[j>>>16&255]<<16|u[j>>>8&255]<<8|u[j&255]):(j=j<<8|j>>>24,j=u[j>>>24]<<24|u[j>>>16&255]<<16|u[j>>>8&255]<<8|u[j&255],j^=T[M/B|0]<<24),X[M]=X[M-B]^j);for(var $=this._invKeySchedule=[],H=0;H<U;H++){var M=U-H;if(H%4)var j=X[M];else var j=X[M-4];H<4||M<=4?$[H]=j:$[H]=_[u[j>>>24]]^w[u[j>>>16&255]]^b[u[j>>>8&255]]^N[u[j&255]]}}},encryptBlock:function(j,P){this._doCryptBlock(j,P,this._keySchedule,m,g,x,y,u)},decryptBlock:function(j,P){var E=j[P+1];j[P+1]=j[P+3],j[P+3]=E,this._doCryptBlock(j,P,this._invKeySchedule,_,w,b,N,h);var E=j[P+1];j[P+1]=j[P+3],j[P+3]=E},_doCryptBlock:function(j,P,E,B,V,U,X,M){for(var $=this._nRounds,H=j[P]^E[0],O=j[P+1]^E[1],ee=j[P+2]^E[2],de=j[P+3]^E[3],J=4,he=1;he<$;he++){var ne=B[H>>>24]^V[O>>>16&255]^U[ee>>>8&255]^X[de&255]^E[J++],F=B[O>>>24]^V[ee>>>16&255]^U[de>>>8&255]^X[H&255]^E[J++],k=B[ee>>>24]^V[de>>>16&255]^U[H>>>8&255]^X[O&255]^E[J++],D=B[de>>>24]^V[H>>>16&255]^U[O>>>8&255]^X[ee&255]^E[J++];H=ne,O=F,ee=k,de=D}var ne=(M[H>>>24]<<24|M[O>>>16&255]<<16|M[ee>>>8&255]<<8|M[de&255])^E[J++],F=(M[O>>>24]<<24|M[ee>>>16&255]<<16|M[de>>>8&255]<<8|M[H&255])^E[J++],k=(M[ee>>>24]<<24|M[de>>>16&255]<<16|M[H>>>8&255]<<8|M[O&255])^E[J++],D=(M[de>>>24]<<24|M[H>>>16&255]<<16|M[O>>>8&255]<<8|M[ee&255])^E[J++];j[P]=ne,j[P+1]=F,j[P+2]=k,j[P+3]=D},keySize:256/32});i.AES=c._createHelper(C)}(),s.AES})})(om);var c1=om.exports,qi={},Lr={},Et={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.default=void 0;var d1=function(){var t=null;try{typeof Cypress<"u"?t=Cypress.env("SECURE_LOCAL_STORAGE_HASH_KEY")||Cypress.env("REACT_APP_SECURE_LOCAL_STORAGE_HASH_KEY")||Cypress.env("NEXT_PUBLIC_SECURE_LOCAL_STORAGE_HASH_KEY")||Cypress.env("VITE_SECURE_LOCAL_STORAGE_HASH_KEY"):typeof Et<"u"?t=Et.SECURE_LOCAL_STORAGE_HASH_KEY||Et.REACT_APP_SECURE_LOCAL_STORAGE_HASH_KEY||Et.NEXT_PUBLIC_SECURE_LOCAL_STORAGE_HASH_KEY||Et.VITE_SECURE_LOCAL_STORAGE_HASH_KEY:console.warn("react-secure-storage : process is not defined! Just a warning!")}catch{return null}return t},u1=function(){var t=null;try{typeof Cypress<"u"?t=Cypress.env("SECURE_LOCAL_STORAGE_PREFIX")||Cypress.env("REACT_APP_SECURE_LOCAL_STORAGE_PREFIX")||Cypress.env("NEXT_PUBLIC_SECURE_LOCAL_STORAGE_PREFIX")||Cypress.env("VITE_SECURE_LOCAL_STORAGE_PREFIX"):typeof Et<"u"?t=Et.SECURE_LOCAL_STORAGE_PREFIX||Et.REACT_APP_SECURE_LOCAL_STORAGE_PREFIX||Et.NEXT_PUBLIC_SECURE_LOCAL_STORAGE_PREFIX||Et.VITE_SECURE_LOCAL_STORAGE_PREFIX:console.warn("react-secure-storage : process is not defined! Just a warning!")}catch{return null}return t},h1=function(){var t=null;try{typeof Cypress<"u"?t=Cypress.env("SECURE_LOCAL_STORAGE_DISABLED_KEYS")||Cypress.env("REACT_APP_SECURE_LOCAL_STORAGE_DISABLED_KEYS")||Cypress.env("NEXT_PUBLIC_SECURE_LOCAL_STORAGE_DISABLED_KEYS")||Cypress.env("VITE_SECURE_LOCAL_STORAGE_DISABLED_KEYS"):typeof Et<"u"?t=Et.SECURE_LOCAL_STORAGE_DISABLED_KEYS||Et.REACT_APP_SECURE_LOCAL_STORAGE_DISABLED_KEYS||Et.NEXT_PUBLIC_SECURE_LOCAL_STORAGE_DISABLED_KEYS||Et.VITE_SECURE_LOCAL_STORAGE_DISABLED_KEYS:console.warn("react-secure-storage : process is not defined! Just a warning!")}catch{return null}return t},f1={getHashKey:d1,getStoragePrefix:u1,getDisabledKeys:h1},m1=f1;Lr.default=m1;var Yi={},lm={exports:{}};(function(e){function t(s,i){var a,c,l,u,h,m,g,x;for(a=s.length&3,c=s.length-a,l=i,h=3432918353,m=461845907,x=0;x<c;)g=s.charCodeAt(x)&255|(s.charCodeAt(++x)&255)<<8|(s.charCodeAt(++x)&255)<<16|(s.charCodeAt(++x)&255)<<24,++x,g=(g&65535)*h+(((g>>>16)*h&65535)<<16)&4294967295,g=g<<15|g>>>17,g=(g&65535)*m+(((g>>>16)*m&65535)<<16)&4294967295,l^=g,l=l<<13|l>>>19,u=(l&65535)*5+(((l>>>16)*5&65535)<<16)&4294967295,l=(u&65535)+27492+(((u>>>16)+58964&65535)<<16);switch(g=0,a){case 3:g^=(s.charCodeAt(x+2)&255)<<16;case 2:g^=(s.charCodeAt(x+1)&255)<<8;case 1:g^=s.charCodeAt(x)&255,g=(g&65535)*h+(((g>>>16)*h&65535)<<16)&4294967295,g=g<<15|g>>>17,g=(g&65535)*m+(((g>>>16)*m&65535)<<16)&4294967295,l^=g}return l^=s.length,l^=l>>>16,l=(l&65535)*2246822507+(((l>>>16)*2246822507&65535)<<16)&4294967295,l^=l>>>13,l=(l&65535)*3266489909+(((l>>>16)*3266489909&65535)<<16)&4294967295,l^=l>>>16,l>>>0}e.exports=t})(lm);var p1=lm.exports,pn={};Object.defineProperty(pn,"__esModule",{value:!0});pn.getSecurePrefix=pn.getDisabledKeys=pn.FINGERPRINT_KEYS=void 0;var cm=g1(Lr);function g1(e){return e&&e.__esModule?e:{default:e}}var x1=function(){var t=cm.default.getStoragePrefix()||"@secure.";return t.endsWith(".")?t:t+"."};pn.getSecurePrefix=x1;var zt={USERAGENT:"UserAgent",SCREEN_PRINT:"ScreenPrint",PLUGINS:"Plugins",FONTS:"Fonts",LOCAL_STORAGE:"LocalStorage",SESSION_STORAGE:"SessionStorage",TIMEZONE:"TimeZone",LANGUAGE:"Language",SYSTEM_LANGUAGE:"SystemLanguage",COOKIE:"Cookie",CANVAS:"Canvas",HOSTNAME:"Hostname"};pn.FINGERPRINT_KEYS=zt;var v1=function(){var t=cm.default.getDisabledKeys()||"";if(t==="")return[];var s=[zt.USERAGENT,zt.SCREEN_PRINT,zt.PLUGINS,zt.FONTS,zt.LOCAL_STORAGE,zt.SESSION_STORAGE,zt.TIMEZONE,zt.LANGUAGE,zt.SYSTEM_LANGUAGE,zt.COOKIE,zt.CANVAS,zt.HOSTNAME],i=[];return t.split("|").forEach(function(a){a===""||(s.includes(a)?i.push(a):console.warn("react-secure-storage : ".concat(a," is not present in the available disabled keys options! Please go through the documentation")))}),i};pn.getDisabledKeys=v1;Object.defineProperty(Yi,"__esModule",{value:!0});Yi.default=void 0;var y1=_1(p1),Bt=pn;function _1(e){return e&&e.__esModule?e:{default:e}}function b1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w1(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function j1(e,t,s){return t&&w1(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var S1=function(){function e(){b1(this,e)}return j1(e,[{key:"getFingerprint",value:function(){var s="|",i=(0,Bt.getDisabledKeys)(),a="";i.includes(Bt.FINGERPRINT_KEYS.USERAGENT)||(a+=navigator.userAgent+s),i.includes(Bt.FINGERPRINT_KEYS.HOSTNAME)||(a+=window.location.hostname+s),i.includes(Bt.FINGERPRINT_KEYS.SCREEN_PRINT)||(a+=this.getScreenPrint()+s),i.includes(Bt.FINGERPRINT_KEYS.PLUGINS)||(a+=this.getPlugins()+s),i.includes(Bt.FINGERPRINT_KEYS.FONTS)||(a+=this.getFonts()+s),i.includes(Bt.FINGERPRINT_KEYS.LOCAL_STORAGE)||(a+=this.isLocalStorage()+s),i.includes(Bt.FINGERPRINT_KEYS.SESSION_STORAGE)||(a+=this.isSessionStorage()+s),i.includes(Bt.FINGERPRINT_KEYS.TIMEZONE)||(a+=this.getTimeZone()+s),i.includes(Bt.FINGERPRINT_KEYS.LANGUAGE)||(a+=this.getLanguage()+s),i.includes(Bt.FINGERPRINT_KEYS.SYSTEM_LANGUAGE)||(a+=this.getSystemLanguage()+s),i.includes(Bt.FINGERPRINT_KEYS.COOKIE)||(a+=this.isCookie()+s),i.includes(Bt.FINGERPRINT_KEYS.CANVAS)||(a+=this.getCanvasPrint()),a.endsWith(s)&&(a=a.substring(0,a.length-1));var c=256;return(0,y1.default)(a,c)}},{key:"getScreenPrint",value:function(){return"Color Depth: "+this.getColorDepth()+", Device XDPI: "+this.getDeviceXDPI()+", Device YDPI: "+this.getDeviceYDPI()}},{key:"getColorDepth",value:function(){return window.screen.colorDepth}},{key:"getCurrentResolution",value:function(){return window.screen.width+"x"+window.screen.height}},{key:"getAvailableResolution",value:function(){return window.screen.availWidth+"x"+window.screen.availHeight}},{key:"getDeviceXDPI",value:function(){return""}},{key:"getDeviceYDPI",value:function(){return""}},{key:"getPlugins",value:function(){for(var s="",i=0;i<navigator.plugins.length;i++)i===navigator.plugins.length-1?s+=navigator.plugins[i].name:s+=navigator.plugins[i].name+", ";return s}},{key:"getFonts",value:function(){var s="";return s}},{key:"isLocalStorage",value:function(){try{return!!localStorage}catch{return!0}}},{key:"isSessionStorage",value:function(){try{return!!sessionStorage}catch{return!0}}},{key:"isCookie",value:function(){return navigator.cookieEnabled}},{key:"getTimeZone",value:function(){var s,i,a,c;return s=new Date,i=String(-(s.getTimezoneOffset()/60)),i<0?(i=i*-1,a=("0"+i).slice(-2),c="-"+a):(a=("0"+i).slice(-2),c="+"+a),c}},{key:"getLanguage",value:function(){return navigator.language}},{key:"getSystemLanguage",value:function(){return navigator.language||window.navigator.language}},{key:"getCanvasPrint",value:function(){var s=document.createElement("canvas"),i;try{i=s.getContext("2d")}catch{return""}var a="ClientJS,org <canvas> 1.0";return i.textBaseline="top",i.font="14px 'Arial'",i.textBaseline="alphabetic",i.fillStyle="#f60",i.fillRect(125,1,62,20),i.fillStyle="#069",i.fillText(a,2,15),i.fillStyle="rgba(102, 204, 0, 0.7)",i.fillText(a,4,17),s.toDataURL()}}]),e}(),N1=new S1,C1=N1;Yi.default=C1;Object.defineProperty(qi,"__esModule",{value:!0});qi.default=void 0;var T1=dm(Lr),P1=dm(Yi);function dm(e){return e&&e.__esModule?e:{default:e}}var E1="E86E2612010258B35137",L1=function(){var t=T1.default.getHashKey()||E1;return typeof window>"u"?t:P1.default.getFingerprint()+t},A1=L1;qi.default=A1;Object.defineProperty(Er,"__esModule",{value:!0});Er.default=void 0;var k1=Ol(s1),ju=Ol(c1),R1=Ol(qi);function Ol(e){return e&&e.__esModule?e:{default:e}}function M1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I1(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function O1(e,t,s){return t&&I1(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function D1(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var B1=function(){function e(){M1(this,e),D1(this,"secureKey",""),this.secureKey=(0,R1.default)()}return O1(e,[{key:"encrypt",value:function(s){return ju.default.encrypt(s,this.secureKey).toString()}},{key:"decrypt",value:function(s){try{var i=ju.default.decrypt(s,this.secureKey);return i.toString(k1.default)||null}catch{return null}}}]),e}(),z1=B1;Er.default=z1;var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.default=void 0;var F1=$1(Er),V1=pn;function $1(e){return e&&e.__esModule?e:{default:e}}function U1(e,t){return G1(e)||Z1(e,t)||W1(e,t)||H1()}function H1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W1(e,t){if(e){if(typeof e=="string")return Su(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Su(e,t)}}function Su(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,i=new Array(t);s<t;s++)i[s]=e[s];return i}function Z1(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var i=[],a=!0,c=!1,l,u;try{for(s=s.call(e);!(a=(l=s.next()).done)&&(i.push(l.value),!(t&&i.length===t));a=!0);}catch(h){c=!0,u=h}finally{try{!a&&s.return!=null&&s.return()}finally{if(c)throw u}}return i}}function G1(e){if(Array.isArray(e))return e}var Nu=(0,V1.getSecurePrefix)(),K1=function(){var t={};if(typeof window<"u")for(var s=new F1.default,i=0,a=Object.entries(localStorage);i<a.length;i++){var c=U1(a[i],2),l=c[0],u=c[1];if(l.startsWith(Nu)){var h=l.replace(Nu,"")[0],m=l.replace(/[.][bjns][.]/,"."),g=s.decrypt(u),x=null;if(g!=null)switch(h){case"b":x=g==="true";break;case"j":try{x=JSON.parse(g)}catch{x=null}break;case"n":try{x=Number(g)}catch{x=null}break;default:x=g}t[m]=x}}return t},q1=K1;Xi.default=q1;Object.defineProperty(Il,"__esModule",{value:!0});var ct=Il.default=void 0,Y1=um(Er),X1=um(Xi),J1=pn;function um(e){return e&&e.__esModule?e:{default:e}}function Q1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ej(e,t){for(var s=0;s<t.length;s++){var i=t[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function tj(e,t,s){return t&&ej(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nj(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ri(e){"@babel/helpers - typeof";return Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ri(e)}var bi=(0,J1.getSecurePrefix)(),sj=function(t){return Ri(t)==="object"?"j":typeof t=="boolean"?"b":typeof t=="number"?"n":"s"},Cu=function(t,s){var i=sj(s);return bi+"".concat(i,".")+t},rj=function(){function e(){Q1(this,e),nj(this,"_localStorageItems",{}),this._localStorageItems=(0,X1.default)()}return tj(e,[{key:"setItem",value:function(s,i){if(i==null)this.removeItem(s);else{var a=Ri(i)==="object"?JSON.stringify(i):i+"",c=Cu(s,i),l=bi+s;s!=null&&(this._localStorageItems[l]=i);var u=new Y1.default;localStorage.setItem(c,u.encrypt(a))}}},{key:"getItem",value:function(s){var i,a=bi+s;return(i=this._localStorageItems[a])!==null&&i!==void 0?i:null}},{key:"removeItem",value:function(s){var i=bi+s,a=this._localStorageItems[i],c=Cu(s,a);this._localStorageItems[i]!==void 0&&delete this._localStorageItems[i],localStorage.removeItem(c)}},{key:"clear",value:function(){this._localStorageItems={},localStorage.clear()}}]),e}(),ij=new rj,oj=ij;ct=Il.default=oj;class lr extends Error{}lr.prototype.name="InvalidTokenError";function aj(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,s)=>{let i=s.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}function lj(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return aj(t)}catch{return atob(t)}}function Tu(e,t){if(typeof e!="string")throw new lr("Invalid token specified: must be a string");t||(t={});const s=t.header===!0?0:1,i=e.split(".")[s];if(typeof i!="string")throw new lr(`Invalid token specified: missing part #${s+1}`);let a;try{a=lj(i)}catch(c){throw new lr(`Invalid token specified: invalid base64 for part #${s+1} (${c.message})`)}try{return JSON.parse(a)}catch(c){throw new lr(`Invalid token specified: invalid json for part #${s+1} (${c.message})`)}}function hm(e,t){return function(){return e.apply(t,arguments)}}const{toString:cj}=Object.prototype,{getPrototypeOf:Dl}=Object,Ji=(e=>t=>{const s=cj.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),rn=e=>(e=e.toLowerCase(),t=>Ji(t)===e),Qi=e=>t=>typeof t===e,{isArray:ks}=Array,wr=Qi("undefined");function dj(e){return e!==null&&!wr(e)&&e.constructor!==null&&!wr(e.constructor)&&Vt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const fm=rn("ArrayBuffer");function uj(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&fm(e.buffer),t}const hj=Qi("string"),Vt=Qi("function"),mm=Qi("number"),eo=e=>e!==null&&typeof e=="object",fj=e=>e===!0||e===!1,wi=e=>{if(Ji(e)!=="object")return!1;const t=Dl(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},mj=rn("Date"),pj=rn("File"),gj=rn("Blob"),xj=rn("FileList"),vj=e=>eo(e)&&Vt(e.pipe),yj=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Vt(e.append)&&((t=Ji(e))==="formdata"||t==="object"&&Vt(e.toString)&&e.toString()==="[object FormData]"))},_j=rn("URLSearchParams"),[bj,wj,jj,Sj]=["ReadableStream","Request","Response","Headers"].map(rn),Nj=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ar(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let i,a;if(typeof e!="object"&&(e=[e]),ks(e))for(i=0,a=e.length;i<a;i++)t.call(null,e[i],i,e);else{const c=s?Object.getOwnPropertyNames(e):Object.keys(e),l=c.length;let u;for(i=0;i<l;i++)u=c[i],t.call(null,e[u],u,e)}}function pm(e,t){t=t.toLowerCase();const s=Object.keys(e);let i=s.length,a;for(;i-- >0;)if(a=s[i],t===a.toLowerCase())return a;return null}const es=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,gm=e=>!wr(e)&&e!==es;function Aa(){const{caseless:e}=gm(this)&&this||{},t={},s=(i,a)=>{const c=e&&pm(t,a)||a;wi(t[c])&&wi(i)?t[c]=Aa(t[c],i):wi(i)?t[c]=Aa({},i):ks(i)?t[c]=i.slice():t[c]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Ar(arguments[i],s);return t}const Cj=(e,t,s,{allOwnKeys:i}={})=>(Ar(t,(a,c)=>{s&&Vt(a)?e[c]=hm(a,s):e[c]=a},{allOwnKeys:i}),e),Tj=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Pj=(e,t,s,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Ej=(e,t,s,i)=>{let a,c,l;const u={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),c=a.length;c-- >0;)l=a[c],(!i||i(l,e,t))&&!u[l]&&(t[l]=e[l],u[l]=!0);e=s!==!1&&Dl(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},Lj=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const i=e.indexOf(t,s);return i!==-1&&i===s},Aj=e=>{if(!e)return null;if(ks(e))return e;let t=e.length;if(!mm(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},kj=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Dl(Uint8Array)),Rj=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=i.next())&&!a.done;){const c=a.value;t.call(e,c[0],c[1])}},Mj=(e,t)=>{let s;const i=[];for(;(s=e.exec(t))!==null;)i.push(s);return i},Ij=rn("HTMLFormElement"),Oj=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,i,a){return i.toUpperCase()+a}),Pu=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Dj=rn("RegExp"),xm=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),i={};Ar(s,(a,c)=>{let l;(l=t(a,c,e))!==!1&&(i[c]=l||a)}),Object.defineProperties(e,i)},Bj=e=>{xm(e,(t,s)=>{if(Vt(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const i=e[s];if(Vt(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},zj=(e,t)=>{const s={},i=a=>{a.forEach(c=>{s[c]=!0})};return ks(e)?i(e):i(String(e).split(t)),s},Fj=()=>{},Vj=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,ra="abcdefghijklmnopqrstuvwxyz",Eu="0123456789",vm={DIGIT:Eu,ALPHA:ra,ALPHA_DIGIT:ra+ra.toUpperCase()+Eu},$j=(e=16,t=vm.ALPHA_DIGIT)=>{let s="";const{length:i}=t;for(;e--;)s+=t[Math.random()*i|0];return s};function Uj(e){return!!(e&&Vt(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Hj=e=>{const t=new Array(10),s=(i,a)=>{if(eo(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[a]=i;const c=ks(i)?[]:{};return Ar(i,(l,u)=>{const h=s(l,a+1);!wr(h)&&(c[u]=h)}),t[a]=void 0,c}}return i};return s(e,0)},Wj=rn("AsyncFunction"),Zj=e=>e&&(eo(e)||Vt(e))&&Vt(e.then)&&Vt(e.catch),ym=((e,t)=>e?setImmediate:t?((s,i)=>(es.addEventListener("message",({source:a,data:c})=>{a===es&&c===s&&i.length&&i.shift()()},!1),a=>{i.push(a),es.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Vt(es.postMessage)),Gj=typeof queueMicrotask<"u"?queueMicrotask.bind(es):typeof process<"u"&&process.nextTick||ym,Y={isArray:ks,isArrayBuffer:fm,isBuffer:dj,isFormData:yj,isArrayBufferView:uj,isString:hj,isNumber:mm,isBoolean:fj,isObject:eo,isPlainObject:wi,isReadableStream:bj,isRequest:wj,isResponse:jj,isHeaders:Sj,isUndefined:wr,isDate:mj,isFile:pj,isBlob:gj,isRegExp:Dj,isFunction:Vt,isStream:vj,isURLSearchParams:_j,isTypedArray:kj,isFileList:xj,forEach:Ar,merge:Aa,extend:Cj,trim:Nj,stripBOM:Tj,inherits:Pj,toFlatObject:Ej,kindOf:Ji,kindOfTest:rn,endsWith:Lj,toArray:Aj,forEachEntry:Rj,matchAll:Mj,isHTMLForm:Ij,hasOwnProperty:Pu,hasOwnProp:Pu,reduceDescriptors:xm,freezeMethods:Bj,toObjectSet:zj,toCamelCase:Oj,noop:Fj,toFiniteNumber:Vj,findKey:pm,global:es,isContextDefined:gm,ALPHABET:vm,generateString:$j,isSpecCompliantForm:Uj,toJSONObject:Hj,isAsyncFn:Wj,isThenable:Zj,setImmediate:ym,asap:Gj};function Ve(e,t,s,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}Y.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const _m=Ve.prototype,bm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{bm[e]={value:e}});Object.defineProperties(Ve,bm);Object.defineProperty(_m,"isAxiosError",{value:!0});Ve.from=(e,t,s,i,a,c)=>{const l=Object.create(_m);return Y.toFlatObject(e,l,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),Ve.call(l,e.message,t,s,i,a),l.cause=e,l.name=e.name,c&&Object.assign(l,c),l};const Kj=null;function ka(e){return Y.isPlainObject(e)||Y.isArray(e)}function wm(e){return Y.endsWith(e,"[]")?e.slice(0,-2):e}function Lu(e,t,s){return e?e.concat(t).map(function(a,c){return a=wm(a),!s&&c?"["+a+"]":a}).join(s?".":""):t}function qj(e){return Y.isArray(e)&&!e.some(ka)}const Yj=Y.toFlatObject(Y,{},null,function(t){return/^is[A-Z]/.test(t)});function to(e,t,s){if(!Y.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=Y.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,N){return!Y.isUndefined(N[b])});const i=s.metaTokens,a=s.visitor||g,c=s.dots,l=s.indexes,h=(s.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(t);if(!Y.isFunction(a))throw new TypeError("visitor must be a function");function m(w){if(w===null)return"";if(Y.isDate(w))return w.toISOString();if(!h&&Y.isBlob(w))throw new Ve("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(w)||Y.isTypedArray(w)?h&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function g(w,b,N){let T=w;if(w&&!N&&typeof w=="object"){if(Y.endsWith(b,"{}"))b=i?b:b.slice(0,-2),w=JSON.stringify(w);else if(Y.isArray(w)&&qj(w)||(Y.isFileList(w)||Y.endsWith(b,"[]"))&&(T=Y.toArray(w)))return b=wm(b),T.forEach(function(j,P){!(Y.isUndefined(j)||j===null)&&t.append(l===!0?Lu([b],P,c):l===null?b:b+"[]",m(j))}),!1}return ka(w)?!0:(t.append(Lu(N,b,c),m(w)),!1)}const x=[],y=Object.assign(Yj,{defaultVisitor:g,convertValue:m,isVisitable:ka});function _(w,b){if(!Y.isUndefined(w)){if(x.indexOf(w)!==-1)throw Error("Circular reference detected in "+b.join("."));x.push(w),Y.forEach(w,function(T,C){(!(Y.isUndefined(T)||T===null)&&a.call(t,T,Y.isString(C)?C.trim():C,b,y))===!0&&_(T,b?b.concat(C):[C])}),x.pop()}}if(!Y.isObject(e))throw new TypeError("data must be an object");return _(e),t}function Au(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function Bl(e,t){this._pairs=[],e&&to(e,this,t)}const jm=Bl.prototype;jm.append=function(t,s){this._pairs.push([t,s])};jm.toString=function(t){const s=t?function(i){return t.call(this,i,Au)}:Au;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function Xj(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Sm(e,t,s){if(!t)return e;const i=s&&s.encode||Xj,a=s&&s.serialize;let c;if(a?c=a(t,s):c=Y.isURLSearchParams(t)?t.toString():new Bl(t,s).toString(i),c){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+c}return e}class ku{constructor(){this.handlers=[]}use(t,s,i){return this.handlers.push({fulfilled:t,rejected:s,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Y.forEach(this.handlers,function(i){i!==null&&t(i)})}}const Nm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Jj=typeof URLSearchParams<"u"?URLSearchParams:Bl,Qj=typeof FormData<"u"?FormData:null,eS=typeof Blob<"u"?Blob:null,tS={isBrowser:!0,classes:{URLSearchParams:Jj,FormData:Qj,Blob:eS},protocols:["http","https","file","blob","url","data"]},zl=typeof window<"u"&&typeof document<"u",Ra=typeof navigator=="object"&&navigator||void 0,nS=zl&&(!Ra||["ReactNative","NativeScript","NS"].indexOf(Ra.product)<0),sS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rS=zl&&window.location.href||"http://localhost",iS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zl,hasStandardBrowserEnv:nS,hasStandardBrowserWebWorkerEnv:sS,navigator:Ra,origin:rS},Symbol.toStringTag,{value:"Module"})),Mt={...iS,...tS};function oS(e,t){return to(e,new Mt.classes.URLSearchParams,Object.assign({visitor:function(s,i,a,c){return Mt.isNode&&Y.isBuffer(s)?(this.append(i,s.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},t))}function aS(e){return Y.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function lS(e){const t={},s=Object.keys(e);let i;const a=s.length;let c;for(i=0;i<a;i++)c=s[i],t[c]=e[c];return t}function Cm(e){function t(s,i,a,c){let l=s[c++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),h=c>=s.length;return l=!l&&Y.isArray(a)?a.length:l,h?(Y.hasOwnProp(a,l)?a[l]=[a[l],i]:a[l]=i,!u):((!a[l]||!Y.isObject(a[l]))&&(a[l]=[]),t(s,i,a[l],c)&&Y.isArray(a[l])&&(a[l]=lS(a[l])),!u)}if(Y.isFormData(e)&&Y.isFunction(e.entries)){const s={};return Y.forEachEntry(e,(i,a)=>{t(aS(i),a,s,0)}),s}return null}function cS(e,t,s){if(Y.isString(e))try{return(t||JSON.parse)(e),Y.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(s||JSON.stringify)(e)}const kr={transitional:Nm,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const i=s.getContentType()||"",a=i.indexOf("application/json")>-1,c=Y.isObject(t);if(c&&Y.isHTMLForm(t)&&(t=new FormData(t)),Y.isFormData(t))return a?JSON.stringify(Cm(t)):t;if(Y.isArrayBuffer(t)||Y.isBuffer(t)||Y.isStream(t)||Y.isFile(t)||Y.isBlob(t)||Y.isReadableStream(t))return t;if(Y.isArrayBufferView(t))return t.buffer;if(Y.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(c){if(i.indexOf("application/x-www-form-urlencoded")>-1)return oS(t,this.formSerializer).toString();if((u=Y.isFileList(t))||i.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return to(u?{"files[]":t}:t,h&&new h,this.formSerializer)}}return c||a?(s.setContentType("application/json",!1),cS(t)):t}],transformResponse:[function(t){const s=this.transitional||kr.transitional,i=s&&s.forcedJSONParsing,a=this.responseType==="json";if(Y.isResponse(t)||Y.isReadableStream(t))return t;if(t&&Y.isString(t)&&(i&&!this.responseType||a)){const l=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(u){if(l)throw u.name==="SyntaxError"?Ve.from(u,Ve.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mt.classes.FormData,Blob:Mt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],e=>{kr.headers[e]={}});const dS=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uS=e=>{const t={};let s,i,a;return e&&e.split(`
`).forEach(function(l){a=l.indexOf(":"),s=l.substring(0,a).trim().toLowerCase(),i=l.substring(a+1).trim(),!(!s||t[s]&&dS[s])&&(s==="set-cookie"?t[s]?t[s].push(i):t[s]=[i]:t[s]=t[s]?t[s]+", "+i:i)}),t},Ru=Symbol("internals");function rr(e){return e&&String(e).trim().toLowerCase()}function ji(e){return e===!1||e==null?e:Y.isArray(e)?e.map(ji):String(e)}function hS(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=s.exec(e);)t[i[1]]=i[2];return t}const fS=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ia(e,t,s,i,a){if(Y.isFunction(i))return i.call(this,t,s);if(a&&(t=s),!!Y.isString(t)){if(Y.isString(i))return t.indexOf(i)!==-1;if(Y.isRegExp(i))return i.test(t)}}function mS(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,i)=>s.toUpperCase()+i)}function pS(e,t){const s=Y.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+s,{value:function(a,c,l){return this[i].call(this,t,a,c,l)},configurable:!0})})}let It=class{constructor(t){t&&this.set(t)}set(t,s,i){const a=this;function c(u,h,m){const g=rr(h);if(!g)throw new Error("header name must be a non-empty string");const x=Y.findKey(a,g);(!x||a[x]===void 0||m===!0||m===void 0&&a[x]!==!1)&&(a[x||h]=ji(u))}const l=(u,h)=>Y.forEach(u,(m,g)=>c(m,g,h));if(Y.isPlainObject(t)||t instanceof this.constructor)l(t,s);else if(Y.isString(t)&&(t=t.trim())&&!fS(t))l(uS(t),s);else if(Y.isHeaders(t))for(const[u,h]of t.entries())c(h,u,i);else t!=null&&c(s,t,i);return this}get(t,s){if(t=rr(t),t){const i=Y.findKey(this,t);if(i){const a=this[i];if(!s)return a;if(s===!0)return hS(a);if(Y.isFunction(s))return s.call(this,a,i);if(Y.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=rr(t),t){const i=Y.findKey(this,t);return!!(i&&this[i]!==void 0&&(!s||ia(this,this[i],i,s)))}return!1}delete(t,s){const i=this;let a=!1;function c(l){if(l=rr(l),l){const u=Y.findKey(i,l);u&&(!s||ia(i,i[u],u,s))&&(delete i[u],a=!0)}}return Y.isArray(t)?t.forEach(c):c(t),a}clear(t){const s=Object.keys(this);let i=s.length,a=!1;for(;i--;){const c=s[i];(!t||ia(this,this[c],c,t,!0))&&(delete this[c],a=!0)}return a}normalize(t){const s=this,i={};return Y.forEach(this,(a,c)=>{const l=Y.findKey(i,c);if(l){s[l]=ji(a),delete s[c];return}const u=t?mS(c):String(c).trim();u!==c&&delete s[c],s[u]=ji(a),i[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return Y.forEach(this,(i,a)=>{i!=null&&i!==!1&&(s[a]=t&&Y.isArray(i)?i.join(", "):i)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const i=new this(t);return s.forEach(a=>i.set(a)),i}static accessor(t){const i=(this[Ru]=this[Ru]={accessors:{}}).accessors,a=this.prototype;function c(l){const u=rr(l);i[u]||(pS(a,l),i[u]=!0)}return Y.isArray(t)?t.forEach(c):c(t),this}};It.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(It.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[s]=i}}});Y.freezeMethods(It);function oa(e,t){const s=this||kr,i=t||s,a=It.from(i.headers);let c=i.data;return Y.forEach(e,function(u){c=u.call(s,c,a.normalize(),t?t.status:void 0)}),a.normalize(),c}function Tm(e){return!!(e&&e.__CANCEL__)}function Rs(e,t,s){Ve.call(this,e??"canceled",Ve.ERR_CANCELED,t,s),this.name="CanceledError"}Y.inherits(Rs,Ve,{__CANCEL__:!0});function Pm(e,t,s){const i=s.config.validateStatus;!s.status||!i||i(s.status)?e(s):t(new Ve("Request failed with status code "+s.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function gS(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function xS(e,t){e=e||10;const s=new Array(e),i=new Array(e);let a=0,c=0,l;return t=t!==void 0?t:1e3,function(h){const m=Date.now(),g=i[c];l||(l=m),s[a]=h,i[a]=m;let x=c,y=0;for(;x!==a;)y+=s[x++],x=x%e;if(a=(a+1)%e,a===c&&(c=(c+1)%e),m-l<t)return;const _=g&&m-g;return _?Math.round(y*1e3/_):void 0}}function vS(e,t){let s=0,i=1e3/t,a,c;const l=(m,g=Date.now())=>{s=g,a=null,c&&(clearTimeout(c),c=null),e.apply(null,m)};return[(...m)=>{const g=Date.now(),x=g-s;x>=i?l(m,g):(a=m,c||(c=setTimeout(()=>{c=null,l(a)},i-x)))},()=>a&&l(a)]}const Mi=(e,t,s=3)=>{let i=0;const a=xS(50,250);return vS(c=>{const l=c.loaded,u=c.lengthComputable?c.total:void 0,h=l-i,m=a(h),g=l<=u;i=l;const x={loaded:l,total:u,progress:u?l/u:void 0,bytes:h,rate:m||void 0,estimated:m&&u&&g?(u-l)/m:void 0,event:c,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(x)},s)},Mu=(e,t)=>{const s=e!=null;return[i=>t[0]({lengthComputable:s,total:e,loaded:i}),t[1]]},Iu=e=>(...t)=>Y.asap(()=>e(...t)),yS=Mt.hasStandardBrowserEnv?function(){const t=Mt.navigator&&/(msie|trident)/i.test(Mt.navigator.userAgent),s=document.createElement("a");let i;function a(c){let l=c;return t&&(s.setAttribute("href",l),l=s.href),s.setAttribute("href",l),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return i=a(window.location.href),function(l){const u=Y.isString(l)?a(l):l;return u.protocol===i.protocol&&u.host===i.host}}():function(){return function(){return!0}}(),_S=Mt.hasStandardBrowserEnv?{write(e,t,s,i,a,c){const l=[e+"="+encodeURIComponent(t)];Y.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),Y.isString(i)&&l.push("path="+i),Y.isString(a)&&l.push("domain="+a),c===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function bS(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function wS(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Em(e,t){return e&&!bS(t)?wS(e,t):t}const Ou=e=>e instanceof It?{...e}:e;function rs(e,t){t=t||{};const s={};function i(m,g,x){return Y.isPlainObject(m)&&Y.isPlainObject(g)?Y.merge.call({caseless:x},m,g):Y.isPlainObject(g)?Y.merge({},g):Y.isArray(g)?g.slice():g}function a(m,g,x){if(Y.isUndefined(g)){if(!Y.isUndefined(m))return i(void 0,m,x)}else return i(m,g,x)}function c(m,g){if(!Y.isUndefined(g))return i(void 0,g)}function l(m,g){if(Y.isUndefined(g)){if(!Y.isUndefined(m))return i(void 0,m)}else return i(void 0,g)}function u(m,g,x){if(x in t)return i(m,g);if(x in e)return i(void 0,m)}const h={url:c,method:c,data:c,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(m,g)=>a(Ou(m),Ou(g),!0)};return Y.forEach(Object.keys(Object.assign({},e,t)),function(g){const x=h[g]||a,y=x(e[g],t[g],g);Y.isUndefined(y)&&x!==u||(s[g]=y)}),s}const Lm=e=>{const t=rs({},e);let{data:s,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:c,headers:l,auth:u}=t;t.headers=l=It.from(l),t.url=Sm(Em(t.baseURL,t.url),e.params,e.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let h;if(Y.isFormData(s)){if(Mt.hasStandardBrowserEnv||Mt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((h=l.getContentType())!==!1){const[m,...g]=h?h.split(";").map(x=>x.trim()).filter(Boolean):[];l.setContentType([m||"multipart/form-data",...g].join("; "))}}if(Mt.hasStandardBrowserEnv&&(i&&Y.isFunction(i)&&(i=i(t)),i||i!==!1&&yS(t.url))){const m=a&&c&&_S.read(c);m&&l.set(a,m)}return t},jS=typeof XMLHttpRequest<"u",SS=jS&&function(e){return new Promise(function(s,i){const a=Lm(e);let c=a.data;const l=It.from(a.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:m}=a,g,x,y,_,w;function b(){_&&_(),w&&w(),a.cancelToken&&a.cancelToken.unsubscribe(g),a.signal&&a.signal.removeEventListener("abort",g)}let N=new XMLHttpRequest;N.open(a.method.toUpperCase(),a.url,!0),N.timeout=a.timeout;function T(){if(!N)return;const j=It.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),E={data:!u||u==="text"||u==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:j,config:e,request:N};Pm(function(V){s(V),b()},function(V){i(V),b()},E),N=null}"onloadend"in N?N.onloadend=T:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(T)},N.onabort=function(){N&&(i(new Ve("Request aborted",Ve.ECONNABORTED,e,N)),N=null)},N.onerror=function(){i(new Ve("Network Error",Ve.ERR_NETWORK,e,N)),N=null},N.ontimeout=function(){let P=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const E=a.transitional||Nm;a.timeoutErrorMessage&&(P=a.timeoutErrorMessage),i(new Ve(P,E.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,e,N)),N=null},c===void 0&&l.setContentType(null),"setRequestHeader"in N&&Y.forEach(l.toJSON(),function(P,E){N.setRequestHeader(E,P)}),Y.isUndefined(a.withCredentials)||(N.withCredentials=!!a.withCredentials),u&&u!=="json"&&(N.responseType=a.responseType),m&&([y,w]=Mi(m,!0),N.addEventListener("progress",y)),h&&N.upload&&([x,_]=Mi(h),N.upload.addEventListener("progress",x),N.upload.addEventListener("loadend",_)),(a.cancelToken||a.signal)&&(g=j=>{N&&(i(!j||j.type?new Rs(null,e,N):j),N.abort(),N=null)},a.cancelToken&&a.cancelToken.subscribe(g),a.signal&&(a.signal.aborted?g():a.signal.addEventListener("abort",g)));const C=gS(a.url);if(C&&Mt.protocols.indexOf(C)===-1){i(new Ve("Unsupported protocol "+C+":",Ve.ERR_BAD_REQUEST,e));return}N.send(c||null)})},NS=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let i=new AbortController,a;const c=function(m){if(!a){a=!0,u();const g=m instanceof Error?m:this.reason;i.abort(g instanceof Ve?g:new Rs(g instanceof Error?g.message:g))}};let l=t&&setTimeout(()=>{l=null,c(new Ve(`timeout ${t} of ms exceeded`,Ve.ETIMEDOUT))},t);const u=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(c):m.removeEventListener("abort",c)}),e=null)};e.forEach(m=>m.addEventListener("abort",c));const{signal:h}=i;return h.unsubscribe=()=>Y.asap(u),h}},CS=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let i=0,a;for(;i<s;)a=i+t,yield e.slice(i,a),i=a},TS=async function*(e,t){for await(const s of PS(e))yield*CS(s,t)},PS=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:i}=await t.read();if(s)break;yield i}}finally{await t.cancel()}},Du=(e,t,s,i)=>{const a=TS(e,t);let c=0,l,u=h=>{l||(l=!0,i&&i(h))};return new ReadableStream({async pull(h){try{const{done:m,value:g}=await a.next();if(m){u(),h.close();return}let x=g.byteLength;if(s){let y=c+=x;s(y)}h.enqueue(new Uint8Array(g))}catch(m){throw u(m),m}},cancel(h){return u(h),a.return()}},{highWaterMark:2})},no=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Am=no&&typeof ReadableStream=="function",ES=no&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),km=(e,...t)=>{try{return!!e(...t)}catch{return!1}},LS=Am&&km(()=>{let e=!1;const t=new Request(Mt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Bu=64*1024,Ma=Am&&km(()=>Y.isReadableStream(new Response("").body)),Ii={stream:Ma&&(e=>e.body)};no&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ii[t]&&(Ii[t]=Y.isFunction(e[t])?s=>s[t]():(s,i)=>{throw new Ve(`Response type '${t}' is not supported`,Ve.ERR_NOT_SUPPORT,i)})})})(new Response);const AS=async e=>{if(e==null)return 0;if(Y.isBlob(e))return e.size;if(Y.isSpecCompliantForm(e))return(await new Request(Mt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(e)||Y.isArrayBuffer(e))return e.byteLength;if(Y.isURLSearchParams(e)&&(e=e+""),Y.isString(e))return(await ES(e)).byteLength},kS=async(e,t)=>{const s=Y.toFiniteNumber(e.getContentLength());return s??AS(t)},RS=no&&(async e=>{let{url:t,method:s,data:i,signal:a,cancelToken:c,timeout:l,onDownloadProgress:u,onUploadProgress:h,responseType:m,headers:g,withCredentials:x="same-origin",fetchOptions:y}=Lm(e);m=m?(m+"").toLowerCase():"text";let _=NS([a,c&&c.toAbortSignal()],l),w;const b=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let N;try{if(h&&LS&&s!=="get"&&s!=="head"&&(N=await kS(g,i))!==0){let E=new Request(t,{method:"POST",body:i,duplex:"half"}),B;if(Y.isFormData(i)&&(B=E.headers.get("content-type"))&&g.setContentType(B),E.body){const[V,U]=Mu(N,Mi(Iu(h)));i=Du(E.body,Bu,V,U)}}Y.isString(x)||(x=x?"include":"omit");const T="credentials"in Request.prototype;w=new Request(t,{...y,signal:_,method:s.toUpperCase(),headers:g.normalize().toJSON(),body:i,duplex:"half",credentials:T?x:void 0});let C=await fetch(w);const j=Ma&&(m==="stream"||m==="response");if(Ma&&(u||j&&b)){const E={};["status","statusText","headers"].forEach(X=>{E[X]=C[X]});const B=Y.toFiniteNumber(C.headers.get("content-length")),[V,U]=u&&Mu(B,Mi(Iu(u),!0))||[];C=new Response(Du(C.body,Bu,V,()=>{U&&U(),b&&b()}),E)}m=m||"text";let P=await Ii[Y.findKey(Ii,m)||"text"](C,e);return!j&&b&&b(),await new Promise((E,B)=>{Pm(E,B,{data:P,headers:It.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:w})})}catch(T){throw b&&b(),T&&T.name==="TypeError"&&/fetch/i.test(T.message)?Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,e,w),{cause:T.cause||T}):Ve.from(T,T&&T.code,e,w)}}),Ia={http:Kj,xhr:SS,fetch:RS};Y.forEach(Ia,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const zu=e=>`- ${e}`,MS=e=>Y.isFunction(e)||e===null||e===!1,Rm={getAdapter:e=>{e=Y.isArray(e)?e:[e];const{length:t}=e;let s,i;const a={};for(let c=0;c<t;c++){s=e[c];let l;if(i=s,!MS(s)&&(i=Ia[(l=String(s)).toLowerCase()],i===void 0))throw new Ve(`Unknown adapter '${l}'`);if(i)break;a[l||"#"+c]=i}if(!i){const c=Object.entries(a).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=t?c.length>1?`since :
`+c.map(zu).join(`
`):" "+zu(c[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i},adapters:Ia};function aa(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Rs(null,e)}function Fu(e){return aa(e),e.headers=It.from(e.headers),e.data=oa.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Rm.getAdapter(e.adapter||kr.adapter)(e).then(function(i){return aa(e),i.data=oa.call(e,e.transformResponse,i),i.headers=It.from(i.headers),i},function(i){return Tm(i)||(aa(e),i&&i.response&&(i.response.data=oa.call(e,e.transformResponse,i.response),i.response.headers=It.from(i.response.headers))),Promise.reject(i)})}const Mm="1.7.7",Fl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Fl[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const Vu={};Fl.transitional=function(t,s,i){function a(c,l){return"[Axios v"+Mm+"] Transitional option '"+c+"'"+l+(i?". "+i:"")}return(c,l,u)=>{if(t===!1)throw new Ve(a(l," has been removed"+(s?" in "+s:"")),Ve.ERR_DEPRECATED);return s&&!Vu[l]&&(Vu[l]=!0,console.warn(a(l," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(c,l,u):!0}};function IS(e,t,s){if(typeof e!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let a=i.length;for(;a-- >0;){const c=i[a],l=t[c];if(l){const u=e[c],h=u===void 0||l(u,c,e);if(h!==!0)throw new Ve("option "+c+" must be "+h,Ve.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Ve("Unknown option "+c,Ve.ERR_BAD_OPTION)}}const Oa={assertOptions:IS,validators:Fl},Pn=Oa.validators;let ss=class{constructor(t){this.defaults=t,this.interceptors={request:new ku,response:new ku}}async request(t,s){try{return await this._request(t,s)}catch(i){if(i instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const c=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?c&&!String(i.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+c):i.stack=c}catch{}}throw i}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=rs(this.defaults,s);const{transitional:i,paramsSerializer:a,headers:c}=s;i!==void 0&&Oa.assertOptions(i,{silentJSONParsing:Pn.transitional(Pn.boolean),forcedJSONParsing:Pn.transitional(Pn.boolean),clarifyTimeoutError:Pn.transitional(Pn.boolean)},!1),a!=null&&(Y.isFunction(a)?s.paramsSerializer={serialize:a}:Oa.assertOptions(a,{encode:Pn.function,serialize:Pn.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let l=c&&Y.merge(c.common,c[s.method]);c&&Y.forEach(["delete","get","head","post","put","patch","common"],w=>{delete c[w]}),s.headers=It.concat(l,c);const u=[];let h=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(s)===!1||(h=h&&b.synchronous,u.unshift(b.fulfilled,b.rejected))});const m=[];this.interceptors.response.forEach(function(b){m.push(b.fulfilled,b.rejected)});let g,x=0,y;if(!h){const w=[Fu.bind(this),void 0];for(w.unshift.apply(w,u),w.push.apply(w,m),y=w.length,g=Promise.resolve(s);x<y;)g=g.then(w[x++],w[x++]);return g}y=u.length;let _=s;for(x=0;x<y;){const w=u[x++],b=u[x++];try{_=w(_)}catch(N){b.call(this,N);break}}try{g=Fu.call(this,_)}catch(w){return Promise.reject(w)}for(x=0,y=m.length;x<y;)g=g.then(m[x++],m[x++]);return g}getUri(t){t=rs(this.defaults,t);const s=Em(t.baseURL,t.url);return Sm(s,t.params,t.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(t){ss.prototype[t]=function(s,i){return this.request(rs(i||{},{method:t,url:s,data:(i||{}).data}))}});Y.forEach(["post","put","patch"],function(t){function s(i){return function(c,l,u){return this.request(rs(u||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:c,data:l}))}}ss.prototype[t]=s(),ss.prototype[t+"Form"]=s(!0)});let OS=class Im{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(c){s=c});const i=this;this.promise.then(a=>{if(!i._listeners)return;let c=i._listeners.length;for(;c-- >0;)i._listeners[c](a);i._listeners=null}),this.promise.then=a=>{let c;const l=new Promise(u=>{i.subscribe(u),c=u}).then(a);return l.cancel=function(){i.unsubscribe(c)},l},t(function(c,l,u){i.reason||(i.reason=new Rs(c,l,u),s(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=i=>{t.abort(i)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Im(function(a){t=a}),cancel:t}}};function DS(e){return function(s){return e.apply(null,s)}}function BS(e){return Y.isObject(e)&&e.isAxiosError===!0}const Da={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Da).forEach(([e,t])=>{Da[t]=e});function Om(e){const t=new ss(e),s=hm(ss.prototype.request,t);return Y.extend(s,ss.prototype,t,{allOwnKeys:!0}),Y.extend(s,t,null,{allOwnKeys:!0}),s.create=function(a){return Om(rs(e,a))},s}const gt=Om(kr);gt.Axios=ss;gt.CanceledError=Rs;gt.CancelToken=OS;gt.isCancel=Tm;gt.VERSION=Mm;gt.toFormData=to;gt.AxiosError=Ve;gt.Cancel=gt.CanceledError;gt.all=function(t){return Promise.all(t)};gt.spread=DS;gt.isAxiosError=BS;gt.mergeConfig=rs;gt.AxiosHeaders=It;gt.formToJSON=e=>Cm(Y.isHTMLForm(e)?new FormData(e):e);gt.getAdapter=Rm.getAdapter;gt.HttpStatusCode=Da;gt.default=gt;const{Axios:fL,AxiosError:mL,CanceledError:pL,isCancel:gL,CancelToken:xL,VERSION:vL,all:yL,Cancel:_L,isAxiosError:bL,spread:wL,toFormData:jL,AxiosHeaders:SL,HttpStatusCode:NL,formToJSON:CL,getAdapter:TL,mergeConfig:PL}=gt;console.log(" Environment VITE_APP_BASE_URL:","https://ai.research-hero.com");const Dm="https://ai.research-hero.com";console.log(" Using baseURL:",Dm);const we=gt.create({baseURL:Dm});console.log(" Axios instance created with baseURL:",we.defaults.baseURL);we.interceptors.request.use(e=>{try{const t=ct.getItem("token")||ct.getItem("authToken")||localStorage.getItem("token"),s=`${e.baseURL}${e.url}`;console.log(" Axios interceptor - Full URL:",s),console.log(" Axios interceptor - Base URL:",e.baseURL),console.log(" Axios interceptor - Request URL:",e.url),console.log(" Axios interceptor - Token found:",!!t),console.log(" Axios interceptor - Token preview:",t?String(t).substring(0,20)+"...":"null"),t&&typeof t=="string"?(e.headers.Authorization=`Bearer ${t}`,console.log(" Axios interceptor - Authorization header set")):(console.log(" Axios interceptor - No valid token found in storage"),console.log(" Available localStorage keys:",Object.keys(localStorage)))}catch(t){console.error(" Axios interceptor - Error accessing storage:",t)}return e},e=>(console.error(" Axios interceptor error:",e),Promise.reject(e)));we.interceptors.response.use(e=>{var t;return(t=e.config.url)!=null&&t.includes("/api/credits/balance")&&console.log(" Axios response - Credit balance API response:",e.data),e},e=>{var t,s,i;return(s=(t=e.config)==null?void 0:t.url)!=null&&s.includes("/api/credits/balance")&&console.error(" Axios response - Credit balance API error:",(i=e.response)==null?void 0:i.data),Promise.reject(e)});const Bm=f.createContext(void 0),zS=({children:e})=>{const[t,s]=f.useState(null),[i,a]=f.useState(null),[c,l]=f.useState(!1),[u,h]=f.useState(!1),[m,g]=f.useState(!0),x=Sr(),y=Iv(),_=j=>{var P;try{const E=Tu(j);let B;return E.user?B={id:E.user.id,email:E.user.email,first_name:E.user.first_name,last_name:E.user.last_name,username:E.user.username,role:(P=E.user.role_id)==null?void 0:P.toString(),role_id:E.user.role_id,isSuperAdmin:E.user.isSuperAdmin}:B={id:E.id||0,email:E.email||"",name:E.name,first_name:E.first_name,last_name:E.last_name,username:E.username,role:E.role,org_id:E.org_id,phone_number:E.phone_number,created_at:E.created_at,last_login:E.last_login,isSuperAdmin:E.isSuperAdmin},B}catch(E){return console.error("Error extracting user from token:",E),null}},w=f.useRef(new Set),b=async(j,P)=>new Promise(async(E,B)=>{var V;try{if(!P){console.warn("No user data provided for audit log"),E();return}const U=`${j}_${P.id}_${P.email}_${Date.now().toString().slice(0,-3)}`;if(w.current.has(U)){console.log(" Duplicate audit log prevented for:",j,P.email),E();return}if(w.current.add(U),w.current.size>10){const H=Array.from(w.current);w.current.clear(),H.slice(-5).forEach(O=>w.current.add(O))}const X=()=>{const H=navigator.userAgent;return H.includes("Chrome")?"Chrome":H.includes("Firefox")?"Firefox":H.includes("Safari")&&!H.includes("Chrome")?"Safari":H.includes("Edge")?"Edge":H.includes("Opera")?"Opera":"Other"},M={operation_type:"CREATE",table_name:"auth_sessions",record_id:((V=P.id)==null?void 0:V.toString())||"unknown",user_email:P.email,user_name:`${P.first_name||""} ${P.last_name||""}`.trim()||P.email,old_values:j==="LOGOUT"?{session_active:!0,user_authenticated:!0,user_id:P.id,user_email:P.email,user_name:`${P.first_name||""} ${P.last_name||""}`.trim()}:null,new_values:{action:j,user_id:P.id,user_email:P.email,user_name:`${P.first_name||""} ${P.last_name||""}`.trim()||P.email,timestamp:new Date().toISOString(),session_active:j==="LOGIN",user_authenticated:j==="LOGIN",browser:X(),platform:navigator.platform,user_agent:navigator.userAgent},metadata:{authentication_event:!0,action:j,session_type:"web",browser:X(),platform:navigator.platform,screen_resolution:`${screen.width}x${screen.height}`,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language,user_info:{id:P.id,email:P.email,name:`${P.first_name||""} ${P.last_name||""}`.trim()},cache_key:U}};console.log(" Creating audit log for:",j,"User:",P.email,"Key:",U);const $=await we.post("/api/audit-logs",M);console.log(" Audit log created successfully:",$.data),E()}catch(U){console.error(" Error creating audit log entry:",U),B(U)}}),N=async()=>{if(u){console.log(" Logout already in progress, skipping...");return}h(!0);try{if(i)try{await b("LOGOUT",i),console.log(" Logout audit log created for user:",i.email)}catch(j){console.warn(" Failed to create logout audit log:",j)}ct.removeItem("token"),ct.removeItem("authToken"),y.clear(),be(async()=>{const{cacheManager:j}=await Promise.resolve().then(()=>Ss);return{cacheManager:j}},void 0).then(({cacheManager:j})=>{j.clearBrowserCache()}).catch(j=>{console.warn("Could not clear browser cache:",j)}),s(null),a(null),l(!1),x("/login")}finally{setTimeout(()=>{h(!1)},1e3)}},T=j=>{console.log(" AuthContext: Checking token validity...");try{const P=Tu(j),E=Date.now()/1e3,B=P.exp-E;if(console.log(" AuthContext: Token expires in",Math.floor(B/60),"minutes"),P.exp<E)console.log(" AuthContext: Token has expired."),ct.removeItem("token"),ct.removeItem("authToken"),s(null),a(null),l(!1);else{console.log(" AuthContext: Token is valid, extracting user data...");const V=_(j);V?(s(j),a(V),l(!0),console.log(" AuthContext: User authenticated successfully:",V.email)):(console.log(" AuthContext: Failed to extract user data from token"),l(!1))}}catch(P){console.error(" AuthContext: Error decoding token:",P),ct.removeItem("token"),ct.removeItem("authToken"),s(null),a(null),l(!1)}};f.useEffect(()=>{console.log(" AuthContext: Initializing authentication check...");const j=ct.getItem("token"),P=ct.getItem("authToken");console.log(" AuthContext: Token found in storage:",!!j),console.log(" AuthContext: AuthToken found in storage:",!!P);const E=j||P;if(E&&typeof E=="string"){console.log(" AuthContext: Valid token found, checking validity...");try{T(E)}catch(B){console.error(" AuthContext: Error checking token validity on mount:",B),l(!1)}}else console.log(" AuthContext: No token found in secure storage."),l(!1);console.log(" AuthContext: Authentication check complete, setting loading to false"),g(!1)},[]),f.useEffect(()=>{i!=null&&i.id&&(console.log(` User changed to ID: ${i.id}, clearing cache to prevent cross-user data`),y.getQueryCache().getAll().length>0&&(y.clear(),be(async()=>{const{cacheManager:j}=await Promise.resolve().then(()=>Ss);return{cacheManager:j}},void 0).then(({cacheManager:j})=>{j.clearBrowserCache()}).catch(j=>{console.warn("Could not clear browser cache:",j)})))},[i==null?void 0:i.id]);const C=j=>{y.clear(),ct.setItem("token",j),T(j),setTimeout(()=>{const P=_(j);P&&b("LOGIN",P).catch(E=>{console.warn(" Failed to create login audit log:",E)})},100)};return r.jsx(Bm.Provider,{value:{isLoggedIn:c,token:t,user:i,login:C,logout:N,loading:m},children:e})},Vl=()=>{const e=f.useContext(Bm);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},zm=f.createContext(void 0),FS=({children:e})=>{const{user:t,isLoggedIn:s,token:i}=Vl(),[a,c]=f.useState([]),[l,u]=f.useState([]),[h,m]=f.useState([]),[g,x]=f.useState(null),[y,_]=f.useState([]),[w,b]=f.useState([]),[N,T]=f.useState(!1),[C,j]=f.useState(!0),P=async()=>{if(!t||!i||!s){c([]),u([]),m([]),x(null),_([]),b([]),T(!1),j(!1);return}try{j(!0);const ee=await we.get(`/api/users/${t.id}/with-roles`);if(ee.data.success){const ne=ee.data.data;_(ne.roles||[])}const de=await we.get(`/api/user-roles/user/${t.id}/permissions`);if(de.data.success){const ne=de.data.data;u(ne),c(ne.map(F=>F.permission_name))}const J=await we.get(`/api/role-page-permissions/user/${t.id}`);J.data.success&&b(J.data.data);const he=await we.get("/api/page-permissions/accessible/me");if(he.data.success&&m(he.data.data),t.role_id)try{const ne=await we.get(`/api/roles/${t.role_id}`);if(ne.data){x(ne.data);const F=ne.data.name==="super_admin"||t.role_id===1;T(F),console.log("Permission Context Debug:",{userId:t.id,roleId:t.role_id,roleName:ne.data.name,isSuperAdmin:F,roleData:ne.data,checkByName:ne.data.name==="super_admin",checkById:t.role_id===1})}}catch(ne){console.error("Error loading role:",ne),t.role_id===1&&(T(!0),console.log("Fallback: Setting super admin based on role_id = 1"))}}catch(ee){console.error("Error loading permissions:",ee),c([]),u([]),m([]),x(null),T(!1)}finally{j(!1)}},E=ee=>N?!0:a.includes(ee),B=ee=>N?!0:ee.some(de=>a.includes(de)),V=ee=>N?!0:ee.every(de=>a.includes(de)),U=ee=>N?!0:y.some(de=>de.name===ee),X=ee=>N?!0:ee.some(de=>y.some(J=>J.name===de)),M=(ee,de)=>{if(N)return!0;const J=w.find(he=>he.page_path===ee);if(!J)return!1;switch(de){case"view":return J.can_view;case"add":return J.can_add;case"update":return J.can_update;case"delete":return J.can_delete;default:return!1}},$=ee=>{if(N)return!0;const de=w.find(J=>J.page_path===ee);return de&&de.can_view?!0:h.some(J=>J.page_path===ee&&(J.is_public||E(J.required_permission||"")))},H=async()=>{await P()};f.useEffect(()=>{P()},[t,s,i]);const O={permissions:a,permissionDetails:l,accessiblePages:h,role:g,roles:y,pagePermissions:w,isSuperAdmin:N,loading:C,hasPermission:E,hasAnyPermission:B,hasAllPermissions:V,hasRole:U,hasAnyRole:X,canAccessPage:$,canPerformAction:M,refreshPermissions:H};return r.jsx(zm.Provider,{value:O,children:e})},VS=()=>{const e=f.useContext(zm);if(!e)throw new Error("usePermissions must be used within a PermissionProvider");return e},$l=f.memo(({delay:e=200,minDuration:t=200})=>{const[s,i]=f.useState(!1),[a,c]=f.useState(null);return f.useEffect(()=>{const l=setTimeout(()=>{i(!0),c(Date.now())},e);return()=>{clearTimeout(l)}},[e]),f.useEffect(()=>{if(s&&a){const l=Date.now()-a;if(l<t){const u=t-l,h=setTimeout(()=>{},u);return()=>clearTimeout(h)}}},[s,a,t]),s?r.jsxs("div",{className:"fixed inset-0 flex items-center justify-center bg-white",children:[r.jsxs("div",{className:"flex flex-col items-center gap-8",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-20 h-20 border-4 border-gray-200 rounded-full animate-spin"}),r.jsx("div",{className:"absolute inset-2 w-16 h-16 border-4 border-t-purple-500 border-r-blue-500 border-b-cyan-500 border-l-purple-500 rounded-full animate-spin",style:{animationDirection:"reverse",animationDuration:"1.5s"}}),r.jsx("div",{className:"absolute inset-6 w-8 h-8 bg-gradient-to-r from-purple-500 to-cyan-500 rounded-full animate-pulse shadow-lg shadow-purple-500/50"}),r.jsxs("div",{className:"absolute inset-0 w-20 h-20 animate-spin",style:{animationDuration:"3s"},children:[r.jsx("div",{className:"absolute top-0 left-1/2 w-2 h-2 bg-purple-500 rounded-full transform -translate-x-1/2 animate-pulse"}),r.jsx("div",{className:"absolute bottom-0 left-1/2 w-2 h-2 bg-cyan-500 rounded-full transform -translate-x-1/2 animate-pulse"})]}),r.jsx("div",{className:"absolute inset-0 w-20 h-20 rounded-full bg-gradient-to-r from-purple-500/20 to-cyan-500/20 blur-sm animate-pulse"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 via-blue-600 to-cyan-600 bg-clip-text text-transparent animate-pulse mb-2",children:"AI CRUITMENT"}),r.jsxs("div",{className:"flex items-center justify-center gap-1 mt-4",children:[r.jsx("span",{className:"text-gray-600 text-lg",children:"Loading"}),r.jsxs("div",{className:"flex gap-1 ml-1",children:[r.jsx("div",{className:"w-1 h-1 bg-purple-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),r.jsx("div",{className:"w-1 h-1 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),r.jsx("div",{className:"w-1 h-1 bg-cyan-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})]}),r.jsx("div",{className:"w-64 h-1 bg-gray-200 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-cyan-500 rounded-full animate-pulse",style:{width:"60%",animation:"progressBar 2s ease-in-out infinite"}})})]}),r.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-purple-500/20 rounded-full animate-ping",style:{animationDelay:"0s",animationDuration:"3s"}}),r.jsx("div",{className:"absolute top-1/3 right-1/4 w-1 h-1 bg-cyan-500/30 rounded-full animate-ping",style:{animationDelay:"1s",animationDuration:"4s"}}),r.jsx("div",{className:"absolute bottom-1/3 left-1/3 w-1.5 h-1.5 bg-blue-500/20 rounded-full animate-ping",style:{animationDelay:"2s",animationDuration:"5s"}}),r.jsx("div",{className:"absolute bottom-1/4 right-1/3 w-1 h-1 bg-purple-500/15 rounded-full animate-ping",style:{animationDelay:"0.5s",animationDuration:"3.5s"}})]}),r.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @keyframes progressBar {
          0%, 100% { transform: translateX(-100%); }
          50% { transform: translateX(300%); }
        }
      `}})]}):null});$l.displayName="FastLoading";const $S=({children:e})=>{const{isLoggedIn:t,loading:s,token:i,user:a}=Vl(),{loading:c}=VS(),[l,u]=f.useState(!1);return f.useEffect(()=>{const h=setTimeout(()=>{u(!0)},100);return()=>clearTimeout(h)},[]),console.log(" ProtectedRoutes: Auth state check",{isLoggedIn:t,authLoading:s,permissionLoading:c,hasToken:!!i,hasUser:!!a,userEmail:a==null?void 0:a.email,initialCheckComplete:l}),s||c||!l?(console.log(" ProtectedRoutes: Still loading, showing FastLoading..."),r.jsx($l,{delay:200})):t?(console.log(" ProtectedRoutes: User authenticated, rendering protected content"),e?r.jsx(r.Fragment,{children:e}):r.jsx(Th,{})):(console.log(" ProtectedRoutes: User not logged in, redirecting to login"),r.jsx(Av,{to:"/login",replace:!0}))},US={theme:"light"},Fm=f.createContext(US);function HS({children:e,...t}){const s={theme:"light"};return r.jsx(Fm.Provider,{...t,value:s,children:e})}const EL=()=>{const e=f.useContext(Fm);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Vm=f.memo(({className:e=""})=>{const[t,s]=f.useState(navigator.onLine),[i,a]=f.useState(!1);return f.useEffect(()=>{const c=()=>{s(!0),a(!0),setTimeout(()=>a(!1),3e3)},l=()=>{s(!1),a(!0)};return window.addEventListener("online",c),window.addEventListener("offline",l),()=>{window.removeEventListener("online",c),window.removeEventListener("offline",l)}},[]),!i&&t?null:r.jsx("div",{className:`fixed top-4 right-4 z-50 ${e}`,children:r.jsx("div",{className:`
        flex items-center gap-2 px-3 py-2 rounded-lg shadow-lg text-sm font-medium
        ${t?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"}
        transition-all duration-300 ease-in-out
      `,children:t?r.jsxs(r.Fragment,{children:[r.jsx(Jx,{className:"h-4 w-4"}),r.jsx("span",{children:"Connected"})]}):r.jsxs(r.Fragment,{children:[r.jsx(Qx,{className:"h-4 w-4"}),r.jsx("span",{children:"No Connection"})]})})})});Vm.displayName="ConnectionStatus";const $m=f.createContext(void 0),WS=({children:e})=>{const[t,s]=f.useState(!1),[i,a]=f.useState(!1),c=()=>{s(u=>!u)},l=()=>{s(!1)};return f.useEffect(()=>{const u=()=>{a(window.innerWidth<768)};return u(),window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u)}},[]),f.useEffect(()=>{i||s(!1)},[i]),r.jsx($m.Provider,{value:{isMobileMenuOpen:t,toggleMobileMenu:c,closeMobileMenu:l,isMobileView:i},children:e})},LL=()=>{const e=f.useContext($m);if(!e)throw new Error("useMobileMenu must be used within a MobileMenuProvider");return e},Yn=class Yn{constructor(){vs(this,"queryClient",null)}static getInstance(){return Yn.instance||(Yn.instance=new Yn),Yn.instance}setQueryClient(t){this.queryClient=t}clearAllCache(){this.queryClient&&(console.log(" Clearing all React Query cache..."),this.queryClient.clear()),this.clearBrowserCache()}clearQueryCache(t){this.queryClient&&(console.log(` Clearing cache for query: ${t.join(", ")}`),this.queryClient.removeQueries({queryKey:t}))}invalidateQueries(t){this.queryClient&&(console.log(` Invalidating queries: ${t.join(", ")}`),this.queryClient.invalidateQueries({queryKey:t}))}invalidateQueriesByPage(t){this.queryClient&&this.queryClient.getQueryCache().getAll().filter(c=>c.queryKey.some(u=>typeof u=="string"&&(u.includes(t.replace("/",""))||t.includes(u)))).forEach(c=>{var l;console.log(` Invalidating page-specific query: ${c.queryKey.join(", ")}`),(l=this.queryClient)==null||l.invalidateQueries({queryKey:c.queryKey})})}clearBrowserCache(){try{console.log(" Clearing browser storage (preserving auth tokens)...");const t=["authToken","token","react-secure-storage"];Object.keys(localStorage).forEach(c=>{!t.includes(c)&&!c.startsWith("react-secure-storage")&&localStorage.removeItem(c)});const i=["authToken","token"];Object.keys(sessionStorage).forEach(c=>{i.includes(c)||sessionStorage.removeItem(c)}),console.log(" Browser cache cleared successfully (auth tokens preserved)")}catch(t){console.error(" Error clearing browser cache:",t)}}autoCleanStaleCache(){if(this.queryClient){const t=this.queryClient.getQueryCache(),s=t.getAll();let i=0;s.forEach(a=>{const c=a.state,u=Date.now()-5*60*1e3;a.state.dataUpdatedAt&&a.state.dataUpdatedAt<u&&c.status!=="pending"&&(t.remove(a),i++)}),i>0&&console.log(` Auto-cleaned ${i} stale cache entries`)}}clearStaleCache(){console.log(" Clearing stale cache entries..."),this.autoCleanStaleCache()}forceRefresh(t){this.queryClient&&(console.log(` Force refreshing: ${t.join(", ")}`),this.queryClient.refetchQueries({queryKey:t}))}getCacheStats(){if(!this.queryClient)return{totalQueries:0,staleQueries:0,activeQueries:0};const s=this.queryClient.getQueryCache().getAll(),a=Date.now()-5*60*1e3;return{totalQueries:s.length,staleQueries:s.filter(l=>l.state.dataUpdatedAt&&l.state.dataUpdatedAt<a).length,activeQueries:s.filter(l=>l.state.status==="pending").length}}clearCacheForNavigation(){if(this.queryClient){console.log(" Clearing cache for page navigation...");const t=this.queryClient.getQueryCache();t.getAll().forEach(i=>{i.queryKey.some(l=>typeof l=="string"&&(l.includes("auth")||l.includes("user")||l.includes("permission")))||t.remove(i)}),console.log(" Navigation cache clear completed")}}setupAutoCacheManagement(){setInterval(()=>{this.autoCleanStaleCache()},2*60*1e3),setInterval(()=>{console.log(" Performing scheduled stale cache cleanup (preserving auth)..."),this.autoCleanStaleCache()},30*60*1e3)}};vs(Yn,"instance");let Oi=Yn;const Ba=Oi.getInstance(),Ss=Object.freeze(Object.defineProperty({__proto__:null,CacheManager:Oi,cacheManager:Ba},Symbol.toStringTag,{value:"Module"})),Xn=class Xn{constructor(){vs(this,"metrics",new Map);vs(this,"loadingStates",new Map)}static getInstance(){return Xn.instance||(Xn.instance=new Xn),Xn.instance}startTiming(t){this.metrics.set(`${t}_start`,performance.now()),this.loadingStates.set(t,!0),console.log(` Started timing: ${t}`)}endTiming(t){const s=this.metrics.get(`${t}_start`);if(!s)return console.warn(` No start time found for operation: ${t}`),0;const a=performance.now()-s;return this.metrics.set(`${t}_duration`,a),this.loadingStates.set(t,!1),console.log(` ${t} completed in ${a.toFixed(2)}ms`),a>2e3&&console.warn(` Slow operation detected: ${t} took ${a.toFixed(2)}ms`),a}getDuration(t){return this.metrics.get(`${t}_duration`)||0}isLoading(t){return this.loadingStates.get(t)||!1}getAllMetrics(){const t={};return this.metrics.forEach((s,i)=>{if(i.endsWith("_duration")){const a=i.replace("_duration","");t[a]=s}}),t}getPerformanceSummary(){const t=this.getAllMetrics(),s=Object.entries(t);if(s.length===0)return{totalOperations:0,averageLoadTime:0,slowOperations:[],fastOperations:[]};const a=s.reduce((u,[,h])=>u+h,0)/s.length,c=s.filter(([,u])=>u>1e3).map(([u,h])=>({name:u,duration:h})).sort((u,h)=>h.duration-u.duration),l=s.filter(([,u])=>u<=500).map(([u,h])=>({name:u,duration:h})).sort((u,h)=>u.duration-h.duration);return{totalOperations:s.length,averageLoadTime:a,slowOperations:c,fastOperations:l}}monitorApiCall(t,s){return this.startTiming(t),s().then(i=>(this.endTiming(t),i)).catch(i=>{throw this.endTiming(t),console.error(` API call failed: ${t}`,i),i})}monitorQuery(t,s){const i=`query_${t.join("_")}`;this.metrics.set(`${i}_duration`,s),s>1e3&&console.warn(` Slow query detected: ${t.join(", ")} took ${s.toFixed(2)}ms`)}clearMetrics(){this.metrics.clear(),this.loadingStates.clear(),console.log(" Performance metrics cleared")}logPerformanceReport(){const t=this.getPerformanceSummary();console.group(" Performance Report"),console.log(`Total Operations: ${t.totalOperations}`),console.log(`Average Load Time: ${t.averageLoadTime.toFixed(2)}ms`),t.slowOperations.length>0&&(console.group(" Slow Operations (>1s)"),t.slowOperations.forEach(({name:s,duration:i})=>{console.log(`${s}: ${i.toFixed(2)}ms`)}),console.groupEnd()),t.fastOperations.length>0&&(console.group(" Fast Operations (<500ms)"),t.fastOperations.slice(0,5).forEach(({name:s,duration:i})=>{console.log(`${s}: ${i.toFixed(2)}ms`)}),console.groupEnd()),console.groupEnd()}setupAutoMonitoring(){typeof window<"u"&&window.addEventListener("load",()=>{const t=performance.now();console.log(` Page loaded in ${t.toFixed(2)}ms`),this.metrics.set("page_load_duration",t)})}};vs(Xn,"instance");let za=Xn;const ZS=za.getInstance();function GS(){const[e,t]=f.useState(!1),[s,i]=f.useState(!0);return f.useEffect(()=>{const a=performance.getEntriesByType("navigation");a.length>0&&(a[0].type==="reload"?(t(!0),console.log(" Browser refresh detected - preserving authentication"),be(async()=>{const{cacheManager:u}=await Promise.resolve().then(()=>Ss);return{cacheManager:u}},void 0).then(({cacheManager:u})=>{u.clearStaleCache(),console.log(" Stale cache cleared due to browser refresh (auth preserved)")}).catch(u=>{console.warn("Could not clear stale cache on refresh:",u)})):t(!1));const c=setTimeout(()=>{i(!1)},500);return()=>clearTimeout(c)},[]),f.useEffect(()=>{const a=()=>{!document.hidden&&!s&&(console.log(" Page became visible, refreshing stale data..."),be(async()=>{const{cacheManager:c}=await Promise.resolve().then(()=>Ss);return{cacheManager:c}},void 0).then(({cacheManager:c})=>{c.autoCleanStaleCache()}).catch(c=>{console.warn("Could not clean stale cache on visibility change:",c)}))};return document.addEventListener("visibilitychange",a),()=>{document.removeEventListener("visibilitychange",a)}},[s]),f.useEffect(()=>{const a=()=>{console.log(" Connection restored, refreshing data..."),be(async()=>{const{cacheManager:l}=await Promise.resolve().then(()=>Ss);return{cacheManager:l}},void 0).then(({cacheManager:l})=>{l.forceRefresh(["dashboard","agents","calls"])}).catch(l=>{console.warn("Could not refresh data on reconnection:",l)})},c=()=>{console.log(" Connection lost")};return window.addEventListener("online",a),window.addEventListener("offline",c),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",c)}},[]),{isRefresh:e,isInitialLoad:s,isOnline:navigator.onLine}}function Um(e){var t,s,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=Um(e[t]))&&(i&&(i+=" "),i+=s)}else for(s in e)e[s]&&(i&&(i+=" "),i+=s);return i}function Hm(){for(var e,t,s=0,i="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=Um(e))&&(i&&(i+=" "),i+=t);return i}const Ul="-",KS=e=>{const t=YS(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:l=>{const u=l.split(Ul);return u[0]===""&&u.length!==1&&u.shift(),Wm(u,t)||qS(l)},getConflictingClassGroupIds:(l,u)=>{const h=s[l]||[];return u&&i[l]?[...h,...i[l]]:h}}},Wm=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const s=e[0],i=t.nextPart.get(s),a=i?Wm(e.slice(1),i):void 0;if(a)return a;if(t.validators.length===0)return;const c=e.join(Ul);return(l=t.validators.find(({validator:u})=>u(c)))==null?void 0:l.classGroupId},$u=/^\[(.+)\]$/,qS=e=>{if($u.test(e)){const t=$u.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},YS=e=>{const{theme:t,prefix:s}=e,i={nextPart:new Map,validators:[]};return JS(Object.entries(e.classGroups),s).forEach(([c,l])=>{Fa(l,i,c,t)}),i},Fa=(e,t,s,i)=>{e.forEach(a=>{if(typeof a=="string"){const c=a===""?t:Uu(t,a);c.classGroupId=s;return}if(typeof a=="function"){if(XS(a)){Fa(a(i),t,s,i);return}t.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(([c,l])=>{Fa(l,Uu(t,c),s,i)})})},Uu=(e,t)=>{let s=e;return t.split(Ul).forEach(i=>{s.nextPart.has(i)||s.nextPart.set(i,{nextPart:new Map,validators:[]}),s=s.nextPart.get(i)}),s},XS=e=>e.isThemeGetter,JS=(e,t)=>t?e.map(([s,i])=>{const a=i.map(c=>typeof c=="string"?t+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([l,u])=>[t+l,u])):c);return[s,a]}):e,QS=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,i=new Map;const a=(c,l)=>{s.set(c,l),t++,t>e&&(t=0,i=s,s=new Map)};return{get(c){let l=s.get(c);if(l!==void 0)return l;if((l=i.get(c))!==void 0)return a(c,l),l},set(c,l){s.has(c)?s.set(c,l):a(c,l)}}},Zm="!",eN=e=>{const{separator:t,experimentalParseClassName:s}=e,i=t.length===1,a=t[0],c=t.length,l=u=>{const h=[];let m=0,g=0,x;for(let N=0;N<u.length;N++){let T=u[N];if(m===0){if(T===a&&(i||u.slice(N,N+c)===t)){h.push(u.slice(g,N)),g=N+c;continue}if(T==="/"){x=N;continue}}T==="["?m++:T==="]"&&m--}const y=h.length===0?u:u.substring(g),_=y.startsWith(Zm),w=_?y.substring(1):y,b=x&&x>g?x-g:void 0;return{modifiers:h,hasImportantModifier:_,baseClassName:w,maybePostfixModifierPosition:b}};return s?u=>s({className:u,parseClassName:l}):l},tN=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(i=>{i[0]==="["?(t.push(...s.sort(),i),s=[]):s.push(i)}),t.push(...s.sort()),t},nN=e=>({cache:QS(e.cacheSize),parseClassName:eN(e),...KS(e)}),sN=/\s+/,rN=(e,t)=>{const{parseClassName:s,getClassGroupId:i,getConflictingClassGroupIds:a}=t,c=[],l=e.trim().split(sN);let u="";for(let h=l.length-1;h>=0;h-=1){const m=l[h],{modifiers:g,hasImportantModifier:x,baseClassName:y,maybePostfixModifierPosition:_}=s(m);let w=!!_,b=i(w?y.substring(0,_):y);if(!b){if(!w){u=m+(u.length>0?" "+u:u);continue}if(b=i(y),!b){u=m+(u.length>0?" "+u:u);continue}w=!1}const N=tN(g).join(":"),T=x?N+Zm:N,C=T+b;if(c.includes(C))continue;c.push(C);const j=a(b,w);for(let P=0;P<j.length;++P){const E=j[P];c.push(T+E)}u=m+(u.length>0?" "+u:u)}return u};function iN(){let e=0,t,s,i="";for(;e<arguments.length;)(t=arguments[e++])&&(s=Gm(t))&&(i&&(i+=" "),i+=s);return i}const Gm=e=>{if(typeof e=="string")return e;let t,s="";for(let i=0;i<e.length;i++)e[i]&&(t=Gm(e[i]))&&(s&&(s+=" "),s+=t);return s};function oN(e,...t){let s,i,a,c=l;function l(h){const m=t.reduce((g,x)=>x(g),e());return s=nN(m),i=s.cache.get,a=s.cache.set,c=u,u(h)}function u(h){const m=i(h);if(m)return m;const g=rN(h,s);return a(h,g),g}return function(){return c(iN.apply(null,arguments))}}const it=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},Km=/^\[(?:([a-z-]+):)?(.+)\]$/i,aN=/^\d+\/\d+$/,lN=new Set(["px","full","screen"]),cN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,hN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wn=e=>Ns(e)||lN.has(e)||aN.test(e),En=e=>Ms(e,"length",bN),Ns=e=>!!e&&!Number.isNaN(Number(e)),la=e=>Ms(e,"number",Ns),ir=e=>!!e&&Number.isInteger(Number(e)),mN=e=>e.endsWith("%")&&Ns(e.slice(0,-1)),$e=e=>Km.test(e),Ln=e=>cN.test(e),pN=new Set(["length","size","percentage"]),gN=e=>Ms(e,pN,qm),xN=e=>Ms(e,"position",qm),vN=new Set(["image","url"]),yN=e=>Ms(e,vN,jN),_N=e=>Ms(e,"",wN),or=()=>!0,Ms=(e,t,s)=>{const i=Km.exec(e);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):s(i[2]):!1},bN=e=>dN.test(e)&&!uN.test(e),qm=()=>!1,wN=e=>hN.test(e),jN=e=>fN.test(e),SN=()=>{const e=it("colors"),t=it("spacing"),s=it("blur"),i=it("brightness"),a=it("borderColor"),c=it("borderRadius"),l=it("borderSpacing"),u=it("borderWidth"),h=it("contrast"),m=it("grayscale"),g=it("hueRotate"),x=it("invert"),y=it("gap"),_=it("gradientColorStops"),w=it("gradientColorStopPositions"),b=it("inset"),N=it("margin"),T=it("opacity"),C=it("padding"),j=it("saturate"),P=it("scale"),E=it("sepia"),B=it("skew"),V=it("space"),U=it("translate"),X=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",$e,t],H=()=>[$e,t],O=()=>["",wn,En],ee=()=>["auto",Ns,$e],de=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",$e],k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[Ns,$e];return{cacheSize:500,separator:":",theme:{colors:[or],spacing:[wn,En],blur:["none","",Ln,$e],brightness:D(),borderColor:[e],borderRadius:["none","","full",Ln,$e],borderSpacing:H(),borderWidth:O(),contrast:D(),grayscale:F(),hueRotate:D(),invert:F(),gap:H(),gradientColorStops:[e],gradientColorStopPositions:[mN,En],inset:$(),margin:$(),opacity:D(),padding:H(),saturate:D(),scale:D(),sepia:F(),skew:D(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[Ln]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...de(),$e]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:X()}],"overscroll-x":[{"overscroll-x":X()}],"overscroll-y":[{"overscroll-y":X()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ir,$e]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",ir,$e]}],"grid-cols":[{"grid-cols":[or]}],"col-start-end":[{col:["auto",{span:["full",ir,$e]},$e]}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":[or]}],"row-start-end":[{row:["auto",{span:[ir,$e]},$e]}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...ne()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ne(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ne(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[V]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[V]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$e,t]}],"min-w":[{"min-w":[$e,t,"min","max","fit"]}],"max-w":[{"max-w":[$e,t,"none","full","min","max","fit","prose",{screen:[Ln]},Ln]}],h:[{h:[$e,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$e,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$e,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$e,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ln,En]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",la]}],"font-family":[{font:[or]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",Ns,la]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wn,$e]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wn,En]}],"underline-offset":[{"underline-offset":["auto",wn,$e]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...de(),xN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",gN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yN]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:J()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[wn,$e]}],"outline-w":[{outline:[wn,En]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[wn,En]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ln,_N]}],"shadow-color":[{shadow:[or]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...he(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":he()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[i]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Ln,$e]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[x]}],saturate:[{saturate:[j]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[ir,$e]}],"translate-x":[{"translate-x":[U]}],"translate-y":[{"translate-y":[U]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[wn,En,la]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},NN=oN(SN);function We(...e){return NN(Hm(e))}const Gt=f.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:We("rounded-xl border bg-card text-card-foreground shadow",e),...t}));Gt.displayName="Card";const Rn=f.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:We("flex flex-col space-y-1.5 p-6",e),...t}));Rn.displayName="CardHeader";const Mn=f.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:We("font-semibold leading-none tracking-tight",e),...t}));Mn.displayName="CardTitle";const Ym=f.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:We("text-sm text-muted-foreground",e),...t}));Ym.displayName="CardDescription";const Kt=f.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:We("p-6 pt-0",e),...t}));Kt.displayName="CardContent";const CN=f.forwardRef(({className:e,...t},s)=>r.jsx("div",{ref:s,className:We("flex items-center p-6 pt-0",e),...t}));CN.displayName="CardFooter";function TN(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Xm(...e){return t=>e.forEach(s=>TN(s,t))}function AL(...e){return f.useCallback(Xm(...e),e)}var Hl=f.forwardRef((e,t)=>{const{children:s,...i}=e,a=f.Children.toArray(s),c=a.find(EN);if(c){const l=c.props.children,u=a.map(h=>h===c?f.Children.count(l)>1?f.Children.only(null):f.isValidElement(l)?l.props.children:null:h);return r.jsx(Va,{...i,ref:t,children:f.isValidElement(l)?f.cloneElement(l,void 0,u):null})}return r.jsx(Va,{...i,ref:t,children:s})});Hl.displayName="Slot";var Va=f.forwardRef((e,t)=>{const{children:s,...i}=e;if(f.isValidElement(s)){const a=AN(s);return f.cloneElement(s,{...LN(i,s.props),ref:t?Xm(t,a):a})}return f.Children.count(s)>1?f.Children.only(null):null});Va.displayName="SlotClone";var PN=({children:e})=>r.jsx(r.Fragment,{children:e});function EN(e){return f.isValidElement(e)&&e.type===PN}function LN(e,t){const s={...t};for(const i in t){const a=e[i],c=t[i];/^on[A-Z]/.test(i)?a&&c?s[i]=(...u)=>{c(...u),a(...u)}:a&&(s[i]=a):i==="style"?s[i]={...a,...c}:i==="className"&&(s[i]=[a,c].filter(Boolean).join(" "))}return{...e,...s}}function AN(e){var i,a;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}const Hu=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Wu=Hm,Wl=(e,t)=>s=>{var i;if((t==null?void 0:t.variants)==null)return Wu(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:c}=t,l=Object.keys(a).map(m=>{const g=s==null?void 0:s[m],x=c==null?void 0:c[m];if(g===null)return null;const y=Hu(g)||Hu(x);return a[m][y]}),u=s&&Object.entries(s).reduce((m,g)=>{let[x,y]=g;return y===void 0||(m[x]=y),m},{}),h=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((m,g)=>{let{class:x,className:y,..._}=g;return Object.entries(_).every(w=>{let[b,N]=w;return Array.isArray(N)?N.includes({...c,...u}[b]):{...c,...u}[b]===N})?[...m,x,y]:m},[]);return Wu(e,l,h,s==null?void 0:s.class,s==null?void 0:s.className)},kN=Wl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ye=f.forwardRef(({className:e,variant:t,size:s,asChild:i=!1,...a},c)=>{const l=i?Hl:"button";return r.jsx(l,{className:We(kN({variant:t,size:s,className:e})),ref:c,...a})});ye.displayName="Button";const at=f.forwardRef(({className:e,type:t,...s},i)=>r.jsx("input",{type:t,className:We("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...s}));at.displayName="Input";var RN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],MN=RN.reduce((e,t)=>{const s=f.forwardRef((i,a)=>{const{asChild:c,...l}=i,u=c?Hl:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(u,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function kL(e,t){e&&Ps.flushSync(()=>e.dispatchEvent(t))}var IN="Label",Jm=f.forwardRef((e,t)=>r.jsx(MN.label,{...e,ref:t,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Jm.displayName=IN;var Qm=Jm;const ON=Wl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),He=f.forwardRef(({className:e,...t},s)=>r.jsx(Qm,{ref:s,className:We(ON(),e),...t}));He.displayName=Qm.displayName;const Zl=f.forwardRef(({className:e,...t},s)=>r.jsx("textarea",{className:We("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));Zl.displayName="Textarea";function Zu(e,[t,s]){return Math.min(s,Math.max(t,e))}function _t(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Gu(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function DN(...e){return t=>{let s=!1;const i=e.map(a=>{const c=Gu(a,t);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let a=0;a<i.length;a++){const c=i[a];typeof c=="function"?c():Gu(e[a],null)}}}}function At(...e){return f.useCallback(DN(...e),e)}function ep(e,t=[]){let s=[];function i(c,l){const u=f.createContext(l),h=s.length;s=[...s,l];const m=x=>{var T;const{scope:y,children:_,...w}=x,b=((T=y==null?void 0:y[e])==null?void 0:T[h])||u,N=f.useMemo(()=>w,Object.values(w));return r.jsx(b.Provider,{value:N,children:_})};m.displayName=c+"Provider";function g(x,y){var b;const _=((b=y==null?void 0:y[e])==null?void 0:b[h])||u,w=f.useContext(_);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${x}\` must be used within \`${c}\``)}return[m,g]}const a=()=>{const c=s.map(l=>f.createContext(l));return function(u){const h=(u==null?void 0:u[e])||c;return f.useMemo(()=>({[`__scope${e}`]:{...u,[e]:h}}),[u,h])}};return a.scopeName=e,[i,BN(a,...t)]}function BN(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const i=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const l=i.reduce((u,{useScope:h,scopeName:m})=>{const x=h(c)[`__scope${m}`];return{...u,...x}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return s.scopeName=t.scopeName,s}var zN=f.createContext(void 0);function FN(e){const t=f.useContext(zN);return e||t||"ltr"}function tp(e){const t=VN(e),s=f.forwardRef((i,a)=>{const{children:c,...l}=i,u=f.Children.toArray(c),h=u.find(UN);if(h){const m=h.props.children,g=u.map(x=>x===h?f.Children.count(m)>1?f.Children.only(null):f.isValidElement(m)?m.props.children:null:x);return r.jsx(t,{...l,ref:a,children:f.isValidElement(m)?f.cloneElement(m,void 0,g):null})}return r.jsx(t,{...l,ref:a,children:c})});return s.displayName=`${e}.Slot`,s}function VN(e){const t=f.forwardRef((s,i)=>{const{children:a,...c}=s,l=f.isValidElement(a)?WN(a):void 0,u=At(l,i);if(f.isValidElement(a)){const h=HN(c,a.props);return a.type!==f.Fragment&&(h.ref=u),f.cloneElement(a,h)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $N=Symbol("radix.slottable");function UN(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$N}function HN(e,t){const s={...t};for(const i in t){const a=e[i],c=t[i];/^on[A-Z]/.test(i)?a&&c?s[i]=(...u)=>{const h=c(...u);return a(...u),h}:a&&(s[i]=a):i==="style"?s[i]={...a,...c}:i==="className"&&(s[i]=[a,c].filter(Boolean).join(" "))}return{...e,...s}}function WN(e){var i,a;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var ZN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bt=ZN.reduce((e,t)=>{const s=tp(`Primitive.${t}`),i=f.forwardRef((a,c)=>{const{asChild:l,...u}=a,h=l?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(h,{...u,ref:c})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function GN(e,t){e&&Ps.flushSync(()=>e.dispatchEvent(t))}function Rr(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...s)=>{var i;return(i=t.current)==null?void 0:i.call(t,...s)},[])}function KN(e,t=globalThis==null?void 0:globalThis.document){const s=Rr(e);f.useEffect(()=>{const i=a=>{a.key==="Escape"&&s(a)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[s,t])}var qN="DismissableLayer",$a="dismissableLayer.update",YN="dismissableLayer.pointerDownOutside",XN="dismissableLayer.focusOutside",Ku,np=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sp=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:l,onDismiss:u,...h}=e,m=f.useContext(np),[g,x]=f.useState(null),y=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=f.useState({}),w=At(t,V=>x(V)),b=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),T=b.indexOf(N),C=g?b.indexOf(g):-1,j=m.layersWithOutsidePointerEventsDisabled.size>0,P=C>=T,E=eC(V=>{const U=V.target,X=[...m.branches].some(M=>M.contains(U));!P||X||(a==null||a(V),l==null||l(V),V.defaultPrevented||u==null||u())},y),B=tC(V=>{const U=V.target;[...m.branches].some(M=>M.contains(U))||(c==null||c(V),l==null||l(V),V.defaultPrevented||u==null||u())},y);return KN(V=>{C===m.layers.size-1&&(i==null||i(V),!V.defaultPrevented&&u&&(V.preventDefault(),u()))},y),f.useEffect(()=>{if(g)return s&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Ku=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),qu(),()=>{s&&m.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=Ku)}},[g,y,s,m]),f.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),qu())},[g,m]),f.useEffect(()=>{const V=()=>_({});return document.addEventListener($a,V),()=>document.removeEventListener($a,V)},[]),r.jsx(bt.div,{...h,ref:w,style:{pointerEvents:j?P?"auto":"none":void 0,...e.style},onFocusCapture:_t(e.onFocusCapture,B.onFocusCapture),onBlurCapture:_t(e.onBlurCapture,B.onBlurCapture),onPointerDownCapture:_t(e.onPointerDownCapture,E.onPointerDownCapture)})});sp.displayName=qN;var JN="DismissableLayerBranch",QN=f.forwardRef((e,t)=>{const s=f.useContext(np),i=f.useRef(null),a=At(t,i);return f.useEffect(()=>{const c=i.current;if(c)return s.branches.add(c),()=>{s.branches.delete(c)}},[s.branches]),r.jsx(bt.div,{...e,ref:a})});QN.displayName=JN;function eC(e,t=globalThis==null?void 0:globalThis.document){const s=Rr(e),i=f.useRef(!1),a=f.useRef(()=>{});return f.useEffect(()=>{const c=u=>{if(u.target&&!i.current){let h=function(){rp(YN,s,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=h,t.addEventListener("click",a.current,{once:!0})):h()}else t.removeEventListener("click",a.current);i.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",c),t.removeEventListener("click",a.current)}},[t,s]),{onPointerDownCapture:()=>i.current=!0}}function tC(e,t=globalThis==null?void 0:globalThis.document){const s=Rr(e),i=f.useRef(!1);return f.useEffect(()=>{const a=c=>{c.target&&!i.current&&rp(XN,s,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,s]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function qu(){const e=new CustomEvent($a);document.dispatchEvent(e)}function rp(e,t,s,{discrete:i}){const a=s.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),i?GN(a,c):a.dispatchEvent(c)}var Ot=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},nC=jr[" useId ".trim().toString()]||(()=>{}),sC=0;function Gl(e){const[t,s]=f.useState(nC());return Ot(()=>{s(i=>i??String(sC++))},[e]),t?`radix-${t}`:""}var rC="Arrow",ip=f.forwardRef((e,t)=>{const{children:s,width:i=10,height:a=5,...c}=e;return r.jsx(bt.svg,{...c,ref:t,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});ip.displayName=rC;var iC=ip;function oC(e){const[t,s]=f.useState(void 0);return Ot(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const c=a[0];let l,u;if("borderBoxSize"in c){const h=c.borderBoxSize,m=Array.isArray(h)?h[0]:h;l=m.inlineSize,u=m.blockSize}else l=e.offsetWidth,u=e.offsetHeight;s({width:l,height:u})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else s(void 0)},[e]),t}var Kl="Popper",[op,ap]=ep(Kl),[aC,lp]=op(Kl),cp=e=>{const{__scopePopper:t,children:s}=e,[i,a]=f.useState(null);return r.jsx(aC,{scope:t,anchor:i,onAnchorChange:a,children:s})};cp.displayName=Kl;var dp="PopperAnchor",up=f.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:i,...a}=e,c=lp(dp,s),l=f.useRef(null),u=At(t,l);return f.useEffect(()=>{c.onAnchorChange((i==null?void 0:i.current)||l.current)}),i?null:r.jsx(bt.div,{...a,ref:u})});up.displayName=dp;var ql="PopperContent",[lC,cC]=op(ql),hp=f.forwardRef((e,t)=>{var ue,Te,ze,K,ie,le;const{__scopePopper:s,side:i="bottom",sideOffset:a=0,align:c="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:x="partial",hideWhenDetached:y=!1,updatePositionStrategy:_="optimized",onPlaced:w,...b}=e,N=lp(ql,s),[T,C]=f.useState(null),j=At(t,Pe=>C(Pe)),[P,E]=f.useState(null),B=oC(P),V=(B==null?void 0:B.width)??0,U=(B==null?void 0:B.height)??0,X=i+(c!=="center"?"-"+c:""),M=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},$=Array.isArray(m)?m:[m],H=$.length>0,O={padding:M,boundary:$.filter(uC),altBoundary:H},{refs:ee,floatingStyles:de,placement:J,isPositioned:he,middlewareData:ne}=ev({strategy:"fixed",placement:X,whileElementsMounted:(...Pe)=>lv(...Pe,{animationFrame:_==="always"}),elements:{reference:N.anchor},middleware:[tv({mainAxis:a+U,alignmentAxis:l}),h&&nv({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?sv():void 0,...O}),h&&rv({...O}),iv({...O,apply:({elements:Pe,rects:Ne,availableWidth:Ae,availableHeight:Ke})=>{const{width:De,height:Oe}=Ne.reference,Ge=Pe.floating.style;Ge.setProperty("--radix-popper-available-width",`${Ae}px`),Ge.setProperty("--radix-popper-available-height",`${Ke}px`),Ge.setProperty("--radix-popper-anchor-width",`${De}px`),Ge.setProperty("--radix-popper-anchor-height",`${Oe}px`)}}),P&&ov({element:P,padding:u}),hC({arrowWidth:V,arrowHeight:U}),y&&av({strategy:"referenceHidden",...O})]}),[F,k]=pp(J),D=Rr(w);Ot(()=>{he&&(D==null||D())},[he,D]);const W=(ue=ne.arrow)==null?void 0:ue.x,z=(Te=ne.arrow)==null?void 0:Te.y,Z=((ze=ne.arrow)==null?void 0:ze.centerOffset)!==0,[ge,xe]=f.useState();return Ot(()=>{T&&xe(window.getComputedStyle(T).zIndex)},[T]),r.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:he?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(K=ne.transformOrigin)==null?void 0:K.x,(ie=ne.transformOrigin)==null?void 0:ie.y].join(" "),...((le=ne.hide)==null?void 0:le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(lC,{scope:s,placedSide:F,onArrowChange:E,arrowX:W,arrowY:z,shouldHideArrow:Z,children:r.jsx(bt.div,{"data-side":F,"data-align":k,...b,ref:j,style:{...b.style,animation:he?void 0:"none"}})})})});hp.displayName=ql;var fp="PopperArrow",dC={top:"bottom",right:"left",bottom:"top",left:"right"},mp=f.forwardRef(function(t,s){const{__scopePopper:i,...a}=t,c=cC(fp,i),l=dC[c.placedSide];return r.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:r.jsx(iC,{...a,ref:s,style:{...a.style,display:"block"}})})});mp.displayName=fp;function uC(e){return e!==null}var hC=e=>({name:"transformOrigin",options:e,fn(t){var N,T,C;const{placement:s,rects:i,middlewareData:a}=t,l=((N=a.arrow)==null?void 0:N.centerOffset)!==0,u=l?0:e.arrowWidth,h=l?0:e.arrowHeight,[m,g]=pp(s),x={start:"0%",center:"50%",end:"100%"}[g],y=(((T=a.arrow)==null?void 0:T.x)??0)+u/2,_=(((C=a.arrow)==null?void 0:C.y)??0)+h/2;let w="",b="";return m==="bottom"?(w=l?x:`${y}px`,b=`${-h}px`):m==="top"?(w=l?x:`${y}px`,b=`${i.floating.height+h}px`):m==="right"?(w=`${-h}px`,b=l?x:`${_}px`):m==="left"&&(w=`${i.floating.width+h}px`,b=l?x:`${_}px`),{data:{x:w,y:b}}}});function pp(e){const[t,s="center"]=e.split("-");return[t,s]}var fC=cp,mC=up,pC=hp,gC=mp,xC="Portal",gp=f.forwardRef((e,t)=>{var u;const{container:s,...i}=e,[a,c]=f.useState(!1);Ot(()=>c(!0),[]);const l=s||a&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?Ch.createPortal(r.jsx(bt.div,{...i,ref:t}),l):null});gp.displayName=xC;var vC=jr[" useInsertionEffect ".trim().toString()]||Ot;function Yu({prop:e,defaultProp:t,onChange:s=()=>{},caller:i}){const[a,c,l]=yC({defaultProp:t,onChange:s}),u=e!==void 0,h=u?e:a;{const g=f.useRef(e!==void 0);f.useEffect(()=>{const x=g.current;x!==u&&console.warn(`${i} is changing from ${x?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,i])}const m=f.useCallback(g=>{var x;if(u){const y=_C(g)?g(e):g;y!==e&&((x=l.current)==null||x.call(l,y))}else c(g)},[u,e,c,l]);return[h,m]}function yC({defaultProp:e,onChange:t}){const[s,i]=f.useState(e),a=f.useRef(s),c=f.useRef(t);return vC(()=>{c.current=t},[t]),f.useEffect(()=>{var l;a.current!==s&&((l=c.current)==null||l.call(c,s),a.current=s)},[s,a]),[s,i,c]}function _C(e){return typeof e=="function"}function xp(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var vp=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),bC="VisuallyHidden",wC=f.forwardRef((e,t)=>r.jsx(bt.span,{...e,ref:t,style:{...vp,...e.style}}));wC.displayName=bC;var jC=[" ","Enter","ArrowUp","ArrowDown"],SC=[" ","Enter"],is="Select",[so,ro,NC]=cv(is),[Is,RL]=ep(is,[NC,ap]),io=ap(),[CC,zn]=Is(is),[TC,PC]=Is(is),yp=e=>{const{__scopeSelect:t,children:s,open:i,defaultOpen:a,onOpenChange:c,value:l,defaultValue:u,onValueChange:h,dir:m,name:g,autoComplete:x,disabled:y,required:_,form:w}=e,b=io(t),[N,T]=f.useState(null),[C,j]=f.useState(null),[P,E]=f.useState(!1),B=FN(m),[V,U]=Yu({prop:i,defaultProp:a??!1,onChange:c,caller:is}),[X,M]=Yu({prop:l,defaultProp:u,onChange:h,caller:is}),$=f.useRef(null),H=N?w||!!N.closest("form"):!0,[O,ee]=f.useState(new Set),de=Array.from(O).map(J=>J.props.value).join(";");return r.jsx(fC,{...b,children:r.jsxs(CC,{required:_,scope:t,trigger:N,onTriggerChange:T,valueNode:C,onValueNodeChange:j,valueNodeHasChildren:P,onValueNodeHasChildrenChange:E,contentId:Gl(),value:X,onValueChange:M,open:V,onOpenChange:U,dir:B,triggerPointerDownPosRef:$,disabled:y,children:[r.jsx(so.Provider,{scope:t,children:r.jsx(TC,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(J=>{ee(he=>new Set(he).add(J))},[]),onNativeOptionRemove:f.useCallback(J=>{ee(he=>{const ne=new Set(he);return ne.delete(J),ne})},[]),children:s})}),H?r.jsxs(Up,{"aria-hidden":!0,required:_,tabIndex:-1,name:g,autoComplete:x,value:X,onChange:J=>M(J.target.value),disabled:y,form:w,children:[X===void 0?r.jsx("option",{value:""}):null,Array.from(O)]},de):null]})})};yp.displayName=is;var _p="SelectTrigger",bp=f.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:i=!1,...a}=e,c=io(s),l=zn(_p,s),u=l.disabled||i,h=At(t,l.onTriggerChange),m=ro(s),g=f.useRef("touch"),[x,y,_]=Wp(b=>{const N=m().filter(j=>!j.disabled),T=N.find(j=>j.value===l.value),C=Zp(N,b,T);C!==void 0&&l.onValueChange(C.value)}),w=b=>{u||(l.onOpenChange(!0),_()),b&&(l.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return r.jsx(mC,{asChild:!0,...c,children:r.jsx(bt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":Hp(l.value)?"":void 0,...a,ref:h,onClick:_t(a.onClick,b=>{b.currentTarget.focus(),g.current!=="mouse"&&w(b)}),onPointerDown:_t(a.onPointerDown,b=>{g.current=b.pointerType;const N=b.target;N.hasPointerCapture(b.pointerId)&&N.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(w(b),b.preventDefault())}),onKeyDown:_t(a.onKeyDown,b=>{const N=x.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&y(b.key),!(N&&b.key===" ")&&jC.includes(b.key)&&(w(),b.preventDefault())})})})});bp.displayName=_p;var wp="SelectValue",jp=f.forwardRef((e,t)=>{const{__scopeSelect:s,className:i,style:a,children:c,placeholder:l="",...u}=e,h=zn(wp,s),{onValueNodeHasChildrenChange:m}=h,g=c!==void 0,x=At(t,h.onValueNodeChange);return Ot(()=>{m(g)},[m,g]),r.jsx(bt.span,{...u,ref:x,style:{pointerEvents:"none"},children:Hp(h.value)?r.jsx(r.Fragment,{children:l}):c})});jp.displayName=wp;var EC="SelectIcon",Sp=f.forwardRef((e,t)=>{const{__scopeSelect:s,children:i,...a}=e;return r.jsx(bt.span,{"aria-hidden":!0,...a,ref:t,children:i||""})});Sp.displayName=EC;var LC="SelectPortal",Np=e=>r.jsx(gp,{asChild:!0,...e});Np.displayName=LC;var os="SelectContent",Cp=f.forwardRef((e,t)=>{const s=zn(os,e.__scopeSelect),[i,a]=f.useState();if(Ot(()=>{a(new DocumentFragment)},[]),!s.open){const c=i;return c?Ps.createPortal(r.jsx(Tp,{scope:e.__scopeSelect,children:r.jsx(so.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),c):null}return r.jsx(Pp,{...e,ref:t})});Cp.displayName=os;var tn=10,[Tp,Fn]=Is(os),AC="SelectContentImpl",kC=tp("SelectContent.RemoveScroll"),Pp=f.forwardRef((e,t)=>{const{__scopeSelect:s,position:i="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:c,onPointerDownOutside:l,side:u,sideOffset:h,align:m,alignOffset:g,arrowPadding:x,collisionBoundary:y,collisionPadding:_,sticky:w,hideWhenDetached:b,avoidCollisions:N,...T}=e,C=zn(os,s),[j,P]=f.useState(null),[E,B]=f.useState(null),V=At(t,ue=>P(ue)),[U,X]=f.useState(null),[M,$]=f.useState(null),H=ro(s),[O,ee]=f.useState(!1),de=f.useRef(!1);f.useEffect(()=>{if(j)return dv(j)},[j]),uv();const J=f.useCallback(ue=>{const[Te,...ze]=H().map(le=>le.ref.current),[K]=ze.slice(-1),ie=document.activeElement;for(const le of ue)if(le===ie||(le==null||le.scrollIntoView({block:"nearest"}),le===Te&&E&&(E.scrollTop=0),le===K&&E&&(E.scrollTop=E.scrollHeight),le==null||le.focus(),document.activeElement!==ie))return},[H,E]),he=f.useCallback(()=>J([U,j]),[J,U,j]);f.useEffect(()=>{O&&he()},[O,he]);const{onOpenChange:ne,triggerPointerDownPosRef:F}=C;f.useEffect(()=>{if(j){let ue={x:0,y:0};const Te=K=>{var ie,le;ue={x:Math.abs(Math.round(K.pageX)-(((ie=F.current)==null?void 0:ie.x)??0)),y:Math.abs(Math.round(K.pageY)-(((le=F.current)==null?void 0:le.y)??0))}},ze=K=>{ue.x<=10&&ue.y<=10?K.preventDefault():j.contains(K.target)||ne(!1),document.removeEventListener("pointermove",Te),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",ze,{capture:!0})}}},[j,ne,F]),f.useEffect(()=>{const ue=()=>ne(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[ne]);const[k,D]=Wp(ue=>{const Te=H().filter(ie=>!ie.disabled),ze=Te.find(ie=>ie.ref.current===document.activeElement),K=Zp(Te,ue,ze);K&&setTimeout(()=>K.ref.current.focus())}),W=f.useCallback((ue,Te,ze)=>{const K=!de.current&&!ze;(C.value!==void 0&&C.value===Te||K)&&(X(ue),K&&(de.current=!0))},[C.value]),z=f.useCallback(()=>j==null?void 0:j.focus(),[j]),Z=f.useCallback((ue,Te,ze)=>{const K=!de.current&&!ze;(C.value!==void 0&&C.value===Te||K)&&$(ue)},[C.value]),ge=i==="popper"?Ua:Ep,xe=ge===Ua?{side:u,sideOffset:h,align:m,alignOffset:g,arrowPadding:x,collisionBoundary:y,collisionPadding:_,sticky:w,hideWhenDetached:b,avoidCollisions:N}:{};return r.jsx(Tp,{scope:s,content:j,viewport:E,onViewportChange:B,itemRefCallback:W,selectedItem:U,onItemLeave:z,itemTextRefCallback:Z,focusSelectedItem:he,selectedItemText:M,position:i,isPositioned:O,searchRef:k,children:r.jsx(hv,{as:kC,allowPinchZoom:!0,children:r.jsx(fv,{asChild:!0,trapped:C.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:_t(a,ue=>{var Te;(Te=C.trigger)==null||Te.focus({preventScroll:!0}),ue.preventDefault()}),children:r.jsx(sp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:r.jsx(ge,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:ue=>ue.preventDefault(),...T,...xe,onPlaced:()=>ee(!0),ref:V,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:_t(T.onKeyDown,ue=>{const Te=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!Te&&ue.key.length===1&&D(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let K=H().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(K=K.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const ie=ue.target,le=K.indexOf(ie);K=K.slice(le+1)}setTimeout(()=>J(K)),ue.preventDefault()}})})})})})})});Pp.displayName=AC;var RC="SelectItemAlignedPosition",Ep=f.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:i,...a}=e,c=zn(os,s),l=Fn(os,s),[u,h]=f.useState(null),[m,g]=f.useState(null),x=At(t,V=>g(V)),y=ro(s),_=f.useRef(!1),w=f.useRef(!0),{viewport:b,selectedItem:N,selectedItemText:T,focusSelectedItem:C}=l,j=f.useCallback(()=>{if(c.trigger&&c.valueNode&&u&&m&&b&&N&&T){const V=c.trigger.getBoundingClientRect(),U=m.getBoundingClientRect(),X=c.valueNode.getBoundingClientRect(),M=T.getBoundingClientRect();if(c.dir!=="rtl"){const ie=M.left-U.left,le=X.left-ie,Pe=V.left-le,Ne=V.width+Pe,Ae=Math.max(Ne,U.width),Ke=window.innerWidth-tn,De=Zu(le,[tn,Math.max(tn,Ke-Ae)]);u.style.minWidth=Ne+"px",u.style.left=De+"px"}else{const ie=U.right-M.right,le=window.innerWidth-X.right-ie,Pe=window.innerWidth-V.right-le,Ne=V.width+Pe,Ae=Math.max(Ne,U.width),Ke=window.innerWidth-tn,De=Zu(le,[tn,Math.max(tn,Ke-Ae)]);u.style.minWidth=Ne+"px",u.style.right=De+"px"}const $=y(),H=window.innerHeight-tn*2,O=b.scrollHeight,ee=window.getComputedStyle(m),de=parseInt(ee.borderTopWidth,10),J=parseInt(ee.paddingTop,10),he=parseInt(ee.borderBottomWidth,10),ne=parseInt(ee.paddingBottom,10),F=de+J+O+ne+he,k=Math.min(N.offsetHeight*5,F),D=window.getComputedStyle(b),W=parseInt(D.paddingTop,10),z=parseInt(D.paddingBottom,10),Z=V.top+V.height/2-tn,ge=H-Z,xe=N.offsetHeight/2,ue=N.offsetTop+xe,Te=de+J+ue,ze=F-Te;if(Te<=Z){const ie=$.length>0&&N===$[$.length-1].ref.current;u.style.bottom="0px";const le=m.clientHeight-b.offsetTop-b.offsetHeight,Pe=Math.max(ge,xe+(ie?z:0)+le+he),Ne=Te+Pe;u.style.height=Ne+"px"}else{const ie=$.length>0&&N===$[0].ref.current;u.style.top="0px";const Pe=Math.max(Z,de+b.offsetTop+(ie?W:0)+xe)+ze;u.style.height=Pe+"px",b.scrollTop=Te-Z+b.offsetTop}u.style.margin=`${tn}px 0`,u.style.minHeight=k+"px",u.style.maxHeight=H+"px",i==null||i(),requestAnimationFrame(()=>_.current=!0)}},[y,c.trigger,c.valueNode,u,m,b,N,T,c.dir,i]);Ot(()=>j(),[j]);const[P,E]=f.useState();Ot(()=>{m&&E(window.getComputedStyle(m).zIndex)},[m]);const B=f.useCallback(V=>{V&&w.current===!0&&(j(),C==null||C(),w.current=!1)},[j,C]);return r.jsx(IC,{scope:s,contentWrapper:u,shouldExpandOnScrollRef:_,onScrollButtonChange:B,children:r.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:r.jsx(bt.div,{...a,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Ep.displayName=RC;var MC="SelectPopperPosition",Ua=f.forwardRef((e,t)=>{const{__scopeSelect:s,align:i="start",collisionPadding:a=tn,...c}=e,l=io(s);return r.jsx(pC,{...l,...c,ref:t,align:i,collisionPadding:a,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ua.displayName=MC;var[IC,Yl]=Is(os,{}),Ha="SelectViewport",Lp=f.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:i,...a}=e,c=Fn(Ha,s),l=Yl(Ha,s),u=At(t,c.onViewportChange),h=f.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),r.jsx(so.Slot,{scope:s,children:r.jsx(bt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:_t(a.onScroll,m=>{const g=m.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:y}=l;if(y!=null&&y.current&&x){const _=Math.abs(h.current-g.scrollTop);if(_>0){const w=window.innerHeight-tn*2,b=parseFloat(x.style.minHeight),N=parseFloat(x.style.height),T=Math.max(b,N);if(T<w){const C=T+_,j=Math.min(w,C),P=C-j;x.style.height=j+"px",x.style.bottom==="0px"&&(g.scrollTop=P>0?P:0,x.style.justifyContent="flex-end")}}}h.current=g.scrollTop})})})]})});Lp.displayName=Ha;var Ap="SelectGroup",[OC,DC]=Is(Ap),BC=f.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e,a=Gl();return r.jsx(OC,{scope:s,id:a,children:r.jsx(bt.div,{role:"group","aria-labelledby":a,...i,ref:t})})});BC.displayName=Ap;var kp="SelectLabel",Rp=f.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e,a=DC(kp,s);return r.jsx(bt.div,{id:a.id,...i,ref:t})});Rp.displayName=kp;var Di="SelectItem",[zC,Mp]=Is(Di),Ip=f.forwardRef((e,t)=>{const{__scopeSelect:s,value:i,disabled:a=!1,textValue:c,...l}=e,u=zn(Di,s),h=Fn(Di,s),m=u.value===i,[g,x]=f.useState(c??""),[y,_]=f.useState(!1),w=At(t,C=>{var j;return(j=h.itemRefCallback)==null?void 0:j.call(h,C,i,a)}),b=Gl(),N=f.useRef("touch"),T=()=>{a||(u.onValueChange(i),u.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(zC,{scope:s,value:i,disabled:a,textId:b,isSelected:m,onItemTextChange:f.useCallback(C=>{x(j=>j||((C==null?void 0:C.textContent)??"").trim())},[]),children:r.jsx(so.ItemSlot,{scope:s,value:i,disabled:a,textValue:g,children:r.jsx(bt.div,{role:"option","aria-labelledby":b,"data-highlighted":y?"":void 0,"aria-selected":m&&y,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:w,onFocus:_t(l.onFocus,()=>_(!0)),onBlur:_t(l.onBlur,()=>_(!1)),onClick:_t(l.onClick,()=>{N.current!=="mouse"&&T()}),onPointerUp:_t(l.onPointerUp,()=>{N.current==="mouse"&&T()}),onPointerDown:_t(l.onPointerDown,C=>{N.current=C.pointerType}),onPointerMove:_t(l.onPointerMove,C=>{var j;N.current=C.pointerType,a?(j=h.onItemLeave)==null||j.call(h):N.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_t(l.onPointerLeave,C=>{var j;C.currentTarget===document.activeElement&&((j=h.onItemLeave)==null||j.call(h))}),onKeyDown:_t(l.onKeyDown,C=>{var P;((P=h.searchRef)==null?void 0:P.current)!==""&&C.key===" "||(SC.includes(C.key)&&T(),C.key===" "&&C.preventDefault())})})})})});Ip.displayName=Di;var cr="SelectItemText",Op=f.forwardRef((e,t)=>{const{__scopeSelect:s,className:i,style:a,...c}=e,l=zn(cr,s),u=Fn(cr,s),h=Mp(cr,s),m=PC(cr,s),[g,x]=f.useState(null),y=At(t,T=>x(T),h.onItemTextChange,T=>{var C;return(C=u.itemTextRefCallback)==null?void 0:C.call(u,T,h.value,h.disabled)}),_=g==null?void 0:g.textContent,w=f.useMemo(()=>r.jsx("option",{value:h.value,disabled:h.disabled,children:_},h.value),[h.disabled,h.value,_]),{onNativeOptionAdd:b,onNativeOptionRemove:N}=m;return Ot(()=>(b(w),()=>N(w)),[b,N,w]),r.jsxs(r.Fragment,{children:[r.jsx(bt.span,{id:h.textId,...c,ref:y}),h.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Ps.createPortal(c.children,l.valueNode):null]})});Op.displayName=cr;var Dp="SelectItemIndicator",Bp=f.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e;return Mp(Dp,s).isSelected?r.jsx(bt.span,{"aria-hidden":!0,...i,ref:t}):null});Bp.displayName=Dp;var Wa="SelectScrollUpButton",zp=f.forwardRef((e,t)=>{const s=Fn(Wa,e.__scopeSelect),i=Yl(Wa,e.__scopeSelect),[a,c]=f.useState(!1),l=At(t,i.onScrollButtonChange);return Ot(()=>{if(s.viewport&&s.isPositioned){let u=function(){const m=h.scrollTop>0;c(m)};const h=s.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[s.viewport,s.isPositioned]),a?r.jsx(Vp,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=s;u&&h&&(u.scrollTop=u.scrollTop-h.offsetHeight)}}):null});zp.displayName=Wa;var Za="SelectScrollDownButton",Fp=f.forwardRef((e,t)=>{const s=Fn(Za,e.__scopeSelect),i=Yl(Za,e.__scopeSelect),[a,c]=f.useState(!1),l=At(t,i.onScrollButtonChange);return Ot(()=>{if(s.viewport&&s.isPositioned){let u=function(){const m=h.scrollHeight-h.clientHeight,g=Math.ceil(h.scrollTop)<m;c(g)};const h=s.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[s.viewport,s.isPositioned]),a?r.jsx(Vp,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=s;u&&h&&(u.scrollTop=u.scrollTop+h.offsetHeight)}}):null});Fp.displayName=Za;var Vp=f.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:i,...a}=e,c=Fn("SelectScrollButton",s),l=f.useRef(null),u=ro(s),h=f.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return f.useEffect(()=>()=>h(),[h]),Ot(()=>{var g;const m=u().find(x=>x.ref.current===document.activeElement);(g=m==null?void 0:m.ref.current)==null||g.scrollIntoView({block:"nearest"})},[u]),r.jsx(bt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:_t(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(i,50))}),onPointerMove:_t(a.onPointerMove,()=>{var m;(m=c.onItemLeave)==null||m.call(c),l.current===null&&(l.current=window.setInterval(i,50))}),onPointerLeave:_t(a.onPointerLeave,()=>{h()})})}),FC="SelectSeparator",$p=f.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e;return r.jsx(bt.div,{"aria-hidden":!0,...i,ref:t})});$p.displayName=FC;var Ga="SelectArrow",VC=f.forwardRef((e,t)=>{const{__scopeSelect:s,...i}=e,a=io(s),c=zn(Ga,s),l=Fn(Ga,s);return c.open&&l.position==="popper"?r.jsx(gC,{...a,...i,ref:t}):null});VC.displayName=Ga;var $C="SelectBubbleInput",Up=f.forwardRef(({__scopeSelect:e,value:t,...s},i)=>{const a=f.useRef(null),c=At(i,a),l=xp(t);return f.useEffect(()=>{const u=a.current;if(!u)return;const h=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(l!==t&&g){const x=new Event("change",{bubbles:!0});g.call(u,t),u.dispatchEvent(x)}},[l,t]),r.jsx(bt.select,{...s,style:{...vp,...s.style},ref:c,defaultValue:t})});Up.displayName=$C;function Hp(e){return e===""||e===void 0}function Wp(e){const t=Rr(e),s=f.useRef(""),i=f.useRef(0),a=f.useCallback(l=>{const u=s.current+l;t(u),function h(m){s.current=m,window.clearTimeout(i.current),m!==""&&(i.current=window.setTimeout(()=>h(""),1e3))}(u)},[t]),c=f.useCallback(()=>{s.current="",window.clearTimeout(i.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(i.current),[]),[s,a,c]}function Zp(e,t,s){const a=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,c=s?e.indexOf(s):-1;let l=UC(e,Math.max(c,0));a.length===1&&(l=l.filter(m=>m!==s));const h=l.find(m=>m.textValue.toLowerCase().startsWith(a.toLowerCase()));return h!==s?h:void 0}function UC(e,t){return e.map((s,i)=>e[(t+i)%e.length])}var HC=yp,Gp=bp,WC=jp,ZC=Sp,GC=Np,Kp=Cp,KC=Lp,qp=Rp,Yp=Ip,qC=Op,YC=Bp,Xp=zp,Jp=Fp,Qp=$p;const dn=HC,un=WC,nn=f.forwardRef(({className:e,children:t,...s},i)=>r.jsxs(Gp,{ref:i,className:We("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,r.jsx(ZC,{asChild:!0,children:r.jsx(ch,{className:"h-4 w-4 opacity-50"})})]}));nn.displayName=Gp.displayName;const eg=f.forwardRef(({className:e,...t},s)=>r.jsx(Xp,{ref:s,className:We("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(mv,{className:"h-4 w-4"})}));eg.displayName=Xp.displayName;const tg=f.forwardRef(({className:e,...t},s)=>r.jsx(Jp,{ref:s,className:We("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(ch,{className:"h-4 w-4"})}));tg.displayName=Jp.displayName;const sn=f.forwardRef(({className:e,children:t,position:s="popper",...i},a)=>r.jsx(GC,{children:r.jsxs(Kp,{ref:a,className:We("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...i,children:[r.jsx(eg,{}),r.jsx(KC,{className:We("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(tg,{})]})}));sn.displayName=Kp.displayName;const XC=f.forwardRef(({className:e,...t},s)=>r.jsx(qp,{ref:s,className:We("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));XC.displayName=qp.displayName;const Ie=f.forwardRef(({className:e,children:t,...s},i)=>r.jsxs(Yp,{ref:i,className:We("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none  focus:bg-gray-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(YC,{children:r.jsx(dh,{className:"h-4 w-4"})})}),r.jsx(qC,{children:t})]}));Ie.displayName=Yp.displayName;const JC=f.forwardRef(({className:e,...t},s)=>r.jsx(Qp,{ref:s,className:We("-mx-1 my-1 h-px bg-muted",e),...t}));JC.displayName=Qp.displayName;const QC=Wl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 hover:bg-green-200/80",warning:"border-transparent bg-yellow-100 text-yellow-800 hover:bg-yellow-200/80",info:"border-transparent bg-blue-100 text-blue-800 hover:bg-blue-200/80",purple:"border-transparent bg-primary/10 text-primary hover:bg-primary/20"}},defaultVariants:{variant:"default"}});function qt({className:e,variant:t,...s}){return r.jsx("div",{className:We(QC({variant:t}),e),...s})}function eT(e,t=[]){let s=[];function i(c,l){const u=f.createContext(l),h=s.length;s=[...s,l];const m=x=>{var T;const{scope:y,children:_,...w}=x,b=((T=y==null?void 0:y[e])==null?void 0:T[h])||u,N=f.useMemo(()=>w,Object.values(w));return r.jsx(b.Provider,{value:N,children:_})};m.displayName=c+"Provider";function g(x,y){var b;const _=((b=y==null?void 0:y[e])==null?void 0:b[h])||u,w=f.useContext(_);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${x}\` must be used within \`${c}\``)}return[m,g]}const a=()=>{const c=s.map(l=>f.createContext(l));return function(u){const h=(u==null?void 0:u[e])||c;return f.useMemo(()=>({[`__scope${e}`]:{...u,[e]:h}}),[u,h])}};return a.scopeName=e,[i,tT(a,...t)]}function tT(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const i=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const l=i.reduce((u,{useScope:h,scopeName:m})=>{const x=h(c)[`__scope${m}`];return{...u,...x}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return s.scopeName=t.scopeName,s}function Xu(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function nT(...e){return t=>{let s=!1;const i=e.map(a=>{const c=Xu(a,t);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let a=0;a<i.length;a++){const c=i[a];typeof c=="function"?c():Xu(e[a],null)}}}}function sT(e){const t=rT(e),s=f.forwardRef((i,a)=>{const{children:c,...l}=i,u=f.Children.toArray(c),h=u.find(oT);if(h){const m=h.props.children,g=u.map(x=>x===h?f.Children.count(m)>1?f.Children.only(null):f.isValidElement(m)?m.props.children:null:x);return r.jsx(t,{...l,ref:a,children:f.isValidElement(m)?f.cloneElement(m,void 0,g):null})}return r.jsx(t,{...l,ref:a,children:c})});return s.displayName=`${e}.Slot`,s}function rT(e){const t=f.forwardRef((s,i)=>{const{children:a,...c}=s;if(f.isValidElement(a)){const l=lT(a),u=aT(c,a.props);return a.type!==f.Fragment&&(u.ref=i?nT(i,l):l),f.cloneElement(a,u)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var iT=Symbol("radix.slottable");function oT(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===iT}function aT(e,t){const s={...t};for(const i in t){const a=e[i],c=t[i];/^on[A-Z]/.test(i)?a&&c?s[i]=(...u)=>{const h=c(...u);return a(...u),h}:a&&(s[i]=a):i==="style"?s[i]={...a,...c}:i==="className"&&(s[i]=[a,c].filter(Boolean).join(" "))}return{...e,...s}}function lT(e){var i,a;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var cT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ng=cT.reduce((e,t)=>{const s=sT(`Primitive.${t}`),i=f.forwardRef((a,c)=>{const{asChild:l,...u}=a,h=l?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(h,{...u,ref:c})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),Xl="Progress",Jl=100,[dT,ML]=eT(Xl),[uT,hT]=dT(Xl),sg=f.forwardRef((e,t)=>{const{__scopeProgress:s,value:i=null,max:a,getValueLabel:c=fT,...l}=e;(a||a===0)&&!Ju(a)&&console.error(mT(`${a}`,"Progress"));const u=Ju(a)?a:Jl;i!==null&&!Qu(i,u)&&console.error(pT(`${i}`,"Progress"));const h=Qu(i,u)?i:null,m=Bi(h)?c(h,u):void 0;return r.jsx(uT,{scope:s,value:h,max:u,children:r.jsx(ng.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":Bi(h)?h:void 0,"aria-valuetext":m,role:"progressbar","data-state":og(h,u),"data-value":h??void 0,"data-max":u,...l,ref:t})})});sg.displayName=Xl;var rg="ProgressIndicator",ig=f.forwardRef((e,t)=>{const{__scopeProgress:s,...i}=e,a=hT(rg,s);return r.jsx(ng.div,{"data-state":og(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...i,ref:t})});ig.displayName=rg;function fT(e,t){return`${Math.round(e/t*100)}%`}function og(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Bi(e){return typeof e=="number"}function Ju(e){return Bi(e)&&!isNaN(e)&&e>0}function Qu(e,t){return Bi(e)&&!isNaN(e)&&e<=t&&e>=0}function mT(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Jl}\`.`}function pT(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Jl} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ag=sg,gT=ig;const Ka=f.forwardRef(({className:e,value:t,...s},i)=>r.jsx(ag,{ref:i,className:We("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:r.jsx(gT,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ka.displayName=ag.displayName;function xT(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function eh(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function vT(...e){return t=>{let s=!1;const i=e.map(a=>{const c=eh(a,t);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let a=0;a<i.length;a++){const c=i[a];typeof c=="function"?c():eh(e[a],null)}}}}function Ql(...e){return f.useCallback(vT(...e),e)}function yT(e,t=[]){let s=[];function i(c,l){const u=f.createContext(l),h=s.length;s=[...s,l];const m=x=>{var T;const{scope:y,children:_,...w}=x,b=((T=y==null?void 0:y[e])==null?void 0:T[h])||u,N=f.useMemo(()=>w,Object.values(w));return r.jsx(b.Provider,{value:N,children:_})};m.displayName=c+"Provider";function g(x,y){var b;const _=((b=y==null?void 0:y[e])==null?void 0:b[h])||u,w=f.useContext(_);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${x}\` must be used within \`${c}\``)}return[m,g]}const a=()=>{const c=s.map(l=>f.createContext(l));return function(u){const h=(u==null?void 0:u[e])||c;return f.useMemo(()=>({[`__scope${e}`]:{...u,[e]:h}}),[u,h])}};return a.scopeName=e,[i,_T(a,...t)]}function _T(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const i=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const l=i.reduce((u,{useScope:h,scopeName:m})=>{const x=h(c)[`__scope${m}`];return{...u,...x}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return s.scopeName=t.scopeName,s}var lg=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},bT=jr[" useInsertionEffect ".trim().toString()]||lg;function wT({prop:e,defaultProp:t,onChange:s=()=>{},caller:i}){const[a,c,l]=jT({defaultProp:t,onChange:s}),u=e!==void 0,h=u?e:a;{const g=f.useRef(e!==void 0);f.useEffect(()=>{const x=g.current;x!==u&&console.warn(`${i} is changing from ${x?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,i])}const m=f.useCallback(g=>{var x;if(u){const y=ST(g)?g(e):g;y!==e&&((x=l.current)==null||x.call(l,y))}else c(g)},[u,e,c,l]);return[h,m]}function jT({defaultProp:e,onChange:t}){const[s,i]=f.useState(e),a=f.useRef(s),c=f.useRef(t);return bT(()=>{c.current=t},[t]),f.useEffect(()=>{var l;a.current!==s&&((l=c.current)==null||l.call(c,s),a.current=s)},[s,a]),[s,i,c]}function ST(e){return typeof e=="function"}function NT(e){const[t,s]=f.useState(void 0);return lg(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const c=a[0];let l,u;if("borderBoxSize"in c){const h=c.borderBoxSize,m=Array.isArray(h)?h[0]:h;l=m.inlineSize,u=m.blockSize}else l=e.offsetWidth,u=e.offsetHeight;s({width:l,height:u})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else s(void 0)},[e]),t}function CT(e){const t=TT(e),s=f.forwardRef((i,a)=>{const{children:c,...l}=i,u=f.Children.toArray(c),h=u.find(ET);if(h){const m=h.props.children,g=u.map(x=>x===h?f.Children.count(m)>1?f.Children.only(null):f.isValidElement(m)?m.props.children:null:x);return r.jsx(t,{...l,ref:a,children:f.isValidElement(m)?f.cloneElement(m,void 0,g):null})}return r.jsx(t,{...l,ref:a,children:c})});return s.displayName=`${e}.Slot`,s}function TT(e){const t=f.forwardRef((s,i)=>{const{children:a,...c}=s,l=f.isValidElement(a)?AT(a):void 0,u=Ql(l,i);if(f.isValidElement(a)){const h=LT(c,a.props);return a.type!==f.Fragment&&(h.ref=u),f.cloneElement(a,h)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var PT=Symbol("radix.slottable");function ET(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===PT}function LT(e,t){const s={...t};for(const i in t){const a=e[i],c=t[i];/^on[A-Z]/.test(i)?a&&c?s[i]=(...u)=>{const h=c(...u);return a(...u),h}:a&&(s[i]=a):i==="style"?s[i]={...a,...c}:i==="className"&&(s[i]=[a,c].filter(Boolean).join(" "))}return{...e,...s}}function AT(e){var i,a;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var kT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cg=kT.reduce((e,t)=>{const s=CT(`Primitive.${t}`),i=f.forwardRef((a,c)=>{const{asChild:l,...u}=a,h=l?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(h,{...u,ref:c})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),oo="Switch",[RT,IL]=yT(oo),[MT,IT]=RT(oo),dg=f.forwardRef((e,t)=>{const{__scopeSwitch:s,name:i,checked:a,defaultChecked:c,required:l,disabled:u,value:h="on",onCheckedChange:m,form:g,...x}=e,[y,_]=f.useState(null),w=Ql(t,j=>_(j)),b=f.useRef(!1),N=y?g||!!y.closest("form"):!0,[T,C]=wT({prop:a,defaultProp:c??!1,onChange:m,caller:oo});return r.jsxs(MT,{scope:s,checked:T,disabled:u,children:[r.jsx(cg.button,{type:"button",role:"switch","aria-checked":T,"aria-required":l,"data-state":mg(T),"data-disabled":u?"":void 0,disabled:u,value:h,...x,ref:w,onClick:xT(e.onClick,j=>{C(P=>!P),N&&(b.current=j.isPropagationStopped(),b.current||j.stopPropagation())})}),N&&r.jsx(fg,{control:y,bubbles:!b.current,name:i,value:h,checked:T,required:l,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});dg.displayName=oo;var ug="SwitchThumb",hg=f.forwardRef((e,t)=>{const{__scopeSwitch:s,...i}=e,a=IT(ug,s);return r.jsx(cg.span,{"data-state":mg(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})});hg.displayName=ug;var OT="SwitchBubbleInput",fg=f.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:i=!0,...a},c)=>{const l=f.useRef(null),u=Ql(l,c),h=xp(s),m=NT(t);return f.useEffect(()=>{const g=l.current;if(!g)return;const x=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(x,"checked").set;if(h!==s&&_){const w=new Event("click",{bubbles:i});_.call(g,s),g.dispatchEvent(w)}},[h,s,i]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:u,style:{...a.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});fg.displayName=OT;function mg(e){return e?"checked":"unchecked"}var pg=dg,DT=hg;const BT=f.forwardRef(({className:e,...t},s)=>r.jsx(pg,{className:We("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:r.jsx(DT,{className:We("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));BT.displayName=pg.displayName;const zT=()=>{const[e,t]=f.useState("image"),[s,i]=f.useState(!1),[a,c]=f.useState(0),[l,u]=f.useState([]),[h,m]=f.useState(""),[g,x]=f.useState(!1),[y,_]=f.useState(""),[w,b]=f.useState([]),[N,T]=f.useState([]),[C,j]=f.useState(null),[P,E]=f.useState([]),[B,V]=f.useState(!1),[U,X]=f.useState(0),M=f.useRef(null),[$,H]=f.useState(!1),[O,ee]=f.useState({product_name:"",product_description:"",target_audience:"",ad_goal:"",brand_colors:"",style:"modern",dimensions:"1080x1080",duration:"15",voice_over:"",music_style:"",video_style:"",quantity:1,add_text_overlay:!1,custom_text:"",call_to_action:"",logo_position:"bottom-right",enhance_quality:!0,use_uploaded_assets:!1,color_scheme:"auto",mood:"professional",language:"english",animation_style:"smooth",background_music:!1,voice_gender:"neutral"});f.useEffect(()=>{he(),l.length===0&&de(),J()},[]);const de=async()=>{try{const ie=(await we.get("/api/marketing-ads/history")).data.ads.filter(le=>le.status==="completed"&&le.type==="video"&&le.assets&&le.assets.length>0);if(ie.length>0){const le=ie[0];console.log(" Auto-loading most recent completed video:",le.assets),u(le.assets)}}catch(K){console.error("Error loading recent video:",K)}},J=async()=>{try{const K=localStorage.getItem("current_generation");if(K){const{adId:ie,contentType:le,startTime:Pe}=JSON.parse(K);if(Date.now()-Pe<15*60*1e3){console.log(" Resuming ongoing generation:",ie),t(le),i(!0),j(ie);const Ae=await we.get(`/api/marketing-ads/status/${ie}`),{status:Ke,assets:De}=Ae.data;Ke==="completed"?(u(De),i(!1),localStorage.removeItem("current_generation"),re.success(` Your ${le} generation completed while you were away!`)):Ke==="generating"?ue(ie,300):localStorage.removeItem("current_generation")}else localStorage.removeItem("current_generation")}}catch(K){console.error("Error resuming generation:",K),localStorage.removeItem("current_generation")}},he=async()=>{try{const K=await we.get("/api/marketing-ads/history");T(K.data.ads)}catch(K){console.error("Error loading history:",K)}},ne=K=>{K.preventDefault(),K.stopPropagation(),K.type==="dragenter"||K.type==="dragover"?H(!0):K.type==="dragleave"&&H(!1)},F=K=>{K.preventDefault(),K.stopPropagation(),H(!1);const ie=Array.from(K.dataTransfer.files);D(ie)},k=K=>{const ie=Array.from(K.target.files);D(ie)},D=async K=>{const ie=K.filter(le=>{const Pe=le.type.startsWith("image/"),Ne=le.type.startsWith("video/"),Ae=Ne?100*1024*1024:10*1024*1024;return!Pe&&!Ne?(re.error(`${le.name} is not a valid image or video file`),!1):le.size>Ae?(re.error(`${le.name} is too large. Max size: ${Ne?"100MB":"10MB"}`),!1):!0});if(ie.length!==0){V(!0),X(0);try{const le=ie.map(async(Ne,Ae)=>{const Ke=new FormData;Ke.append("file",Ne),Ke.append("purpose","marketing-asset"),Ke.append("metadata",JSON.stringify({originalName:Ne.name,type:Ne.type.startsWith("image/")?"image":"video",size:Ne.size}));const De=await we.post("/api/files/upload",Ke,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:Oe=>{const Ge=Math.round(Oe.loaded*100/Oe.total);X(Be=>Math.max(Be,(Ae+Ge/100)/ie.length*100))}});return{id:De.data.file.id,url:De.data.file.url,name:Ne.name,type:Ne.type.startsWith("image/")?"image":"video",size:Ne.size,preview:Ne.type.startsWith("image/")?URL.createObjectURL(Ne):null}}),Pe=await Promise.all(le);E(Ne=>[...Ne,...Pe]),re.success(`${Pe.length} file(s) uploaded successfully!`)}catch(le){console.error("Upload error:",le),re.error("Failed to upload files")}finally{V(!1),X(0)}}},W=K=>{E(ie=>ie.filter((le,Pe)=>Pe!==K))},z=(K,ie)=>{ee(le=>({...le,[K]:ie}))},Z=K=>{t(K),m(""),u([])},ge=async()=>{if(!O.product_name||!O.product_description){re.error("Please fill in product name and description");return}i(!0),c(0),u([]),b([]);try{console.log(" Generating Holo.ai-style variations...");const K=await we.post("/api/marketing-ads/generate-variations",{product_name:O.product_name,product_description:O.product_description,target_audience:O.target_audience,ad_goal:O.ad_goal,style:O.style,dimensions:O.dimensions,quantity:3,brand_website:y});K.data.success&&(b(K.data.data),re.success(`Generated ${K.data.data.length} marketing variations!`))}catch(K){console.error(" Error generating variations:",K),re.error("Failed to generate marketing variations")}finally{i(!1),c(0)}},xe=async()=>{var le,Pe,Ne,Ae,Ke,De;if(!O.product_name||!O.product_description){re.error("Please fill in required fields");return}const K=ct.getItem("token")||ct.getItem("authToken")||localStorage.getItem("token");console.log(" Debug - Token exists:",!!K),console.log(" Debug - Token preview:",K?String(K).substring(0,20)+"...":"null"),i(!0),c(0),u([]);const ie=Te(O,e);m(ie);try{const Oe={product_name:O.product_name,product_description:O.product_description,target_audience:O.target_audience,ad_goal:O.ad_goal,brand_colors:O.brand_colors,style:O.style,dimensions:O.dimensions,type:e,quantity:e==="video"?1:O.quantity,use_uploaded_assets:O.use_uploaded_assets,enhance_quality:O.enhance_quality,add_text_overlay:O.add_text_overlay,custom_text:O.custom_text,logo_position:O.logo_position,color_scheme:O.color_scheme,mood:O.mood,call_to_action:O.call_to_action,language:O.language,uploaded_assets:P.map(Be=>({id:Be.id,url:Be.url,type:Be.type}))};e==="video"&&(Oe.duration=O.duration,Oe.voice_over=O.voice_over,Oe.music_style=O.music_style,Oe.video_style=O.video_style,Oe.animation_style=O.animation_style,Oe.background_music=O.background_music,Oe.voice_gender=O.voice_gender),console.log(" Sending generation request with data:",Oe);const Ge=await we.post("/api/marketing-ads/generate",Oe);console.log(" Generation request successful:",Ge.data),j(Ge.data.ad_id),localStorage.setItem("current_generation",JSON.stringify({adId:Ge.data.ad_id,contentType:e,startTime:Date.now()})),ue(Ge.data.ad_id,Ge.data.estimated_time),re.success("Advanced AI generation started! This will be amazing...")}catch(Oe){console.error(" Generation error:",Oe),console.error(" Error response:",(le=Oe.response)==null?void 0:le.data),console.error(" Error status:",(Pe=Oe.response)==null?void 0:Pe.status),i(!1),((Ne=Oe.response)==null?void 0:Ne.status)===403?re.error("Authentication failed. Please log in again."):((Ae=Oe.response)==null?void 0:Ae.status)===401?re.error("Session expired. Please log in again."):(De=(Ke=Oe.response)==null?void 0:Ke.data)!=null&&De.message?re.error(`Generation failed: ${Oe.response.data.message}`):re.error("Failed to start generation. Please try again.")}},ue=async(K,ie)=>{const Pe=e==="video"?80:40,Ne=Math.ceil(ie/(3e3/1e3))+Pe;let Ae=0;const Ke=async()=>{try{const De=await we.get(`/api/marketing-ads/status/${K}`),{status:Oe,assets:Ge,progress_details:Be}=De.data,xt=(Be==null?void 0:Be.overall_progress)||Math.min(Ae/Ne*100,95);if(c(xt),Oe==="completed"){console.log(" Video generation completed!",{assets:Ge,contentType:e}),c(100),u(Ge),i(!1),localStorage.removeItem("current_generation"),he(),re.success(` Generated ${Ge.length} premium ${e}(s)!`);return}else if(Oe==="failed"){i(!1),re.error("Generation failed");return}Ae++,Ae<Ne?setTimeout(Ke,3e3):(i(!1),re.error("Generation timeout"))}catch{i(!1),re.error("Error checking status")}};Ke()},Te=(K,ie)=>{const{product_name:le,product_description:Pe,target_audience:Ne,ad_goal:Ae,brand_colors:Ke,style:De,dimensions:Oe,mood:Ge,call_to_action:Be,custom_text:xt,add_text_overlay:ft,enhance_quality:et,logo_position:ot,color_scheme:Tt,animation_style:Q,voice_over:_e,music_style:Ee,video_style:Ye,duration:Qe,voice_gender:se,language:Le,use_uploaded_assets:tt,background_music:st}=K;let R=` HOLO.AI MARKETING INTELLIGENCE PROMPT

`;R+=` PRODUCT DETAILS:
`,R+=` Product Name: "${le}"
`,R+=` Description: ${Pe}
`,R+=` Content Type: ${ie==="video"?"Marketing Video Advertisement":"Marketing Image Advertisement"}

`,R+=` AUDIENCE & PSYCHOLOGY:
`,Ne&&(R+=` Target Audience: ${Ne}
`),Ae&&(R+=` Marketing Goal: ${Ae}
`,R+=` Conversion Focus: Drive ${Ae} through emotional engagement
`,R+=` Psychology Triggers: ${{awareness:"Curiosity, Interest, Brand Recognition",leads:"Urgency, Value Proposition, FOMO",sales:"Trust, Social Proof, Scarcity",engagement:"Entertainment, Relatability, Shareability"}[Ae]||"Trust, Quality, Value"}
`),R+=`
`,R+=` VISUAL IDENTITY:
`;const je={modern:"sleek, contemporary, minimalist design with clean lines and professional marketing composition",classic:"timeless, elegant, sophisticated with traditional elements and premium advertising aesthetic",bold:"striking, vibrant, attention-grabbing with strong contrasts and high-impact marketing visuals",minimalist:"clean, simple, uncluttered with plenty of white space and conversion-focused layout",luxury:"premium, high-end, sophisticated with gold accents and exclusive marketing appeal",playful:"fun, colorful, energetic with dynamic elements and engaging marketing personality",corporate:"professional, trustworthy, business-focused with credible marketing presentation"},ke={professional:"polished, credible, trustworthy atmosphere with marketing authority",friendly:"warm, approachable, welcoming tone with customer-centric marketing",energetic:"dynamic, exciting, high-energy vibe with action-driving marketing elements",calm:"peaceful, serene, relaxing ambiance with reassuring marketing message",urgent:"compelling, time-sensitive, action-oriented with scarcity marketing tactics",luxurious:"premium, exclusive, high-end feel with aspirational marketing appeal",innovative:"cutting-edge, futuristic, tech-forward with disruptive marketing approach"};if(R+=` Style: ${je[De]||De}
`,R+=` Mood: ${ke[Ge]||Ge}
`,Ke&&(R+=` Brand Colors: ${Ke}
`),R+=` Color Scheme: ${Tt||"auto-optimized for conversion"}
`,Oe){const[I,ce]=Oe.split("x").map(Number);let ae="",te="";I===ce?(ae="Square composition with centered focal hierarchy",te="Instagram/Facebook feed optimized"):I>ce?(ae="Landscape composition with horizontal marketing flow",te="Facebook cover/LinkedIn banner optimized"):(ae="Portrait composition with vertical marketing narrative",te="Instagram story/Pinterest optimized"),R+=` Dimensions: ${Oe} (${ae})
`,R+=` Platform Optimization: ${te}
`}return R+=`
`,R+=` MARKETING ELEMENTS:
`,ft&&(R+=` Text Overlay: Enabled with professional typography
`,xt&&(R+=` Primary Text: "${xt}"
`),Be&&(R+=` Call-to-Action: "${Be}"
`),ot&&(R+=` Logo/Text Position: ${ot.replace("-"," ")} with optimal visibility
`)),R+=` Marketing Layout: Professional advertisement composition with clear hierarchy
`,R+=` Text Overlay Support: Space for headlines, CTAs, and brand messaging
`,R+=` Conversion Elements: Trust indicators, value propositions, action drivers

`,ie==="video"&&(R+=` VIDEO SPECIFICATIONS:
`,Qe&&(R+=` Duration: ${Qe} seconds (optimized pacing)
`),Q&&(R+=` Animation Style: ${{smooth:"fluid, seamless transitions with professional marketing flow",dynamic:"energetic, fast-paced movements with high engagement factor",elegant:"graceful, sophisticated animations with premium brand feel",minimal:"subtle, understated motion with focus on message clarity"}[Q]||Q}
`),Ye&&(R+=` Video Style: ${Ye} with marketing optimization
`),_e&&(R+=` Voice-Over Script: "${_e}"
`,se&&(R+=` Voice Gender: ${se} with professional delivery
`)),Ee&&(R+=` Background Music: ${Ee} that enhances marketing message
`),st&&(R+=` Audio Enhancement: Professional background music integration
`),R+=`
`),R+=` TECHNICAL SPECIFICATIONS:
`,tt&&(R+=` Brand Assets: Seamlessly integrate uploaded brand elements
`),et&&(R+=` Quality: High-definition 4K resolution with professional studio lighting
`),R+=` Format: Marketing advertisement optimized for digital platforms
`,R+=` Photography Style: Commercial-grade with brand-focused composition
`,R+=` Industry Standards: Professional advertising design principles
`,R+=` Layout Optimization: Conversion-focused with clear visual hierarchy

`,Le&&Le!=="en"&&(R+=` LOCALIZATION:
`,R+=` Language: Generate content in ${Le} with cultural relevance
`,R+=` Market Adaptation: Localized marketing approach for target region

`),R+=` HOLO.AI GENERATION INSTRUCTIONS:
`,R+=` Create a HIGH-CONVERTING marketing advertisement (not just product image)
`,R+=` Use proven advertising psychology and visual hierarchy principles
`,R+=` Optimize for ${Ne||"target audience"} demographic preferences
`,R+=` Include professional marketing composition with clear focal points
`,R+=` Ensure mobile-first responsive design thinking
`,R+=` Apply conversion rate optimization (CRO) principles
`,R+=` Generate content that looks like it came from a top marketing agency
`,R+=` Focus on emotional resonance and action-driving visuals
`,R+=` Incorporate brand storytelling elements naturally
`,R+=` Use marketing color psychology for maximum impact

`,R+=` FINAL DIRECTIVE:
`,R+=`Transform this into a swipe-ready, conversion-optimized marketing ${ie} that drives ${Ae||"engagement"} `,R+=`for ${Ne||"target audience"} using ${De||"modern"} aesthetic. `,R+="This should be indistinguishable from professional marketing content created by top advertising agencies. ",R+="Focus on: eye-catching design, memorable messaging, clear value proposition, and strong call-to-action. ",R+="The final result must be marketing-grade content that converts viewers into customers.",R},ze=async(K,ie)=>{try{const Pe=await(await fetch(K)).blob(),Ne=window.URL.createObjectURL(Pe),Ae=document.createElement("a");Ae.href=Ne,Ae.download=ie,document.body.appendChild(Ae),Ae.click(),Ae.remove(),window.URL.revokeObjectURL(Ne),re.success("Download started")}catch{re.error("Download failed")}};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(Ni,{className:"h-6 w-6 text-blue-600"}),"Marketing Ads Studio"]}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Create professional marketing content with AI intelligence"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(qt,{variant:"outline",className:"text-xs px-2 py-1",children:[r.jsx(qc,{className:"h-3 w-3 mr-1"}),"Holo.ai Powered"]}),r.jsxs(qt,{variant:"outline",className:"text-xs px-2 py-1",children:[r.jsx(pv,{className:"h-3 w-3 mr-1"}),"Conversion Optimized"]})]})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-6 py-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(Gt,{className:"shadow-sm border-gray-200",children:[r.jsx(Rn,{className:"pb-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(Mn,{className:"text-lg font-medium text-gray-900",children:"Create Marketing Content"}),r.jsx(Ym,{className:"text-sm text-gray-600",children:"Fill in the details to generate professional marketing assets"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(ye,{variant:e==="image"?"default":"outline",size:"sm",onClick:()=>Z("image"),className:"h-8 px-3 text-xs",children:[r.jsx(gv,{className:"h-3 w-3 mr-1"}),"Image"]}),r.jsxs(ye,{variant:e==="video"?"default":"outline",size:"sm",onClick:()=>Z("video"),className:"h-8 px-3 text-xs",children:[r.jsx(Yc,{className:"h-3 w-3 mr-1"}),"Video"]})]})]})}),r.jsxs(Kt,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(He,{htmlFor:"product_name",className:"text-sm font-medium text-gray-700",children:"Product Name"}),r.jsx(at,{id:"product_name",value:O.product_name,onChange:K=>z("product_name",K.target.value),placeholder:"Enter product name",className:"mt-1 h-9"})]}),r.jsxs("div",{children:[r.jsx(He,{htmlFor:"target_audience",className:"text-sm font-medium text-gray-700",children:"Target Audience"}),r.jsxs(dn,{value:O.target_audience,onValueChange:K=>z("target_audience",K),children:[r.jsx(nn,{className:"mt-1 h-9",children:r.jsx(un,{placeholder:"Select audience"})}),r.jsxs(sn,{children:[r.jsx(Ie,{value:"Young adults (18-35)",children:"Young adults (18-35)"}),r.jsx(Ie,{value:"Business professionals",children:"Business professionals"}),r.jsx(Ie,{value:"Families with children",children:"Families with children"}),r.jsx(Ie,{value:"Seniors (55+)",children:"Seniors (55+)"}),r.jsx(Ie,{value:"Students",children:"Students"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(He,{htmlFor:"product_description",className:"text-sm font-medium text-gray-700",children:"Product Description"}),r.jsx(Zl,{id:"product_description",value:O.product_description,onChange:K=>z("product_description",K.target.value),placeholder:"Describe your product or service...",rows:3,className:"mt-1"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(He,{htmlFor:"ad_goal",className:"text-sm font-medium text-gray-700",children:"Marketing Goal"}),r.jsxs(dn,{value:O.ad_goal,onValueChange:K=>z("ad_goal",K),children:[r.jsx(nn,{className:"mt-1 h-9",children:r.jsx(un,{placeholder:"Select goal"})}),r.jsxs(sn,{children:[r.jsx(Ie,{value:"awareness",children:"Brand Awareness"}),r.jsx(Ie,{value:"leads",children:"Lead Generation"}),r.jsx(Ie,{value:"sales",children:"Drive Sales"}),r.jsx(Ie,{value:"engagement",children:"Engagement"})]})]})]}),r.jsxs("div",{children:[r.jsx(He,{htmlFor:"style",className:"text-sm font-medium text-gray-700",children:"Visual Style"}),r.jsxs(dn,{value:O.style,onValueChange:K=>z("style",K),children:[r.jsx(nn,{className:"mt-1 h-9",children:r.jsx(un,{placeholder:"Select style"})}),r.jsxs(sn,{children:[r.jsx(Ie,{value:"modern",children:"Modern"}),r.jsx(Ie,{value:"bold",children:"Bold"}),r.jsx(Ie,{value:"elegant",children:"Elegant"}),r.jsx(Ie,{value:"minimalist",children:"Minimalist"}),r.jsx(Ie,{value:"luxury",children:"Luxury"}),r.jsx(Ie,{value:"playful",children:"Playful"})]})]})]}),r.jsxs("div",{children:[r.jsx(He,{htmlFor:"dimensions",className:"text-sm font-medium text-gray-700",children:"Dimensions"}),r.jsxs(dn,{value:O.dimensions,onValueChange:K=>z("dimensions",K),children:[r.jsx(nn,{className:"mt-1 h-9",children:r.jsx(un,{placeholder:"Select size"})}),r.jsxs(sn,{children:[r.jsx(Ie,{value:"1080x1080",children:"Square (1080x1080)"}),r.jsx(Ie,{value:"1200x628",children:"Facebook Cover (1200x628)"}),r.jsx(Ie,{value:"1080x1920",children:"Instagram Story (1080x1920)"}),r.jsx(Ie,{value:"1200x675",children:"LinkedIn Banner (1200x675)"})]})]})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx(He,{className:"text-sm font-medium text-gray-700",children:"Holo.ai Intelligence Mode"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Advanced brand DNA analysis and marketing variations"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:g,onChange:K=>x(K.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),g&&r.jsx("div",{className:"bg-blue-50 rounded-lg p-4 space-y-3",children:r.jsxs("div",{children:[r.jsx(He,{htmlFor:"brand_website",className:"text-sm font-medium text-gray-700",children:"Brand Website (Optional)"}),r.jsx(at,{id:"brand_website",value:y,onChange:K=>_(K.target.value),placeholder:"https://your-website.com",className:"mt-1 h-9"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"AI will analyze your brand for better targeting"})]})})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx(He,{className:"text-sm font-medium text-gray-700",children:"Add Text Overlay"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Add professional text overlays to your marketing content"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:O.add_text_overlay,onChange:K=>z("add_text_overlay",K.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),O.add_text_overlay&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx(He,{htmlFor:"custom_text",className:"text-sm font-medium text-gray-700",children:"Custom Text"}),r.jsx(at,{id:"custom_text",value:O.custom_text,onChange:K=>z("custom_text",K.target.value),placeholder:"Enter your main text",className:"mt-1 h-9"})]}),r.jsxs("div",{children:[r.jsx(He,{htmlFor:"call_to_action",className:"text-sm font-medium text-gray-700",children:"Call to Action"}),r.jsx(at,{id:"call_to_action",value:O.call_to_action,onChange:K=>z("call_to_action",K.target.value),placeholder:"e.g., Shop Now, Learn More",className:"mt-1 h-9"})]})]}),r.jsxs("div",{children:[r.jsx(He,{htmlFor:"logo_position",className:"text-sm font-medium text-gray-700",children:"Text Position"}),r.jsxs(dn,{value:O.logo_position,onValueChange:K=>z("logo_position",K),children:[r.jsx(nn,{className:"mt-1 h-9",children:r.jsx(un,{placeholder:"Select position"})}),r.jsxs(sn,{children:[r.jsx(Ie,{value:"top-left",children:"Top Left"}),r.jsx(Ie,{value:"top-center",children:"Top Center"}),r.jsx(Ie,{value:"top-right",children:"Top Right"}),r.jsx(Ie,{value:"center",children:"Center"}),r.jsx(Ie,{value:"bottom-left",children:"Bottom Left"}),r.jsx(Ie,{value:"bottom-center",children:"Bottom Center"}),r.jsx(Ie,{value:"bottom-right",children:"Bottom Right"})]})]})]})]})]}),r.jsxs("div",{className:"border-t pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx(He,{className:"text-sm font-medium text-gray-700",children:"Upload Assets"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Add your own images or videos to incorporate into the marketing content"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:O.use_uploaded_assets,onChange:K=>z("use_uploaded_assets",K.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),O.use_uploaded_assets&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${$?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:ne,onDragLeave:ne,onDragOver:ne,onDrop:F,children:[r.jsx(Ci,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Drag and drop your images or videos here, or"," ",r.jsx("button",{type:"button",onClick:()=>{var K;return(K=M.current)==null?void 0:K.click()},className:"text-blue-600 hover:text-blue-700 font-medium",children:"browse files"})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Supports: JPG, PNG, GIF, MP4, MOV (Max: 10MB for images, 100MB for videos)"}),r.jsx("input",{ref:M,type:"file",multiple:!0,accept:"image/*,video/*",onChange:k,className:"hidden"})]}),B&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Uploading..."}),r.jsxs("span",{className:"text-gray-600",children:[Math.round(U),"%"]})]}),r.jsx(Ka,{value:U,className:"h-2"})]}),P.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs(He,{className:"text-sm font-medium text-gray-700",children:["Uploaded Assets (",P.length,")"]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:P.map((K,ie)=>r.jsxs("div",{className:"relative group border rounded-lg p-2",children:[K.type==="image"&&K.preview?r.jsx("img",{src:K.preview,alt:K.name,className:"w-full h-20 object-cover rounded"}):r.jsx("div",{className:"w-full h-20 bg-gray-100 rounded flex items-center justify-center",children:r.jsx(Yc,{className:"h-6 w-6 text-gray-400"})}),r.jsx("p",{className:"text-xs text-gray-600 mt-1 truncate",children:K.name}),r.jsx("button",{type:"button",onClick:()=>W(ie),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(uh,{className:"h-3 w-3"})})]},ie))})]})]})]}),r.jsx("div",{className:"border-t pt-4",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx(ye,{onClick:xe,disabled:s||!O.product_name||!O.product_description,className:"flex-1 h-10 bg-blue-600 hover:bg-blue-700",children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(qc,{className:"h-4 w-4 mr-2"}),"Generate Premium ",e==="image"?"Image":"Video"]})}),g&&r.jsx(ye,{onClick:ge,disabled:s||!O.product_name||!O.product_description,variant:"outline",className:"flex-1 h-10 border-blue-200 text-blue-700 hover:bg-blue-50",children:s?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),"Generating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Ni,{className:"h-4 w-4 mr-2"}),"Generate 3 Swipe Ready Variations"]})})]})})]})]})}),r.jsxs("div",{className:"space-y-6",children:[h&&r.jsxs(Gt,{className:"shadow-sm border-gray-200",children:[r.jsx(Rn,{className:"pb-3",children:r.jsxs(Mn,{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[r.jsx(hh,{className:"h-4 w-4 text-blue-600"}),"Master Prompt"]})}),r.jsxs(Kt,{children:[r.jsx("div",{className:"bg-gray-50 rounded-lg p-3 max-h-64 overflow-y-auto",children:r.jsx("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap font-mono leading-relaxed",children:h})}),r.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>navigator.clipboard.writeText(h),className:"mt-2 h-7 text-xs",children:[r.jsx(xv,{className:"h-3 w-3 mr-1"}),"Copy"]})]})]}),s&&r.jsxs(Gt,{className:"shadow-sm border-gray-200",children:[r.jsx(Rn,{className:"pb-3",children:r.jsx(Mn,{className:"text-sm font-medium text-gray-900",children:"Generation Progress"})}),r.jsx(Kt,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ka,{value:a,className:"h-2"}),r.jsxs("p",{className:"text-xs text-gray-600",children:[a,"% complete"]})]})})]}),l.length>0&&r.jsxs(Gt,{className:"shadow-sm border-gray-200",children:[r.jsx(Rn,{className:"pb-3",children:r.jsx(Mn,{className:"text-sm font-medium text-gray-900",children:"Generated Assets"})}),r.jsx(Kt,{children:r.jsx("div",{className:"space-y-3",children:l.map((K,ie)=>r.jsxs("div",{className:"border rounded-lg p-3",children:[r.jsx("img",{src:K.url,alt:`Generated asset ${ie+1}`,className:"w-full h-32 object-cover rounded mb-2"}),r.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>ze(K.url,`marketing-ad-${ie+1}`),className:"w-full h-7 text-xs",children:[r.jsx(da,{className:"h-3 w-3 mr-1"}),"Download"]})]},ie))})})]}),w.length>0&&r.jsxs(Gt,{className:"shadow-sm border-gray-200",children:[r.jsx(Rn,{className:"pb-3",children:r.jsx(Mn,{className:"text-sm font-medium text-gray-900",children:"Marketing Variations"})}),r.jsx(Kt,{children:r.jsx("div",{className:"space-y-3",children:w.map((K,ie)=>r.jsxs("div",{className:"border rounded-lg p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(qt,{variant:"outline",className:"text-xs",children:K.target_emotion}),r.jsx(qt,{variant:"outline",className:"text-xs",children:K.conversion_focus})]}),r.jsx("p",{className:"text-xs text-gray-600 mb-2",children:K.marketing_angle}),K.image_url&&r.jsx("img",{src:K.image_url,alt:`Variation ${ie+1}`,className:"w-full h-32 object-cover rounded mb-2"}),r.jsxs(ye,{variant:"outline",size:"sm",onClick:()=>ze(K.image_url,`variation-${ie+1}`),className:"w-full h-7 text-xs",children:[r.jsx(da,{className:"h-3 w-3 mr-1"}),"Download"]})]},ie))})})]})]})]})})]})},qa=_v,OL=bv,FT=vv,gg=f.forwardRef(({className:e,...t},s)=>r.jsx(fh,{ref:s,className:We("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));gg.displayName=fh.displayName;const zi=f.forwardRef(({className:e,children:t,...s},i)=>r.jsxs(FT,{children:[r.jsx(gg,{}),r.jsxs(mh,{ref:i,className:We("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,r.jsxs(yv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(uh,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zi.displayName=mh.displayName;const Fi=({className:e,...t})=>r.jsx("div",{className:We("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Fi.displayName="DialogHeader";const Ya=({className:e,...t})=>r.jsx("div",{className:We("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ya.displayName="DialogFooter";const Vi=f.forwardRef(({className:e,...t},s)=>r.jsx(ph,{ref:s,className:We("text-lg font-semibold leading-none tracking-tight",e),...t}));Vi.displayName=ph.displayName;const VT=f.forwardRef(({className:e,...t},s)=>r.jsx(gh,{ref:s,className:We("text-sm text-muted-foreground",e),...t}));VT.displayName=gh.displayName;function jn(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function ec(e,t=[]){let s=[];function i(c,l){const u=f.createContext(l),h=s.length;s=[...s,l];const m=x=>{var T;const{scope:y,children:_,...w}=x,b=((T=y==null?void 0:y[e])==null?void 0:T[h])||u,N=f.useMemo(()=>w,Object.values(w));return r.jsx(b.Provider,{value:N,children:_})};m.displayName=c+"Provider";function g(x,y){var b;const _=((b=y==null?void 0:y[e])==null?void 0:b[h])||u,w=f.useContext(_);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${x}\` must be used within \`${c}\``)}return[m,g]}const a=()=>{const c=s.map(l=>f.createContext(l));return function(u){const h=(u==null?void 0:u[e])||c;return f.useMemo(()=>({[`__scope${e}`]:{...u,[e]:h}}),[u,h])}};return a.scopeName=e,[i,$T(a,...t)]}function $T(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const i=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const l=i.reduce((u,{useScope:h,scopeName:m})=>{const x=h(c)[`__scope${m}`];return{...u,...x}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return s.scopeName=t.scopeName,s}function th(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function xg(...e){return t=>{let s=!1;const i=e.map(a=>{const c=th(a,t);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let a=0;a<i.length;a++){const c=i[a];typeof c=="function"?c():th(e[a],null)}}}}function $i(...e){return f.useCallback(xg(...e),e)}function Xa(e){const t=UT(e),s=f.forwardRef((i,a)=>{const{children:c,...l}=i,u=f.Children.toArray(c),h=u.find(WT);if(h){const m=h.props.children,g=u.map(x=>x===h?f.Children.count(m)>1?f.Children.only(null):f.isValidElement(m)?m.props.children:null:x);return r.jsx(t,{...l,ref:a,children:f.isValidElement(m)?f.cloneElement(m,void 0,g):null})}return r.jsx(t,{...l,ref:a,children:c})});return s.displayName=`${e}.Slot`,s}function UT(e){const t=f.forwardRef((s,i)=>{const{children:a,...c}=s;if(f.isValidElement(a)){const l=GT(a),u=ZT(c,a.props);return a.type!==f.Fragment&&(u.ref=i?xg(i,l):l),f.cloneElement(a,u)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var HT=Symbol("radix.slottable");function WT(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===HT}function ZT(e,t){const s={...t};for(const i in t){const a=e[i],c=t[i];/^on[A-Z]/.test(i)?a&&c?s[i]=(...u)=>{const h=c(...u);return a(...u),h}:a&&(s[i]=a):i==="style"?s[i]={...a,...c}:i==="className"&&(s[i]=[a,c].filter(Boolean).join(" "))}return{...e,...s}}function GT(e){var i,a;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function KT(e){const t=e+"CollectionProvider",[s,i]=ec(t),[a,c]=s(t,{collectionRef:{current:null},itemMap:new Map}),l=b=>{const{scope:N,children:T}=b,C=me.useRef(null),j=me.useRef(new Map).current;return r.jsx(a,{scope:N,itemMap:j,collectionRef:C,children:T})};l.displayName=t;const u=e+"CollectionSlot",h=Xa(u),m=me.forwardRef((b,N)=>{const{scope:T,children:C}=b,j=c(u,T),P=$i(N,j.collectionRef);return r.jsx(h,{ref:P,children:C})});m.displayName=u;const g=e+"CollectionItemSlot",x="data-radix-collection-item",y=Xa(g),_=me.forwardRef((b,N)=>{const{scope:T,children:C,...j}=b,P=me.useRef(null),E=$i(N,P),B=c(g,T);return me.useEffect(()=>(B.itemMap.set(P,{ref:P,...j}),()=>void B.itemMap.delete(P))),r.jsx(y,{[x]:"",ref:E,children:C})});_.displayName=g;function w(b){const N=c(e+"CollectionConsumer",b);return me.useCallback(()=>{const C=N.collectionRef.current;if(!C)return[];const j=Array.from(C.querySelectorAll(`[${x}]`));return Array.from(N.itemMap.values()).sort((B,V)=>j.indexOf(B.ref.current)-j.indexOf(V.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:l,Slot:m,ItemSlot:_},w,i]}var Ui=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},qT=jr[" useId ".trim().toString()]||(()=>{}),YT=0;function vg(e){const[t,s]=f.useState(qT());return Ui(()=>{s(i=>i??String(YT++))},[e]),t?`radix-${t}`:""}var XT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Os=XT.reduce((e,t)=>{const s=Xa(`Primitive.${t}`),i=f.forwardRef((a,c)=>{const{asChild:l,...u}=a,h=l?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(h,{...u,ref:c})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function JT(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...s)=>{var i;return(i=t.current)==null?void 0:i.call(t,...s)},[])}var QT=jr[" useInsertionEffect ".trim().toString()]||Ui;function yg({prop:e,defaultProp:t,onChange:s=()=>{},caller:i}){const[a,c,l]=eP({defaultProp:t,onChange:s}),u=e!==void 0,h=u?e:a;{const g=f.useRef(e!==void 0);f.useEffect(()=>{const x=g.current;x!==u&&console.warn(`${i} is changing from ${x?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,i])}const m=f.useCallback(g=>{var x;if(u){const y=tP(g)?g(e):g;y!==e&&((x=l.current)==null||x.call(l,y))}else c(g)},[u,e,c,l]);return[h,m]}function eP({defaultProp:e,onChange:t}){const[s,i]=f.useState(e),a=f.useRef(s),c=f.useRef(t);return QT(()=>{c.current=t},[t]),f.useEffect(()=>{var l;a.current!==s&&((l=c.current)==null||l.call(c,s),a.current=s)},[s,a]),[s,i,c]}function tP(e){return typeof e=="function"}var nP=f.createContext(void 0);function _g(e){const t=f.useContext(nP);return e||t||"ltr"}var ca="rovingFocusGroup.onEntryFocus",sP={bubbles:!1,cancelable:!0},Mr="RovingFocusGroup",[Ja,bg,rP]=KT(Mr),[iP,wg]=ec(Mr,[rP]),[oP,aP]=iP(Mr),jg=f.forwardRef((e,t)=>r.jsx(Ja.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(Ja.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(lP,{...e,ref:t})})}));jg.displayName=Mr;var lP=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:i,loop:a=!1,dir:c,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...x}=e,y=f.useRef(null),_=$i(t,y),w=_g(c),[b,N]=yg({prop:l,defaultProp:u??null,onChange:h,caller:Mr}),[T,C]=f.useState(!1),j=JT(m),P=bg(s),E=f.useRef(!1),[B,V]=f.useState(0);return f.useEffect(()=>{const U=y.current;if(U)return U.addEventListener(ca,j),()=>U.removeEventListener(ca,j)},[j]),r.jsx(oP,{scope:s,orientation:i,dir:w,loop:a,currentTabStopId:b,onItemFocus:f.useCallback(U=>N(U),[N]),onItemShiftTab:f.useCallback(()=>C(!0),[]),onFocusableItemAdd:f.useCallback(()=>V(U=>U+1),[]),onFocusableItemRemove:f.useCallback(()=>V(U=>U-1),[]),children:r.jsx(Os.div,{tabIndex:T||B===0?-1:0,"data-orientation":i,...x,ref:_,style:{outline:"none",...e.style},onMouseDown:jn(e.onMouseDown,()=>{E.current=!0}),onFocus:jn(e.onFocus,U=>{const X=!E.current;if(U.target===U.currentTarget&&X&&!T){const M=new CustomEvent(ca,sP);if(U.currentTarget.dispatchEvent(M),!M.defaultPrevented){const $=P().filter(J=>J.focusable),H=$.find(J=>J.active),O=$.find(J=>J.id===b),de=[H,O,...$].filter(Boolean).map(J=>J.ref.current);Cg(de,g)}}E.current=!1}),onBlur:jn(e.onBlur,()=>C(!1))})})}),Sg="RovingFocusGroupItem",Ng=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:i=!0,active:a=!1,tabStopId:c,children:l,...u}=e,h=vg(),m=c||h,g=aP(Sg,s),x=g.currentTabStopId===m,y=bg(s),{onFocusableItemAdd:_,onFocusableItemRemove:w,currentTabStopId:b}=g;return f.useEffect(()=>{if(i)return _(),()=>w()},[i,_,w]),r.jsx(Ja.ItemSlot,{scope:s,id:m,focusable:i,active:a,children:r.jsx(Os.span,{tabIndex:x?0:-1,"data-orientation":g.orientation,...u,ref:t,onMouseDown:jn(e.onMouseDown,N=>{i?g.onItemFocus(m):N.preventDefault()}),onFocus:jn(e.onFocus,()=>g.onItemFocus(m)),onKeyDown:jn(e.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){g.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const T=uP(N,g.orientation,g.dir);if(T!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let j=y().filter(P=>P.focusable).map(P=>P.ref.current);if(T==="last")j.reverse();else if(T==="prev"||T==="next"){T==="prev"&&j.reverse();const P=j.indexOf(N.currentTarget);j=g.loop?hP(j,P+1):j.slice(P+1)}setTimeout(()=>Cg(j))}}),children:typeof l=="function"?l({isCurrentTabStop:x,hasTabStop:b!=null}):l})})});Ng.displayName=Sg;var cP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function dP(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function uP(e,t,s){const i=dP(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return cP[i]}function Cg(e,t=!1){const s=document.activeElement;for(const i of e)if(i===s||(i.focus({preventScroll:t}),document.activeElement!==s))return}function hP(e,t){return e.map((s,i)=>e[(t+i)%e.length])}var fP=jg,mP=Ng;function pP(e,t){return f.useReducer((s,i)=>t[s][i]??s,e)}var Tg=e=>{const{present:t,children:s}=e,i=gP(t),a=typeof s=="function"?s({present:i.isPresent}):f.Children.only(s),c=$i(i.ref,xP(a));return typeof s=="function"||i.isPresent?f.cloneElement(a,{ref:c}):null};Tg.displayName="Presence";function gP(e){const[t,s]=f.useState(),i=f.useRef(null),a=f.useRef(e),c=f.useRef("none"),l=e?"mounted":"unmounted",[u,h]=pP(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const m=fi(i.current);c.current=u==="mounted"?m:"none"},[u]),Ui(()=>{const m=i.current,g=a.current;if(g!==e){const y=c.current,_=fi(m);e?h("MOUNT"):_==="none"||(m==null?void 0:m.display)==="none"?h("UNMOUNT"):h(g&&y!==_?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,h]),Ui(()=>{if(t){let m;const g=t.ownerDocument.defaultView??window,x=_=>{const b=fi(i.current).includes(_.animationName);if(_.target===t&&b&&(h("ANIMATION_END"),!a.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",m=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},y=_=>{_.target===t&&(c.current=fi(i.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{g.clearTimeout(m),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:f.useCallback(m=>{i.current=m?getComputedStyle(m):null,s(m)},[])}}function fi(e){return(e==null?void 0:e.animationName)||"none"}function xP(e){var i,a;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var ao="Tabs",[vP,DL]=ec(ao,[wg]),Pg=wg(),[yP,tc]=vP(ao),Eg=f.forwardRef((e,t)=>{const{__scopeTabs:s,value:i,onValueChange:a,defaultValue:c,orientation:l="horizontal",dir:u,activationMode:h="automatic",...m}=e,g=_g(u),[x,y]=yg({prop:i,onChange:a,defaultProp:c??"",caller:ao});return r.jsx(yP,{scope:s,baseId:vg(),value:x,onValueChange:y,orientation:l,dir:g,activationMode:h,children:r.jsx(Os.div,{dir:g,"data-orientation":l,...m,ref:t})})});Eg.displayName=ao;var Lg="TabsList",Ag=f.forwardRef((e,t)=>{const{__scopeTabs:s,loop:i=!0,...a}=e,c=tc(Lg,s),l=Pg(s);return r.jsx(fP,{asChild:!0,...l,orientation:c.orientation,dir:c.dir,loop:i,children:r.jsx(Os.div,{role:"tablist","aria-orientation":c.orientation,...a,ref:t})})});Ag.displayName=Lg;var kg="TabsTrigger",Rg=f.forwardRef((e,t)=>{const{__scopeTabs:s,value:i,disabled:a=!1,...c}=e,l=tc(kg,s),u=Pg(s),h=Og(l.baseId,i),m=Dg(l.baseId,i),g=i===l.value;return r.jsx(mP,{asChild:!0,...u,focusable:!a,active:g,children:r.jsx(Os.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":m,"data-state":g?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:h,...c,ref:t,onMouseDown:jn(e.onMouseDown,x=>{!a&&x.button===0&&x.ctrlKey===!1?l.onValueChange(i):x.preventDefault()}),onKeyDown:jn(e.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&l.onValueChange(i)}),onFocus:jn(e.onFocus,()=>{const x=l.activationMode!=="manual";!g&&!a&&x&&l.onValueChange(i)})})})});Rg.displayName=kg;var Mg="TabsContent",Ig=f.forwardRef((e,t)=>{const{__scopeTabs:s,value:i,forceMount:a,children:c,...l}=e,u=tc(Mg,s),h=Og(u.baseId,i),m=Dg(u.baseId,i),g=i===u.value,x=f.useRef(g);return f.useEffect(()=>{const y=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(y)},[]),r.jsx(Tg,{present:a||g,children:({present:y})=>r.jsx(Os.div,{"data-state":g?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!y,id:m,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:x.current?"0s":void 0},children:y&&c})})});Ig.displayName=Mg;function Og(e,t){return`${e}-trigger-${t}`}function Dg(e,t){return`${e}-content-${t}`}var _P=Eg,Bg=Ag,zg=Rg,Fg=Ig;const BL=_P,bP=f.forwardRef(({className:e,...t},s)=>r.jsx(Bg,{ref:s,className:We("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));bP.displayName=Bg.displayName;const wP=f.forwardRef(({className:e,...t},s)=>r.jsx(zg,{ref:s,className:We("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));wP.displayName=zg.displayName;const jP=f.forwardRef(({className:e,...t},s)=>r.jsx(Fg,{ref:s,className:We("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));jP.displayName=Fg.displayName;const Kn={searchPlaces:async e=>{const t=await we.post("/api/lead-scraper/search",e);return console.log(t,"============ check google response======="),t.data},getPlaceDetails:async e=>(await we.get(`/api/lead-scraper/place/${e}`)).data,saveLead:async e=>(await we.post("/api/lead-scraper/leads",e)).data,getLeads:async(e={})=>{const t=new URLSearchParams;return Object.entries(e).forEach(([i,a])=>{a!=null&&a!==""&&t.append(i,a.toString())}),(await we.get(`/api/lead-scraper/leads?${t.toString()}`)).data},getLead:async e=>(await we.get(`/api/lead-scraper/leads/${e}`)).data,updateLead:async(e,t)=>(await we.put(`/api/lead-scraper/leads/${e}`,t)).data,deleteLead:async e=>(await we.delete(`/api/lead-scraper/leads/${e}`)).data,getStats:async()=>(await we.get("/api/lead-scraper/stats")).data,bulkSaveLeads:async e=>(await we.post("/api/lead-scraper/leads/bulk",e)).data};function SP({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const NP=f.forwardRef(SP);function CP({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const TP=f.forwardRef(CP);function PP({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const EP=f.forwardRef(PP);function LP({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const AP=f.forwardRef(LP);function kP({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const RP=f.forwardRef(kP);function MP({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const IP=f.forwardRef(MP);function OP({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const DP=f.forwardRef(OP);function BP({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const zP=f.forwardRef(BP);function FP({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const mi=f.forwardRef(FP);function VP({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const $P=f.forwardRef(VP);function UP({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const HP=f.forwardRef(UP);function WP({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const Hi=f.forwardRef(WP);function ZP({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Vg=f.forwardRef(ZP);function GP({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const KP=f.forwardRef(GP);function qP({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const Qa=f.forwardRef(qP);function YP({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Wi=f.forwardRef(YP);function XP({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const nh=f.forwardRef(XP);function JP({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const sh=f.forwardRef(JP);function QP({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const el=f.forwardRef(QP);function eE({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const Si=f.forwardRef(eE);function tE({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const rh=f.forwardRef(tE);function nE({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const sE=f.forwardRef(nE);function rE({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const $g=f.forwardRef(rE);function iE({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const tl=f.forwardRef(iE);function oE({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const aE=f.forwardRef(oE);function lE({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const cE=f.forwardRef(lE);function dE({title:e,titleId:t,...s},i){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const ih=f.forwardRef(dE),uE="AIzaSyC5V4eL4a8u2WerD28qGwIznpHyWeD7obU",hE=()=>{const[e,t]=f.useState(""),[s,i]=f.useState(""),[a,c]=f.useState(5e3),[l,u]=f.useState(!1),[h,m]=f.useState([]),[g,x]=f.useState(null),[y,_]=f.useState(!1),[w,b]=f.useState(!1),N=f.useRef(null),[T,C]=f.useState(""),[j,P]=f.useState(""),[E,B]=f.useState(""),[V,U]=f.useState(!1),[X,M]=f.useState(!1),[$,H]=f.useState([]),[O,ee]=f.useState(!1),[de,J]=f.useState([]),[he,ne]=f.useState(null),[F,k]=f.useState(null),[D,W]=f.useState(!1),[z,Z]=f.useState("search"),[ge,xe]=f.useState(1),[ue,Te]=f.useState(1),[ze,K]=f.useState(!1),[ie,le]=f.useState({search:"",status:"all",business_type:"all",rating_min:"all"}),[Pe,Ne]=f.useState([]),[Ae,Ke]=f.useState({lat:40.7128,lng:-74.006}),[De,Oe]=f.useState(12),Ge=f.useRef(null),Be=f.useRef(null),xt=f.useRef([]),ft=f.useRef(null);f.useEffect(()=>{z==="saved"&&(Ye(),Qe())},[z,ge,ie]);const et=()=>new Promise((I,ce)=>{if(window.google&&window.google.maps&&window.google.maps.Map){I(window.google);return}const ae=document.querySelector('script[src*="maps.googleapis.com"]');ae&&ae.remove();const te=document.createElement("script");te.src=`https://maps.googleapis.com/maps/api/js?key=${uE}&libraries=places,geometry,marker`,te.async=!0,te.defer=!0,te.onload=()=>{setTimeout(()=>{window.google&&window.google.maps&&window.google.maps.Map?I(window.google):ce(new Error("Google Maps failed to load"))},200)},te.onerror=fe=>{ce(new Error("Failed to load Google Maps script"))},document.head.appendChild(te)});f.useEffect(()=>{const I=async()=>{const te=()=>new Promise((fe,Se)=>{let qe=0;const nt=20,Xt=()=>{Ge.current?fe(Ge.current):qe<nt?(qe++,setTimeout(Xt,100)):Se(new Error("Map container not found after waiting"))};Xt()});try{const fe=await te(),Se=await et();ce(Se,Ae),navigator.geolocation&&navigator.geolocation.getCurrentPosition(qe=>{const nt={lat:qe.coords.latitude,lng:qe.coords.longitude};Ke(nt),Be.current&&(Be.current.setCenter(nt),Se.maps.marker&&Se.maps.marker.AdvancedMarkerElement?new Se.maps.marker.AdvancedMarkerElement({position:nt,map:Be.current,title:"Your Location"}):new Se.maps.Marker({position:nt,map:Be.current,title:"Your Location",icon:{url:"https://maps.google.com/mapfiles/ms/icons/blue-dot.png"}}))},qe=>{console.log("Geolocation error:",qe)})}catch(fe){console.error("Error loading Google Maps:",fe),re.error("Failed to load Google Maps. Please check your internet connection.")}},ce=(te,fe)=>{if(!te||!te.maps||!te.maps.Map){console.error("Google Maps API not properly loaded"),re.error("Google Maps API not properly loaded");return}if(!Ge.current){console.error("Map container not found"),re.error("Map container not found");return}try{const Se={center:fe,zoom:De,mapTypeControl:!0,streetViewControl:!0,fullscreenControl:!0,zoomControl:!0,mapTypeId:te.maps.MapTypeId.ROADMAP,mapId:"88f5b6f4a12cadf8f16b7bd5"};Be.current=new te.maps.Map(Ge.current,Se),ft.current=new te.maps.InfoWindow,Be.current.addListener("click",qe=>{const nt=qe.latLng;Q(nt.lat(),nt.lng())}),console.log("Google Maps initialized successfully")}catch(Se){console.error("Error initializing Google Maps:",Se),re.error("Failed to initialize Google Maps")}},ae=setTimeout(()=>{I()},100);return()=>{clearTimeout(ae),Be.current&&(Be.current=null),ft.current&&(ft.current=null)}},[]),f.useEffect(()=>{const ce=setTimeout(async()=>{if(!(!Be.current||!window.google||!window.google.maps))try{xt.current.forEach(ae=>{ae&&ae.setMap&&ae.setMap(null)}),xt.current=[];for(let ae=0;ae<Pe.length;ae++){const te=Pe[ae];if(!te.position||!te.position.lat||!te.position.lng){console.warn("Invalid marker position:",te);continue}try{let fe;window.google.maps.marker&&window.google.maps.marker.AdvancedMarkerElement?fe=new window.google.maps.marker.AdvancedMarkerElement({position:te.position,map:Be.current,title:te.name}):fe=new window.google.maps.Marker({position:te.position,map:Be.current,title:te.name,icon:{url:"https://maps.google.com/mapfiles/ms/icons/red-dot.png"}});const Se=`
              <div style="max-width: 300px; padding: 10px;">
                <h3 style="font-weight: bold; font-size: 14px; margin-bottom: 8px;">${te.name||"Unknown"}</h3>
                <p style="font-size: 12px; color: #666; margin-bottom: 4px;">${te.address||"No address"}</p>
                ${te.phone?`<p style="font-size: 12px; margin-bottom: 4px;"> ${te.phone}</p>`:""}
                ${te.website?`<p style="font-size: 12px; margin-bottom: 4px;"> <a href="${te.website}" target="_blank" style="color: #1976d2;">Website</a></p>`:""}
                ${te.rating?`<p style="font-size: 12px; margin-bottom: 8px;"> ${te.rating}/5</p>`:""}
                <button onclick="window.saveLead(${ae})" style="background: #1976d2; color: white; padding: 6px 12px; border: none; border-radius: 4px; font-size: 12px; cursor: pointer;">
                  Save Lead
                </button>
              </div>
            `;fe.addListener("click",()=>{ft.current&&(ft.current.setContent(Se),ft.current.open(Be.current,fe))}),xt.current.push(fe)}catch(fe){console.error("Error creating marker:",fe)}}if(Pe.length>0&&Be.current){const ae=new window.google.maps.LatLngBounds;Pe.forEach(te=>{te.position&&te.position.lat&&te.position.lng&&ae.extend(te.position)}),ae.isEmpty()||Be.current.fitBounds(ae)}}catch(ae){console.error("Error updating markers:",ae)}},100);return()=>clearTimeout(ce)},[Pe]),f.useEffect(()=>(window.saveLead=I=>{Pe[I]&&Ee(Pe[I])},()=>{delete window.saveLead}),[Pe]);const ot=async(I=!1)=>{if(!e.trim()){re.error("Please enter a search query");return}I?b(!0):(u(!0),m([]),x(null),_(!1));try{const ce={query:e,location:s,radius:a,maxResults:20,openNow:V};T&&T!=="all"&&(ce.type=T),j&&j!=="all"&&(ce.priceLevel=parseInt(j)),E&&E!=="all"&&(ce.minRating=parseFloat(E)),I&&g&&(ce.pageToken=g);const ae=await Kn.searchPlaces(ce);if(ae.success){const te=ae.data.places||[];if(x(ae.data.nextPageToken||null),_(ae.data.hasMore||!1),I)m(fe=>[...fe,...te]),_e([...h,...te]);else{m(te),_e(te);const fe={query:e,location:s,timestamp:new Date().toISOString(),resultCount:te.length};if(H(Se=>[fe,...Se.filter(nt=>!(nt.query===e&&nt.location===s))].slice(0,10)),te.length===0)re.error("No results found. Try different search terms or expand the search radius.");else{const Se=s?` in ${s}`:"",qe=ae.data.hasMore?" (scroll for more)":"";re.success(`Found ${te.length} businesses${Se}${qe}`)}}}else re.error(ae.message||"Search failed")}catch(ce){console.error("Search error:",ce),re.error(`Search failed: ${ce.message}. Please try again with different search terms.`)}finally{u(!1),b(!1)}},Tt=()=>{!w&&y&&g&&ot(!0)};f.useEffect(()=>{const I=N.current;if(!I)return;const ce=()=>{const{scrollTop:ae,scrollHeight:te,clientHeight:fe}=I;te-ae-fe<100&&Tt()};return I.addEventListener("scroll",ce),()=>I.removeEventListener("scroll",ce)},[y,g,w,h]);const Q=async(I,ce)=>{e.trim()||t("places"),i(`${I.toFixed(6)}, ${ce.toFixed(6)}`),c(2e3),setTimeout(()=>{ot()},100),re.info("Searching for places near clicked location...")},_e=I=>{if(I.length===0)return;const ce=I.filter(ae=>ae.geometry&&ae.geometry.location&&ae.geometry.location.lat&&ae.geometry.location.lng).map(ae=>({position:{lat:ae.geometry.location.lat,lng:ae.geometry.location.lng},name:ae.name,address:ae.formatted_address,rating:ae.rating,business_type:ae.business_type,phone:ae.phone,website:ae.website,place_id:ae.place_id}));if(Ne(ce),ce.length>0){const ae=ce.reduce((fe,Se)=>fe+Se.position.lat,0)/ce.length,te=ce.reduce((fe,Se)=>fe+Se.position.lng,0)/ce.length;Ke({lat:ae,lng:te}),Oe(ce.length===1?15:12)}},Ee=async I=>{var ce,ae,te,fe;try{const Se={business_name:I.name,address:I.formatted_address,phone:I.phone||null,email:I.email||null,website:I.website||null,business_type:I.business_type||(I.types&&I.types.length>0?I.types[0]:null),latitude:((ae=(ce=I.geometry)==null?void 0:ce.location)==null?void 0:ae.lat)||I.lat,longitude:((fe=(te=I.geometry)==null?void 0:te.location)==null?void 0:fe.lng)||I.lon,place_id:I.place_id||I.id,search_query:e,search_location:s,rating:I.rating||null,total_ratings:I.user_ratings_total||null},qe=await Kn.saveLead(Se);qe.success?(re.success("Lead saved successfully!"),z==="saved"&&(Ye(),Qe())):re.error(qe.message||"Failed to save lead")}catch(Se){console.error("Save lead error:",Se),re.error("Failed to save lead")}},Ye=async()=>{K(!0);try{const I={page:ge,limit:10};ie.search&&(I.search=ie.search),ie.status&&ie.status!=="all"&&(I.status=ie.status),ie.business_type&&ie.business_type!=="all"&&(I.business_type=ie.business_type),ie.rating_min&&ie.rating_min!=="all"&&(I.rating_min=parseFloat(ie.rating_min));const ce=await Kn.getLeads(I);ce.success?(J(ce.data.leads||[]),Te(ce.data.totalPages||1)):(re.error(ce.message||"Failed to load saved leads"),J([]),Te(1))}catch(I){console.error("Load leads error:",I),re.error("Failed to load saved leads"),J([]),Te(1)}finally{K(!1)}},Qe=async()=>{try{const I=await Kn.getStats();if(I.success){const ce={total:I.data.total_leads||0,new:I.data.new_leads||0,contacted:I.data.contacted_leads||0,interested:I.data.interested_leads||0,not_interested:I.data.not_interested_leads||0};ne(ce)}}catch(I){console.error("Load stats error:",I)}},se=async(I,ce)=>{try{const ae=await Kn.updateLead(I,{status:ce});ae.success?(re.success("Lead status updated successfully!"),Ye(),Qe()):re.error(ae.message||"Failed to update lead status")}catch(ae){console.error("Update lead error:",ae),re.error("Failed to update lead status")}},Le=async I=>{if(window.confirm("Are you sure you want to delete this lead?"))try{const ce=await Kn.deleteLead(I);ce.success?(re.success("Lead deleted successfully!"),Ye(),Qe()):re.error(ce.message||"Failed to delete lead")}catch(ce){console.error("Delete lead error:",ce),re.error("Failed to delete lead")}},tt=async()=>{if(h.length===0){re.error("No search results to save");return}try{const I=h.map(ae=>{var te,fe,Se,qe;return{business_name:ae.name,address:ae.formatted_address,phone:ae.phone||null,email:ae.email||null,website:ae.website||null,business_type:ae.business_type||(ae.types&&ae.types.length>0?ae.types[0]:null),latitude:((fe=(te=ae.geometry)==null?void 0:te.location)==null?void 0:fe.lat)||ae.lat,longitude:((qe=(Se=ae.geometry)==null?void 0:Se.location)==null?void 0:qe.lng)||ae.lon,place_id:ae.place_id||ae.id,search_query:e,search_location:s,rating:ae.rating||null,total_ratings:ae.user_ratings_total||null}}),ce=await Kn.bulkSaveLeads({leads:I});ce.success?(re.success(`${ce.saved_count||I.length} leads saved successfully!${ce.skipped_count>0?` (${ce.skipped_count} already existed)`:""}`),z==="saved"&&(Ye(),Qe())):re.error(ce.message||"Failed to save leads")}catch(I){console.error("Bulk save error:",I),re.error("Failed to bulk save leads")}},st=async I=>{try{let ce=h.find(ae=>ae.place_id===I);ce||(ce=JSON.parse(localStorage.getItem("demoLeads")||"[]").find(te=>te.place_id===I)),ce?(k(ce),W(!0)):re.error("Place details not found")}catch(ce){console.error("Get place details error:",ce),re.error("Failed to get place details")}},R=(I,ce)=>I?` ${I.toFixed(1)} (${ce||0} reviews)`:"No rating",je=I=>!I||I.length===0?"Unknown":I[0].replace(/_/g," ").replace(/\b\w/g,ce=>ce.toUpperCase()),ke=I=>{switch(I){case"new":return"bg-blue-100 text-blue-800";case"contacted":return"bg-yellow-100 text-yellow-800";case"interested":return"bg-green-100 text-green-800";case"not_interested":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return r.jsxs("div",{className:"h-screen flex flex-col",children:[r.jsx("div",{className:"bg-white border-b px-6 py-4 flex items-center justify-between",children:r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Lead Scraper"})}),z==="search"&&r.jsxs("div",{className:"flex-1 flex h-full",children:[r.jsxs("div",{className:"w-80 bg-white border-r flex flex-col h-full",children:[r.jsx("div",{className:"flex-shrink-0 p-3 border-b bg-white",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(at,{placeholder:"Search for businesses, places, or services...",value:e,onChange:I=>t(I.target.value),onKeyDown:I=>I.key==="Enter"&&ot(),onFocus:()=>ee(!0),onBlur:()=>setTimeout(()=>ee(!1),200),className:"w-full text-sm h-9"}),O&&($.length>0||!e)&&r.jsxs("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-md shadow-lg z-50 mt-1",children:[$.length>0&&r.jsxs("div",{className:"p-2 border-b",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Recent searches"}),$.slice(0,5).map((I,ce)=>r.jsxs("button",{onClick:()=>{t(I.query),i(I.location||""),ee(!1)},className:"w-full text-left text-xs p-1 hover:bg-gray-50 rounded flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{children:I.query}),I.location&&r.jsxs("span",{className:"text-gray-400",children:["in ",I.location]})]},ce))]}),!e&&r.jsxs("div",{className:"p-2",children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Popular searches"}),["Restaurants near me","Gas stations","Hotels","Hospitals","Banks","Coffee shops"].map(I=>r.jsxs("button",{onClick:()=>{t(I),ee(!1)},className:"w-full text-left text-xs p-1 hover:bg-gray-50 rounded flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-400",children:""}),r.jsx("span",{children:I})]},I))]})]})]}),r.jsx("div",{}),r.jsxs(ye,{onClick:ot,disabled:l||!e.trim(),className:"w-full h-8 text-sm",children:[r.jsx(Wi,{className:"h-3 w-3 mr-1"}),l?"Searching...":"Search"]}),h.length>0&&r.jsxs(ye,{variant:"outline",onClick:tt,className:"w-full h-8 text-sm",children:[r.jsx(rh,{className:"h-3 w-3 mr-1"}),"Save All (",h.length,")"]})]})}),r.jsx("div",{className:"flex-1 overflow-hidden",children:h.length>0?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex-shrink-0 px-3 py-2 border-b bg-gray-50",children:r.jsxs("h3",{className:"font-medium text-sm text-gray-700",children:["Search Results (",h.length,")",y&&"+"]})}),r.jsx("div",{ref:N,className:"h-full overflow-y-auto",children:r.jsxs("div",{className:"p-2 space-y-2",children:[h.map((I,ce)=>r.jsx("div",{className:"border rounded-lg p-3 hover:shadow-md transition-all bg-white hover:bg-blue-50 cursor-pointer",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsx("h4",{className:"font-semibold text-sm leading-tight text-blue-900",title:I.name,children:I.name}),I.business_status==="OPERATIONAL"&&r.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Open"})]}),I.rating&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-yellow-500",children:""}),r.jsx("span",{className:"text-sm font-medium",children:I.rating.toFixed(1)})]}),I.user_ratings_total>0&&r.jsxs("span",{className:"text-xs text-gray-500",children:["(",I.user_ratings_total.toLocaleString()," reviews)"]})]}),I.price_level!==void 0&&I.price_level!==null&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Price:"}),r.jsx("span",{className:"text-sm font-medium text-green-600",children:"$".repeat(I.price_level+1)})]}),I.types&&I.types.length>0&&r.jsxs("div",{className:"flex flex-wrap gap-1",children:[I.types.slice(0,3).map((ae,te)=>r.jsx(qt,{variant:"outline",className:"text-xs py-0 px-1 h-4",children:ae.replace(/_/g," ").replace(/\b\w/g,fe=>fe.toUpperCase())},te)),I.types.length>3&&r.jsxs("span",{className:"text-xs text-gray-500",children:["+",I.types.length-3," more"]})]}),r.jsxs("div",{className:"flex items-start gap-1 text-xs text-gray-600",children:[r.jsx(nh,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"line-clamp-2 leading-tight",children:I.formatted_address})]}),I.phone&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[r.jsx(Si,{className:"h-3 w-3 flex-shrink-0"}),r.jsx("span",{children:I.phone})]}),I.opening_hours&&r.jsx("div",{className:"text-xs",children:I.opening_hours.open_now||I.opening_hours.openNow?r.jsx("span",{className:"text-green-600 font-medium",children:"Open now"}):r.jsx("span",{className:"text-red-600 font-medium",children:"Closed"})}),r.jsxs("div",{className:"flex gap-1 pt-1",children:[r.jsxs(ye,{size:"sm",onClick:()=>Ee(I),className:"flex items-center gap-1 text-xs h-6 px-2",children:[r.jsx(rh,{className:"h-3 w-3"}),"Save"]}),r.jsxs(ye,{size:"sm",variant:"outline",onClick:()=>st(I.place_id),className:"flex items-center gap-1 text-xs h-6 px-2",children:[r.jsx(Vg,{className:"h-3 w-3"}),"Details"]}),I.geometry&&I.geometry.location&&r.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>{const ae=I.geometry.location.lat,te=I.geometry.location.lng,fe=`https://www.google.com/maps/dir/?api=1&destination=${ae},${te}`;window.open(fe,"_blank")},className:"flex items-center gap-1 text-xs h-6 px-1",title:"Get directions",children:""}),I.place_id&&r.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>{const ae=`https://www.google.com/maps/place/?q=place_id:${I.place_id}`;window.open(ae,"_blank")},className:"flex items-center gap-1 text-xs h-6 px-1",title:"View on Google Maps",children:""})]})]})},I.place_id||ce)),w&&r.jsx("div",{className:"flex items-center justify-center py-4",children:r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[r.jsxs("svg",{className:"animate-spin h-4 w-4 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{children:"Loading more leads..."})]})}),!y&&h.length>0&&!w&&r.jsx("div",{className:"flex items-center justify-center py-3",children:r.jsxs("span",{className:"text-xs text-gray-400",children:[" End of results (",h.length," total) "]})}),y&&!w&&r.jsx("div",{className:"flex items-center justify-center py-3",children:r.jsx(ye,{variant:"outline",size:"sm",onClick:()=>ot(!0),className:"text-xs",children:"Load More Results"})})]})})]}):r.jsxs("div",{className:"p-4 text-center text-gray-500",children:[r.jsx(Wi,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),r.jsx("p",{className:"text-sm",children:"Search for businesses to see results here"}),r.jsxs("div",{className:"mt-4 space-y-2",children:[r.jsx("p",{className:"text-xs font-medium",children:"Quick searches:"}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.jsx(ye,{size:"sm",variant:"outline",onClick:()=>t("hotels"),className:"text-xs h-6 px-2",children:"Hotels"}),r.jsx(ye,{size:"sm",variant:"outline",onClick:()=>t("restaurants"),className:"text-xs h-6 px-2",children:"Restaurants"}),r.jsx(ye,{size:"sm",variant:"outline",onClick:()=>t("shops"),className:"text-xs h-6 px-2",children:"Shops"}),r.jsx(ye,{size:"sm",variant:"outline",onClick:()=>t("banks"),className:"text-xs h-6 px-2",children:"Banks"})]}),r.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:[r.jsx("p",{className:"font-medium",children:"Tips for better results:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-0.5 text-xs",children:[r.jsx("li",{children:'Use specific terms like "hotels" instead of "accommodation"'}),r.jsx("li",{children:"Try different radius settings (1-20km work best)"}),r.jsx("li",{children:"For international searches, include city name"})]})]})]})]})})]}),r.jsx("div",{className:"flex-1 relative overflow-hidden",children:r.jsx("div",{ref:Ge,className:"w-full h-full",style:{height:"100%",width:"100%",overflow:"hidden"}})})]}),z==="saved"&&r.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[he&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(Gt,{children:r.jsxs(Kt,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:he.total}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Leads"})]})}),r.jsx(Gt,{children:r.jsxs(Kt,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:he.new}),r.jsx("div",{className:"text-sm text-gray-600",children:"New Leads"})]})}),r.jsx(Gt,{children:r.jsxs(Kt,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:he.contacted}),r.jsx("div",{className:"text-sm text-gray-600",children:"Contacted"})]})}),r.jsx(Gt,{children:r.jsxs(Kt,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:he.interested}),r.jsx("div",{className:"text-sm text-gray-600",children:"Interested"})]})})]}),r.jsxs(Gt,{className:"mb-6",children:[r.jsx(Rn,{children:r.jsx(Mn,{children:"Filter Leads"})}),r.jsx(Kt,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx(He,{htmlFor:"filterSearch",children:"Search"}),r.jsx(at,{id:"filterSearch",placeholder:"Search leads...",value:ie.search,onChange:I=>le(ce=>({...ce,search:I.target.value}))})]}),r.jsxs("div",{children:[r.jsx(He,{htmlFor:"filterStatus",children:"Status"}),r.jsxs(dn,{value:ie.status,onValueChange:I=>le(ce=>({...ce,status:I})),children:[r.jsx(nn,{children:r.jsx(un,{placeholder:"All statuses"})}),r.jsxs(sn,{children:[r.jsx(Ie,{value:"all",children:"All statuses"}),r.jsx(Ie,{value:"new",children:"New"}),r.jsx(Ie,{value:"contacted",children:"Contacted"}),r.jsx(Ie,{value:"interested",children:"Interested"}),r.jsx(Ie,{value:"not_interested",children:"Not Interested"})]})]})]}),r.jsxs("div",{children:[r.jsx(He,{htmlFor:"filterBusinessType",children:"Business Type"}),r.jsx(at,{id:"filterBusinessType",placeholder:"e.g., restaurant",value:ie.business_type,onChange:I=>le(ce=>({...ce,business_type:I.target.value}))})]}),r.jsxs("div",{children:[r.jsx(He,{htmlFor:"filterRating",children:"Min Rating"}),r.jsxs(dn,{value:ie.rating_min,onValueChange:I=>le(ce=>({...ce,rating_min:I})),children:[r.jsx(nn,{children:r.jsx(un,{placeholder:"Any rating"})}),r.jsxs(sn,{children:[r.jsx(Ie,{value:"all",children:"Any rating"}),r.jsx(Ie,{value:"1",children:"1+ stars"}),r.jsx(Ie,{value:"2",children:"2+ stars"}),r.jsx(Ie,{value:"3",children:"3+ stars"}),r.jsx(Ie,{value:"4",children:"4+ stars"}),r.jsx(Ie,{value:"4.5",children:"4.5+ stars"})]})]})]})]})})]}),r.jsxs(Gt,{children:[r.jsx(Rn,{children:r.jsx(Mn,{children:"Your Saved Leads"})}),r.jsx(Kt,{children:ze?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("p",{className:"text-gray-500",children:"Loading leads..."})}):de.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(EP,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No saved leads found"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Start by searching for leads in the Search tab"})]}):r.jsxs("div",{className:"space-y-4",children:[de.map(I=>r.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-semibold text-lg",children:I.business_name}),r.jsx(qt,{className:ke(I.status),children:I.status.replace("_"," ")})]}),r.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[r.jsx(nh,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:I.address})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[I.phone&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Si,{className:"h-4 w-4"}),r.jsx("span",{children:I.phone})]}),I.website&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Qa,{className:"h-4 w-4"}),r.jsx("a",{href:I.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Website"})]}),I.rating&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(sE,{className:"h-4 w-4 text-yellow-500 fill-current"}),r.jsx("span",{children:R(I.rating,I.total_ratings)})]})]}),I.business_type&&r.jsx(qt,{variant:"secondary",className:"text-xs",children:je([I.business_type])}),I.notes&&r.jsxs("div",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:[r.jsx("strong",{children:"Notes:"})," ",I.notes]})]}),r.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[r.jsxs(dn,{value:I.status,onValueChange:ce=>se(I.id,ce),children:[r.jsx(nn,{className:"w-32",children:r.jsx(un,{})}),r.jsxs(sn,{children:[r.jsx(Ie,{value:"new",children:"New"}),r.jsx(Ie,{value:"contacted",children:"Contacted"}),r.jsx(Ie,{value:"interested",children:"Interested"}),r.jsx(Ie,{value:"not_interested",children:"Not Interested"})]})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(ye,{size:"sm",variant:"outline",onClick:()=>{k(I),W(!0)},children:r.jsx(el,{className:"h-3 w-3"})}),r.jsx(ye,{size:"sm",variant:"outline",onClick:()=>Le(I.id),className:"text-red-600 hover:text-red-700",children:r.jsx(tl,{className:"h-3 w-3"})})]})]})]})},I.id)),ue>1&&r.jsxs("div",{className:"flex items-center justify-center gap-2 pt-4",children:[r.jsx(ye,{variant:"outline",size:"sm",onClick:()=>xe(I=>Math.max(1,I-1)),disabled:ge===1,children:"Previous"}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",ge," of ",ue]}),r.jsx(ye,{variant:"outline",size:"sm",onClick:()=>xe(I=>Math.min(ue,I+1)),disabled:ge===ue,children:"Next"})]})]})})]})]}),r.jsx(qa,{open:D,onOpenChange:W,children:r.jsxs(zi,{className:"max-w-2xl",children:[r.jsx(Fi,{children:r.jsx(Vi,{children:(F==null?void 0:F.business_name)||(F==null?void 0:F.name)||"Lead Details"})}),F&&r.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[!1,r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(He,{children:"Business Name"}),r.jsx("p",{className:"text-sm font-medium",children:F.business_name||F.name||"Unknown Business"})]}),r.jsxs("div",{children:[r.jsx(He,{children:"Business Type"}),r.jsx("p",{className:"text-sm",children:F.business_type||je(F.types)||"Unknown"})]})]}),r.jsxs("div",{children:[r.jsx(He,{children:"Address"}),r.jsx("p",{className:"text-sm",children:F.address||F.formatted_address||"Address not available"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[F.phone&&r.jsxs("div",{children:[r.jsxs(He,{className:"flex items-center gap-1",children:[r.jsx(Si,{className:"h-4 w-4"}),"Phone"]}),r.jsx("p",{className:"text-sm",children:F.phone})]}),F.email&&r.jsxs("div",{children:[r.jsx(He,{children:"Email"}),r.jsx("a",{href:`mailto:${F.email}`,className:"text-sm text-blue-600 hover:underline",children:F.email})]}),F.website&&r.jsxs("div",{children:[r.jsxs(He,{className:"flex items-center gap-1",children:[r.jsx(Qa,{className:"h-4 w-4"}),"Website"]}),r.jsx("a",{href:F.website.startsWith("http")?F.website:`https://${F.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:F.website})]}),F.fax&&r.jsxs("div",{children:[r.jsx(He,{children:"Fax"}),r.jsx("p",{className:"text-sm",children:F.fax})]})]}),(F.facebook||F.instagram||F.twitter)&&r.jsxs("div",{children:[r.jsx(He,{children:"Social Media"}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[F.facebook&&r.jsx("a",{href:F.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"Facebook"}),F.instagram&&r.jsx("a",{href:F.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-pink-100 text-pink-800 px-2 py-1 rounded",children:"Instagram"}),F.twitter&&r.jsx("a",{href:F.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-sky-100 text-sky-800 px-2 py-1 rounded",children:"Twitter"})]})]}),F.rating&&r.jsxs("div",{children:[r.jsx(He,{children:"Rating"}),r.jsx("p",{className:"text-sm",children:R(F.rating,F.total_ratings||F.user_ratings_total)})]}),F.opening_hours&&r.jsxs("div",{children:[r.jsx(He,{children:"Opening Hours"}),r.jsx("div",{className:"text-sm bg-gray-50 p-2 rounded",children:typeof F.opening_hours=="string"?F.opening_hours:F.opening_hours.weekdayDescriptions?F.opening_hours.weekdayDescriptions.join(`
`):F.opening_hours.openNow!==void 0?F.opening_hours.openNow?"Open now":"Closed":JSON.stringify(F.opening_hours)})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[F.cuisine&&r.jsxs("div",{children:[r.jsx(He,{children:"Cuisine"}),r.jsx("p",{className:"text-sm",children:F.cuisine})]}),F.operator&&r.jsxs("div",{children:[r.jsx(He,{children:"Operator/Brand"}),r.jsx("p",{className:"text-sm",children:F.operator})]}),F.capacity&&r.jsxs("div",{children:[r.jsx(He,{children:"Capacity"}),r.jsx("p",{className:"text-sm",children:F.capacity})]}),F.wheelchair&&r.jsxs("div",{children:[r.jsx(He,{children:"Wheelchair Access"}),r.jsx("p",{className:"text-sm",children:F.wheelchair==="yes"?"Accessible":F.wheelchair})]}),F.internet_access&&r.jsxs("div",{children:[r.jsx(He,{children:"Internet/WiFi"}),r.jsx("p",{className:"text-sm",children:F.internet_access})]}),F.payment_methods&&r.jsxs("div",{children:[r.jsx(He,{children:"Payment Methods"}),r.jsx("p",{className:"text-sm",children:F.payment_methods})]})]}),F.description&&r.jsxs("div",{children:[r.jsx(He,{children:"Description"}),r.jsx("p",{className:"text-sm bg-gray-50 p-2 rounded",children:F.description})]}),F.search_query&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(He,{children:"Search Query"}),r.jsx("p",{className:"text-sm",children:F.search_query})]}),F.search_location&&r.jsxs("div",{children:[r.jsx(He,{children:"Search Location"}),r.jsx("p",{className:"text-sm",children:F.search_location})]})]}),F.notes&&r.jsxs("div",{children:[r.jsx(He,{children:"Notes"}),r.jsx(Zl,{value:F.notes,onChange:I=>k(ce=>({...ce,notes:I.target.value})),placeholder:"Add notes about this lead...",rows:3})]})]})]})})]})},fE=Nv,mE=Cv,pE=f.forwardRef(({className:e,inset:t,children:s,...i},a)=>r.jsxs(xh,{ref:a,className:We("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...i,children:[s,r.jsx(wv,{className:"ml-auto"})]}));pE.displayName=xh.displayName;const gE=f.forwardRef(({className:e,...t},s)=>r.jsx(vh,{ref:s,className:We("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));gE.displayName=vh.displayName;const Ug=f.forwardRef(({className:e,sideOffset:t=4,...s},i)=>r.jsx(jv,{children:r.jsx(yh,{ref:i,sideOffset:t,className:We("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));Ug.displayName=yh.displayName;const Hg=f.forwardRef(({className:e,inset:t,...s},i)=>r.jsx(_h,{ref:i,className:We("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...s}));Hg.displayName=_h.displayName;const xE=f.forwardRef(({className:e,children:t,checked:s,...i},a)=>r.jsxs(bh,{ref:a,className:We("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...i,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(wh,{children:r.jsx(dh,{className:"h-4 w-4"})})}),t]}));xE.displayName=bh.displayName;const vE=f.forwardRef(({className:e,children:t,...s},i)=>r.jsxs(jh,{ref:i,className:We("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(wh,{children:r.jsx(Sv,{className:"h-2 w-2 fill-current"})})}),t]}));vE.displayName=jh.displayName;const yE=f.forwardRef(({className:e,inset:t,...s},i)=>r.jsx(Sh,{ref:i,className:We("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));yE.displayName=Sh.displayName;const _E=f.forwardRef(({className:e,...t},s)=>r.jsx(Nh,{ref:s,className:We("-mx-1 my-1 h-px bg-muted",e),...t}));_E.displayName=Nh.displayName;const zL=async e=>{try{const t=await we.post("/api/contacts",e);return re.success("Contact list created successfully"),t.data}catch(t){throw console.error("Contact Service Error:",t),re.error("Failed to create contact list"),t}},FL=async(e,t,s={})=>{var i,a,c,l,u,h,m;try{const g={page:e,search:t,...s};return(await we.get("/api/contacts",{params:g})).data}catch(g){throw console.error("Error fetching contacts:",g),((i=g.response)==null?void 0:i.status)===404||((l=(c=(a=g.response)==null?void 0:a.data)==null?void 0:c.message)==null?void 0:l.toLowerCase().includes("not found"))||((m=(h=(u=g.response)==null?void 0:u.data)==null?void 0:h.error)==null?void 0:m.toLowerCase().includes("not found"))||re.error("Failed to fetch contacts"),g}},VL=async(e,t)=>{var s,i,a,c;try{const l={fullName:t.fullName,email:t.email,phoneNumber:t.phoneNumber};return(await we.patch(`/api/contacts/${e}`,l)).data}catch(l){console.error("Error updating contact:",l);const u=((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||((c=(a=l.response)==null?void 0:a.data)==null?void 0:c.message)||"Failed to update contact";throw re.error(u),l}},$L=async e=>{var t,s;try{return(await we.delete(`/api/contacts/${e}`)).data}catch(i){console.error("Error deleting contact:",i);const a=((s=(t=i.response)==null?void 0:t.data)==null?void 0:s.message)||"Failed to delete contact";throw re.error(a),i}},bE=async(e,t,s)=>{try{return(await we.get("/api/lists",{params:{page:e,search:t,includeDeleted:s}})).data}catch(i){throw console.error("Error fetching contact lists:",i),i}},UL=async e=>{try{return(await we.get(`/api/lists/${e}`)).data}catch(t){throw console.error("Error fetching contact list:",t),re.error("Failed to fetch contact list"),t}},HL=async(e,t,s)=>{var i,a,c,l,u,h,m,g,x,y,_;try{return(await we.get(`/api/lists/${e}/contacts`,{params:{page:t,search:s}})).data}catch(w){if(console.error("Error fetching list contacts:",w),!(((i=w.response)==null?void 0:i.status)===404||((l=(c=(a=w.response)==null?void 0:a.data)==null?void 0:c.message)==null?void 0:l.toLowerCase().includes("not found"))||((m=(h=(u=w.response)==null?void 0:u.data)==null?void 0:h.error)==null?void 0:m.toLowerCase().includes("not found")))){const N=((x=(g=w.response)==null?void 0:g.data)==null?void 0:x.error)||((_=(y=w.response)==null?void 0:y.data)==null?void 0:_.message)||"Failed to fetch list contacts";re.error(N)}throw w}},wE=async e=>{var t,s,i,a;try{const c={list_name:e.listName,list_description:e.description,type:e.type||"General"},l=await we.post("/api/lists",c);return re.success("List created successfully"),l.data}catch(c){console.error("Error creating list:",c);const l=((s=(t=c.response)==null?void 0:t.data)==null?void 0:s.error)||((a=(i=c.response)==null?void 0:i.data)==null?void 0:a.message)||"Failed to create list";throw re.error(l),c}},jE=async(e,t)=>{var s,i,a,c;try{const l={email:t.email,contact_number:t.phoneNumber||t.contact_number,first_name:t.fullName||t.firstName||""};return(await we.post(`/api/lists/${e}/contacts`,l)).data}catch(l){console.error("Error adding contact to list:",l);const u=((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||((c=(a=l.response)==null?void 0:a.data)==null?void 0:c.message)||"Failed to add contact to list";throw re.error(u),l}},WL=async(e,t)=>{var s,i,a,c;try{const l=await we.delete(`/api/lists/${e}/contacts/${t}`);return re.success("Contact removed from list successfully"),l.data}catch(l){console.error("Error removing contact from list:",l);const u=((i=(s=l.response)==null?void 0:s.data)==null?void 0:i.error)||((c=(a=l.response)==null?void 0:a.data)==null?void 0:c.message)||"Failed to remove contact from list";throw re.error(u),l}},ZL=async()=>{try{return(await we.get("/api/patients/stats")).data}catch(e){return console.error("Error fetching patient stats:",e),{total_patients:0,new_patients:0,contacted_patients:0,screening_patients:0,qualified_patients:0,enrolled_patients:0,banned_patients:0,dnq_patients:0}}},SE=()=>{const e=Sr(),[t,s]=f.useState([]),[i,a]=f.useState(!0),[c,l]=f.useState(""),[u,h]=f.useState("all"),[m,g]=f.useState(1),[x,y]=f.useState(1),[_,w]=f.useState(50),[b,N]=f.useState(0),[T,C]=f.useState([]),[j,P]=f.useState("all"),[E,B]=f.useState({total:0,new_leads:0,contacted:0,interested:0,not_interested:0}),[V,U]=f.useState(!1),[X,M]=f.useState({business_name:"",phone:"",email:"",website:"",address:"",business_type:"",status:"new"}),[$,H]=f.useState(!1),[O,ee]=f.useState(!1),[de,J]=f.useState(!1),[he,ne]=f.useState([]),[F,k]=f.useState(!1),[D,W]=f.useState(!1),[z,Z]=f.useState(""),[ge,xe]=f.useState(!1),[ue,Te]=f.useState({list_name:"",type:"General",list_description:""}),[ze,K]=f.useState(!1),ie=async()=>{try{a(!0);const R=ct.getItem("token");if(!R){re.error("Please login to view leads");return}const je=new URLSearchParams;u!=="all"&&je.append("status",u),c.trim()&&je.append("search",c.trim()),_!=="all"&&(je.append("page",m.toString()),je.append("limit",_.toString()));const I=await(await fetch(`/api/leads-contacts?${je.toString()}`,{headers:{Authorization:`Bearer ${R}`}})).json();I.success?(s(I.leads),I.pagination?(y(I.pagination.totalPages||1),N(I.pagination.totalRecords||I.leads.length)):(N(I.leads.length),y(1))):re.error(I.message||"Failed to load leads")}catch(R){console.error("Load leads error:",R),re.error("Failed to load leads")}finally{a(!1)}},le=async()=>{try{const R=ct.getItem("token");if(!R)return;const ke=await(await fetch("/api/leads-contacts/stats",{headers:{Authorization:`Bearer ${R}`}})).json();ke.success&&B(ke.stats)}catch(R){console.error("Load stats error:",R)}},Pe=async()=>{try{if(!X.business_name.trim()){re.error("Business name is required");return}const R=ct.getItem("token");if(!R){re.error("Authentication required");return}const ke=await(await fetch("https://ai.research-hero.com/api/leads-contacts/save",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${R}`},body:JSON.stringify({...X,latitude:null,longitude:null,place_id:`manual_${Date.now()}`,search_query:"Manual Entry",search_location:"Manual Entry",rating:null,total_ratings:null})})).json();ke.success?(re.success("Lead added successfully"),U(!1),M({business_name:"",phone:"",email:"",website:"",address:"",business_type:"",status:"new"}),ie(),le()):re.error(ke.message||"Failed to add lead")}catch(R){console.error("Add lead error:",R),re.error("Failed to add lead")}},Ne=(R,je)=>{M(ke=>({...ke,[R]:je}))},Ae=()=>{U(!1),M({business_name:"",phone:"",email:"",website:"",address:"",business_type:"",status:"new"})},Ke=R=>{switch(R){case"new":return"bg-blue-100 text-blue-800";case"contacted":return"bg-yellow-100 text-yellow-800";case"interested":return"bg-green-100 text-green-800";case"not_interested":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},De=R=>{const je=new Date(R),I=Math.floor((new Date-je)/(1e3*60*60));return I<1?"Just now":I<24?`${I} hours ago`:je.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})},Oe=R=>new Date(R).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),Ge=R=>{if(!R)return"UN";const je=R.split(" ");return je.length>=2?(je[0][0]+je[1][0]).toUpperCase():R.substring(0,2).toUpperCase()},Be=R=>{if(!R)return"bg-gray-500";const je=["bg-blue-500","bg-green-500","bg-yellow-500","bg-red-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-teal-500"],ke=R.charCodeAt(0)%je.length;return je[ke]},xt=R=>{C(je=>je.includes(R)?je.filter(ke=>ke!==R):[...je,R])},ft=()=>{T.length===t.length?C([]):C(t.map(R=>R.id))},et=R=>{e(`/leads/${R}`)},ot=()=>{if(T.length===0){re.error("Please select leads to delete");return}H(!0)},Tt=async()=>{H(!1);try{const R=ct.getItem("token");if(!R){re.error("Authentication required");return}const je=T.map(te=>fetch(`https://ai.research-hero.com/api/leads-contacts/${te}`,{method:"DELETE",headers:{Authorization:`Bearer ${R}`}})),ke=await Promise.all(je),I=await Promise.all(ke.map(te=>te.json())),ce=I.filter(te=>te.success).length,ae=I.length-ce;ce>0&&(re.success(`Successfully deleted ${ce} lead(s)`),C([]),ie(),le()),ae>0&&re.error(`Failed to delete ${ae} lead(s)`)}catch(R){console.error("Delete leads error:",R),re.error("Failed to delete selected leads")}},Q=()=>{if(T.length===0){re.error("Please select leads to export");return}try{const R=t.filter(fe=>T.includes(fe.id)),je=["Business Name","Phone","Email","Website","Address","Business Type","Status","Rating","Total Ratings","Created Date"],ke=R.map(fe=>[fe.business_name||"",fe.phone||"",fe.email||"",fe.website||"",fe.address||"",fe.business_type||"",fe.status||"",fe.rating||"",fe.total_ratings||"",fe.created_at?new Date(fe.created_at).toLocaleDateString():""]),I=[je,...ke].map(fe=>fe.map(Se=>`"${Se}"`).join(",")).join(`
`),ce=new Blob([I],{type:"text/csv;charset=utf-8;"}),ae=document.createElement("a"),te=URL.createObjectURL(ce);ae.setAttribute("href",te),ae.setAttribute("download",`leads_export_${new Date().toISOString().split("T")[0]}.csv`),ae.style.visibility="hidden",document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),re.success(`Successfully exported ${T.length} lead(s) to CSV`)}catch(R){console.error("Export leads error:",R),re.error("Failed to export leads")}},_e=R=>{w(R),g(1)},Ee=R=>{g(R)},Ye=async()=>{try{k(!0);const R=await bE();R.success&&R.data&&ne(R.data)}catch(R){console.error("Load contact lists error:",R)}finally{k(!1)}},Qe=()=>{if(T.length===0){re.error("Please select at least one lead");return}Ye(),ee(!0)},se=async()=>{if(!ue.list_name.trim()){re.error("List name is required");return}if(!ue.list_description.trim()){re.error("List description is required");return}try{K(!0),(await wE({listName:ue.list_name,description:ue.list_description,type:ue.type})).success&&(await Ye(),J(!1),Te({list_name:"",type:"General",list_description:""}))}catch(R){console.error("Create list error:",R)}finally{K(!1)}},Le=async()=>{var R;if(!z){re.error("Please select a list");return}try{xe(!0);const je=t.filter(ke=>T.includes(ke.id));for(const ke of je)await jE(z,{email:ke.email||`${(R=ke.business_name)==null?void 0:R.toLowerCase().replace(/\s+/g,"")}@placeholder.com`,contact_number:ke.phone||"",phoneNumber:ke.phone||"",fullName:ke.business_name||""});re.success(`Successfully added ${T.length} lead(s) to the list`),ee(!1),W(!1),Z(""),C([])}catch(je){console.error("Add to list error:",je)}finally{xe(!1)}},tt=()=>{ee(!1),W(!1),Z("")},st=()=>{J(!1),Te({list_name:"",type:"General",list_description:""})};return f.useEffect(()=>{ie(),le()},[u,c,m,_]),r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsxs("div",{className:"px-6 py-4",children:[r.jsxs("div",{className:"flex items-center  mb-6 gap-6",children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Leads"}),r.jsxs("div",{className:"flex items-center gap-2 ",children:[r.jsxs(ye,{size:"sm",variant:"outline",children:[r.jsx(Oo,{className:"h-4 w-4 mr-2"}),"Create"]}),r.jsx(ye,{size:"sm",variant:"outline",children:"Bulk Actions"}),r.jsx(ye,{size:"sm",variant:"outline",children:"Restore"}),r.jsx(ye,{size:"sm",variant:"outline",children:"Tasks"}),r.jsx(ye,{size:"sm",variant:"outline",children:"Companies"}),r.jsx(ye,{size:"sm",variant:"outline",children:"Manage Smart Lists"}),r.jsx(ye,{size:"sm",variant:"ghost",children:r.jsx(zP,{className:"h-4 w-4 stroke-[2]"})})]})]}),r.jsxs("div",{className:"flex items-center gap-6 border-b border-gray-200",children:[r.jsx("button",{onClick:()=>P("all"),className:`pb-3 px-1 text-sm font-medium border-b-2 transition-colors ${j==="all"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"All"}),r.jsx("button",{onClick:()=>P("new"),className:`pb-3 px-1 text-sm font-medium border-b-2 transition-colors ${j==="new"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"New"}),r.jsx("button",{onClick:()=>P("contacted"),className:`pb-3 px-1 text-sm font-medium border-b-2 transition-colors ${j==="contacted"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Contacted"})]})]})}),r.jsxs("div",{className:"px-6 py-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ye,{size:"sm",variant:"outline",title:"Add Contact",onClick:()=>U(!0),children:r.jsx(Oo,{className:"h-4 w-4"})}),r.jsx(ye,{size:"sm",variant:"outline",children:r.jsx(KP,{className:"h-4 w-4 stroke-[2] "})}),r.jsx(ye,{size:"sm",variant:"outline",title:"please select lead to add automation ",children:r.jsx(Tv,{className:"h-4 w-4"})}),r.jsx(ye,{size:"sm",variant:"outline",children:r.jsx(Hi,{className:"h-4 w-4 stroke-[2]"})}),r.jsx(ye,{size:"sm",variant:"outline",children:r.jsx(Xc,{className:"h-4 w-4"})}),r.jsx(ye,{size:"sm",variant:"outline",title:"delete leads",onClick:ot,children:r.jsx(tl,{className:"h-4 w-4 stroke-[2]"})}),r.jsx(ye,{size:"sm",variant:"outline",children:r.jsx(Vg,{className:"h-4 w-4 stroke-[2]"})}),r.jsx(ye,{size:"sm",variant:"outline",children:r.jsx($g,{className:"h-4 w-4 stroke-[2]"})}),r.jsx(ye,{size:"sm",variant:"outline",children:r.jsx(NP,{className:"h-4 w-4 stroke-[2]"})}),r.jsx(ye,{size:"sm",variant:"outline",children:r.jsx($P,{className:"h-4 w-4 stroke-[2]"})}),r.jsx(ye,{size:"sm",variant:"outline",title:"Export selected leads",onClick:Q,children:r.jsx(da,{className:"h-4 w-4 stroke-[2]"})}),r.jsx(ye,{size:"sm",variant:"outline",title:"Import leads from CSV",onClick:()=>e("/leads-contacts/import"),children:r.jsx(Ci,{className:"h-4 w-4 stroke-[2]"})}),r.jsxs(fE,{modal:!1,children:[r.jsx(mE,{asChild:!0,children:r.jsx(ye,{size:"sm",variant:"outline",children:r.jsx(HP,{className:"h-4 w-4 stroke-[2]"})})}),r.jsx(Ug,{align:"end",children:r.jsxs(Hg,{onClick:Qe,disabled:T.length===0,className:T.length===0?"opacity-50 cursor-not-allowed":"cursor-pointer",children:[r.jsx(aE,{className:"h-4 w-4 mr-2 stroke-[2]"}),"Add to contact"]})})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Wi,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx(at,{placeholder:"Quick search",value:c,onChange:R=>l(R.target.value),className:"pl-10 w-64 h-8"})]}),r.jsx(ye,{size:"sm",variant:"outline",children:"More Filters"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-gray-50 border-b border-gray-200 px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:T.length===t.length&&t.length>0,onChange:ft,className:"rounded border-gray-300"}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Total ",r.jsx("strong",{children:b||E.total})," records.",_!=="all"&&r.jsxs("span",{children:[" Page ",m," of ",x]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Show:"}),r.jsxs("select",{value:_,onChange:R=>_e(R.target.value==="all"?"all":parseInt(R.target.value)),className:"text-sm border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:25,children:"25"}),r.jsx("option",{value:50,children:"50"}),r.jsx("option",{value:100,children:"100"}),r.jsx("option",{value:"all",children:"All"})]}),r.jsx("span",{className:"text-sm text-gray-600",children:"per page"})]}),_!=="all"&&x>1&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ye,{size:"sm",variant:"ghost",disabled:m===1,onClick:()=>Ee(m-1),children:r.jsx(RP,{className:"h-4 w-4"})}),r.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,x)},(R,je)=>{let ke;return x<=5||m<=3?ke=je+1:m>=x-2?ke=x-4+je:ke=m-2+je,r.jsx(ye,{size:"sm",variant:m===ke?"default":"ghost",onClick:()=>Ee(ke),className:"w-8 h-8 p-0",children:ke},ke)})}),r.jsx(ye,{size:"sm",variant:"ghost",disabled:m===x,onClick:()=>Ee(m+1),children:r.jsx(IP,{className:"h-4 w-4"})})]})]})]})}),r.jsxs("div",{className:"divide-y divide-gray-200",children:[r.jsxs("div",{className:"bg-white px-4 py-3 grid grid-cols-12 gap-4 text-sm font-medium text-gray-500 uppercase tracking-wider",children:[r.jsx("div",{className:"col-span-1"}),r.jsx("div",{className:"col-span-3",children:"Name"}),r.jsx("div",{className:"col-span-2",children:"Phone"}),r.jsx("div",{className:"col-span-2",children:"Email"}),r.jsx("div",{className:"col-span-1",children:"Tags"}),r.jsx("div",{className:"col-span-2",children:"Created"}),r.jsx("div",{className:"col-span-1",children:"Last Activity"})]}),i?r.jsxs("div",{className:"px-4 py-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Loading contacts..."})]}):t.length===0?r.jsxs("div",{className:"px-4 py-8 text-center text-gray-500",children:[r.jsx(Wi,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),r.jsx("p",{children:"No contacts found"}),r.jsx("p",{className:"text-sm",children:"Try adjusting your search or filters"})]}):t.map(R=>r.jsxs("div",{className:"bg-white px-4 py-3 grid grid-cols-12 gap-4 hover:bg-gray-50 transition-colors cursor-pointer",children:[r.jsx("div",{className:"col-span-1 flex items-center",children:r.jsx("input",{type:"checkbox",checked:T.includes(R.id),onChange:()=>xt(R.id),className:"rounded border-gray-300"})}),r.jsxs("div",{className:"col-span-3 flex items-center gap-3",onClick:()=>et(R.id),children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-medium ${Be(R.business_name)}`,children:Ge(R.business_name)}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:R.business_name}),R.business_type&&r.jsx("div",{className:"text-xs text-gray-500",children:R.business_type})]})]}),r.jsx("div",{className:"col-span-2 flex items-center",onClick:()=>et(R.id),children:R.phone?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Xc,{className:"h-4 w-4 text-green-500"}),r.jsx("span",{className:"text-sm text-gray-900",children:R.phone})]}):r.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),r.jsx("div",{className:"col-span-2 flex items-center",onClick:()=>et(R.id),children:R.email?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Hi,{className:"h-4 w-4 text-blue-500"}),r.jsx("span",{className:"text-sm text-gray-900",children:R.email})]}):r.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),r.jsx("div",{className:"col-span-1 flex items-center",children:R.tags&&R.tags.length>0?r.jsxs("div",{className:"flex flex-wrap gap-1",children:[R.tags.slice(0,2).map(je=>r.jsx(qt,{variant:"secondary",className:`text-xs ${Ke(R.status)}`,children:je.tag_name.replace("_"," ")},je.tag_id)),R.tags.length>2&&r.jsxs(qt,{variant:"outline",className:"text-xs",children:["+",R.tags.length-2]})]}):r.jsx("span",{className:"text-xs text-gray-400",children:"No tags"})}),r.jsx("div",{className:"col-span-2 flex items-center",children:r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"text-gray-900",children:De(R.created_at)}),r.jsx("div",{className:"text-xs text-gray-500",children:Oe(R.created_at)})]})}),r.jsx("div",{className:"col-span-1 flex items-center",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-900",children:De(R.updated_at||R.created_at)})]})})]},R.id))]})]})]}),V&&r.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:Ae}),r.jsx("div",{className:"absolute right-0 top-0 h-full w-96 bg-white shadow-xl",children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Add New Lead"}),r.jsx("button",{onClick:Ae,className:"text-gray-400 hover:text-gray-600",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Business Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(at,{value:X.business_name,onChange:R=>Ne("business_name",R.target.value),placeholder:"Enter business name",className:"w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx(at,{value:X.phone,onChange:R=>Ne("phone",R.target.value),placeholder:"Enter phone number",className:"w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx(at,{value:X.email,onChange:R=>Ne("email",R.target.value),placeholder:"Enter email address",type:"email",className:"w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),r.jsx(at,{value:X.website,onChange:R=>Ne("website",R.target.value),placeholder:"Enter website URL",className:"w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),r.jsx(at,{value:X.address,onChange:R=>Ne("address",R.target.value),placeholder:"Enter business address",className:"w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Business Type"}),r.jsx(at,{value:X.business_type,onChange:R=>Ne("business_type",R.target.value),placeholder:"Enter business type",className:"w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:X.status,onChange:R=>Ne("status",R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"new",children:"New"}),r.jsx("option",{value:"contacted",children:"Contacted"}),r.jsx("option",{value:"interested",children:"Interested"}),r.jsx("option",{value:"not_interested",children:"Not Interested"})]})]})]})}),r.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:r.jsxs("div",{className:"flex space-x-3",children:[r.jsx(ye,{variant:"outline",onClick:Ae,className:"flex-1",children:"Cancel"}),r.jsx(ye,{onClick:Pe,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:"Add Lead"})]})})]})})]}),$&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx(tl,{className:"h-5 w-5 text-red-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete Leads"}),r.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone"})]})]}),r.jsx("div",{className:"mb-6",children:r.jsxs("p",{className:"text-gray-700",children:["Are you sure you want to delete ",r.jsx("span",{className:"font-semibold",children:T.length})," selected lead(s)? This will permanently remove them from your database."]})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(ye,{variant:"outline",onClick:()=>H(!1),className:"flex-1",children:"Cancel"}),r.jsxs(ye,{onClick:Tt,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:["Delete ",T.length," Lead",T.length>1?"s":""]})]})]})}),r.jsx(qa,{open:O,onOpenChange:ee,children:r.jsxs(zi,{className:"sm:max-w-md",children:[r.jsx(Fi,{children:r.jsx(Vi,{children:"Add to Contact List"})}),r.jsxs("div",{className:"py-4",children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Selected Leads (",T.length,")"]}),r.jsx("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto",children:t.filter(R=>T.includes(R.id)).map(R=>r.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-full px-3 py-1",children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-medium ${Be(R.business_name)}`,children:Ge(R.business_name)}),r.jsx("span",{className:"text-sm text-gray-700",children:R.business_name})]},R.id))})]}),r.jsxs(ye,{variant:"outline",className:"w-full mb-4",onClick:()=>J(!0),children:[r.jsx(Oo,{className:"h-4 w-4 mr-2"}),"Create New List"]}),r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx("input",{type:"checkbox",id:"addToExisting",checked:D,onChange:R=>W(R.target.checked),className:"rounded border-gray-300"}),r.jsx("label",{htmlFor:"addToExisting",className:"text-sm text-gray-700 cursor-pointer",children:"Add to Existing List"})]}),D&&r.jsx("div",{className:"mb-4",children:F?r.jsx("div",{className:"text-center py-2",children:r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"})}):he.length===0?r.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"No lists available. Create one first."}):r.jsxs(dn,{value:z,onValueChange:Z,children:[r.jsx(nn,{className:"w-full",children:r.jsx(un,{placeholder:"Select a list"})}),r.jsx(sn,{children:he.map(R=>r.jsxs(Ie,{value:String(R.id),children:[R.listName||R.list_name," (",R.contacts_count||0," contacts)"]},R.id))})]})})]}),r.jsxs(Ya,{children:[r.jsx(ye,{variant:"outline",onClick:tt,children:"Cancel"}),D&&z&&r.jsx(ye,{onClick:Le,disabled:ge,className:"bg-blue-600 hover:bg-blue-700",children:ge?"Adding...":"Save"})]})]})}),r.jsx(qa,{open:de,onOpenChange:J,children:r.jsxs(zi,{className:"sm:max-w-md",children:[r.jsx(Fi,{children:r.jsx(Vi,{children:"Create New List"})}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["List Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx(at,{value:ue.list_name,onChange:R=>Te(je=>({...je,list_name:R.target.value})),placeholder:"Enter list name",className:"w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),r.jsxs(dn,{value:ue.type,onValueChange:R=>Te(je=>({...je,type:R})),children:[r.jsx(nn,{className:"w-full",children:r.jsx(un,{placeholder:"Select type"})}),r.jsxs(sn,{children:[r.jsx(Ie,{value:"Marketing",children:"Marketing"}),r.jsx(Ie,{value:"Sales",children:"Sales"}),r.jsx(Ie,{value:"Event",children:"Event"}),r.jsx(Ie,{value:"Customer",children:"Customer"}),r.jsx(Ie,{value:"General",children:"General"})]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["List Description ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{value:ue.list_description,onChange:R=>Te(je=>({...je,list_description:R.target.value})),placeholder:"Enter list description",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent min-h-[80px]"})]})]}),r.jsxs(Ya,{children:[r.jsx(ye,{variant:"outline",onClick:st,children:"Cancel"}),r.jsx(ye,{onClick:se,disabled:ze,className:"bg-blue-600 hover:bg-blue-700",children:ze?"Creating...":"Create List"})]})]})})]})},NE=()=>{const e=Sr(),[t,s]=f.useState(null),[i,a]=f.useState([]),[c,l]=f.useState([]),[u,h]=f.useState({}),[m,g]=f.useState(!1),x=w=>{const b=w.target.files[0];if(!b)return;if(b.type!=="text/csv"&&!b.name.endsWith(".csv")){re.error("Please select a CSV file");return}s(b);const N=new FileReader;N.onload=T=>{const j=T.target.result.split(`
`).filter(V=>V.trim());if(j.length<2){re.error("CSV file must contain at least a header row and one data row");return}const P=j[0].split(",").map(V=>V.replace(/"/g,"").trim()),E=j.slice(1).map(V=>{const U=V.split(",").map(X=>X.replace(/"/g,"").trim());return P.reduce((X,M,$)=>(X[M]=U[$]||"",X),{})});l(P),a(E);const B={};P.forEach(V=>{const U=V.toLowerCase();U.includes("business")||U.includes("company")||U.includes("name")?B[V]="business_name":U.includes("phone")||U.includes("mobile")?B[V]="phone":U.includes("email")?B[V]="email":U.includes("website")||U.includes("url")?B[V]="website":U.includes("address")||U.includes("location")?B[V]="address":U.includes("type")||U.includes("category")?B[V]="business_type":U.includes("status")&&(B[V]="status")}),h(B)},N.readAsText(b)},y=(w,b)=>{h(N=>({...N,[w]:b}))},_=async()=>{if(Object.keys(u).length===0){re.error("Please map at least one field");return}g(!0);try{const w=ct.getItem("token");if(!w){re.error("Authentication required");return}const N=i.map(E=>{const B={};return Object.keys(u).forEach(V=>{const U=u[V];U&&U!=="skip"&&(B[U]=E[V]||"")}),{...B,latitude:null,longitude:null,place_id:`import_${Date.now()}_${Math.random()}`,search_query:"CSV Import",search_location:"CSV Import",rating:null,total_ratings:null}}).map(E=>fetch("https://ai.research-hero.com/api/leads-contacts/save",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`},body:JSON.stringify(E)})),T=await Promise.all(N),C=await Promise.all(T.map(E=>E.json())),j=C.filter(E=>E.success).length,P=C.length-j;j>0&&re.success(`Successfully imported ${j} lead(s)`),P>0&&re.error(`Failed to import ${P} lead(s)`),setTimeout(()=>{e("/leads-contacts")},2e3)}catch(w){console.error("Import leads error:",w),re.error("Failed to import leads")}finally{g(!1)}};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"flex items-center justify-between h-16",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>e("/leads-contacts"),className:"flex items-center gap-2",children:[r.jsx(Pv,{className:"h-4 w-4"}),"Back to Leads"]}),r.jsx("div",{className:"h-6 w-px bg-gray-300"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(Ci,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Import Leads"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Upload and map your CSV data"})]})]})]})})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(hh,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Upload CSV File"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Select a CSV file containing your leads data"})]})]}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[r.jsx(Ci,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t?t.name:"Choose CSV File"}),r.jsx("p",{className:"text-gray-500 mb-4",children:t?`${i.length} records found`:"Select a CSV file to get started"}),r.jsx("input",{type:"file",accept:".csv",onChange:x,className:"hidden",id:"csv-upload"}),r.jsx("label",{htmlFor:"csv-upload",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:t?"Choose Different File":"Choose CSV File"})]}),t&&r.jsxs("div",{className:"mt-6 bg-blue-50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[r.jsx(Jc,{className:"h-4 w-4"}),r.jsx("span",{className:"font-medium",children:"File uploaded successfully!"})]}),r.jsxs("p",{className:"text-blue-700 text-sm mt-1",children:["Found ",c.length," columns and ",i.length," records"]})]})]}),c.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(Jc,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Map CSV Fields"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Match your CSV columns to our system fields"})]})]}),r.jsx(ye,{onClick:_,disabled:m||Object.keys(u).filter(w=>u[w]!=="skip").length===0,className:"bg-blue-600 hover:bg-blue-700 text-white",children:m?"Importing...":`Import ${i.length} Lead${i.length>1?"s":""}`})]}),r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map((w,b)=>r.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CSV Column"}),r.jsx("div",{className:"text-sm font-semibold text-gray-900 bg-white px-3 py-2 rounded border",children:w})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Map to Field"}),r.jsxs("select",{value:u[w]||"",onChange:N=>y(w,N.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"Select field to map"}),r.jsx("option",{value:"business_name",children:"Business Name"}),r.jsx("option",{value:"phone",children:"Phone"}),r.jsx("option",{value:"email",children:"Email"}),r.jsx("option",{value:"website",children:"Website"}),r.jsx("option",{value:"address",children:"Address"}),r.jsx("option",{value:"business_type",children:"Business Type"}),r.jsx("option",{value:"status",children:"Status"}),r.jsx("option",{value:"skip",children:"Skip this field"})]})]}),i.length>0&&r.jsxs("div",{className:"mt-3",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Sample Data"}),r.jsx("div",{className:"text-xs text-gray-600 bg-white px-2 py-1 rounded border truncate",children:i[0][w]||"No data"})]})]},b))})}),r.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"CSV Format Requirements:"}),r.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[r.jsx("li",{children:" First row should contain column headers"}),r.jsx("li",{children:" Supported fields: Business Name, Phone, Email, Website, Address, Business Type, Status"}),r.jsx("li",{children:" Use comma-separated values (.csv format)"}),r.jsx("li",{children:" Maximum file size: 10MB"})]})]})]})]})})]})},CE=()=>{var Tt;const{id:e}=Ph(),t=Sr(),{user:s}=Vl(),[i,a]=f.useState(null),[c,l]=f.useState(!0),[u,h]=f.useState("sms"),[m,g]=f.useState(!1),[x,y]=f.useState({}),[_,w]=f.useState([]),[b,N]=f.useState(""),[T,C]=f.useState("sms"),[j,P]=f.useState(!1),[E,B]=f.useState([]),[V,U]=f.useState(!1),[X,M]=f.useState([]),[$,H]=f.useState([]),[O,ee]=f.useState(""),[de,J]=f.useState(""),[he,ne]=f.useState(!1),[F,k]=f.useState(null),[D,W]=f.useState(!0),z=[{value:"new",label:"New",color:"bg-blue-100 text-blue-800"},{value:"contacted",label:"Contacted",color:"bg-yellow-100 text-yellow-800"},{value:"qualified",label:"Qualified",color:"bg-green-100 text-green-800"},{value:"proposal",label:"Proposal",color:"bg-purple-100 text-purple-800"},{value:"closed",label:"Closed",color:"bg-gray-100 text-gray-800"},{value:"lost",label:"Lost",color:"bg-red-100 text-red-800"}],Z=async()=>{try{const Q=ct.getItem("token");if(!Q){t("/login");return}const Ee=await(await fetch(`https://ai.research-hero.com/api/leads-contacts/getleadsbyid/${e}`,{headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json"}})).json();if(Ee.success){a(Ee.lead),y(Ee.lead);const Ye=Ee.lead.tags||[];M(Ye),H(Ye.map(Qe=>Qe.tag_id))}else re.error(Ee.message||"Failed to load lead"),t("/leads-contacts")}catch(Q){console.error("Load lead error:",Q),re.error("Failed to load lead details"),t("/leads-contacts")}finally{l(!1)}};f.useEffect(()=>{Z(),ge()},[e]);const ge=async()=>{var Q;try{W(!0);const _e=await we.get("/api/integration-gmail/auth/status");_e.data.success&&_e.data.data.isConnected?k(((Q=_e.data.data.profile)==null?void 0:Q.email)||null):k(null)}catch(_e){console.error("Error fetching Gmail status:",_e),k(null)}finally{W(!1)}};f.useEffect(()=>{m&&xe()},[m]);const xe=async()=>{var Q;try{if(U(!0),console.log(" Frontend: User from AuthContext:",s),!s||!s.id){console.log(" Frontend: No user found in AuthContext");return}console.log(" Frontend: Making API call to get tags for user ID:",s.id);const _e=await we.get(`/api/tags/get-tags-by-user/${s.id}`);console.log(" Frontend: API response:",_e.data),_e.data.success?(console.log(" Frontend: Setting tags:",_e.data.data),B(_e.data.data)):console.log(" Frontend: API returned success=false:",_e.data.message)}catch(_e){console.error(" Frontend: Error fetching tags:",_e),console.log(" Frontend: Error details:",(Q=_e.response)==null?void 0:Q.data),re.error("Failed to load tags")}finally{U(!1)}},ue=Q=>{H(_e=>_e.includes(Q)?_e.filter(Ee=>Ee!==Q):[..._e,Q])},Te=async()=>{try{if((await we.post(`/api/leads-contacts/${e}/tags`,{tag_ids:$})).data.success){const _e=E.filter(Ee=>$.includes(Ee.tag_id));M(_e),re.success("Tags updated successfully")}}catch(Q){console.error("Error updating tags:",Q),re.error("Failed to update tags")}},ze=async Q=>{try{(await we.delete(`/api/leads-contacts/${e}/tags/${Q}`)).data.success&&(M(Ee=>Ee.filter(Ye=>Ye.tag_id!==Q)),H(Ee=>Ee.filter(Ye=>Ye!==Q)),re.success("Tag removed successfully"))}catch(_e){console.error("Error removing tag:",_e),re.error("Failed to remove tag")}},K=Q=>Q?new Date(Q).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",ie=Q=>{const _e=z.find(Ee=>Ee.value===Q);return _e?_e.color:"bg-gray-100 text-gray-800"},le=Q=>Q?Q.split(" ").map(_e=>_e[0]).join("").toUpperCase().slice(0,2):"L",Pe=Q=>{if(!Q)return"bg-blue-500";const _e=["bg-blue-500","bg-green-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-yellow-500","bg-red-500","bg-teal-500"],Ee=Q.charCodeAt(0)%_e.length;return _e[Ee]},Ne=()=>{g(!0)},Ae=async()=>{try{const Q=ct.getItem("token"),Ee=await(await fetch(`https://ai.research-hero.com/api/leads-contacts/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json"},body:JSON.stringify(x)})).json();Ee.success?(a(x),g(!1),re.success("Lead updated successfully")):re.error(Ee.message||"Failed to update lead")}catch(Q){console.error("Update lead error:",Q),re.error("Failed to update lead")}},Ke=()=>{y(i),g(!1)},De=(Q,_e)=>{y(Ee=>({...Ee,[Q]:_e}))},Oe=()=>{i!=null&&i.phone&&window.open(`tel:${i.phone}`,"_self")},Ge=()=>{i!=null&&i.email&&(C("email"),h("conversation"))},Be=()=>{i!=null&&i.phone&&(C("sms"),h("conversation"))},xt=()=>{i!=null&&i.website&&window.open(i.website.startsWith("http")?i.website:`https://${i.website}`,"_blank")},ft=async()=>{if(b.trim())if(T==="sms")try{P(!0);const Q=ct.getItem("token"),Ee=await(await fetch(`https://ai.research-hero.com/api/leads-contacts/${e}/sms`,{method:"POST",headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json"},body:JSON.stringify({message:b.trim()})})).json();if(Ee.success){const Ye={id:Date.now(),text:b,type:"sms",timestamp:new Date,sent:!0,status:"sent"};w(Qe=>[...Qe,Ye]),N(""),re.success("SMS sent successfully")}else re.error(Ee.message||"Failed to send SMS")}catch(Q){console.error("Send SMS error:",Q),re.error("Failed to send SMS")}finally{P(!1)}else{const Q={id:Date.now(),text:b,type:T,timestamp:new Date,sent:!0};w(_e=>[..._e,Q]),N(""),re.success(`${T.toUpperCase()} sent successfully`)}},et=async()=>{var Q,_e;if(!O.trim()){re.error("Please enter email subject");return}if(!de.trim()){re.error("Please enter email message");return}if(!F){re.error("Please connect your Gmail account in Integrations first");return}if(!(i!=null&&i.email)){re.error("This lead does not have an email address");return}try{ne(!0);const Ee=await we.post("/api/integration-gmail/send",{to:i.email,subject:O.trim(),body:de.trim()});if(Ee.data.success){const Ye={id:Date.now(),text:`Subject: ${O}

${de}`,type:"email",timestamp:new Date,sent:!0,from:F,to:i.email};w(Qe=>[...Qe,Ye]),ee(""),J(""),re.success("Email sent successfully!")}else re.error(Ee.data.message||"Failed to send email")}catch(Ee){console.error("Send email error:",Ee),re.error(((_e=(Q=Ee.response)==null?void 0:Q.data)==null?void 0:_e.message)||"Failed to send email")}finally{ne(!1)}},ot=async Q=>{try{const _e=ct.getItem("token"),Ye=await(await fetch(`https://ai.research-hero.com/api/leads-contacts/${e}/status`,{method:"PUT",headers:{Authorization:`Bearer ${_e}`,"Content-Type":"application/json"},body:JSON.stringify({status:Q})})).json();Ye.success?(a(Qe=>({...Qe,status:Q})),re.success("Status updated successfully")):re.error(Ye.message||"Failed to update status")}catch(_e){console.error("Update status error:",_e),re.error("Failed to update status")}};return c?r.jsx("div",{className:"h-screen bg-gray-50 flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):i?r.jsxs("div",{className:"max-h-screen bg-gray-50 flex flex-col overflow-hidden",children:[r.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>t("/leads-contacts"),className:"flex items-center space-x-2",children:[r.jsx(TP,{className:"h-4 w-4"}),r.jsx("span",{children:"Back to Leads"})]}),r.jsx("div",{className:"h-6 w-px bg-gray-300"}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium ${Pe(i==null?void 0:i.business_name)}`,children:le(i==null?void 0:i.business_name)}),r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:(i==null?void 0:i.business_name)||"Lead Details"}),r.jsx(qt,{className:`${ie(i==null?void 0:i.status)} px-2 py-1 text-xs font-medium`,children:((Tt=i==null?void 0:i.status)==null?void 0:Tt.replace("_"," ").toUpperCase())||"NEW"})]})]}),r.jsx("div",{className:"flex items-center space-x-2",children:m?r.jsxs(r.Fragment,{children:[r.jsxs(ye,{variant:"outline",size:"sm",onClick:Ke,className:"flex items-center space-x-2",children:[r.jsx(ih,{className:"h-4 w-4"}),r.jsx("span",{children:"Cancel"})]}),r.jsxs(ye,{size:"sm",onClick:Ae,className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700",children:[r.jsx(AP,{className:"h-4 w-4"}),r.jsx("span",{children:"Save"})]})]}):r.jsxs(ye,{variant:"outline",size:"sm",onClick:Ne,className:"flex items-center space-x-2",children:[r.jsx(el,{className:"h-4 w-4"}),r.jsx("span",{children:"Edit"})]})})]})}),r.jsxs("div",{className:"flex flex-1 min-h-0",children:[r.jsxs("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col min-h-0",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs(ye,{variant:"outline",size:"sm",onClick:Oe,disabled:!(i!=null&&i.phone),className:"flex items-center justify-center space-x-2 h-10",children:[r.jsx(Si,{className:"h-4 w-4 stroke-2"}),r.jsx("span",{children:"Call"})]}),r.jsxs(ye,{variant:"outline",size:"sm",onClick:Be,disabled:!(i!=null&&i.phone),className:"flex items-center justify-center space-x-2 h-10",children:[r.jsx(mi,{className:"h-4 w-4 stroke-2"}),r.jsx("span",{children:"SMS"})]}),r.jsxs(ye,{variant:"outline",size:"sm",onClick:Ge,disabled:!(i!=null&&i.email),className:"flex items-center justify-center space-x-2 h-10",children:[r.jsx(Hi,{className:"h-4 w-4 stroke-2 "}),r.jsx("span",{children:"Email"})]}),r.jsxs(ye,{variant:"outline",size:"sm",onClick:xt,disabled:!(i!=null&&i.website),className:"flex items-center justify-center space-x-2 h-10",children:[r.jsx(Qa,{className:"h-4 w-4 stroke-2"}),r.jsx("span",{children:"Website"})]})]})}),r.jsx("div",{className:"flex-1 p-4",children:r.jsxs("div",{className:"space-y-4",children:[m&&r.jsxs("div",{className:"border border-blue-200 rounded-lg p-3 bg-blue-50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Tags"}),r.jsx("button",{onClick:Te,className:"text-xs bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700",children:"Save Tags"})]}),r.jsxs("div",{className:"space-y-2",children:[V?r.jsxs("div",{className:"flex items-center justify-center py-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Loading tags..."})]}):r.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:E.map(Q=>r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[r.jsx("input",{type:"checkbox",checked:$.includes(Q.tag_id),onChange:()=>ue(Q.tag_id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),r.jsx("span",{className:"text-sm text-gray-900",children:Q.tag_name})]},Q.tag_id))}),E.length===0&&!V&&r.jsxs("div",{className:"text-xs text-gray-500 mt-1 p-2 bg-yellow-50 border border-yellow-200 rounded",children:[r.jsx("p",{className:"font-medium",children:"No tags available."}),r.jsx("p",{children:"Go to Settings  Tags to create tags first, then come back here."})]}),$.length>0&&r.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[r.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Selected tags:"}),r.jsx("div",{className:"flex flex-wrap gap-1",children:$.map(Q=>{const _e=E.find(Ee=>Ee.tag_id===Q);return _e?r.jsx(qt,{variant:"secondary",className:"text-xs",children:_e.tag_name},Q):null})})]})]})]}),!m&&X.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Tags"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:X.map(Q=>r.jsx("div",{className:"flex items-center space-x-1",children:r.jsxs(qt,{variant:"secondary",className:"text-sm flex items-center space-x-1",children:[r.jsx($g,{className:"h-3 w-3"}),r.jsx("span",{children:Q.tag_name}),r.jsx("button",{onClick:()=>ze(Q.tag_id),className:"ml-1 hover:bg-gray-300 rounded-full p-0.5",children:r.jsx(ih,{className:"h-3 w-3"})})]})},Q.tag_id))})]}),r.jsx("div",{children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Business Name"}),m?r.jsx(at,{value:x.business_name||"",onChange:Q=>De("business_name",Q.target.value),className:"text-sm"}):r.jsx("div",{className:"text-sm text-gray-900",children:i.business_name||"N/A"})]}),(i.phone||m)&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Phone"}),m?r.jsx(at,{value:x.phone||"",onChange:Q=>De("phone",Q.target.value),className:"text-sm"}):r.jsx("div",{className:"text-sm text-gray-900",children:i.phone||"N/A"})]}),(i.email||m)&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Email"}),m?r.jsx(at,{value:x.email||"",onChange:Q=>De("email",Q.target.value),className:"text-sm"}):r.jsx("div",{className:"text-sm text-gray-900",children:i.email||"N/A"})]}),(i.website||m)&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Website"}),m?r.jsx(at,{value:x.website||"",onChange:Q=>De("website",Q.target.value),className:"text-sm"}):r.jsx("div",{className:"text-sm text-gray-900",children:i.website||"N/A"})]}),(i.address||m)&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Address"}),m?r.jsx(at,{value:x.address||"",onChange:Q=>De("address",Q.target.value),className:"text-sm"}):r.jsx("div",{className:"text-sm text-gray-900",children:i.address||"N/A"})]})]})}),(i.business_type||i.rating||i.total_ratings||m)&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Business Details"}),r.jsxs("div",{className:"space-y-3",children:[(i.business_type||m)&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Business Type"}),m?r.jsx(at,{value:x.business_type||"",onChange:Q=>De("business_type",Q.target.value),className:"text-sm"}):r.jsx("div",{className:"text-sm text-gray-900",children:i.business_type||"N/A"})]}),(i.rating||m)&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Rating"}),r.jsxs("div",{className:"text-sm text-gray-900",children:[i.rating?`${i.rating}/5`:"N/A",i.total_ratings&&` (${i.total_ratings} reviews)`]})]})]})]}),(i.search_query||i.search_location||m)&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Lead Source"}),r.jsxs("div",{className:"space-y-3",children:[(i.search_query||m)&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Search Query"}),r.jsx("div",{className:"text-sm text-gray-900",children:i.search_query||"N/A"})]}),(i.search_location||m)&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Search Location"}),r.jsx("div",{className:"text-sm text-gray-900",children:i.search_location||"N/A"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Timeline"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Created"}),r.jsx("div",{className:"text-sm text-gray-900",children:K(i.created_at)})]}),i.updated_at&&i.updated_at!==i.created_at&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Last Updated"}),r.jsx("div",{className:"text-sm text-gray-900",children:K(i.updated_at)})]})]})]})]})})]}),r.jsxs("div",{className:"flex-1 bg-white flex  flex-col min-h-0",children:[r.jsx("div",{className:"border-b border-gray-200 px-6  py-3",children:r.jsxs("div",{className:"flex space-x-6",children:[r.jsx("button",{onClick:()=>{h("sms"),C("sms")},className:`pb-2 text-sm font-medium border-b-2 transition-colors ${u==="sms"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(mi,{className:"h-4 w-4 stroke-2"}),r.jsx("span",{children:"SMS"})]})}),r.jsx("button",{onClick:()=>{h("email"),C("email")},className:`pb-2 text-sm font-medium border-b-2 transition-colors ${u==="email"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Hi,{className:"h-4 w-4 stroke-2"}),r.jsx("span",{children:"Email"})]})}),r.jsx("button",{onClick:()=>h("activity"),className:`pb-2 text-sm font-medium border-b-2 transition-colors ${u==="activity"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(DP,{className:"h-4 w-4 stroke-2"}),r.jsx("span",{children:"Activity"})]})})]})}),r.jsx("div",{className:"flex-1 flex flex-col min-h-0 overflow-y-auto",children:u==="sms"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex-1 p-6 ",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(mi,{className:"h-5 w-5 text-blue-600"}),r.jsxs("span",{className:"font-medium text-gray-900",children:["SMS to ",i==null?void 0:i.phone]})]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Send SMS message to this lead via Twilio"}),r.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["From: ","+13465940138"]})]}),r.jsx("div",{className:"space-y-3",children:_.filter(Q=>Q.type==="sms").length===0?r.jsxs("div",{className:"text-center text-gray-500 mt-8",children:[r.jsx(mi,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),r.jsx("p",{children:"No SMS messages yet. Send your first message!"})]}):_.filter(Q=>Q.type==="sms").map(Q=>r.jsx("div",{className:`flex ${Q.sent?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-xs px-3 py-2 rounded-2xl ${Q.sent?"bg-blue-500 text-white":"bg-gray-200 text-gray-900"}`,children:[r.jsx("p",{className:"text-sm",children:Q.text}),r.jsx("p",{className:"text-xs mt-1 opacity-75",children:K(Q.timestamp)})]})},Q.id))})]}),r.jsxs("div",{className:"border-t border-gray-200 p-8",children:[r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(at,{value:b,onChange:Q=>N(Q.target.value),placeholder:"Type SMS message...",className:"flex-1 h-20  border-gray-300 focus:border-blue-300 focus:ring-blue-300",disabled:j||!(i!=null&&i.phone),onKeyDown:Q=>{Q.key==="Enter"&&!Q.shiftKey&&(Q.preventDefault(),ft())}}),r.jsx(ye,{onClick:ft,disabled:!b.trim()||j||!(i!=null&&i.phone),className:"bg-blue-600 h-20 hover:bg-blue-700",children:j?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):r.jsx(sh,{className:"h-4 w-4"})})]}),!(i!=null&&i.phone)&&r.jsx("p",{className:"text-xs text-red-500 mt-2",children:"This lead does not have a phone number"})]})]}):u==="email"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex-1 p-6",children:[r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-500 w-12",children:"From:"}),D?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),r.jsx("span",{className:"text-sm text-gray-500",children:"Loading..."})]}):F?r.jsx("span",{className:"text-sm text-gray-900",children:F}):r.jsxs("span",{className:"text-sm text-red-500",children:["Gmail not connected. ",r.jsx("a",{href:"/integrations",className:"text-blue-600 hover:underline",children:"Connect in Integrations"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-500 w-12",children:"To:"}),r.jsx("span",{className:"text-sm text-gray-900",children:(i==null?void 0:i.email)||"No email address"})]})]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),r.jsx(at,{placeholder:"Email subject...",className:"w-full",value:O,onChange:Q=>ee(Q.target.value),disabled:he||!F})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),r.jsx("textarea",{rows:8,placeholder:"Type your email message...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",value:de,onChange:Q=>J(Q.target.value),disabled:he||!F})]})]}),_.filter(Q=>Q.type==="email").length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Sent Emails"}),r.jsx("div",{className:"space-y-3",children:_.filter(Q=>Q.type==="email").map(Q=>r.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-100",children:[r.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:Q.text}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:K(Q.timestamp)})]},Q.id))})]})]}),r.jsxs("div",{className:"border-t border-gray-200 p-4",children:[r.jsx("div",{className:"flex justify-end space-x-2",children:r.jsxs(ye,{onClick:et,disabled:!O.trim()||!de.trim()||he||!F||!(i!=null&&i.email),className:"bg-blue-600 hover:bg-blue-700 flex items-center space-x-2",children:[he?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):r.jsx(sh,{className:"h-4 w-4"}),r.jsx("span",{children:he?"Sending...":"Send Email"})]})}),!F&&!D&&r.jsx("p",{className:"text-xs text-red-500 mt-2 text-right",children:"Please connect Gmail in Integrations to send emails"}),!(i!=null&&i.email)&&r.jsx("p",{className:"text-xs text-red-500 mt-2 text-right",children:"This lead does not have an email address"})]})]}):r.jsx("div",{className:"flex-1 p-2",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(cE,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-gray-900",children:"Lead created"}),r.jsx("p",{className:"text-xs text-gray-500",children:K(i.created_at)})]})]}),i.updated_at&&i.updated_at!==i.created_at&&r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(el,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-gray-900",children:"Lead updated"}),r.jsx("p",{className:"text-xs text-gray-500",children:K(i.updated_at)})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Update Status"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:z.map(Q=>r.jsx(ye,{variant:"outline",size:"sm",onClick:()=>ot(Q.value),className:`text-xs ${i.status===Q.value?Q.color:""}`,children:Q.label},Q.value))})]})]})})})]})]})]}):r.jsx("div",{className:"h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Lead not found"}),r.jsx(ye,{onClick:()=>t("/leads-contacts"),children:"Back to Leads"})]})})},TE=6,PE=({study:e})=>{var x;const[t,s]=f.useState(0),[i,a]=f.useState({}),[c,l]=f.useState(!1);if(!e)return null;const u=y=>new Promise(_=>setTimeout(_,y)),h=(y,_,w,b)=>({nctId:e.protocolSection.identificationModule.nctId,phase:y.phase,studyType:y.studyType,conditionCount:y.conditionCount,eligibilityLength:y.eligibilityLength,durationMonths:y.durationMonths,complexityLabel:y.complexityLabel,difficultyLabel:_.label,enrollment:y.enrollment,cpe:w.cpe,estimatedTotalCost:w.estimatedTotalCost,confidence:b.confidence,geo:"US",siteCount:10}),m=async()=>{try{l(!0),a({}),s(1);const y=await we.post("/api/studies/analyze-protocol",{study:e});a(y.data),await u(500),s(2);const _=await we.post("/api/studies/difficulty",y.data);a(T=>({...T,..._.data})),await u(500),s(3);const w=await we.post("/api/studies/cost",{difficultyLabel:_.data.label,enrollment:y.data.enrollment});a(T=>({...T,...w.data})),await u(500),s(4);const b=await we.post("/api/studies/confidence",y.data);a(T=>({...T,...b.data})),await u(500);const N=h(y.data,_.data,w.data,b.data);a(T=>({...T,finalPayload:N})),s(6)}catch(y){console.error(y),s(0)}finally{l(!1)}},g=async()=>{const y=await we.post("/api/studies/proposal/pdf",i.finalPayload,{responseType:"blob"}),_=new Blob([y.data],{type:"application/pdf"}),w=window.URL.createObjectURL(_),b=document.createElement("a");b.href=w,b.download=`proposal-${i.finalPayload.nctId}.pdf`,document.body.appendChild(b),b.click(),b.remove(),window.URL.revokeObjectURL(w)};return r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow space-y-6",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Predictive Enrollment Engineering"}),r.jsx("button",{onClick:m,disabled:c,className:"px-4 py-2 bg-blue-600 text-white rounded",children:c?"Processing":"Calculate"})]}),r.jsx("div",{className:"h-2 bg-gray-200 rounded",children:r.jsx("div",{className:"h-full bg-blue-600",style:{width:`${t/TE*100}%`}})}),t>=5&&r.jsxs("div",{className:"bg-blue-600 text-white p-5 rounded",children:[r.jsxs("p",{children:[r.jsx("b",{children:"Confidence:"})," ",i.confidence,"%"]}),r.jsxs("p",{children:[r.jsx("b",{children:"Difficulty:"})," ",i.label]}),r.jsxs("p",{children:[r.jsx("b",{children:"CPE:"})," $",i.cpe]}),r.jsxs("p",{children:[r.jsx("b",{children:"Total Cost:"})," $",(x=i.estimatedTotalCost)==null?void 0:x.toLocaleString()]})]}),t===6&&r.jsx("button",{onClick:g,className:"px-4 py-2 bg-green-600 text-white rounded",children:"Download Proposal PDF"})]})},EE=()=>{var ft,et,ot,Tt,Q,_e,Ee,Ye,Qe;const[e,t]=f.useState([]),[s,i]=f.useState(""),[a,c]=f.useState(1),[l,u]=f.useState(1),[h,m]=f.useState(0),[g,x]=f.useState(!1),[y,_]=f.useState(null),[w,b]=f.useState(!1),[N,T]=f.useState("list"),[C,j]=f.useState(!1),[P,E]=f.useState(!1),[B,V]=f.useState(null),U=Sr(),[X,M]=f.useState({phases:[],conditions:[],locations:[],enrollmentStats:{min:0,max:1e4}}),[$,H]=f.useState([]),[O,ee]=f.useState([]),[de,J]=f.useState(!1),[he,ne]=f.useState(!1),[F,k]=f.useState({phase:[],condition:"",location:"",enrollmentMin:"",enrollmentMax:""}),[D,W]=f.useState(""),[z,Z]=f.useState(null),[ge,xe]=f.useState(!1),[ue,Te]=f.useState(""),ze=10,K=async se=>{try{b(!0),_(null),V(se);const Le=await we.get(`/api/studies/db/${se}`);_(Le.data.study.raw_json)}catch(Le){console.error(Le)}finally{b(!1)}},ie=async()=>{try{const se=await we.get("https://ai.research-hero.com/api/studies/clinical-trails-gov/filter-options");M({phases:se.data.phases||[],conditions:se.data.conditions||[],locations:se.data.locations||[],enrollmentStats:se.data.enrollmentStats||{min:0,max:1e4}}),se.data.enrollmentStats&&k(Le=>({...Le,enrollmentMin:se.data.enrollmentStats.min,enrollmentMax:se.data.enrollmentStats.max}))}catch(se){console.error("Error fetching filter options:",se)}},le=async()=>{try{const se=await we.get("https://ai.research-hero.com/api/studies/clinical-trails-gov/available-locations");M(Le=>({...Le,locations:se.data.locations||[]}))}catch(se){console.error("Error fetching locations:",se)}},Pe=async se=>{if(!se||se.length<2){H([]),J(!1);return}try{const Le=await we.get("https://ai.research-hero.com/api/studies/clinical-trails-gov/search-conditions",{params:{query:se}});H(Le.data.results||[]),J(!0)}catch(Le){console.error("Error searching conditions:",Le)}},Ne=async se=>{if(!se||se.length<2){ee([]),ne(!1);return}try{const Le=await we.get("https://ai.research-hero.com/api/studies/clinical-trails-gov/search-locations",{params:{query:se}});ee(Le.data.results||[]),ne(!0)}catch(Le){console.error("Error searching locations:",Le)}},Ae=async(se=1)=>{try{x(!0);const Le={page:se,limit:ze,search:s,...F},tt=await we.post("/api/studies/clinical-trails-gov/studies",{page:se,limit:ze,expertQuery:{text:s,logic:"AND",phase:F.phase,locations:F.location?{city:F.location}:null,enrollment:{min:F.enrollmentMin||null,max:F.enrollmentMax||null}}});console.log("++++++++++++++++++++++++++++"),console.log("API Response:",tt.data),t(tt.data.studies||[]),m(tt.data.total||0),u(tt.data.totalPages||1),c(se)}catch(Le){console.error("Error fetching studies:",Le),t([])}finally{x(!1)}},Ke=async()=>{try{j(!0);const se=await we.get("https://ai.research-hero.com/api/studies/clinical-trails-gov/all-studies");alert(` Synced successfully!
${se.data.message}
Total studies synced: ${se.data.total}`),await ie(),await le(),Ae(1)}catch(se){console.error("Error syncing studies:",se),alert(" Failed to sync studies. Check console for details.")}finally{j(!1)}},De=(se,Le,tt=!1)=>{k(tt?st=>({...st,[se]:st[se].includes(Le)?st[se].filter(R=>R!==Le):[...st[se],Le]}):st=>({...st,[se]:Le}))},Oe=se=>{k(Le=>({...Le,condition:se})),J(!1)},Ge=se=>{k(Le=>({...Le,location:se})),ne(!1)},Be=()=>{k({phase:[],condition:"",location:"",enrollmentMin:X.enrollmentStats.min,enrollmentMax:X.enrollmentStats.max}),c(1)};f.useEffect(()=>{ie(),le()},[]),f.useEffect(()=>{Ae(1)},[s,F]);const xt=(se,Le)=>{if(!se||!Le)return"-";const tt=new Date(se),st=new Date(Le);if(isNaN(tt)||isNaN(st))return"-";const R=st.getFullYear()-tt.getFullYear(),je=st.getMonth()-tt.getMonth();return R*12+je};return r.jsxs("div",{className:"min-h-screen bg-gray-50 py-10",children:[r.jsxs("div",{className:"max-w-auto mx-auto px-6",children:[r.jsxs("div",{className:"mb-6 flex gap-4 border-b",children:[r.jsx("button",{onClick:()=>T("list"),className:`pb-2 font-medium ${N==="list"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500"}`,children:"All Studies"}),r.jsx("button",{onClick:()=>T("calculate"),className:`pb-2 font-medium ${N==="calculate"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500"}`,children:"Calculate Study"})]}),N==="list"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Clinical Trials Analysis"}),r.jsx("p",{className:"text-gray-600 mt-1",children:'Search and analyze studies stored in your database. Try searching like "cancer in Houston"'})]}),r.jsxs("div",{className:"mb-4 flex gap-3 items-center",children:[r.jsx("input",{type:"text",placeholder:"Search: 'cancer in Houston' or NCT ID, Title, Condition, or Location",value:s,onChange:se=>i(se.target.value),className:"flex-1 px-4 py-2 border rounded-lg"}),r.jsx("button",{onClick:()=>E(!P),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:" Filters"}),r.jsx("button",{onClick:Ke,disabled:C,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:C?"Syncing...":" Sync"})]}),P&&r.jsxs("div",{className:"mb-6 bg-white p-6 rounded-lg shadow space-y-4",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Advanced Filters"}),r.jsx("button",{onClick:Be,className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded hover:bg-red-200",children:"Clear All"})]}),X.phases.length>0&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Study Phase (",X.phases.length,")"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:X.phases.map(se=>r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:F.phase.includes(se),onChange:()=>De("phase",se,!0),className:"mr-2"}),r.jsx("span",{className:"text-sm",children:se})]},se))})]}),X.conditions.length>0&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Condition (",X.conditions.length,")"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Search condition (e.g., diabetes, cancer)",value:F.condition,onChange:se=>{De("condition",se.target.value),Pe(se.target.value)},onFocus:()=>F.condition&&J(!0),className:"w-full px-4 py-2 border rounded-lg"}),de&&$.length>0&&r.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border rounded-lg shadow-lg z-10 max-h-48 overflow-y-auto",children:$.map(se=>r.jsx("div",{onClick:()=>Oe(se),className:"px-4 py-2 hover:bg-blue-50 cursor-pointer border-b last:border-b-0",children:se},se))})]})]}),X.locations.length>0&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Location (",X.locations.length,")"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Search location (e.g., Houston, New York, Texas)",value:F.location,onChange:se=>{De("location",se.target.value),Ne(se.target.value)},onFocus:()=>F.location&&ne(!0),className:"w-full px-4 py-2 border rounded-lg"}),he&&O.length>0&&r.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border rounded-lg shadow-lg z-10 max-h-48 overflow-y-auto",children:O.map(se=>r.jsxs("div",{onClick:()=>Ge(se),className:"px-4 py-2 hover:bg-blue-50 cursor-pointer border-b last:border-b-0",children:[" ",se]},se))})]})]}),X.enrollmentStats&&r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Min Enrollment (0 - ",X.enrollmentStats.max,")"]}),r.jsx("input",{type:"number",placeholder:"0",value:F.enrollmentMin,onChange:se=>De("enrollmentMin",se.target.value),min:X.enrollmentStats.min,max:X.enrollmentStats.max,className:"w-full px-4 py-2 border rounded-lg"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Max Enrollment (0 - ",X.enrollmentStats.max,")"]}),r.jsx("input",{type:"number",placeholder:X.enrollmentStats.max,value:F.enrollmentMax,onChange:se=>De("enrollmentMax",se.target.value),min:X.enrollmentStats.min,max:X.enrollmentStats.max,className:"w-full px-4 py-2 border rounded-lg"})]})]})]}),r.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Total Studies: ",r.jsx("strong",{children:h}),s&&r.jsxs("span",{className:"ml-2",children:["| Search: ",r.jsxs("strong",{children:['"',s,'"']})]})]}),r.jsx("div",{className:"bg-white shadow rounded-lg overflow-x-auto",children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{className:"bg-gray-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-3 text-left",children:"NCT ID"}),r.jsx("th",{className:"p-3 text-left",children:"Title"}),r.jsx("th",{className:"p-3 text-left",children:"Phase"}),r.jsx("th",{className:"p-3 text-left",children:"Condition"}),r.jsx("th",{className:"p-3 text-left",children:"Location"}),r.jsx("th",{className:"p-3 text-left",children:"Enrollment"}),r.jsx("th",{className:"p-3 text-left",children:"Actions"})]})}),r.jsx("tbody",{children:g?r.jsx("tr",{children:r.jsx("td",{colSpan:"6",className:"p-4 text-center",children:"Loading..."})}):e.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"6",className:"p-4 text-center",children:'No studies found. Click "Sync" to fetch studies.'})}):e.map(se=>{var Le,tt,st,R;return r.jsxs("tr",{className:"border-t cursor-pointer hover:bg-gray-50",children:[r.jsx("td",{className:"p-3 font-medium",children:se.nct_id}),r.jsx("td",{className:"p-3 text-blue-600 hover:underline",onClick:()=>K(se.id),children:se.title}),r.jsx("td",{className:"p-3",children:se.phase||"-"}),r.jsx("td",{className:"p-3",children:se.condition_name||"-"}),r.jsx("td",{className:"p-3 text-sm",children:(R=(st=(tt=(Le=se.raw_json)==null?void 0:Le.protocolSection)==null?void 0:tt.contactsLocationsModule)==null?void 0:st.locations)!=null&&R.length?r.jsxs("span",{className:"inline-block bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[""," ",se.raw_json.protocolSection.contactsLocationsModule.locations[0].city,","," ",se.raw_json.protocolSection.contactsLocationsModule.locations[0].country]}):"-"}),r.jsx("td",{className:"p-3",children:se.enrollment||"-"}),r.jsx("td",{className:"p-3",children:r.jsx("button",{onClick:()=>U(`/studies/db/${se.id}`),className:"bg-blue-600 text-white px-3 py-1 rounded",children:"Details"})})]},se.nct_id)})})]})}),r.jsxs("div",{className:"flex justify-between items-center mt-6",children:[r.jsx("button",{disabled:a===1||g,onClick:()=>Ae(a-1),className:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300",children:"Previous"}),r.jsxs("span",{className:"text-sm font-medium",children:["Page ",a," of ",l]}),r.jsx("button",{disabled:a===l||g,onClick:()=>Ae(a+1),className:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300",children:"Next"})]})]}),N==="calculate"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white p-5 rounded-lg shadow flex gap-4 items-center",children:[r.jsx("input",{type:"text",placeholder:"Enter NCT ID (e.g. NCT04838808)",value:D,onChange:se=>W(se.target.value.toUpperCase()),className:"border px-4 py-2 rounded w-80"}),r.jsx("button",{onClick:async()=>{if(D)try{xe(!0),Te(""),Z(null);const se=await we.get(`https://ai.research-hero.com/api/studies/clinical-trails-gov/live/${D}`);Z(se.data.study)}catch{Te("Study not found on ClinicalTrials.gov")}finally{xe(!1)}},className:"px-5 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Load Study"})]}),ge&&r.jsx("p",{className:"text-gray-600",children:"Loading study"}),ue&&r.jsx("p",{className:"text-red-600",children:ue}),z&&r.jsxs("div",{className:"bg-white p-6 rounded-lg shadow space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:z.protocolSection.identificationModule.nctId}),r.jsx("p",{className:"text-gray-700 mt-1",children:z.protocolSection.identificationModule.briefTitle})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Phase:"})," ",(et=(ft=z.protocolSection.designModule)==null?void 0:ft.phases)==null?void 0:et.join(", ")]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Status:"})," ",(ot=z.protocolSection.statusModule)==null?void 0:ot.overallStatus]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Enrollment:"})," ",((Q=(Tt=z.protocolSection.designModule)==null?void 0:Tt.enrollmentInfo)==null?void 0:Q.count)||"-"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Conditions:"})," ",(Ee=(_e=z.protocolSection.conditionsModule)==null?void 0:_e.conditions)==null?void 0:Ee.join(", ")]})]})]}),z&&r.jsx(PE,{study:z})]})]}),(w||y)&&r.jsxs("div",{className:"fixed top-0 right-0 h-full w-1/2 bg-white shadow-2xl z-50 flex flex-col",children:[r.jsxs("div",{className:"p-5 border-b flex justify-between items-center bg-gray-50",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold",children:((Qe=(Ye=y==null?void 0:y.protocolSection)==null?void 0:Ye.identificationModule)==null?void 0:Qe.nctId)||"Loading..."}),r.jsx("p",{className:"text-sm text-gray-500",children:"ClinicalTrials.gov  Live Protocol"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>U(`/studies/db/${B}`),className:`px-4 py-1.5 text-sm font-medium
                 bg-blue-600 text-white rounded-md
                 hover:bg-blue-700 transition`,children:"View Full Details"}),r.jsx("button",{onClick:()=>_(null),className:`w-8 h-8 flex items-center justify-center
                 rounded-full text-gray-500
                 hover:bg-gray-200 hover:text-gray-800
                 transition`,"aria-label":"Close sidebar",children:""})]})]}),r.jsx("div",{className:"p-5 overflow-y-auto text-sm space-y-6",children:w?r.jsx("p",{className:"text-gray-600",children:"Fetching live data"}):y?(()=>{var R,je,ke,I,ce,ae,te,fe,Se,qe,nt,Xt,as,Or,ls,Dr,Br,zr,Fr,Dt,Ce,Ds,Bs,zs,Fs,cs,Vs,xn,$s,Vr,$r,Ur,Hr,Us,Wr,Vn;const se=(R=y==null?void 0:y.protocolSection)==null?void 0:R.statusModule,Le=((je=se==null?void 0:se.startDateStruct)==null?void 0:je.date)||"-",tt=((ke=se==null?void 0:se.completionDateStruct)==null?void 0:ke.date)||((I=se==null?void 0:se.primaryCompletionDateStruct)==null?void 0:I.date)||"-",st=Le!=="-"&&tt!=="-"?`${xt(Le,tt)} months`:"-";return r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-base font-semibold text-gray-900",children:y.protocolSection.identificationModule.briefTitle}),r.jsx("p",{className:"text-gray-600 mt-1",children:(ce=y.protocolSection.descriptionModule)==null?void 0:ce.briefSummary})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Phase"}),r.jsx("p",{className:"font-medium",children:((te=(ae=y.protocolSection.designModule)==null?void 0:ae.phases)==null?void 0:te.join(", "))||"-"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Study Type"}),r.jsx("p",{className:"font-medium",children:((fe=y.protocolSection.designModule)==null?void 0:fe.studyType)||"-"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Enrollment"}),r.jsx("p",{className:"font-medium",children:((qe=(Se=y.protocolSection.designModule)==null?void 0:Se.enrollmentInfo)==null?void 0:qe.count)||"-"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Status"}),r.jsx("p",{className:"font-medium",children:((nt=y.protocolSection.statusModule)==null?void 0:nt.overallStatus)||"-"})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 bg-gray-50 p-4 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Study Start"}),r.jsx("p",{className:"font-medium",children:Le})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Study End"}),r.jsx("p",{className:"font-medium",children:tt})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Duration"}),r.jsx("p",{className:"font-medium",children:st})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Conditions"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:(Or=(as=(Xt=y==null?void 0:y.protocolSection)==null?void 0:Xt.conditionsModule)==null?void 0:as.conditions)==null?void 0:Or.map((lo,co)=>r.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-xs",children:lo},co))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Eligibility Criteria"}),r.jsx("div",{className:"bg-gray-50 border rounded p-3 whitespace-pre-wrap leading-relaxed text-xs",children:((Dr=(ls=y==null?void 0:y.protocolSection)==null?void 0:ls.eligibilityModule)==null?void 0:Dr.eligibilityCriteria)||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Study Design"}),r.jsxs("ul",{className:"space-y-1 text-gray-700",children:[r.jsxs("li",{children:[r.jsx("strong",{children:"Allocation:"})," ",((Fr=(zr=(Br=y==null?void 0:y.protocolSection)==null?void 0:Br.designModule)==null?void 0:zr.designInfo)==null?void 0:Fr.allocation)||"-"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Intervention Model:"})," ",((Ds=(Ce=(Dt=y==null?void 0:y.protocolSection)==null?void 0:Dt.designModule)==null?void 0:Ce.designInfo)==null?void 0:Ds.interventionModel)||"-"]}),r.jsxs("li",{children:[r.jsx("strong",{children:"Masking:"})," ",((cs=(Fs=(zs=(Bs=y==null?void 0:y.protocolSection)==null?void 0:Bs.designModule)==null?void 0:zs.designInfo)==null?void 0:Fs.maskingInfo)==null?void 0:cs.masking)||"-"]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Lead Sponsor"}),r.jsx("p",{className:"text-gray-700",children:((xn=(Vs=y.protocolSection.sponsorCollaboratorsModule)==null?void 0:Vs.leadSponsor)==null?void 0:xn.name)||"-"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 p-4 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Type"}),r.jsx("p",{className:"font-medium",children:((Vr=($s=y.protocolSection.sponsorCollaboratorsModule)==null?void 0:$s.responsibleParty)==null?void 0:Vr.type)||"-"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Investigator Full Name"}),r.jsx("p",{className:"font-medium",children:((Ur=($r=y.protocolSection.sponsorCollaboratorsModule)==null?void 0:$r.responsibleParty)==null?void 0:Ur.investigatorFullName)||"-"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Investigator Title"}),r.jsx("p",{className:"font-medium",children:((Us=(Hr=y.protocolSection.sponsorCollaboratorsModule)==null?void 0:Hr.responsibleParty)==null?void 0:Us.investigatorTitle)||"-"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-gray-500",children:"Investigator Affiliation"}),r.jsx("p",{className:"font-medium",children:((Vn=(Wr=y.protocolSection.sponsorCollaboratorsModule)==null?void 0:Wr.responsibleParty)==null?void 0:Vn.investigatorAffiliation)||"-"})]})]})]})})():null})]})]})};function Wg(e,t){const s=f.useRef(t);f.useEffect(function(){t!==s.current&&e.attributionControl!=null&&(s.current!=null&&e.attributionControl.removeAttribution(s.current),t!=null&&e.attributionControl.addAttribution(t)),s.current=t},[e,t])}const LE=1;function AE(e){return Object.freeze({__version:LE,map:e})}function kE(e,t){return Object.freeze({...e,...t})}const Zg=f.createContext(null),Gg=Zg.Provider;function Kg(){const e=f.useContext(Zg);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function RE(e){function t(s,i){const{instance:a,context:c}=e(s).current;return f.useImperativeHandle(i,()=>a),s.children==null?null:me.createElement(Gg,{value:c},s.children)}return f.forwardRef(t)}function ME(e){function t(s,i){const[a,c]=f.useState(!1),{instance:l}=e(s,c).current;f.useImperativeHandle(i,()=>l),f.useEffect(function(){a&&l.update()},[l,a,s.children]);const u=l._contentNode;return u?Ps.createPortal(s.children,u):null}return f.forwardRef(t)}function IE(e){function t(s,i){const{instance:a}=e(s).current;return f.useImperativeHandle(i,()=>a),null}return f.forwardRef(t)}function qg(e,t){const s=f.useRef();f.useEffect(function(){return t!=null&&e.instance.on(t),s.current=t,function(){s.current!=null&&e.instance.off(s.current),s.current=null}},[e,t])}function nc(e,t){const s=e.pane??t.pane;return s?{...e,pane:s}:e}function OE(e,t){return function(i,a){const c=Kg(),l=e(nc(i,c),c);return Wg(c.map,i.attribution),qg(l.current,i.eventHandlers),t(l.current,c,i,a),l}}var nl={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(s,i){i(t)})(gn,function(s){var i="1.9.4";function a(n){var o,d,p,v;for(d=1,p=arguments.length;d<p;d++){v=arguments[d];for(o in v)n[o]=v[o]}return n}var c=Object.create||function(){function n(){}return function(o){return n.prototype=o,new n}}();function l(n,o){var d=Array.prototype.slice;if(n.bind)return n.bind.apply(n,d.call(arguments,1));var p=d.call(arguments,2);return function(){return n.apply(o,p.length?p.concat(d.call(arguments)):arguments)}}var u=0;function h(n){return"_leaflet_id"in n||(n._leaflet_id=++u),n._leaflet_id}function m(n,o,d){var p,v,S,A;return A=function(){p=!1,v&&(S.apply(d,v),v=!1)},S=function(){p?v=arguments:(n.apply(d,arguments),setTimeout(A,o),p=!0)},S}function g(n,o,d){var p=o[1],v=o[0],S=p-v;return n===p&&d?n:((n-v)%S+S)%S+v}function x(){return!1}function y(n,o){if(o===!1)return n;var d=Math.pow(10,o===void 0?6:o);return Math.round(n*d)/d}function _(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function w(n){return _(n).split(/\s+/)}function b(n,o){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?c(n.options):{});for(var d in o)n.options[d]=o[d];return n.options}function N(n,o,d){var p=[];for(var v in n)p.push(encodeURIComponent(d?v.toUpperCase():v)+"="+encodeURIComponent(n[v]));return(!o||o.indexOf("?")===-1?"?":"&")+p.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function C(n,o){return n.replace(T,function(d,p){var v=o[p];if(v===void 0)throw new Error("No value provided for variable "+d);return typeof v=="function"&&(v=v(o)),v})}var j=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function P(n,o){for(var d=0;d<n.length;d++)if(n[d]===o)return d;return-1}var E="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function B(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var V=0;function U(n){var o=+new Date,d=Math.max(0,16-(o-V));return V=o+d,window.setTimeout(n,d)}var X=window.requestAnimationFrame||B("RequestAnimationFrame")||U,M=window.cancelAnimationFrame||B("CancelAnimationFrame")||B("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function $(n,o,d){if(d&&X===U)n.call(o);else return X.call(window,l(n,o))}function H(n){n&&M.call(window,n)}var O={__proto__:null,extend:a,create:c,bind:l,get lastId(){return u},stamp:h,throttle:m,wrapNum:g,falseFn:x,formatNum:y,trim:_,splitWords:w,setOptions:b,getParamString:N,template:C,isArray:j,indexOf:P,emptyImageUrl:E,requestFn:X,cancelFn:M,requestAnimFrame:$,cancelAnimFrame:H};function ee(){}ee.extend=function(n){var o=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=o.__super__=this.prototype,p=c(d);p.constructor=o,o.prototype=p;for(var v in this)Object.prototype.hasOwnProperty.call(this,v)&&v!=="prototype"&&v!=="__super__"&&(o[v]=this[v]);return n.statics&&a(o,n.statics),n.includes&&(de(n.includes),a.apply(null,[p].concat(n.includes))),a(p,n),delete p.statics,delete p.includes,p.options&&(p.options=d.options?c(d.options):{},a(p.options,n.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,A=p._initHooks.length;S<A;S++)p._initHooks[S].call(this)}},o},ee.include=function(n){var o=this.prototype.options;return a(this.prototype,n),n.options&&(this.prototype.options=o,this.mergeOptions(n.options)),this},ee.mergeOptions=function(n){return a(this.prototype.options,n),this},ee.addInitHook=function(n){var o=Array.prototype.slice.call(arguments,1),d=typeof n=="function"?n:function(){this[n].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function de(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=j(n)?n:[n];for(var o=0;o<n.length;o++)n[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var J={on:function(n,o,d){if(typeof n=="object")for(var p in n)this._on(p,n[p],o);else{n=w(n);for(var v=0,S=n.length;v<S;v++)this._on(n[v],o,d)}return this},off:function(n,o,d){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var p in n)this._off(p,n[p],o);else{n=w(n);for(var v=arguments.length===1,S=0,A=n.length;S<A;S++)v?this._off(n[S]):this._off(n[S],o,d)}return this},_on:function(n,o,d,p){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(n,o,d)===!1){d===this&&(d=void 0);var v={fn:o,ctx:d};p&&(v.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(v)}},_off:function(n,o,d){var p,v,S;if(this._events&&(p=this._events[n],!!p)){if(arguments.length===1){if(this._firingCount)for(v=0,S=p.length;v<S;v++)p[v].fn=x;delete this._events[n];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var A=this._listens(n,o,d);if(A!==!1){var G=p[A];this._firingCount&&(G.fn=x,this._events[n]=p=p.slice()),p.splice(A,1)}}},fire:function(n,o,d){if(!this.listens(n,d))return this;var p=a({},o,{type:n,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var v=this._events[n];if(v){this._firingCount=this._firingCount+1||1;for(var S=0,A=v.length;S<A;S++){var G=v[S],q=G.fn;G.once&&this.off(n,q,G.ctx),q.call(G.ctx||this,p)}this._firingCount--}}return d&&this._propagateEvent(p),this},listens:function(n,o,d,p){typeof n!="string"&&console.warn('"string" type argument expected');var v=o;typeof o!="function"&&(p=!!o,v=void 0,d=void 0);var S=this._events&&this._events[n];if(S&&S.length&&this._listens(n,v,d)!==!1)return!0;if(p){for(var A in this._eventParents)if(this._eventParents[A].listens(n,o,d,p))return!0}return!1},_listens:function(n,o,d){if(!this._events)return!1;var p=this._events[n]||[];if(!o)return!!p.length;d===this&&(d=void 0);for(var v=0,S=p.length;v<S;v++)if(p[v].fn===o&&p[v].ctx===d)return v;return!1},once:function(n,o,d){if(typeof n=="object")for(var p in n)this._on(p,n[p],o,!0);else{n=w(n);for(var v=0,S=n.length;v<S;v++)this._on(n[v],o,d,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[h(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[h(n)],this},_propagateEvent:function(n){for(var o in this._eventParents)this._eventParents[o].fire(n.type,a({layer:n.target,propagatedFrom:n.target},n),!0)}};J.addEventListener=J.on,J.removeEventListener=J.clearAllEventListeners=J.off,J.addOneTimeEventListener=J.once,J.fireEvent=J.fire,J.hasEventListeners=J.listens;var he=ee.extend(J);function ne(n,o,d){this.x=d?Math.round(n):n,this.y=d?Math.round(o):o}var F=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};ne.prototype={clone:function(){return new ne(this.x,this.y)},add:function(n){return this.clone()._add(k(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(k(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new ne(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new ne(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=F(this.x),this.y=F(this.y),this},distanceTo:function(n){n=k(n);var o=n.x-this.x,d=n.y-this.y;return Math.sqrt(o*o+d*d)},equals:function(n){return n=k(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=k(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function k(n,o,d){return n instanceof ne?n:j(n)?new ne(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new ne(n.x,n.y):new ne(n,o,d)}function D(n,o){if(n)for(var d=o?[n,o]:n,p=0,v=d.length;p<v;p++)this.extend(d[p])}D.prototype={extend:function(n){var o,d;if(!n)return this;if(n instanceof ne||typeof n[0]=="number"||"x"in n)o=d=k(n);else if(n=W(n),o=n.min,d=n.max,!o||!d)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=d.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(n){return k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return k(this.min.x,this.max.y)},getTopRight:function(){return k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var o,d;return typeof n[0]=="number"||n instanceof ne?n=k(n):n=W(n),n instanceof D?(o=n.min,d=n.max):o=d=n,o.x>=this.min.x&&d.x<=this.max.x&&o.y>=this.min.y&&d.y<=this.max.y},intersects:function(n){n=W(n);var o=this.min,d=this.max,p=n.min,v=n.max,S=v.x>=o.x&&p.x<=d.x,A=v.y>=o.y&&p.y<=d.y;return S&&A},overlaps:function(n){n=W(n);var o=this.min,d=this.max,p=n.min,v=n.max,S=v.x>o.x&&p.x<d.x,A=v.y>o.y&&p.y<d.y;return S&&A},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var o=this.min,d=this.max,p=Math.abs(o.x-d.x)*n,v=Math.abs(o.y-d.y)*n;return W(k(o.x-p,o.y-v),k(d.x+p,d.y+v))},equals:function(n){return n?(n=W(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function W(n,o){return!n||n instanceof D?n:new D(n,o)}function z(n,o){if(n)for(var d=o?[n,o]:n,p=0,v=d.length;p<v;p++)this.extend(d[p])}z.prototype={extend:function(n){var o=this._southWest,d=this._northEast,p,v;if(n instanceof ge)p=n,v=n;else if(n instanceof z){if(p=n._southWest,v=n._northEast,!p||!v)return this}else return n?this.extend(xe(n)||Z(n)):this;return!o&&!d?(this._southWest=new ge(p.lat,p.lng),this._northEast=new ge(v.lat,v.lng)):(o.lat=Math.min(p.lat,o.lat),o.lng=Math.min(p.lng,o.lng),d.lat=Math.max(v.lat,d.lat),d.lng=Math.max(v.lng,d.lng)),this},pad:function(n){var o=this._southWest,d=this._northEast,p=Math.abs(o.lat-d.lat)*n,v=Math.abs(o.lng-d.lng)*n;return new z(new ge(o.lat-p,o.lng-v),new ge(d.lat+p,d.lng+v))},getCenter:function(){return new ge((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ge(this.getNorth(),this.getWest())},getSouthEast:function(){return new ge(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof ge||"lat"in n?n=xe(n):n=Z(n);var o=this._southWest,d=this._northEast,p,v;return n instanceof z?(p=n.getSouthWest(),v=n.getNorthEast()):p=v=n,p.lat>=o.lat&&v.lat<=d.lat&&p.lng>=o.lng&&v.lng<=d.lng},intersects:function(n){n=Z(n);var o=this._southWest,d=this._northEast,p=n.getSouthWest(),v=n.getNorthEast(),S=v.lat>=o.lat&&p.lat<=d.lat,A=v.lng>=o.lng&&p.lng<=d.lng;return S&&A},overlaps:function(n){n=Z(n);var o=this._southWest,d=this._northEast,p=n.getSouthWest(),v=n.getNorthEast(),S=v.lat>o.lat&&p.lat<d.lat,A=v.lng>o.lng&&p.lng<d.lng;return S&&A},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,o){return n?(n=Z(n),this._southWest.equals(n.getSouthWest(),o)&&this._northEast.equals(n.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Z(n,o){return n instanceof z?n:new z(n,o)}function ge(n,o,d){if(isNaN(n)||isNaN(o))throw new Error("Invalid LatLng object: ("+n+", "+o+")");this.lat=+n,this.lng=+o,d!==void 0&&(this.alt=+d)}ge.prototype={equals:function(n,o){if(!n)return!1;n=xe(n);var d=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return d<=(o===void 0?1e-9:o)},toString:function(n){return"LatLng("+y(this.lat,n)+", "+y(this.lng,n)+")"},distanceTo:function(n){return Te.distance(this,xe(n))},wrap:function(){return Te.wrapLatLng(this)},toBounds:function(n){var o=180*n/40075017,d=o/Math.cos(Math.PI/180*this.lat);return Z([this.lat-o,this.lng-d],[this.lat+o,this.lng+d])},clone:function(){return new ge(this.lat,this.lng,this.alt)}};function xe(n,o,d){return n instanceof ge?n:j(n)&&typeof n[0]!="object"?n.length===3?new ge(n[0],n[1],n[2]):n.length===2?new ge(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new ge(n.lat,"lng"in n?n.lng:n.lon,n.alt):o===void 0?null:new ge(n,o,d)}var ue={latLngToPoint:function(n,o){var d=this.projection.project(n),p=this.scale(o);return this.transformation._transform(d,p)},pointToLatLng:function(n,o){var d=this.scale(o),p=this.transformation.untransform(n,d);return this.projection.unproject(p)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var o=this.projection.bounds,d=this.scale(n),p=this.transformation.transform(o.min,d),v=this.transformation.transform(o.max,d);return new D(p,v)},infinite:!1,wrapLatLng:function(n){var o=this.wrapLng?g(n.lng,this.wrapLng,!0):n.lng,d=this.wrapLat?g(n.lat,this.wrapLat,!0):n.lat,p=n.alt;return new ge(d,o,p)},wrapLatLngBounds:function(n){var o=n.getCenter(),d=this.wrapLatLng(o),p=o.lat-d.lat,v=o.lng-d.lng;if(p===0&&v===0)return n;var S=n.getSouthWest(),A=n.getNorthEast(),G=new ge(S.lat-p,S.lng-v),q=new ge(A.lat-p,A.lng-v);return new z(G,q)}},Te=a({},ue,{wrapLng:[-180,180],R:6371e3,distance:function(n,o){var d=Math.PI/180,p=n.lat*d,v=o.lat*d,S=Math.sin((o.lat-n.lat)*d/2),A=Math.sin((o.lng-n.lng)*d/2),G=S*S+Math.cos(p)*Math.cos(v)*A*A,q=2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G));return this.R*q}}),ze=6378137,K={R:ze,MAX_LATITUDE:85.0511287798,project:function(n){var o=Math.PI/180,d=this.MAX_LATITUDE,p=Math.max(Math.min(d,n.lat),-d),v=Math.sin(p*o);return new ne(this.R*n.lng*o,this.R*Math.log((1+v)/(1-v))/2)},unproject:function(n){var o=180/Math.PI;return new ge((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*o,n.x*o/this.R)},bounds:function(){var n=ze*Math.PI;return new D([-n,-n],[n,n])}()};function ie(n,o,d,p){if(j(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=o,this._c=d,this._d=p}ie.prototype={transform:function(n,o){return this._transform(n.clone(),o)},_transform:function(n,o){return o=o||1,n.x=o*(this._a*n.x+this._b),n.y=o*(this._c*n.y+this._d),n},untransform:function(n,o){return o=o||1,new ne((n.x/o-this._b)/this._a,(n.y/o-this._d)/this._c)}};function le(n,o,d,p){return new ie(n,o,d,p)}var Pe=a({},Te,{code:"EPSG:3857",projection:K,transformation:function(){var n=.5/(Math.PI*K.R);return le(n,.5,-n,.5)}()}),Ne=a({},Pe,{code:"EPSG:900913"});function Ae(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function Ke(n,o){var d="",p,v,S,A,G,q;for(p=0,S=n.length;p<S;p++){for(G=n[p],v=0,A=G.length;v<A;v++)q=G[v],d+=(v?"L":"M")+q.x+" "+q.y;d+=o?Ce.svg?"z":"x":""}return d||"M0 0"}var De=document.documentElement.style,Oe="ActiveXObject"in window,Ge=Oe&&!document.addEventListener,Be="msLaunchUri"in navigator&&!("documentMode"in document),xt=Dt("webkit"),ft=Dt("android"),et=Dt("android 2")||Dt("android 3"),ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Tt=ft&&Dt("Google")&&ot<537&&!("AudioNode"in window),Q=!!window.opera,_e=!Be&&Dt("chrome"),Ee=Dt("gecko")&&!xt&&!Q&&!Oe,Ye=!_e&&Dt("safari"),Qe=Dt("phantom"),se="OTransition"in De,Le=navigator.platform.indexOf("Win")===0,tt=Oe&&"transition"in De,st="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!et,R="MozPerspective"in De,je=!window.L_DISABLE_3D&&(tt||st||R)&&!se&&!Qe,ke=typeof orientation<"u"||Dt("mobile"),I=ke&&xt,ce=ke&&st,ae=!window.PointerEvent&&window.MSPointerEvent,te=!!(window.PointerEvent||ae),fe="ontouchstart"in window||!!window.TouchEvent,Se=!window.L_NO_TOUCH&&(fe||te),qe=ke&&Q,nt=ke&&Ee,Xt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,as=function(){var n=!1;try{var o=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",x,o),window.removeEventListener("testPassiveEventSupport",x,o)}catch{}return n}(),Or=function(){return!!document.createElement("canvas").getContext}(),ls=!!(document.createElementNS&&Ae("svg").createSVGRect),Dr=!!ls&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Br=!ls&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var o=n.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}}(),zr=navigator.platform.indexOf("Mac")===0,Fr=navigator.platform.indexOf("Linux")===0;function Dt(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var Ce={ie:Oe,ielt9:Ge,edge:Be,webkit:xt,android:ft,android23:et,androidStock:Tt,opera:Q,chrome:_e,gecko:Ee,safari:Ye,phantom:Qe,opera12:se,win:Le,ie3d:tt,webkit3d:st,gecko3d:R,any3d:je,mobile:ke,mobileWebkit:I,mobileWebkit3d:ce,msPointer:ae,pointer:te,touch:Se,touchNative:fe,mobileOpera:qe,mobileGecko:nt,retina:Xt,passiveEvents:as,canvas:Or,svg:ls,vml:Br,inlineSvg:Dr,mac:zr,linux:Fr},Ds=Ce.msPointer?"MSPointerDown":"pointerdown",Bs=Ce.msPointer?"MSPointerMove":"pointermove",zs=Ce.msPointer?"MSPointerUp":"pointerup",Fs=Ce.msPointer?"MSPointerCancel":"pointercancel",cs={touchstart:Ds,touchmove:Bs,touchend:zs,touchcancel:Fs},Vs={touchstart:lo,touchmove:Vn,touchend:Vn,touchcancel:Vn},xn={},$s=!1;function Vr(n,o,d){return o==="touchstart"&&Wr(),Vs[o]?(d=Vs[o].bind(this,d),n.addEventListener(cs[o],d,!1),d):(console.warn("wrong event specified:",o),x)}function $r(n,o,d){if(!cs[o]){console.warn("wrong event specified:",o);return}n.removeEventListener(cs[o],d,!1)}function Ur(n){xn[n.pointerId]=n}function Hr(n){xn[n.pointerId]&&(xn[n.pointerId]=n)}function Us(n){delete xn[n.pointerId]}function Wr(){$s||(document.addEventListener(Ds,Ur,!0),document.addEventListener(Bs,Hr,!0),document.addEventListener(zs,Us,!0),document.addEventListener(Fs,Us,!0),$s=!0)}function Vn(n,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var d in xn)o.touches.push(xn[d]);o.changedTouches=[o],n(o)}}function lo(n,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&jt(o),Vn(n,o)}function co(n){var o={},d,p;for(p in n)d=n[p],o[p]=d&&d.bind?d.bind(n):d;return n=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var Jg=200;function Qg(n,o){n.addEventListener("dblclick",o);var d=0,p;function v(S){if(S.detail!==1){p=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var A=cc(S);if(!(A.some(function(q){return q instanceof HTMLLabelElement&&q.attributes.for})&&!A.some(function(q){return q instanceof HTMLInputElement||q instanceof HTMLSelectElement}))){var G=Date.now();G-d<=Jg?(p++,p===2&&o(co(S))):p=1,d=G}}}return n.addEventListener("click",v),{dblclick:o,simDblclick:v}}function ex(n,o){n.removeEventListener("dblclick",o.dblclick),n.removeEventListener("click",o.simDblclick)}var uo=Kr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Hs=Kr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ic=Hs==="webkitTransition"||Hs==="OTransition"?Hs+"End":"transitionend";function oc(n){return typeof n=="string"?document.getElementById(n):n}function Ws(n,o){var d=n.style[o]||n.currentStyle&&n.currentStyle[o];if((!d||d==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(n,null);d=p?p[o]:null}return d==="auto"?null:d}function Je(n,o,d){var p=document.createElement(n);return p.className=o||"",d&&d.appendChild(p),p}function lt(n){var o=n.parentNode;o&&o.removeChild(n)}function Zr(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function ds(n){var o=n.parentNode;o&&o.lastChild!==n&&o.appendChild(n)}function us(n){var o=n.parentNode;o&&o.firstChild!==n&&o.insertBefore(n,o.firstChild)}function ho(n,o){if(n.classList!==void 0)return n.classList.contains(o);var d=Gr(n);return d.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(d)}function Ue(n,o){if(n.classList!==void 0)for(var d=w(o),p=0,v=d.length;p<v;p++)n.classList.add(d[p]);else if(!ho(n,o)){var S=Gr(n);fo(n,(S?S+" ":"")+o)}}function mt(n,o){n.classList!==void 0?n.classList.remove(o):fo(n,_((" "+Gr(n)+" ").replace(" "+o+" "," ")))}function fo(n,o){n.className.baseVal===void 0?n.className=o:n.className.baseVal=o}function Gr(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function $t(n,o){"opacity"in n.style?n.style.opacity=o:"filter"in n.style&&tx(n,o)}function tx(n,o){var d=!1,p="DXImageTransform.Microsoft.Alpha";try{d=n.filters.item(p)}catch{if(o===1)return}o=Math.round(o*100),d?(d.Enabled=o!==100,d.Opacity=o):n.style.filter+=" progid:"+p+"(opacity="+o+")"}function Kr(n){for(var o=document.documentElement.style,d=0;d<n.length;d++)if(n[d]in o)return n[d];return!1}function $n(n,o,d){var p=o||new ne(0,0);n.style[uo]=(Ce.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(d?" scale("+d+")":"")}function vt(n,o){n._leaflet_pos=o,Ce.any3d?$n(n,o):(n.style.left=o.x+"px",n.style.top=o.y+"px")}function Un(n){return n._leaflet_pos||new ne(0,0)}var Zs,Gs,mo;if("onselectstart"in document)Zs=function(){Fe(window,"selectstart",jt)},Gs=function(){rt(window,"selectstart",jt)};else{var Ks=Kr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Zs=function(){if(Ks){var n=document.documentElement.style;mo=n[Ks],n[Ks]="none"}},Gs=function(){Ks&&(document.documentElement.style[Ks]=mo,mo=void 0)}}function po(){Fe(window,"dragstart",jt)}function go(){rt(window,"dragstart",jt)}var qr,xo;function vo(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(Yr(),qr=n,xo=n.style.outlineStyle,n.style.outlineStyle="none",Fe(window,"keydown",Yr))}function Yr(){qr&&(qr.style.outlineStyle=xo,qr=void 0,xo=void 0,rt(window,"keydown",Yr))}function ac(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function yo(n){var o=n.getBoundingClientRect();return{x:o.width/n.offsetWidth||1,y:o.height/n.offsetHeight||1,boundingClientRect:o}}var nx={__proto__:null,TRANSFORM:uo,TRANSITION:Hs,TRANSITION_END:ic,get:oc,getStyle:Ws,create:Je,remove:lt,empty:Zr,toFront:ds,toBack:us,hasClass:ho,addClass:Ue,removeClass:mt,setClass:fo,getClass:Gr,setOpacity:$t,testProp:Kr,setTransform:$n,setPosition:vt,getPosition:Un,get disableTextSelection(){return Zs},get enableTextSelection(){return Gs},disableImageDrag:po,enableImageDrag:go,preventOutline:vo,restoreOutline:Yr,getSizedParentNode:ac,getScale:yo};function Fe(n,o,d,p){if(o&&typeof o=="object")for(var v in o)bo(n,v,o[v],d);else{o=w(o);for(var S=0,A=o.length;S<A;S++)bo(n,o[S],d,p)}return this}var on="_leaflet_events";function rt(n,o,d,p){if(arguments.length===1)lc(n),delete n[on];else if(o&&typeof o=="object")for(var v in o)wo(n,v,o[v],d);else if(o=w(o),arguments.length===2)lc(n,function(G){return P(o,G)!==-1});else for(var S=0,A=o.length;S<A;S++)wo(n,o[S],d,p);return this}function lc(n,o){for(var d in n[on]){var p=d.split(/\d/)[0];(!o||o(p))&&wo(n,p,null,null,d)}}var _o={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function bo(n,o,d,p){var v=o+h(d)+(p?"_"+h(p):"");if(n[on]&&n[on][v])return this;var S=function(G){return d.call(p||n,G||window.event)},A=S;!Ce.touchNative&&Ce.pointer&&o.indexOf("touch")===0?S=Vr(n,o,S):Ce.touch&&o==="dblclick"?S=Qg(n,S):"addEventListener"in n?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?n.addEventListener(_o[o]||o,S,Ce.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(S=function(G){G=G||window.event,So(n,G)&&A(G)},n.addEventListener(_o[o],S,!1)):n.addEventListener(o,A,!1):n.attachEvent("on"+o,S),n[on]=n[on]||{},n[on][v]=S}function wo(n,o,d,p,v){v=v||o+h(d)+(p?"_"+h(p):"");var S=n[on]&&n[on][v];if(!S)return this;!Ce.touchNative&&Ce.pointer&&o.indexOf("touch")===0?$r(n,o,S):Ce.touch&&o==="dblclick"?ex(n,S):"removeEventListener"in n?n.removeEventListener(_o[o]||o,S,!1):n.detachEvent("on"+o,S),n[on][v]=null}function Hn(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function jo(n){return bo(n,"wheel",Hn),this}function qs(n){return Fe(n,"mousedown touchstart dblclick contextmenu",Hn),n._leaflet_disable_click=!0,this}function jt(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function Wn(n){return jt(n),Hn(n),this}function cc(n){if(n.composedPath)return n.composedPath();for(var o=[],d=n.target;d;)o.push(d),d=d.parentNode;return o}function dc(n,o){if(!o)return new ne(n.clientX,n.clientY);var d=yo(o),p=d.boundingClientRect;return new ne((n.clientX-p.left)/d.x-o.clientLeft,(n.clientY-p.top)/d.y-o.clientTop)}var sx=Ce.linux&&Ce.chrome?window.devicePixelRatio:Ce.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function uc(n){return Ce.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/sx:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function So(n,o){var d=o.relatedTarget;if(!d)return!0;try{for(;d&&d!==n;)d=d.parentNode}catch{return!1}return d!==n}var rx={__proto__:null,on:Fe,off:rt,stopPropagation:Hn,disableScrollPropagation:jo,disableClickPropagation:qs,preventDefault:jt,stop:Wn,getPropagationPath:cc,getMousePosition:dc,getWheelDelta:uc,isExternalTarget:So,addListener:Fe,removeListener:rt},hc=he.extend({run:function(n,o,d,p){this.stop(),this._el=n,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=Un(n),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=$(this._animate,this),this._step()},_step:function(n){var o=+new Date-this._startTime,d=this._duration*1e3;o<d?this._runFrame(this._easeOut(o/d),n):(this._runFrame(1),this._complete())},_runFrame:function(n,o){var d=this._startPos.add(this._offset.multiplyBy(n));o&&d._round(),vt(this._el,d),this.fire("step")},_complete:function(){H(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Xe=he.extend({options:{crs:Pe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,o){o=b(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(xe(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Hs&&Ce.any3d&&!Ce.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Fe(this._proxy,ic,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,o,d){if(o=o===void 0?this._zoom:this._limitZoom(o),n=this._limitCenter(xe(n),o,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=a({animate:d.animate},d.zoom),d.pan=a({animate:d.animate,duration:d.duration},d.pan));var p=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,o,d.zoom):this._tryAnimatedPan(n,d.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(n,o,d.pan&&d.pan.noMoveStart),this},setZoom:function(n,o){return this._loaded?this.setView(this.getCenter(),n,{zoom:o}):(this._zoom=n,this)},zoomIn:function(n,o){return n=n||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,o)},zoomOut:function(n,o){return n=n||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,o)},setZoomAround:function(n,o,d){var p=this.getZoomScale(o),v=this.getSize().divideBy(2),S=n instanceof ne?n:this.latLngToContainerPoint(n),A=S.subtract(v).multiplyBy(1-1/p),G=this.containerPointToLatLng(v.add(A));return this.setView(G,o,{zoom:d})},_getBoundsCenterZoom:function(n,o){o=o||{},n=n.getBounds?n.getBounds():Z(n);var d=k(o.paddingTopLeft||o.padding||[0,0]),p=k(o.paddingBottomRight||o.padding||[0,0]),v=this.getBoundsZoom(n,!1,d.add(p));if(v=typeof o.maxZoom=="number"?Math.min(o.maxZoom,v):v,v===1/0)return{center:n.getCenter(),zoom:v};var S=p.subtract(d).divideBy(2),A=this.project(n.getSouthWest(),v),G=this.project(n.getNorthEast(),v),q=this.unproject(A.add(G).divideBy(2).add(S),v);return{center:q,zoom:v}},fitBounds:function(n,o){if(n=Z(n),!n.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(n,o);return this.setView(d.center,d.zoom,o)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,o){return this.setView(n,this._zoom,{pan:o})},panBy:function(n,o){if(n=k(n).round(),o=o||{},!n.x&&!n.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new hc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){Ue(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,d,o.duration||.25,o.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,o,d){if(d=d||{},d.animate===!1||!Ce.any3d)return this.setView(n,o,d);this._stop();var p=this.project(this.getCenter()),v=this.project(n),S=this.getSize(),A=this._zoom;n=xe(n),o=o===void 0?A:o;var G=Math.max(S.x,S.y),q=G*this.getZoomScale(A,o),oe=v.distanceTo(p)||1,ve=1.42,Re=ve*ve;function Ze(yt){var li=yt?-1:1,Zx=yt?q:G,Gx=q*q-G*G+li*Re*Re*oe*oe,Kx=2*Zx*Re*oe,Io=Gx/Kx,Zc=Math.sqrt(Io*Io+1)-Io,qx=Zc<1e-9?-18:Math.log(Zc);return qx}function Pt(yt){return(Math.exp(yt)-Math.exp(-yt))/2}function wt(yt){return(Math.exp(yt)+Math.exp(-yt))/2}function Ht(yt){return Pt(yt)/wt(yt)}var kt=Ze(0);function xs(yt){return G*(wt(kt)/wt(kt+ve*yt))}function $x(yt){return G*(wt(kt)*Ht(kt+ve*yt)-Pt(kt))/Re}function Ux(yt){return 1-Math.pow(1-yt,1.5)}var Hx=Date.now(),Hc=(Ze(1)-kt)/ve,Wx=d.duration?1e3*d.duration:1e3*Hc*.8;function Wc(){var yt=(Date.now()-Hx)/Wx,li=Ux(yt)*Hc;yt<=1?(this._flyToFrame=$(Wc,this),this._move(this.unproject(p.add(v.subtract(p).multiplyBy($x(li)/oe)),A),this.getScaleZoom(G/xs(li),A),{flyTo:!0})):this._move(n,o)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),Wc.call(this),this},flyToBounds:function(n,o){var d=this._getBoundsCenterZoom(n,o);return this.flyTo(d.center,d.zoom,o)},setMaxBounds:function(n){return n=Z(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var o=this.options.minZoom;return this.options.minZoom=n,this._loaded&&o!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var o=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&o!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,o){this._enforcingBounds=!0;var d=this.getCenter(),p=this._limitCenter(d,this._zoom,Z(n));return d.equals(p)||this.panTo(p,o),this._enforcingBounds=!1,this},panInside:function(n,o){o=o||{};var d=k(o.paddingTopLeft||o.padding||[0,0]),p=k(o.paddingBottomRight||o.padding||[0,0]),v=this.project(this.getCenter()),S=this.project(n),A=this.getPixelBounds(),G=W([A.min.add(d),A.max.subtract(p)]),q=G.getSize();if(!G.contains(S)){this._enforcingBounds=!0;var oe=S.subtract(G.getCenter()),ve=G.extend(S).getSize().subtract(q);v.x+=oe.x<0?-ve.x:ve.x,v.y+=oe.y<0?-ve.y:ve.y,this.panTo(this.unproject(v),o),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=a({animate:!1,pan:!0},n===!0?{animate:!0}:n);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),p=o.divideBy(2).round(),v=d.divideBy(2).round(),S=p.subtract(v);return!S.x&&!S.y?this:(n.animate&&n.pan?this.panBy(S):(n.pan&&this._rawPanBy(S),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=a({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=l(this._handleGeolocationResponse,this),d=l(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,d,n):navigator.geolocation.getCurrentPosition(o,d,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var o=n.code,d=n.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var o=n.coords.latitude,d=n.coords.longitude,p=new ge(o,d),v=p.toBounds(n.coords.accuracy*2),S=this._locateOptions;if(S.setView){var A=this.getBoundsZoom(v);this.setView(p,S.maxZoom?Math.min(A,S.maxZoom):A)}var G={latlng:p,bounds:v,timestamp:n.timestamp};for(var q in n.coords)typeof n.coords[q]=="number"&&(G[q]=n.coords[q]);this.fire("locationfound",G)}},addHandler:function(n,o){if(!o)return this;var d=this[n]=new o(this);return this._handlers.push(d),this.options[n]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),lt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(H(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)lt(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,o){var d="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),p=Je("div",d,o||this._mapPane);return n&&(this._panes[n]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),o=this.unproject(n.getBottomLeft()),d=this.unproject(n.getTopRight());return new z(o,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,o,d){n=Z(n),d=k(d||[0,0]);var p=this.getZoom()||0,v=this.getMinZoom(),S=this.getMaxZoom(),A=n.getNorthWest(),G=n.getSouthEast(),q=this.getSize().subtract(d),oe=W(this.project(G,p),this.project(A,p)).getSize(),ve=Ce.any3d?this.options.zoomSnap:1,Re=q.x/oe.x,Ze=q.y/oe.y,Pt=o?Math.max(Re,Ze):Math.min(Re,Ze);return p=this.getScaleZoom(Pt,p),ve&&(p=Math.round(p/(ve/100))*(ve/100),p=o?Math.ceil(p/ve)*ve:Math.floor(p/ve)*ve),Math.max(v,Math.min(S,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ne(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,o){var d=this._getTopLeftPoint(n,o);return new D(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,o){var d=this.options.crs;return o=o===void 0?this._zoom:o,d.scale(n)/d.scale(o)},getScaleZoom:function(n,o){var d=this.options.crs;o=o===void 0?this._zoom:o;var p=d.zoom(n*d.scale(o));return isNaN(p)?1/0:p},project:function(n,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(xe(n),o)},unproject:function(n,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(k(n),o)},layerPointToLatLng:function(n){var o=k(n).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(n){var o=this.project(xe(n))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(xe(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(Z(n))},distance:function(n,o){return this.options.crs.distance(xe(n),xe(o))},containerPointToLayerPoint:function(n){return k(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return k(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var o=this.containerPointToLayerPoint(k(n));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(xe(n)))},mouseEventToContainerPoint:function(n){return dc(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var o=this._container=oc(n);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Fe(o,"scroll",this._onScroll,this),this._containerId=h(o)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ce.any3d,Ue(n,"leaflet-container"+(Ce.touch?" leaflet-touch":"")+(Ce.retina?" leaflet-retina":"")+(Ce.ielt9?" leaflet-oldie":"")+(Ce.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=Ws(n,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),vt(this._mapPane,new ne(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ue(n.markerPane,"leaflet-zoom-hide"),Ue(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,o,d){vt(this._mapPane,new ne(0,0));var p=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var v=this._zoom!==o;this._moveStart(v,d)._move(n,o)._moveEnd(v),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(n,o){return n&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(n,o,d,p){o===void 0&&(o=this._zoom);var v=this._zoom!==o;return this._zoom=o,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),p?d&&d.pinch&&this.fire("zoom",d):((v||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return H(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){vt(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[h(this._container)]=this;var o=n?rt:Fe;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),Ce.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){H(this._resizeRequest),this._resizeRequest=$(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,o){for(var d=[],p,v=o==="mouseout"||o==="mouseover",S=n.target||n.srcElement,A=!1;S;){if(p=this._targets[h(S)],p&&(o==="click"||o==="preclick")&&this._draggableMoved(p)){A=!0;break}if(p&&p.listens(o,!0)&&(v&&!So(S,n)||(d.push(p),v))||S===this._container)break;S=S.parentNode}return!d.length&&!A&&!v&&this.listens(o,!0)&&(d=[this]),d},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var o=n.target||n.srcElement;if(!(!this._loaded||o._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(o))){var d=n.type;d==="mousedown"&&vo(o),this._fireDOMEvent(n,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,o,d){if(n.type==="click"){var p=a({},n);p.type="preclick",this._fireDOMEvent(p,p.type,d)}var v=this._findEventTargets(n,o);if(d){for(var S=[],A=0;A<d.length;A++)d[A].listens(o,!0)&&S.push(d[A]);v=S.concat(v)}if(v.length){o==="contextmenu"&&jt(n);var G=v[0],q={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var oe=G.getLatLng&&(!G._radius||G._radius<=10);q.containerPoint=oe?this.latLngToContainerPoint(G.getLatLng()):this.mouseEventToContainerPoint(n),q.layerPoint=this.containerPointToLayerPoint(q.containerPoint),q.latlng=oe?G.getLatLng():this.layerPointToLatLng(q.layerPoint)}for(A=0;A<v.length;A++)if(v[A].fire(o,q,!0),q.originalEvent._stopped||v[A].options.bubblingMouseEvents===!1&&P(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,o=this._handlers.length;n<o;n++)this._handlers[n].disable()},whenReady:function(n,o){return this._loaded?n.call(o||this,{target:this}):this.on("load",n,o),this},_getMapPanePos:function(){return Un(this._mapPane)||new ne(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,o){var d=n&&o!==void 0?this._getNewPixelOrigin(n,o):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,o){var d=this.getSize()._divideBy(2);return this.project(n,o)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,o,d){var p=this._getNewPixelOrigin(d,o);return this.project(n,o)._subtract(p)},_latLngBoundsToNewLayerBounds:function(n,o,d){var p=this._getNewPixelOrigin(d,o);return W([this.project(n.getSouthWest(),o)._subtract(p),this.project(n.getNorthWest(),o)._subtract(p),this.project(n.getSouthEast(),o)._subtract(p),this.project(n.getNorthEast(),o)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,o,d){if(!d)return n;var p=this.project(n,o),v=this.getSize().divideBy(2),S=new D(p.subtract(v),p.add(v)),A=this._getBoundsOffset(S,d,o);return Math.abs(A.x)<=1&&Math.abs(A.y)<=1?n:this.unproject(p.add(A),o)},_limitOffset:function(n,o){if(!o)return n;var d=this.getPixelBounds(),p=new D(d.min.add(n),d.max.add(n));return n.add(this._getBoundsOffset(p,o))},_getBoundsOffset:function(n,o,d){var p=W(this.project(o.getNorthEast(),d),this.project(o.getSouthWest(),d)),v=p.min.subtract(n.min),S=p.max.subtract(n.max),A=this._rebound(v.x,-S.x),G=this._rebound(v.y,-S.y);return new ne(A,G)},_rebound:function(n,o){return n+o>0?Math.round(n-o)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(o))},_limitZoom:function(n){var o=this.getMinZoom(),d=this.getMaxZoom(),p=Ce.any3d?this.options.zoomSnap:1;return p&&(n=Math.round(n/p)*p),Math.max(o,Math.min(d,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){mt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,o){var d=this._getCenterOffset(n)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,o),!0)},_createAnimProxy:function(){var n=this._proxy=Je("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(o){var d=uo,p=this._proxy.style[d];$n(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),p===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){lt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),o=this.getZoom();$n(this._proxy,this.project(n,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,o,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(o),v=this._getCenterOffset(n)._divideBy(1-1/p);return d.animate!==!0&&!this.getSize().contains(v)?!1:($(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(n,o,!0)},this),!0)},_animateZoom:function(n,o,d,p){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=o,Ue(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:o,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&mt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ix(n,o){return new Xe(n,o)}var Jt=ee.extend({options:{position:"topright"},initialize:function(n){b(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var o=this._map;return o&&o.removeControl(this),this.options.position=n,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var o=this._container=this.onAdd(n),d=this.getPosition(),p=n._controlCorners[d];return Ue(o,"leaflet-control"),d.indexOf("bottom")!==-1?p.insertBefore(o,p.firstChild):p.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(lt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),Ys=function(n){return new Jt(n)};Xe.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},o="leaflet-",d=this._controlContainer=Je("div",o+"control-container",this._container);function p(v,S){var A=o+v+" "+o+S;n[v+S]=Je("div",A,d)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)lt(this._controlCorners[n]);lt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var fc=Jt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,o,d,p){return d<p?-1:p<d?1:0}},initialize:function(n,o,d){b(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in n)this._addLayer(n[p],p);for(p in o)this._addLayer(o[p],p,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return Jt.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,o){return this._addLayer(n,o),this._map?this._update():this},addOverlay:function(n,o){return this._addLayer(n,o,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var o=this._getLayer(h(n));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){Ue(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(Ue(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):mt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return mt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",o=this._container=Je("div",n),d=this.options.collapsed;o.setAttribute("aria-haspopup",!0),qs(o),jo(o);var p=this._section=Je("section",n+"-list");d&&(this._map.on("click",this.collapse,this),Fe(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var v=this._layersLink=Je("a",n+"-toggle",o);v.href="#",v.title="Layers",v.setAttribute("role","button"),Fe(v,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){jt(S),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Je("div",n+"-base",p),this._separator=Je("div",n+"-separator",p),this._overlaysList=Je("div",n+"-overlays",p),o.appendChild(p)},_getLayer:function(n){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&h(this._layers[o].layer)===n)return this._layers[o]},_addLayer:function(n,o,d){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:o,overlay:d}),this.options.sortLayers&&this._layers.sort(l(function(p,v){return this.options.sortFunction(p.layer,v.layer,p.name,v.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Zr(this._baseLayersList),Zr(this._overlaysList),this._layerControlInputs=[];var n,o,d,p,v=0;for(d=0;d<this._layers.length;d++)p=this._layers[d],this._addItem(p),o=o||p.overlay,n=n||!p.overlay,v+=p.overlay?0:1;return this.options.hideSingleBase&&(n=n&&v>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=o&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var o=this._getLayer(h(n.target)),d=o.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;d&&this._map.fire(d,o)},_createRadioElement:function(n,o){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(o?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=d,p.firstChild},_addItem:function(n){var o=document.createElement("label"),d=this._map.hasLayer(n.layer),p;n.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=d):p=this._createRadioElement("leaflet-base-layers_"+h(this),d),this._layerControlInputs.push(p),p.layerId=h(n.layer),Fe(p,"click",this._onInputClick,this);var v=document.createElement("span");v.innerHTML=" "+n.name;var S=document.createElement("span");o.appendChild(S),S.appendChild(p),S.appendChild(v);var A=n.overlay?this._overlaysList:this._baseLayersList;return A.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,o,d,p=[],v=[];this._handlingClick=!0;for(var S=n.length-1;S>=0;S--)o=n[S],d=this._getLayer(o.layerId).layer,o.checked?p.push(d):o.checked||v.push(d);for(S=0;S<v.length;S++)this._map.hasLayer(v[S])&&this._map.removeLayer(v[S]);for(S=0;S<p.length;S++)this._map.hasLayer(p[S])||this._map.addLayer(p[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,o,d,p=this._map.getZoom(),v=n.length-1;v>=0;v--)o=n[v],d=this._getLayer(o.layerId).layer,o.disabled=d.options.minZoom!==void 0&&p<d.options.minZoom||d.options.maxZoom!==void 0&&p>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,Fe(n,"click",jt),this.expand();var o=this;setTimeout(function(){rt(n,"click",jt),o._preventClick=!1})}}),ox=function(n,o,d){return new fc(n,o,d)},No=Jt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var o="leaflet-control-zoom",d=Je("div",o+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,o+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,o+"-out",d,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,o,d,p,v){var S=Je("a",d,p);return S.innerHTML=n,S.href="#",S.title=o,S.setAttribute("role","button"),S.setAttribute("aria-label",o),qs(S),Fe(S,"click",Wn),Fe(S,"click",v,this),Fe(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var n=this._map,o="leaflet-disabled";mt(this._zoomInButton,o),mt(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(Ue(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(Ue(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});Xe.mergeOptions({zoomControl:!0}),Xe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new No,this.addControl(this.zoomControl))});var ax=function(n){return new No(n)},mc=Jt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var o="leaflet-control-scale",d=Je("div",o),p=this.options;return this._addScales(p,o+"-line",d),n.on(p.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),d},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,o,d){n.metric&&(this._mScale=Je("div",o,d)),n.imperial&&(this._iScale=Je("div",o,d))},_update:function(){var n=this._map,o=n.getSize().y/2,d=n.distance(n.containerPointToLatLng([0,o]),n.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(d)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var o=this._getRoundNum(n),d=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,d,o/n)},_updateImperial:function(n){var o=n*3.2808399,d,p,v;o>5280?(d=o/5280,p=this._getRoundNum(d),this._updateScale(this._iScale,p+" mi",p/d)):(v=this._getRoundNum(o),this._updateScale(this._iScale,v+" ft",v/o))},_updateScale:function(n,o,d){n.style.width=Math.round(this.options.maxWidth*d)+"px",n.innerHTML=o},_getRoundNum:function(n){var o=Math.pow(10,(Math.floor(n)+"").length-1),d=n/o;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,o*d}}),lx=function(n){return new mc(n)},cx='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Co=Jt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ce.inlineSvg?cx+" ":"")+"Leaflet</a>"},initialize:function(n){b(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=Je("div","leaflet-control-attribution"),qs(this._container);for(var o in n._layers)n._layers[o].getAttribution&&this.addAttribution(n._layers[o].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var o in this._attributions)this._attributions[o]&&n.push(o);var d=[];this.options.prefix&&d.push(this.options.prefix),n.length&&d.push(n.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Xe.mergeOptions({attributionControl:!0}),Xe.addInitHook(function(){this.options.attributionControl&&new Co().addTo(this)});var dx=function(n){return new Co(n)};Jt.Layers=fc,Jt.Zoom=No,Jt.Scale=mc,Jt.Attribution=Co,Ys.layers=ox,Ys.zoom=ax,Ys.scale=lx,Ys.attribution=dx;var an=ee.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});an.addTo=function(n,o){return n.addHandler(o,this),this};var ux={Events:J},pc=Ce.touch?"touchstart mousedown":"mousedown",Cn=he.extend({options:{clickTolerance:3},initialize:function(n,o,d,p){b(this,p),this._element=n,this._dragStartTarget=o||n,this._preventOutline=d},enable:function(){this._enabled||(Fe(this._dragStartTarget,pc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Cn._dragging===this&&this.finishDrag(!0),rt(this._dragStartTarget,pc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!ho(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){Cn._dragging===this&&this.finishDrag();return}if(!(Cn._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(Cn._dragging=this,this._preventOutline&&vo(this._element),po(),Zs(),!this._moving)){this.fire("down");var o=n.touches?n.touches[0]:n,d=ac(this._element);this._startPoint=new ne(o.clientX,o.clientY),this._startPos=Un(this._element),this._parentScale=yo(d);var p=n.type==="mousedown";Fe(document,p?"mousemove":"touchmove",this._onMove,this),Fe(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var o=n.touches&&n.touches.length===1?n.touches[0]:n,d=new ne(o.clientX,o.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,jt(n),this._moved||(this.fire("dragstart"),this._moved=!0,Ue(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ue(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),vt(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){mt(document.body,"leaflet-dragging"),this._lastTarget&&(mt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),rt(document,"mousemove touchmove",this._onMove,this),rt(document,"mouseup touchend touchcancel",this._onUp,this),go(),Gs();var o=this._moved&&this._moving;this._moving=!1,Cn._dragging=!1,o&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function gc(n,o,d){var p,v=[1,4,2,8],S,A,G,q,oe,ve,Re,Ze;for(S=0,ve=n.length;S<ve;S++)n[S]._code=Zn(n[S],o);for(G=0;G<4;G++){for(Re=v[G],p=[],S=0,ve=n.length,A=ve-1;S<ve;A=S++)q=n[S],oe=n[A],q._code&Re?oe._code&Re||(Ze=Xr(oe,q,Re,o,d),Ze._code=Zn(Ze,o),p.push(Ze)):(oe._code&Re&&(Ze=Xr(oe,q,Re,o,d),Ze._code=Zn(Ze,o),p.push(Ze)),p.push(q));n=p}return n}function xc(n,o){var d,p,v,S,A,G,q,oe,ve;if(!n||n.length===0)throw new Error("latlngs not passed");Ut(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var Re=xe([0,0]),Ze=Z(n),Pt=Ze.getNorthWest().distanceTo(Ze.getSouthWest())*Ze.getNorthEast().distanceTo(Ze.getNorthWest());Pt<1700&&(Re=To(n));var wt=n.length,Ht=[];for(d=0;d<wt;d++){var kt=xe(n[d]);Ht.push(o.project(xe([kt.lat-Re.lat,kt.lng-Re.lng])))}for(G=q=oe=0,d=0,p=wt-1;d<wt;p=d++)v=Ht[d],S=Ht[p],A=v.y*S.x-S.y*v.x,q+=(v.x+S.x)*A,oe+=(v.y+S.y)*A,G+=A*3;G===0?ve=Ht[0]:ve=[q/G,oe/G];var xs=o.unproject(k(ve));return xe([xs.lat+Re.lat,xs.lng+Re.lng])}function To(n){for(var o=0,d=0,p=0,v=0;v<n.length;v++){var S=xe(n[v]);o+=S.lat,d+=S.lng,p++}return xe([o/p,d/p])}var hx={__proto__:null,clipPolygon:gc,polygonCenter:xc,centroid:To};function vc(n,o){if(!o||!n.length)return n.slice();var d=o*o;return n=px(n,d),n=mx(n,d),n}function yc(n,o,d){return Math.sqrt(Xs(n,o,d,!0))}function fx(n,o,d){return Xs(n,o,d)}function mx(n,o){var d=n.length,p=typeof Uint8Array<"u"?Uint8Array:Array,v=new p(d);v[0]=v[d-1]=1,Po(n,v,o,0,d-1);var S,A=[];for(S=0;S<d;S++)v[S]&&A.push(n[S]);return A}function Po(n,o,d,p,v){var S=0,A,G,q;for(G=p+1;G<=v-1;G++)q=Xs(n[G],n[p],n[v],!0),q>S&&(A=G,S=q);S>d&&(o[A]=1,Po(n,o,d,p,A),Po(n,o,d,A,v))}function px(n,o){for(var d=[n[0]],p=1,v=0,S=n.length;p<S;p++)gx(n[p],n[v])>o&&(d.push(n[p]),v=p);return v<S-1&&d.push(n[S-1]),d}var _c;function bc(n,o,d,p,v){var S=p?_c:Zn(n,d),A=Zn(o,d),G,q,oe;for(_c=A;;){if(!(S|A))return[n,o];if(S&A)return!1;G=S||A,q=Xr(n,o,G,d,v),oe=Zn(q,d),G===S?(n=q,S=oe):(o=q,A=oe)}}function Xr(n,o,d,p,v){var S=o.x-n.x,A=o.y-n.y,G=p.min,q=p.max,oe,ve;return d&8?(oe=n.x+S*(q.y-n.y)/A,ve=q.y):d&4?(oe=n.x+S*(G.y-n.y)/A,ve=G.y):d&2?(oe=q.x,ve=n.y+A*(q.x-n.x)/S):d&1&&(oe=G.x,ve=n.y+A*(G.x-n.x)/S),new ne(oe,ve,v)}function Zn(n,o){var d=0;return n.x<o.min.x?d|=1:n.x>o.max.x&&(d|=2),n.y<o.min.y?d|=4:n.y>o.max.y&&(d|=8),d}function gx(n,o){var d=o.x-n.x,p=o.y-n.y;return d*d+p*p}function Xs(n,o,d,p){var v=o.x,S=o.y,A=d.x-v,G=d.y-S,q=A*A+G*G,oe;return q>0&&(oe=((n.x-v)*A+(n.y-S)*G)/q,oe>1?(v=d.x,S=d.y):oe>0&&(v+=A*oe,S+=G*oe)),A=n.x-v,G=n.y-S,p?A*A+G*G:new ne(v,S)}function Ut(n){return!j(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function wc(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ut(n)}function jc(n,o){var d,p,v,S,A,G,q,oe;if(!n||n.length===0)throw new Error("latlngs not passed");Ut(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var ve=xe([0,0]),Re=Z(n),Ze=Re.getNorthWest().distanceTo(Re.getSouthWest())*Re.getNorthEast().distanceTo(Re.getNorthWest());Ze<1700&&(ve=To(n));var Pt=n.length,wt=[];for(d=0;d<Pt;d++){var Ht=xe(n[d]);wt.push(o.project(xe([Ht.lat-ve.lat,Ht.lng-ve.lng])))}for(d=0,p=0;d<Pt-1;d++)p+=wt[d].distanceTo(wt[d+1])/2;if(p===0)oe=wt[0];else for(d=0,S=0;d<Pt-1;d++)if(A=wt[d],G=wt[d+1],v=A.distanceTo(G),S+=v,S>p){q=(S-p)/v,oe=[G.x-q*(G.x-A.x),G.y-q*(G.y-A.y)];break}var kt=o.unproject(k(oe));return xe([kt.lat+ve.lat,kt.lng+ve.lng])}var xx={__proto__:null,simplify:vc,pointToSegmentDistance:yc,closestPointOnSegment:fx,clipSegment:bc,_getEdgeIntersection:Xr,_getBitCode:Zn,_sqClosestPointOnSegment:Xs,isFlat:Ut,_flat:wc,polylineCenter:jc},Eo={project:function(n){return new ne(n.lng,n.lat)},unproject:function(n){return new ge(n.y,n.x)},bounds:new D([-180,-90],[180,90])},Lo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new D([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var o=Math.PI/180,d=this.R,p=n.lat*o,v=this.R_MINOR/d,S=Math.sqrt(1-v*v),A=S*Math.sin(p),G=Math.tan(Math.PI/4-p/2)/Math.pow((1-A)/(1+A),S/2);return p=-d*Math.log(Math.max(G,1e-10)),new ne(n.lng*o*d,p)},unproject:function(n){for(var o=180/Math.PI,d=this.R,p=this.R_MINOR/d,v=Math.sqrt(1-p*p),S=Math.exp(-n.y/d),A=Math.PI/2-2*Math.atan(S),G=0,q=.1,oe;G<15&&Math.abs(q)>1e-7;G++)oe=v*Math.sin(A),oe=Math.pow((1-oe)/(1+oe),v/2),q=Math.PI/2-2*Math.atan(S*oe)-A,A+=q;return new ge(A*o,n.x*o/d)}},vx={__proto__:null,LonLat:Eo,Mercator:Lo,SphericalMercator:K},yx=a({},Te,{code:"EPSG:3395",projection:Lo,transformation:function(){var n=.5/(Math.PI*Lo.R);return le(n,.5,-n,.5)}()}),Sc=a({},Te,{code:"EPSG:4326",projection:Eo,transformation:le(1/180,1,-1/180,.5)}),_x=a({},ue,{projection:Eo,transformation:le(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,o){var d=o.lng-n.lng,p=o.lat-n.lat;return Math.sqrt(d*d+p*p)},infinite:!0});ue.Earth=Te,ue.EPSG3395=yx,ue.EPSG3857=Pe,ue.EPSG900913=Ne,ue.EPSG4326=Sc,ue.Simple=_x;var Qt=he.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[h(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[h(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var o=n.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var d=this.getEvents();o.on(d,this),this.once("remove",function(){o.off(d,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});Xe.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var o=h(n);return this._layers[o]?this:(this._layers[o]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var o=h(n);return this._layers[o]?(this._loaded&&n.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return h(n)in this._layers},eachLayer:function(n,o){for(var d in this._layers)n.call(o,this._layers[d]);return this},_addLayers:function(n){n=n?j(n)?n:[n]:[];for(var o=0,d=n.length;o<d;o++)this.addLayer(n[o])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[h(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var o=h(n);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,o=-1/0,d=this._getZoomSpan();for(var p in this._zoomBoundLayers){var v=this._zoomBoundLayers[p].options;n=v.minZoom===void 0?n:Math.min(n,v.minZoom),o=v.maxZoom===void 0?o:Math.max(o,v.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=n===1/0?void 0:n,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var hs=Qt.extend({initialize:function(n,o){b(this,o),this._layers={};var d,p;if(n)for(d=0,p=n.length;d<p;d++)this.addLayer(n[d])},addLayer:function(n){var o=this.getLayerId(n);return this._layers[o]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var o=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(n){var o=typeof n=="number"?n:this.getLayerId(n);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var o=Array.prototype.slice.call(arguments,1),d,p;for(d in this._layers)p=this._layers[d],p[n]&&p[n].apply(p,o);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,o){for(var d in this._layers)n.call(o,this._layers[d]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return h(n)}}),bx=function(n,o){return new hs(n,o)},vn=hs.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),hs.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),hs.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new z;for(var o in this._layers){var d=this._layers[o];n.extend(d.getBounds?d.getBounds():d.getLatLng())}return n}}),wx=function(n,o){return new vn(n,o)},fs=ee.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){b(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,o){var d=this._getIconUrl(n);if(!d){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(d,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(p,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(n,o){var d=this.options,p=d[o+"Size"];typeof p=="number"&&(p=[p,p]);var v=k(p),S=k(o==="shadow"&&d.shadowAnchor||d.iconAnchor||v&&v.divideBy(2,!0));n.className="leaflet-marker-"+o+" "+(d.className||""),S&&(n.style.marginLeft=-S.x+"px",n.style.marginTop=-S.y+"px"),v&&(n.style.width=v.x+"px",n.style.height=v.y+"px")},_createImg:function(n,o){return o=o||document.createElement("img"),o.src=n,o},_getIconUrl:function(n){return Ce.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function jx(n){return new fs(n)}var Js=fs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof Js.imagePath!="string"&&(Js.imagePath=this._detectIconPath()),(this.options.imagePath||Js.imagePath)+fs.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var o=function(d,p,v){var S=p.exec(d);return S&&S[v]};return n=o(n,/^url\((['"])?(.+)\1\)$/,2),n&&o(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=Je("div","leaflet-default-icon-path",document.body),o=Ws(n,"background-image")||Ws(n,"backgroundImage");if(document.body.removeChild(n),o=this._stripUrl(o),o)return o;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),Nc=an.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Cn(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ue(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&mt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var o=this._marker,d=o._map,p=this._marker.options.autoPanSpeed,v=this._marker.options.autoPanPadding,S=Un(o._icon),A=d.getPixelBounds(),G=d.getPixelOrigin(),q=W(A.min._subtract(G).add(v),A.max._subtract(G).subtract(v));if(!q.contains(S)){var oe=k((Math.max(q.max.x,S.x)-q.max.x)/(A.max.x-q.max.x)-(Math.min(q.min.x,S.x)-q.min.x)/(A.min.x-q.min.x),(Math.max(q.max.y,S.y)-q.max.y)/(A.max.y-q.max.y)-(Math.min(q.min.y,S.y)-q.min.y)/(A.min.y-q.min.y)).multiplyBy(p);d.panBy(oe,{animate:!1}),this._draggable._newPos._add(oe),this._draggable._startPos._add(oe),vt(o._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=$(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(H(this._panRequest),this._panRequest=$(this._adjustPan.bind(this,n)))},_onDrag:function(n){var o=this._marker,d=o._shadow,p=Un(o._icon),v=o._map.layerPointToLatLng(p);d&&vt(d,p),o._latlng=v,n.latlng=v,n.oldLatLng=this._oldLatLng,o.fire("move",n).fire("drag",n)},_onDragEnd:function(n){H(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),Jr=Qt.extend({options:{icon:new Js,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,o){b(this,o),this._latlng=xe(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var o=this._latlng;return this._latlng=xe(n),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=n.icon.createIcon(this._icon),p=!1;d!==this._icon&&(this._icon&&this._removeIcon(),p=!0,n.title&&(d.title=n.title),d.tagName==="IMG"&&(d.alt=n.alt||"")),Ue(d,o),n.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Fe(d,"focus",this._panOnFocus,this);var v=n.icon.createShadow(this._shadow),S=!1;v!==this._shadow&&(this._removeShadow(),S=!0),v&&(Ue(v,o),v.alt=""),this._shadow=v,n.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),v&&S&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&rt(this._icon,"focus",this._panOnFocus,this),lt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&lt(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&vt(this._icon,n),this._shadow&&vt(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var o=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(Ue(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Nc)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Nc(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&$t(this._icon,n),this._shadow&&$t(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var o=this.options.icon.options,d=o.iconSize?k(o.iconSize):k(0,0),p=o.iconAnchor?k(o.iconAnchor):k(0,0);n.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:d.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Sx(n,o){return new Jr(n,o)}var Tn=Qt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return b(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Qr=Tn.extend({options:{fill:!0,radius:10},initialize:function(n,o){b(this,o),this._latlng=xe(n),this._radius=this.options.radius},setLatLng:function(n){var o=this._latlng;return this._latlng=xe(n),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var o=n&&n.radius||this._radius;return Tn.prototype.setStyle.call(this,n),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,o=this._radiusY||n,d=this._clickTolerance(),p=[n+d,o+d];this._pxBounds=new D(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Nx(n,o){return new Qr(n,o)}var Ao=Qr.extend({initialize:function(n,o,d){if(typeof o=="number"&&(o=a({},d,{radius:o})),b(this,o),this._latlng=xe(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new z(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Tn.prototype.setStyle,_project:function(){var n=this._latlng.lng,o=this._latlng.lat,d=this._map,p=d.options.crs;if(p.distance===Te.distance){var v=Math.PI/180,S=this._mRadius/Te.R/v,A=d.project([o+S,n]),G=d.project([o-S,n]),q=A.add(G).divideBy(2),oe=d.unproject(q).lat,ve=Math.acos((Math.cos(S*v)-Math.sin(o*v)*Math.sin(oe*v))/(Math.cos(o*v)*Math.cos(oe*v)))/v;(isNaN(ve)||ve===0)&&(ve=S/Math.cos(Math.PI/180*o)),this._point=q.subtract(d.getPixelOrigin()),this._radius=isNaN(ve)?0:q.x-d.project([oe,n-ve]).x,this._radiusY=q.y-A.y}else{var Re=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Re).x}this._updateBounds()}});function Cx(n,o,d){return new Ao(n,o,d)}var yn=Tn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,o){b(this,o),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var o=1/0,d=null,p=Xs,v,S,A=0,G=this._parts.length;A<G;A++)for(var q=this._parts[A],oe=1,ve=q.length;oe<ve;oe++){v=q[oe-1],S=q[oe];var Re=p(n,v,S,!0);Re<o&&(o=Re,d=p(n,v,S))}return d&&(d.distance=Math.sqrt(o)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return jc(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,o){return o=o||this._defaultShape(),n=xe(n),o.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new z,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return Ut(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var o=[],d=Ut(n),p=0,v=n.length;p<v;p++)d?(o[p]=xe(n[p]),this._bounds.extend(o[p])):o[p]=this._convertLatLngs(n[p]);return o},_project:function(){var n=new D;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),o=new ne(n,n);this._rawPxBounds&&(this._pxBounds=new D([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(n,o,d){var p=n[0]instanceof ge,v=n.length,S,A;if(p){for(A=[],S=0;S<v;S++)A[S]=this._map.latLngToLayerPoint(n[S]),d.extend(A[S]);o.push(A)}else for(S=0;S<v;S++)this._projectLatlngs(n[S],o,d)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,d,p,v,S,A,G,q;for(d=0,v=0,S=this._rings.length;d<S;d++)for(q=this._rings[d],p=0,A=q.length;p<A-1;p++)G=bc(q[p],q[p+1],n,p,!0),G&&(o[v]=o[v]||[],o[v].push(G[0]),(G[1]!==q[p+1]||p===A-2)&&(o[v].push(G[1]),v++))}},_simplifyPoints:function(){for(var n=this._parts,o=this.options.smoothFactor,d=0,p=n.length;d<p;d++)n[d]=vc(n[d],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,o){var d,p,v,S,A,G,q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(d=0,S=this._parts.length;d<S;d++)for(G=this._parts[d],p=0,A=G.length,v=A-1;p<A;v=p++)if(!(!o&&p===0)&&yc(n,G[v],G[p])<=q)return!0;return!1}});function Tx(n,o){return new yn(n,o)}yn._flat=wc;var ms=yn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var o=yn.prototype._convertLatLngs.call(this,n),d=o.length;return d>=2&&o[0]instanceof ge&&o[0].equals(o[d-1])&&o.pop(),o},_setLatLngs:function(n){yn.prototype._setLatLngs.call(this,n),Ut(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ut(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,o=this.options.weight,d=new ne(o,o);if(n=new D(n.min.subtract(d),n.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,v=this._rings.length,S;p<v;p++)S=gc(this._rings[p],n,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var o=!1,d,p,v,S,A,G,q,oe;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(S=0,q=this._parts.length;S<q;S++)for(d=this._parts[S],A=0,oe=d.length,G=oe-1;A<oe;G=A++)p=d[A],v=d[G],p.y>n.y!=v.y>n.y&&n.x<(v.x-p.x)*(n.y-p.y)/(v.y-p.y)+p.x&&(o=!o);return o||yn.prototype._containsPoint.call(this,n,!0)}});function Px(n,o){return new ms(n,o)}var _n=vn.extend({initialize:function(n,o){b(this,o),this._layers={},n&&this.addData(n)},addData:function(n){var o=j(n)?n:n.features,d,p,v;if(o){for(d=0,p=o.length;d<p;d++)v=o[d],(v.geometries||v.geometry||v.features||v.coordinates)&&this.addData(v);return this}var S=this.options;if(S.filter&&!S.filter(n))return this;var A=ei(n,S);return A?(A.feature=si(n),A.defaultOptions=A.options,this.resetStyle(A),S.onEachFeature&&S.onEachFeature(n,A),this.addLayer(A)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=a({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(o){this._setLayerStyle(o,n)},this)},_setLayerStyle:function(n,o){n.setStyle&&(typeof o=="function"&&(o=o(n.feature)),n.setStyle(o))}});function ei(n,o){var d=n.type==="Feature"?n.geometry:n,p=d?d.coordinates:null,v=[],S=o&&o.pointToLayer,A=o&&o.coordsToLatLng||ko,G,q,oe,ve;if(!p&&!d)return null;switch(d.type){case"Point":return G=A(p),Cc(S,n,G,o);case"MultiPoint":for(oe=0,ve=p.length;oe<ve;oe++)G=A(p[oe]),v.push(Cc(S,n,G,o));return new vn(v);case"LineString":case"MultiLineString":return q=ti(p,d.type==="LineString"?0:1,A),new yn(q,o);case"Polygon":case"MultiPolygon":return q=ti(p,d.type==="Polygon"?1:2,A),new ms(q,o);case"GeometryCollection":for(oe=0,ve=d.geometries.length;oe<ve;oe++){var Re=ei({geometry:d.geometries[oe],type:"Feature",properties:n.properties},o);Re&&v.push(Re)}return new vn(v);case"FeatureCollection":for(oe=0,ve=d.features.length;oe<ve;oe++){var Ze=ei(d.features[oe],o);Ze&&v.push(Ze)}return new vn(v);default:throw new Error("Invalid GeoJSON object.")}}function Cc(n,o,d,p){return n?n(o,d):new Jr(d,p&&p.markersInheritOptions&&p)}function ko(n){return new ge(n[1],n[0],n[2])}function ti(n,o,d){for(var p=[],v=0,S=n.length,A;v<S;v++)A=o?ti(n[v],o-1,d):(d||ko)(n[v]),p.push(A);return p}function Ro(n,o){return n=xe(n),n.alt!==void 0?[y(n.lng,o),y(n.lat,o),y(n.alt,o)]:[y(n.lng,o),y(n.lat,o)]}function ni(n,o,d,p){for(var v=[],S=0,A=n.length;S<A;S++)v.push(o?ni(n[S],Ut(n[S])?0:o-1,d,p):Ro(n[S],p));return!o&&d&&v.length>0&&v.push(v[0].slice()),v}function ps(n,o){return n.feature?a({},n.feature,{geometry:o}):si(o)}function si(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var Mo={toGeoJSON:function(n){return ps(this,{type:"Point",coordinates:Ro(this.getLatLng(),n)})}};Jr.include(Mo),Ao.include(Mo),Qr.include(Mo),yn.include({toGeoJSON:function(n){var o=!Ut(this._latlngs),d=ni(this._latlngs,o?1:0,!1,n);return ps(this,{type:(o?"Multi":"")+"LineString",coordinates:d})}}),ms.include({toGeoJSON:function(n){var o=!Ut(this._latlngs),d=o&&!Ut(this._latlngs[0]),p=ni(this._latlngs,d?2:o?1:0,!0,n);return o||(p=[p]),ps(this,{type:(d?"Multi":"")+"Polygon",coordinates:p})}}),hs.include({toMultiPoint:function(n){var o=[];return this.eachLayer(function(d){o.push(d.toGeoJSON(n).geometry.coordinates)}),ps(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(n){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(n);var d=o==="GeometryCollection",p=[];return this.eachLayer(function(v){if(v.toGeoJSON){var S=v.toGeoJSON(n);if(d)p.push(S.geometry);else{var A=si(S);A.type==="FeatureCollection"?p.push.apply(p,A.features):p.push(A)}}}),d?ps(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function Tc(n,o){return new _n(n,o)}var Ex=Tc,ri=Qt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,o,d){this._url=n,this._bounds=Z(o),b(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ue(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){lt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&ds(this._image),this},bringToBack:function(){return this._map&&us(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=Z(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",o=this._image=n?this._url:Je("img");if(Ue(o,"leaflet-image-layer"),this._zoomAnimated&&Ue(o,"leaflet-zoom-animated"),this.options.className&&Ue(o,this.options.className),o.onselectstart=x,o.onmousemove=x,o.onload=l(this.fire,this,"load"),o.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(n){var o=this._map.getZoomScale(n.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;$n(this._image,d,o)},_reset:function(){var n=this._image,o=new D(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=o.getSize();vt(n,o.min),n.style.width=d.x+"px",n.style.height=d.y+"px"},_updateOpacity:function(){$t(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),Lx=function(n,o,d){return new ri(n,o,d)},Pc=ri.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",o=this._image=n?this._url:Je("video");if(Ue(o,"leaflet-image-layer"),this._zoomAnimated&&Ue(o,"leaflet-zoom-animated"),this.options.className&&Ue(o,this.options.className),o.onselectstart=x,o.onmousemove=x,o.onloadeddata=l(this.fire,this,"load"),n){for(var d=o.getElementsByTagName("source"),p=[],v=0;v<d.length;v++)p.push(d[v].src);this._url=d.length>0?p:[o.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var A=Je("source");A.src=this._url[S],o.appendChild(A)}}});function Ax(n,o,d){return new Pc(n,o,d)}var Ec=ri.extend({_initImage:function(){var n=this._image=this._url;Ue(n,"leaflet-image-layer"),this._zoomAnimated&&Ue(n,"leaflet-zoom-animated"),this.options.className&&Ue(n,this.options.className),n.onselectstart=x,n.onmousemove=x}});function kx(n,o,d){return new Ec(n,o,d)}var ln=Qt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,o){n&&(n instanceof ge||j(n))?(this._latlng=xe(n),b(this,o)):(b(this,n),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&$t(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&$t(this._container,1),this.bringToFront(),this.options.interactive&&(Ue(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?($t(this._container,0),this._removeTimeout=setTimeout(l(lt,void 0,this._container),200)):lt(this._container),this.options.interactive&&(mt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=xe(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ds(this._container),this},bringToBack:function(){return this._map&&us(this._container),this},_prepareOpen:function(n){var o=this._source;if(!o._map)return!1;if(o instanceof vn){o=null;var d=this._source._layers;for(var p in d)if(d[p]._map){o=d[p];break}if(!o)return!1;this._source=o}if(!n)if(o.getCenter)n=o.getCenter();else if(o.getLatLng)n=o.getLatLng();else if(o.getBounds)n=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")n.innerHTML=o;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),o=k(this.options.offset),d=this._getAnchor();this._zoomAnimated?vt(this._container,n.add(d)):o=o.add(n).add(d);var p=this._containerBottom=-o.y,v=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=p+"px",this._container.style.left=v+"px"}},_getAnchor:function(){return[0,0]}});Xe.include({_initOverlay:function(n,o,d,p){var v=o;return v instanceof n||(v=new n(p).setContent(o)),d&&v.setLatLng(d),v}}),Qt.include({_initOverlay:function(n,o,d,p){var v=d;return v instanceof n?(b(v,p),v._source=this):(v=o&&!p?o:new n(p,this),v.setContent(d)),v}});var ii=ln.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,ln.prototype.openOn.call(this,n)},onAdd:function(n){ln.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Tn||this._source.on("preclick",Hn))},onRemove:function(n){ln.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Tn||this._source.off("preclick",Hn))},getEvents:function(){var n=ln.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",o=this._container=Je("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Je("div",n+"-content-wrapper",o);if(this._contentNode=Je("div",n+"-content",d),qs(o),jo(this._contentNode),Fe(o,"contextmenu",Hn),this._tipContainer=Je("div",n+"-tip-container",o),this._tip=Je("div",n+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=Je("a",n+"-close-button",o);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',Fe(p,"click",function(v){jt(v),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,o=n.style;o.width="",o.whiteSpace="nowrap";var d=n.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),o.width=d+1+"px",o.whiteSpace="",o.height="";var p=n.offsetHeight,v=this.options.maxHeight,S="leaflet-popup-scrolled";v&&p>v?(o.height=v+"px",Ue(n,S)):mt(n,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var o=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),d=this._getAnchor();vt(this._container,o.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,o=parseInt(Ws(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+o,p=this._containerWidth,v=new ne(this._containerLeft,-d-this._containerBottom);v._add(Un(this._container));var S=n.layerPointToContainerPoint(v),A=k(this.options.autoPanPadding),G=k(this.options.autoPanPaddingTopLeft||A),q=k(this.options.autoPanPaddingBottomRight||A),oe=n.getSize(),ve=0,Re=0;S.x+p+q.x>oe.x&&(ve=S.x+p-oe.x+q.x),S.x-ve-G.x<0&&(ve=S.x-G.x),S.y+d+q.y>oe.y&&(Re=S.y+d-oe.y+q.y),S.y-Re-G.y<0&&(Re=S.y-G.y),(ve||Re)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([ve,Re]))}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Rx=function(n,o){return new ii(n,o)};Xe.mergeOptions({closePopupOnClick:!0}),Xe.include({openPopup:function(n,o,d){return this._initOverlay(ii,n,o,d).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),Qt.include({bindPopup:function(n,o){return this._popup=this._initOverlay(ii,this._popup,n,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof vn||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){Wn(n);var o=n.layer||n.target;if(this._popup._source===o&&!(o instanceof Tn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=o,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var oi=ln.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){ln.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){ln.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=ln.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",o=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Je("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var o,d,p=this._map,v=this._container,S=p.latLngToContainerPoint(p.getCenter()),A=p.layerPointToContainerPoint(n),G=this.options.direction,q=v.offsetWidth,oe=v.offsetHeight,ve=k(this.options.offset),Re=this._getAnchor();G==="top"?(o=q/2,d=oe):G==="bottom"?(o=q/2,d=0):G==="center"?(o=q/2,d=oe/2):G==="right"?(o=0,d=oe/2):G==="left"?(o=q,d=oe/2):A.x<S.x?(G="right",o=0,d=oe/2):(G="left",o=q+(ve.x+Re.x)*2,d=oe/2),n=n.subtract(k(o,d,!0)).add(ve).add(Re),mt(v,"leaflet-tooltip-right"),mt(v,"leaflet-tooltip-left"),mt(v,"leaflet-tooltip-top"),mt(v,"leaflet-tooltip-bottom"),Ue(v,"leaflet-tooltip-"+G),vt(v,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&$t(this._container,n)},_animateZoom:function(n){var o=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(o)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Mx=function(n,o){return new oi(n,o)};Xe.include({openTooltip:function(n,o,d){return this._initOverlay(oi,n,o,d).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),Qt.include({bindTooltip:function(n,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(oi,this._tooltip,n,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var o=n?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[o](d),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof vn||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var o=typeof n.getElement=="function"&&n.getElement();o&&(Fe(o,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),Fe(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var o=typeof n.getElement=="function"&&n.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var o=n.latlng,d,p;this._tooltip.options.sticky&&n.originalEvent&&(d=this._map.mouseEventToContainerPoint(n.originalEvent),p=this._map.containerPointToLayerPoint(d),o=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(o)}});var Lc=fs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var o=n&&n.tagName==="DIV"?n:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Zr(o),o.appendChild(d.html)):o.innerHTML=d.html!==!1?d.html:"",d.bgPos){var p=k(d.bgPos);o.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function Ix(n){return new Lc(n)}fs.Default=Js;var Qs=Qt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ce.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){b(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),lt(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ds(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(us(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof ne?n:new ne(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var o=this.getPane().children,d=-n(-1/0,1/0),p=0,v=o.length,S;p<v;p++)S=o[p].style.zIndex,o[p]!==this._container&&S&&(d=n(d,+S));isFinite(d)&&(this.options.zIndex=d+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ce.ielt9){$t(this._container,this.options.opacity);var n=+new Date,o=!1,d=!1;for(var p in this._tiles){var v=this._tiles[p];if(!(!v.current||!v.loaded)){var S=Math.min(1,(n-v.loaded)/200);$t(v.el,S),S<1?o=!0:(v.active?d=!0:this._onOpaqueTile(v),v.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),o&&(H(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=Je("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,o=this.options.maxZoom;if(n!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===n?(this._levels[d].el.style.zIndex=o-Math.abs(n-d),this._onUpdateLevel(d)):(lt(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var p=this._levels[n],v=this._map;return p||(p=this._levels[n]={},p.el=Je("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=o,p.origin=v.project(v.unproject(v.getPixelOrigin()),n).round(),p.zoom=n,this._setZoomTransform(p,v.getCenter(),v.getZoom()),x(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var n,o,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)o=this._tiles[n],o.retain=o.current;for(n in this._tiles)if(o=this._tiles[n],o.current&&!o.active){var p=o.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var o in this._tiles)this._tiles[o].coords.z===n&&this._removeTile(o)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)lt(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,o,d,p){var v=Math.floor(n/2),S=Math.floor(o/2),A=d-1,G=new ne(+v,+S);G.z=+A;var q=this._tileCoordsToKey(G),oe=this._tiles[q];return oe&&oe.active?(oe.retain=!0,!0):(oe&&oe.loaded&&(oe.retain=!0),A>p?this._retainParent(v,S,A,p):!1)},_retainChildren:function(n,o,d,p){for(var v=2*n;v<2*n+2;v++)for(var S=2*o;S<2*o+2;S++){var A=new ne(v,S);A.z=d+1;var G=this._tileCoordsToKey(A),q=this._tiles[G];if(q&&q.active){q.retain=!0;continue}else q&&q.loaded&&(q.retain=!0);d+1<p&&this._retainChildren(v,S,d+1,p)}},_resetView:function(n){var o=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var o=this.options;return o.minNativeZoom!==void 0&&n<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<n?o.maxNativeZoom:n},_setView:function(n,o,d,p){var v=Math.round(o);this.options.maxZoom!==void 0&&v>this.options.maxZoom||this.options.minZoom!==void 0&&v<this.options.minZoom?v=void 0:v=this._clampZoom(v);var S=this.options.updateWhenZooming&&v!==this._tileZoom;(!p||S)&&(this._tileZoom=v,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),v!==void 0&&this._update(n),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(n,o)},_setZoomTransforms:function(n,o){for(var d in this._levels)this._setZoomTransform(this._levels[d],n,o)},_setZoomTransform:function(n,o,d){var p=this._map.getZoomScale(d,n.zoom),v=n.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(o,d)).round();Ce.any3d?$n(n.el,v,p):vt(n.el,v)},_resetGrid:function(){var n=this._map,o=n.options.crs,d=this._tileSize=this.getTileSize(),p=this._tileZoom,v=this._map.getPixelWorldBounds(this._tileZoom);v&&(this._globalTileRange=this._pxBoundsToTileRange(v)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,o.wrapLng[0]],p).x/d.x),Math.ceil(n.project([0,o.wrapLng[1]],p).x/d.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([o.wrapLat[0],0],p).y/d.x),Math.ceil(n.project([o.wrapLat[1],0],p).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var o=this._map,d=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),p=o.getZoomScale(d,this._tileZoom),v=o.project(n,this._tileZoom).floor(),S=o.getSize().divideBy(p*2);return new D(v.subtract(S),v.add(S))},_update:function(n){var o=this._map;if(o){var d=this._clampZoom(o.getZoom());if(n===void 0&&(n=o.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(n),v=this._pxBoundsToTileRange(p),S=v.getCenter(),A=[],G=this.options.keepBuffer,q=new D(v.getBottomLeft().subtract([G,-G]),v.getTopRight().add([G,-G]));if(!(isFinite(v.min.x)&&isFinite(v.min.y)&&isFinite(v.max.x)&&isFinite(v.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var oe in this._tiles){var ve=this._tiles[oe].coords;(ve.z!==this._tileZoom||!q.contains(new ne(ve.x,ve.y)))&&(this._tiles[oe].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(n,d);return}for(var Re=v.min.y;Re<=v.max.y;Re++)for(var Ze=v.min.x;Ze<=v.max.x;Ze++){var Pt=new ne(Ze,Re);if(Pt.z=this._tileZoom,!!this._isValidTile(Pt)){var wt=this._tiles[this._tileCoordsToKey(Pt)];wt?wt.current=!0:A.push(Pt)}}if(A.sort(function(kt,xs){return kt.distanceTo(S)-xs.distanceTo(S)}),A.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ht=document.createDocumentFragment();for(Ze=0;Ze<A.length;Ze++)this._addTile(A[Ze],Ht);this._level.el.appendChild(Ht)}}}},_isValidTile:function(n){var o=this._map.options.crs;if(!o.infinite){var d=this._globalTileRange;if(!o.wrapLng&&(n.x<d.min.x||n.x>d.max.x)||!o.wrapLat&&(n.y<d.min.y||n.y>d.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(n);return Z(this.options.bounds).overlaps(p)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var o=this._map,d=this.getTileSize(),p=n.scaleBy(d),v=p.add(d),S=o.unproject(p,n.z),A=o.unproject(v,n.z);return[S,A]},_tileCoordsToBounds:function(n){var o=this._tileCoordsToNwSe(n),d=new z(o[0],o[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var o=n.split(":"),d=new ne(+o[0],+o[1]);return d.z=+o[2],d},_removeTile:function(n){var o=this._tiles[n];o&&(lt(o.el),delete this._tiles[n],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){Ue(n,"leaflet-tile");var o=this.getTileSize();n.style.width=o.x+"px",n.style.height=o.y+"px",n.onselectstart=x,n.onmousemove=x,Ce.ielt9&&this.options.opacity<1&&$t(n,this.options.opacity)},_addTile:function(n,o){var d=this._getTilePos(n),p=this._tileCoordsToKey(n),v=this.createTile(this._wrapCoords(n),l(this._tileReady,this,n));this._initTile(v),this.createTile.length<2&&$(l(this._tileReady,this,n,null,v)),vt(v,d),this._tiles[p]={el:v,coords:n,current:!0},o.appendChild(v),this.fire("tileloadstart",{tile:v,coords:n})},_tileReady:function(n,o,d){o&&this.fire("tileerror",{error:o,tile:d,coords:n});var p=this._tileCoordsToKey(n);d=this._tiles[p],d&&(d.loaded=+new Date,this._map._fadeAnimated?($t(d.el,0),H(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),o||(Ue(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ce.ielt9||!this._map._fadeAnimated?$(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var o=new ne(this._wrapX?g(n.x,this._wrapX):n.x,this._wrapY?g(n.y,this._wrapY):n.y);return o.z=n.z,o},_pxBoundsToTileRange:function(n){var o=this.getTileSize();return new D(n.min.unscaleBy(o).floor(),n.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Ox(n){return new Qs(n)}var gs=Qs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,o){this._url=n,o=b(this,o),o.detectRetina&&Ce.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,o){return this._url===n&&o===void 0&&(o=!0),this._url=n,o||this.redraw(),this},createTile:function(n,o){var d=document.createElement("img");return Fe(d,"load",l(this._tileOnLoad,this,o,d)),Fe(d,"error",l(this._tileOnError,this,o,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(n),d},getTileUrl:function(n){var o={r:Ce.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-n.y;this.options.tms&&(o.y=d),o["-y"]=d}return C(this._url,a(o,this.options))},_tileOnLoad:function(n,o){Ce.ielt9?setTimeout(l(n,this,null,o),0):n(null,o)},_tileOnError:function(n,o,d){var p=this.options.errorTileUrl;p&&o.getAttribute("src")!==p&&(o.src=p),n(d,o)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,o=this.options.maxZoom,d=this.options.zoomReverse,p=this.options.zoomOffset;return d&&(n=o-n),n+p},_getSubdomain:function(n){var o=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var n,o;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(o=this._tiles[n].el,o.onload=x,o.onerror=x,!o.complete)){o.src=E;var d=this._tiles[n].coords;lt(o),delete this._tiles[n],this.fire("tileabort",{tile:o,coords:d})}},_removeTile:function(n){var o=this._tiles[n];if(o)return o.el.setAttribute("src",E),Qs.prototype._removeTile.call(this,n)},_tileReady:function(n,o,d){if(!(!this._map||d&&d.getAttribute("src")===E))return Qs.prototype._tileReady.call(this,n,o,d)}});function Ac(n,o){return new gs(n,o)}var kc=gs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,o){this._url=n;var d=a({},this.defaultWmsParams);for(var p in o)p in this.options||(d[p]=o[p]);o=b(this,o);var v=o.detectRetina&&Ce.retina?2:1,S=this.getTileSize();d.width=S.x*v,d.height=S.y*v,this.wmsParams=d},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,gs.prototype.onAdd.call(this,n)},getTileUrl:function(n){var o=this._tileCoordsToNwSe(n),d=this._crs,p=W(d.project(o[0]),d.project(o[1])),v=p.min,S=p.max,A=(this._wmsVersion>=1.3&&this._crs===Sc?[v.y,v.x,S.y,S.x]:[v.x,v.y,S.x,S.y]).join(","),G=gs.prototype.getTileUrl.call(this,n);return G+N(this.wmsParams,G,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+A},setParams:function(n,o){return a(this.wmsParams,n),o||this.redraw(),this}});function Dx(n,o){return new kc(n,o)}gs.WMS=kc,Ac.wms=Dx;var bn=Qt.extend({options:{padding:.1},initialize:function(n){b(this,n),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ue(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,o){var d=this._map.getZoomScale(o,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,o),S=p.multiplyBy(-d).add(v).subtract(this._map._getNewPixelOrigin(n,o));Ce.any3d?$n(this._container,S,d):vt(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,o=this._map.getSize(),d=this._map.containerPointToLayerPoint(o.multiplyBy(-n)).round();this._bounds=new D(d,d.add(o.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Rc=bn.extend({options:{tolerance:0},getEvents:function(){var n=bn.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){bn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");Fe(n,"mousemove",this._onMouseMove,this),Fe(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Fe(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){H(this._redrawRequest),delete this._ctx,lt(this._container),rt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var o in this._layers)n=this._layers[o],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){bn.prototype._update.call(this);var n=this._bounds,o=this._container,d=n.getSize(),p=Ce.retina?2:1;vt(o,n.min),o.width=p*d.x,o.height=p*d.y,o.style.width=d.x+"px",o.style.height=d.y+"px",Ce.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){bn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[h(n)]=n;var o=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var o=n._order,d=o.next,p=o.prev;d?d.prev=p:this._drawLast=p,p?p.next=d:this._drawFirst=d,delete n._order,delete this._layers[h(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var o=n.options.dashArray.split(/[, ]+/),d=[],p,v;for(v=0;v<o.length;v++){if(p=Number(o[v]),isNaN(p))return;d.push(p)}n.options._dashArray=d}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||$(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var o=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new D,this._redrawBounds.extend(n._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(n._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var o=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,o=this._redrawBounds;if(this._ctx.save(),o){var d=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)n=p.layer,(!o||n._pxBounds&&n._pxBounds.intersects(o))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,o){if(this._drawing){var d,p,v,S,A=n._parts,G=A.length,q=this._ctx;if(G){for(q.beginPath(),d=0;d<G;d++){for(p=0,v=A[d].length;p<v;p++)S=A[d][p],q[p?"lineTo":"moveTo"](S.x,S.y);o&&q.closePath()}this._fillStroke(q,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var o=n._point,d=this._ctx,p=Math.max(Math.round(n._radius),1),v=(Math.max(Math.round(n._radiusY),1)||p)/p;v!==1&&(d.save(),d.scale(1,v)),d.beginPath(),d.arc(o.x,o.y/v,p,0,Math.PI*2,!1),v!==1&&d.restore(),this._fillStroke(d,n)}},_fillStroke:function(n,o){var d=o.options;d.fill&&(n.globalAlpha=d.fillOpacity,n.fillStyle=d.fillColor||d.color,n.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(n.setLineDash&&n.setLineDash(o.options&&o.options._dashArray||[]),n.globalAlpha=d.opacity,n.lineWidth=d.weight,n.strokeStyle=d.color,n.lineCap=d.lineCap,n.lineJoin=d.lineJoin,n.stroke())},_onClick:function(n){for(var o=this._map.mouseEventToLayerPoint(n),d,p,v=this._drawFirst;v;v=v.next)d=v.layer,d.options.interactive&&d._containsPoint(o)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(d))&&(p=d);this._fireEvent(p?[p]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,o)}},_handleMouseOut:function(n){var o=this._hoveredLayer;o&&(mt(this._container,"leaflet-interactive"),this._fireEvent([o],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,o){if(!this._mouseHoverThrottled){for(var d,p,v=this._drawFirst;v;v=v.next)d=v.layer,d.options.interactive&&d._containsPoint(o)&&(p=d);p!==this._hoveredLayer&&(this._handleMouseOut(n),p&&(Ue(this._container,"leaflet-interactive"),this._fireEvent([p],n,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,o,d){this._map._fireDOMEvent(o,d||o.type,n)},_bringToFront:function(n){var o=n._order;if(o){var d=o.next,p=o.prev;if(d)d.prev=p;else return;p?p.next=d:d&&(this._drawFirst=d),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(n)}},_bringToBack:function(n){var o=n._order;if(o){var d=o.next,p=o.prev;if(p)p.next=d;else return;d?d.prev=p:p&&(this._drawLast=p),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(n)}}});function Mc(n){return Ce.canvas?new Rc(n):null}var er=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Bx={_initContainer:function(){this._container=Je("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(bn.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var o=n._container=er("shape");Ue(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",n._path=er("path"),o.appendChild(n._path),this._updateStyle(n),this._layers[h(n)]=n},_addPath:function(n){var o=n._container;this._container.appendChild(o),n.options.interactive&&n.addInteractiveTarget(o)},_removePath:function(n){var o=n._container;lt(o),n.removeInteractiveTarget(o),delete this._layers[h(n)]},_updateStyle:function(n){var o=n._stroke,d=n._fill,p=n.options,v=n._container;v.stroked=!!p.stroke,v.filled=!!p.fill,p.stroke?(o||(o=n._stroke=er("stroke")),v.appendChild(o),o.weight=p.weight+"px",o.color=p.color,o.opacity=p.opacity,p.dashArray?o.dashStyle=j(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=p.lineCap.replace("butt","flat"),o.joinstyle=p.lineJoin):o&&(v.removeChild(o),n._stroke=null),p.fill?(d||(d=n._fill=er("fill")),v.appendChild(d),d.color=p.fillColor||p.color,d.opacity=p.fillOpacity):d&&(v.removeChild(d),n._fill=null)},_updateCircle:function(n){var o=n._point.round(),d=Math.round(n._radius),p=Math.round(n._radiusY||d);this._setPath(n,n._empty()?"M0 0":"AL "+o.x+","+o.y+" "+d+","+p+" 0,"+65535*360)},_setPath:function(n,o){n._path.v=o},_bringToFront:function(n){ds(n._container)},_bringToBack:function(n){us(n._container)}},ai=Ce.vml?er:Ae,tr=bn.extend({_initContainer:function(){this._container=ai("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ai("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){lt(this._container),rt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){bn.prototype._update.call(this);var n=this._bounds,o=n.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,d.setAttribute("width",o.x),d.setAttribute("height",o.y)),vt(d,n.min),d.setAttribute("viewBox",[n.min.x,n.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(n){var o=n._path=ai("path");n.options.className&&Ue(o,n.options.className),n.options.interactive&&Ue(o,"leaflet-interactive"),this._updateStyle(n),this._layers[h(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){lt(n._path),n.removeInteractiveTarget(n._path),delete this._layers[h(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var o=n._path,d=n.options;o&&(d.stroke?(o.setAttribute("stroke",d.color),o.setAttribute("stroke-opacity",d.opacity),o.setAttribute("stroke-width",d.weight),o.setAttribute("stroke-linecap",d.lineCap),o.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?o.setAttribute("stroke-dasharray",d.dashArray):o.removeAttribute("stroke-dasharray"),d.dashOffset?o.setAttribute("stroke-dashoffset",d.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),d.fill?(o.setAttribute("fill",d.fillColor||d.color),o.setAttribute("fill-opacity",d.fillOpacity),o.setAttribute("fill-rule",d.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(n,o){this._setPath(n,Ke(n._parts,o))},_updateCircle:function(n){var o=n._point,d=Math.max(Math.round(n._radius),1),p=Math.max(Math.round(n._radiusY),1)||d,v="a"+d+","+p+" 0 1,0 ",S=n._empty()?"M0 0":"M"+(o.x-d)+","+o.y+v+d*2+",0 "+v+-d*2+",0 ";this._setPath(n,S)},_setPath:function(n,o){n._path.setAttribute("d",o)},_bringToFront:function(n){ds(n._path)},_bringToBack:function(n){us(n._path)}});Ce.vml&&tr.include(Bx);function Ic(n){return Ce.svg||Ce.vml?new tr(n):null}Xe.include({getRenderer:function(n){var o=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var o=this._paneRenderers[n];return o===void 0&&(o=this._createRenderer({pane:n}),this._paneRenderers[n]=o),o},_createRenderer:function(n){return this.options.preferCanvas&&Mc(n)||Ic(n)}});var Oc=ms.extend({initialize:function(n,o){ms.prototype.initialize.call(this,this._boundsToLatLngs(n),o)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=Z(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function zx(n,o){return new Oc(n,o)}tr.create=ai,tr.pointsToPath=Ke,_n.geometryToLayer=ei,_n.coordsToLatLng=ko,_n.coordsToLatLngs=ti,_n.latLngToCoords=Ro,_n.latLngsToCoords=ni,_n.getFeature=ps,_n.asFeature=si,Xe.mergeOptions({boxZoom:!0});var Dc=an.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){Fe(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){rt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){lt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Zs(),po(),this._startPoint=this._map.mouseEventToContainerPoint(n),Fe(document,{contextmenu:Wn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=Je("div","leaflet-zoom-box",this._container),Ue(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var o=new D(this._point,this._startPoint),d=o.getSize();vt(this._box,o.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(lt(this._box),mt(this._container,"leaflet-crosshair")),Gs(),go(),rt(document,{contextmenu:Wn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var o=new z(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Xe.addInitHook("addHandler","boxZoom",Dc),Xe.mergeOptions({doubleClickZoom:!0});var Bc=an.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var o=this._map,d=o.getZoom(),p=o.options.zoomDelta,v=n.originalEvent.shiftKey?d-p:d+p;o.options.doubleClickZoom==="center"?o.setZoom(v):o.setZoomAround(n.containerPoint,v)}});Xe.addInitHook("addHandler","doubleClickZoom",Bc),Xe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var zc=an.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Cn(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}Ue(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){mt(this._map._container,"leaflet-grab"),mt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=Z(this._map.options.maxBounds);this._offsetLimit=W(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var o=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(o),this._prunePositions(o)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,o){return n-(n-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;n.x<o.min.x&&(n.x=this._viscousLimit(n.x,o.min.x)),n.y<o.min.y&&(n.y=this._viscousLimit(n.y,o.min.y)),n.x>o.max.x&&(n.x=this._viscousLimit(n.x,o.max.x)),n.y>o.max.y&&(n.y=this._viscousLimit(n.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,o=Math.round(n/2),d=this._initialWorldOffset,p=this._draggable._newPos.x,v=(p-o+d)%n+o-d,S=(p+o+d)%n-o-d,A=Math.abs(v+d)<Math.abs(S+d)?v:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=A},_onDragEnd:function(n){var o=this._map,d=o.options,p=!d.inertia||n.noInertia||this._times.length<2;if(o.fire("dragend",n),p)o.fire("moveend");else{this._prunePositions(+new Date);var v=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,A=d.easeLinearity,G=v.multiplyBy(A/S),q=G.distanceTo([0,0]),oe=Math.min(d.inertiaMaxSpeed,q),ve=G.multiplyBy(oe/q),Re=oe/(d.inertiaDeceleration*A),Ze=ve.multiplyBy(-Re/2).round();!Ze.x&&!Ze.y?o.fire("moveend"):(Ze=o._limitOffset(Ze,o.options.maxBounds),$(function(){o.panBy(Ze,{duration:Re,easeLinearity:A,noMoveStart:!0,animate:!0})}))}}});Xe.addInitHook("addHandler","dragging",zc),Xe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Fc=an.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),Fe(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),rt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,o=document.documentElement,d=n.scrollTop||o.scrollTop,p=n.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(p,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var o=this._panKeys={},d=this.keyCodes,p,v;for(p=0,v=d.left.length;p<v;p++)o[d.left[p]]=[-1*n,0];for(p=0,v=d.right.length;p<v;p++)o[d.right[p]]=[n,0];for(p=0,v=d.down.length;p<v;p++)o[d.down[p]]=[0,n];for(p=0,v=d.up.length;p<v;p++)o[d.up[p]]=[0,-1*n]},_setZoomDelta:function(n){var o=this._zoomKeys={},d=this.keyCodes,p,v;for(p=0,v=d.zoomIn.length;p<v;p++)o[d.zoomIn[p]]=n;for(p=0,v=d.zoomOut.length;p<v;p++)o[d.zoomOut[p]]=-n},_addHooks:function(){Fe(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){rt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var o=n.keyCode,d=this._map,p;if(o in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(p=this._panKeys[o],n.shiftKey&&(p=k(p).multiplyBy(3)),d.options.maxBounds&&(p=d._limitOffset(k(p),d.options.maxBounds)),d.options.worldCopyJump){var v=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(p)));d.panTo(v)}else d.panBy(p)}else if(o in this._zoomKeys)d.setZoom(d.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Wn(n)}}});Xe.addInitHook("addHandler","keyboard",Fc),Xe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Vc=an.extend({addHooks:function(){Fe(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){rt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var o=uc(n),d=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var p=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),p),Wn(n)},_performZoom:function(){var n=this._map,o=n.getZoom(),d=this._map.options.zoomSnap||0;n._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),v=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,S=d?Math.ceil(v/d)*d:v,A=n._limitZoom(o+(this._delta>0?S:-S))-o;this._delta=0,this._startTime=null,A&&(n.options.scrollWheelZoom==="center"?n.setZoom(o+A):n.setZoomAround(this._lastMousePos,o+A))}});Xe.addInitHook("addHandler","scrollWheelZoom",Vc);var Fx=600;Xe.mergeOptions({tapHold:Ce.touchNative&&Ce.safari&&Ce.mobile,tapTolerance:15});var $c=an.extend({addHooks:function(){Fe(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){rt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var o=n.touches[0];this._startPos=this._newPos=new ne(o.clientX,o.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Fe(document,"touchend",jt),Fe(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),Fx),Fe(document,"touchend touchcancel contextmenu",this._cancel,this),Fe(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){rt(document,"touchend",jt),rt(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),rt(document,"touchend touchcancel contextmenu",this._cancel,this),rt(document,"touchmove",this._onMove,this)},_onMove:function(n){var o=n.touches[0];this._newPos=new ne(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,o){var d=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});d._simulated=!0,o.target.dispatchEvent(d)}});Xe.addInitHook("addHandler","tapHold",$c),Xe.mergeOptions({touchZoom:Ce.touch,bounceAtZoomLimits:!0});var Uc=an.extend({addHooks:function(){Ue(this._map._container,"leaflet-touch-zoom"),Fe(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){mt(this._map._container,"leaflet-touch-zoom"),rt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var o=this._map;if(!(!n.touches||n.touches.length!==2||o._animatingZoom||this._zooming)){var d=o.mouseEventToContainerPoint(n.touches[0]),p=o.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(d.add(p)._divideBy(2))),this._startDist=d.distanceTo(p),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),Fe(document,"touchmove",this._onTouchMove,this),Fe(document,"touchend touchcancel",this._onTouchEnd,this),jt(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var o=this._map,d=o.mouseEventToContainerPoint(n.touches[0]),p=o.mouseEventToContainerPoint(n.touches[1]),v=d.distanceTo(p)/this._startDist;if(this._zoom=o.getScaleZoom(v,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&v<1||this._zoom>o.getMaxZoom()&&v>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,v===1)return}else{var S=d._add(p)._divideBy(2)._subtract(this._centerPoint);if(v===1&&S.x===0&&S.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),H(this._animRequest);var A=l(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=$(A,this,!0),jt(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,H(this._animRequest),rt(document,"touchmove",this._onTouchMove,this),rt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Xe.addInitHook("addHandler","touchZoom",Uc),Xe.BoxZoom=Dc,Xe.DoubleClickZoom=Bc,Xe.Drag=zc,Xe.Keyboard=Fc,Xe.ScrollWheelZoom=Vc,Xe.TapHold=$c,Xe.TouchZoom=Uc,s.Bounds=D,s.Browser=Ce,s.CRS=ue,s.Canvas=Rc,s.Circle=Ao,s.CircleMarker=Qr,s.Class=ee,s.Control=Jt,s.DivIcon=Lc,s.DivOverlay=ln,s.DomEvent=rx,s.DomUtil=nx,s.Draggable=Cn,s.Evented=he,s.FeatureGroup=vn,s.GeoJSON=_n,s.GridLayer=Qs,s.Handler=an,s.Icon=fs,s.ImageOverlay=ri,s.LatLng=ge,s.LatLngBounds=z,s.Layer=Qt,s.LayerGroup=hs,s.LineUtil=xx,s.Map=Xe,s.Marker=Jr,s.Mixin=ux,s.Path=Tn,s.Point=ne,s.PolyUtil=hx,s.Polygon=ms,s.Polyline=yn,s.Popup=ii,s.PosAnimation=hc,s.Projection=vx,s.Rectangle=Oc,s.Renderer=bn,s.SVG=tr,s.SVGOverlay=Ec,s.TileLayer=gs,s.Tooltip=oi,s.Transformation=ie,s.Util=O,s.VideoOverlay=Pc,s.bind=l,s.bounds=W,s.canvas=Mc,s.circle=Cx,s.circleMarker=Nx,s.control=Ys,s.divIcon=Ix,s.extend=a,s.featureGroup=wx,s.geoJSON=Tc,s.geoJson=Ex,s.gridLayer=Ox,s.icon=jx,s.imageOverlay=Lx,s.latLng=xe,s.latLngBounds=Z,s.layerGroup=bx,s.map=ix,s.marker=Sx,s.point=k,s.polygon=Px,s.polyline=Tx,s.popup=Rx,s.rectangle=zx,s.setOptions=b,s.stamp=h,s.svg=Ic,s.svgOverlay=kx,s.tileLayer=Ac,s.tooltip=Mx,s.transformation=le,s.version=i,s.videoOverlay=Ax;var Vx=window.L;s.noConflict=function(){return window.L=Vx,this},window.L=s})})(nl,nl.exports);var Ir=nl.exports;const Yg=Lv(Ir);function sc(e,t,s){return Object.freeze({instance:e,context:t,container:s})}function rc(e,t){return t==null?function(i,a){const c=f.useRef();return c.current||(c.current=e(i,a)),c}:function(i,a){const c=f.useRef();c.current||(c.current=e(i,a));const l=f.useRef(i),{instance:u}=c.current;return f.useEffect(function(){l.current!==i&&(t(u,i,l.current),l.current=i)},[u,i,a]),c}}function DE(e,t){f.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var c;(c=t.layerContainer)==null||c.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Xg(e){return function(s){const i=Kg(),a=e(nc(s,i),i);return Wg(i.map,s.attribution),qg(a.current,s.eventHandlers),DE(a.current,i),a}}function BE(e,t){const s=rc(e,t),i=Xg(s);return RE(i)}function zE(e,t){const s=rc(e),i=OE(s,t);return ME(i)}function FE(e,t){const s=rc(e,t),i=Xg(s);return IE(i)}function VE(e,t,s){const{opacity:i,zIndex:a}=t;i!=null&&i!==s.opacity&&e.setOpacity(i),a!=null&&a!==s.zIndex&&e.setZIndex(a)}function sl(){return sl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},sl.apply(this,arguments)}function $E({bounds:e,boundsOptions:t,center:s,children:i,className:a,id:c,placeholder:l,style:u,whenReady:h,zoom:m,...g},x){const[y]=f.useState({className:a,id:c,style:u}),[_,w]=f.useState(null);f.useImperativeHandle(x,()=>(_==null?void 0:_.map)??null,[_]);const b=f.useCallback(T=>{if(T!==null&&_===null){const C=new Ir.Map(T,g);s!=null&&m!=null?C.setView(s,m):e!=null&&C.fitBounds(e,t),h!=null&&C.whenReady(h),w(AE(C))}},[]);f.useEffect(()=>()=>{_==null||_.map.remove()},[_]);const N=_?me.createElement(Gg,{value:_},i):l??null;return me.createElement("div",sl({},y,{ref:b}),N)}const UE=f.forwardRef($E),HE=BE(function({position:t,...s},i){const a=new Ir.Marker(t,s);return sc(a,kE(i,{overlayContainer:a}))},function(t,s,i){s.position!==i.position&&t.setLatLng(s.position),s.icon!=null&&s.icon!==i.icon&&t.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==i.opacity&&t.setOpacity(s.opacity),t.dragging!=null&&s.draggable!==i.draggable&&(s.draggable===!0?t.dragging.enable():t.dragging.disable())}),WE=zE(function(t,s){const i=new Ir.Popup(t,s.overlayContainer);return sc(i,s)},function(t,s,{position:i},a){f.useEffect(function(){const{instance:l}=t;function u(m){m.popup===l&&(l.update(),a(!0))}function h(m){m.popup===l&&a(!1)}return s.map.on({popupopen:u,popupclose:h}),s.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(s.map)):s.overlayContainer.bindPopup(l),function(){var g;s.map.off({popupopen:u,popupclose:h}),(g=s.overlayContainer)==null||g.unbindPopup(),s.map.removeLayer(l)}},[t,s,a,i])}),ZE=FE(function({url:t,...s},i){const a=new Ir.TileLayer(t,nc(s,i));return sc(a,i)},function(t,s,i){VE(t,s,i);const{url:a}=s;a!=null&&a!==i.url&&t.setUrl(a)}),GE=(e,t=", ")=>Array.isArray(e)&&e.length?e.join(t):"",An=({title:e,children:t})=>t?r.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-100",children:[r.jsx("div",{className:"px-6 py-4 border-b bg-gray-50 rounded-t-lg",children:r.jsx("h2",{className:"text-base font-semibold text-gray-900",children:e})}),r.jsx("div",{className:"p-6",children:t})]}):null;delete Yg.Icon.Default.prototype._getIconUrl;Yg.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});const KE=(e=[])=>e.reduce((t,s)=>{const i=s.country||"Unknown";return t[i]||(t[i]=[]),t[i].push(s),t},{}),qE=({locations:e})=>{var i;if(!Array.isArray(e)||e.length===0)return null;const t=KE(e),s=(i=e.find(a=>a.geoPoint))==null?void 0:i.geoPoint;return r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsx("div",{className:"space-y-10",children:Object.entries(t).map(([a,c])=>r.jsxs("div",{className:"space-y-5",children:[r.jsx("h3",{className:"text-base font-semibold text-gray-900 border-b pb-2",children:a}),r.jsx("div",{className:"space-y-4",children:c.map((l,u)=>r.jsxs("div",{className:`relative bg-white rounded-lg border border-gray-200 
                       p-4 pl-5 shadow-sm hover:shadow-md transition`,children:[r.jsx("span",{className:"absolute left-0 top-0 h-full w-1 rounded-l-lg bg-blue-600"}),r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[" ",l.city||""]}),l.status&&r.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full border font-medium
                    ${l.status==="RECRUITING"?"bg-green-100 text-green-800 border-green-200":"bg-gray-100 text-gray-700 border-gray-200"}`,children:l.status})]}),r.jsx("p",{className:"text-sm text-gray-800 font-medium",children:l.facility||""}),Array.isArray(l.contacts)&&l.contacts.length>0&&r.jsx("div",{className:"mt-2 space-y-1 text-xs text-gray-600",children:l.contacts.map((h,m)=>r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-800",children:h.name||"Contact"}),h.phone&&r.jsxs(r.Fragment,{children:["  ",h.phone]}),h.email&&r.jsxs(r.Fragment,{children:[" ",""," ",r.jsx("a",{href:`mailto:${h.email}`,className:"text-blue-600 hover:underline",children:h.email})]})]},m))})]},u))})]},a))}),r.jsx("div",{className:"h-[380px] rounded border overflow-hidden",children:s?r.jsxs(UE,{center:[s.lat,s.lon],zoom:4,style:{height:"100%",width:"100%"},children:[r.jsx(ZE,{attribution:" OpenStreetMap",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.filter(a=>a.geoPoint).map((a,c)=>r.jsx(HE,{position:[a.geoPoint.lat,a.geoPoint.lon],children:r.jsxs(WE,{children:[r.jsx("strong",{children:a.facility}),r.jsx("br",{}),a.city,", ",a.country,r.jsx("br",{}),"Status: ",a.status]})},c))]}):r.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No map data available"})})]})},YE=({centralContacts:e})=>!Array.isArray(e)||e.length===0?null:r.jsx("div",{className:"space-y-3",children:e.map((t,s)=>r.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[r.jsx("p",{className:"font-semibold text-gray-900",children:t.name||""}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.role||""}),r.jsxs("div",{className:"text-sm text-gray-700 mt-2 space-y-1",children:[t.email?r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Email:"})," ",t.email]}):null,t.phone?r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Phone:"})," ",t.phone]}):null]})]},s))}),XE=({sponsorModule:e})=>{var a;if(!e)return null;const t=(a=e.leadSponsor)==null?void 0:a.name,s=e.collaborators||[],i=e.responsibleParty||null;return r.jsxs("div",{className:"space-y-4 text-sm",children:[t?r.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[r.jsx("p",{className:"text-gray-500",children:"Lead Sponsor"}),r.jsx("p",{className:"font-semibold text-gray-900 mt-1",children:t})]}):null,Array.isArray(s)&&s.length>0?r.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[r.jsx("p",{className:"text-gray-500",children:"Collaborators"}),r.jsx("ul",{className:"mt-2 list-disc ml-5 text-gray-800 space-y-1",children:s.map((c,l)=>r.jsx("li",{children:c.name},l))})]}):null,i?r.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[r.jsx("p",{className:"text-gray-500",children:"Responsible Party"}),r.jsxs("div",{className:"mt-2 space-y-1",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Type:"})," ",i.type||""]}),i.investigatorFullName?r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Investigator:"})," ",i.investigatorFullName]}):null,i.investigatorTitle?r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Title:"})," ",i.investigatorTitle]}):null,i.investigatorAffiliation?r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Affiliation:"})," ",i.investigatorAffiliation]}):null]})]}):null]})},oh=({title:e,outcomes:t})=>!Array.isArray(t)||t.length===0?null:r.jsxs("div",{className:"space-y-3",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-800 border-b border-blue-200 pb-2",children:e}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm border border-gray-400 border-collapse",children:[r.jsx("thead",{className:"bg-gray-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"border border-gray-400 px-3 py-2 text-left font-semibold text-gray-900 w-1/4",children:"Outcome Measure"}),r.jsx("th",{className:"border border-gray-400 px-3 py-2 text-left font-semibold text-gray-900",children:"Measure Description"}),r.jsx("th",{className:"border border-gray-400 px-3 py-2 text-left font-semibold text-gray-900 w-1/4",children:"Time Frame"})]})}),r.jsx("tbody",{children:t.map((s,i)=>r.jsxs("tr",{className:"bg-white",children:[r.jsx("td",{className:"border border-gray-400 px-3 py-3 align-top font-medium text-gray-900 whitespace-pre-wrap",children:s.measure||""}),r.jsx("td",{className:"border border-gray-400 px-3 py-3 align-top text-gray-800 whitespace-pre-wrap",children:s.description||""}),r.jsx("td",{className:"border border-gray-400 px-3 py-3 align-top text-gray-800 whitespace-pre-wrap",children:s.timeFrame||""})]},i))})]})})]}),JE=({armsModule:e})=>{var a;if(!((a=e==null?void 0:e.armGroups)!=null&&a.length))return null;const t=e.armGroups||[],s=e.interventions||[],i={};return s.forEach(c=>{Array.isArray(c.armGroupLabels)&&c.armGroupLabels.forEach(l=>{i[l]||(i[l]=[]),i[l].push(c)})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Arms and Interventions"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm border border-gray-400 border-collapse",children:[r.jsx("thead",{className:"bg-gray-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"border border-gray-400 px-4 py-2 text-left font-semibold w-1/3",children:"Participant Group / Arm"}),r.jsx("th",{className:"border border-gray-400 px-4 py-2 text-left font-semibold",children:"Intervention / Treatment"})]})}),r.jsx("tbody",{children:t.map((c,l)=>r.jsxs("tr",{className:"align-top",children:[r.jsxs("td",{className:"border border-gray-400 px-4 py-3",children:[r.jsxs("p",{className:"font-semibold text-gray-900",children:[c.type==="EXPERIMENTAL"?"Experimental:":"Comparator:"," ",c.label]}),c.description&&r.jsx("p",{className:"mt-2 text-gray-700 whitespace-pre-line",children:c.description})]}),r.jsx("td",{className:"border border-gray-400 px-4 py-3 space-y-4",children:(i[c.label]||[]).map((u,h)=>r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-gray-900",children:[u.type.replace(/_/g," "),":"," ",r.jsx("span",{className:"bg-yellow-200 px-1",children:u.name})]}),u.description&&r.jsx("ul",{className:"list-disc ml-5 mt-1 text-gray-700",children:r.jsx("li",{children:u.description})})]},h))})]},l))})]})})]})},QE=()=>{var T,C,j,P,E,B,V,U,X,M,$,H,O,ee,de,J,he,ne,F;const{id:e}=Ph(),[t,s]=f.useState(null);if(f.useEffect(()=>{we.get(`/api/studies/db/${e}`).then(k=>s(k.data.study.raw_json)).catch(()=>s(null))},[e]),!t)return r.jsx("p",{className:"p-6",children:"Loading"});const i=t.protocolSection||{},a=i.identificationModule||{},c=i.statusModule||{},l=i.designModule||{},u=i.descriptionModule||{},h=i.conditionsModule||{},m=i.outcomesModule||{},g=i.eligibilityModule||{},x=i.contactsLocationsModule||{},y=i.sponsorCollaboratorsModule||{},_=((T=c.completionDateStruct)==null?void 0:T.date)||((C=c.primaryCompletionDateStruct)==null?void 0:C.date)||"",w=({label:k,value:D})=>r.jsxs("div",{className:"border-b pb-2",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-600",children:k}),r.jsx("p",{className:"text-sm text-gray-900 mt-1",children:D||""})]}),b=({status:k})=>{var D,W;return k?r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"px-6 py-4 border-b",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Study Record Dates"}),r.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"These dates track the progress of study record and summary results submissions to ClinicalTrials.gov. Study records and reported results are reviewed by the National Library of Medicine (NLM) to make sure they meet specific quality control standards before being posted on the public website."})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 px-6 py-6 text-sm",children:[r.jsxs("div",{className:"border rounded-md",children:[r.jsx("div",{className:"bg-gray-100 px-4 py-2 font-semibold text-gray-900",children:"Study Registration Dates"}),r.jsxs("div",{className:"px-4 py-3 space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:"First Submitted"}),r.jsx("p",{className:"text-gray-800",children:k.studyFirstSubmitDate||""})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:"First Submitted that Met QC Criteria"}),r.jsx("p",{className:"text-gray-800",children:k.studyFirstSubmitQcDate||""})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:"First Posted (Estimated)"}),r.jsx("p",{className:"text-gray-800",children:((D=k.studyFirstPostDateStruct)==null?void 0:D.date)||""})]})]})]}),r.jsxs("div",{className:"border rounded-md",children:[r.jsx("div",{className:"bg-gray-100 px-4 py-2 font-semibold text-gray-900",children:"Study Record Updates"}),r.jsxs("div",{className:"px-4 py-3 space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:"Last Update Submitted that Met QC Criteria"}),r.jsx("p",{className:"text-gray-800",children:k.lastUpdateSubmitDate||""})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:"Last Update Posted (Estimated)"}),r.jsx("p",{className:"text-gray-800",children:((W=k.lastUpdatePostDateStruct)==null?void 0:W.date)||""})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900",children:"Last Verified"}),r.jsx("p",{className:"text-gray-800",children:k.statusVerifiedDate||""})]})]})]})]})]}):null},N=({conditionsModule:k,conditionBrowseModule:D})=>{const W=(k==null?void 0:k.keywords)||[],z=(D==null?void 0:D.meshes)||[],Z=(D==null?void 0:D.ancestors)||[];return!W.length&&!z.length&&!Z.length?null:r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"bg-blue-50 px-6 py-3 flex items-center justify-between",children:[r.jsx("h2",{className:"text-base font-semibold text-blue-900",children:"Terms related to this study"}),r.jsx("span",{className:"text-xl font-semibold text-blue-900",children:""})]}),r.jsxs("div",{className:"px-6 py-6 grid grid-cols-1 md:grid-cols-2 gap-10 text-sm",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-700 border-b pb-2 mb-3",children:"Keywords Provided by Study Sponsor"}),W.length?r.jsx("ul",{className:"space-y-1 text-gray-900",children:W.map((ge,xe)=>r.jsx("li",{children:ge},xe))}):r.jsx("p",{className:"text-gray-500",children:""})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-700 border-b pb-2 mb-3",children:"Additional Relevant MeSH Terms"}),[...z,...Z].length?r.jsx("ul",{className:"space-y-1 text-gray-900",children:[...z,...Z].map((ge,xe)=>r.jsx("li",{children:ge.term},xe))}):r.jsx("p",{className:"text-gray-500",children:""})]})]})]})};return r.jsxs("div",{className:"bg-gray-50 min-h-screen p-6 space-y-6",children:[r.jsxs("div",{className:"bg-white px-6 py-5 border-b space-y-4",children:[c.overallStatus&&r.jsx("div",{children:r.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded text-xs font-semibold
          ${c.overallStatus==="RECRUITING"?"bg-green-600 text-white":"bg-gray-600 text-white"}`,children:c.overallStatus})}),r.jsx("h1",{className:"text-xl font-bold text-gray-900 leading-snug",children:r.jsx("span",{className:"bg-yellow-200 px-1",children:a.briefTitle||""})}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-blue-700 font-semibold",children:"NCT ID"})," ",r.jsx("span",{className:"text-gray-900",children:a.nctId||""})]}),((j=y.leadSponsor)==null?void 0:j.name)&&r.jsxs("div",{children:[r.jsx("span",{className:"text-blue-700 font-semibold",children:"Sponsor"})," ",r.jsx("span",{className:"text-gray-900",children:y.leadSponsor.name})]}),((P=y.responsibleParty)==null?void 0:P.organization)&&r.jsxs("div",{children:[r.jsx("span",{className:"text-blue-700 font-semibold",children:"Information provided by"})," ",r.jsx("span",{className:"text-gray-900",children:y.responsibleParty.organization})]}),((E=c.lastUpdatePostDateStruct)==null?void 0:E.date)&&r.jsxs("div",{children:[r.jsx("span",{className:"text-blue-700 font-semibold",children:"Last Update Posted"})," ",r.jsx("span",{className:"text-gray-900",children:c.lastUpdatePostDateStruct.date})]})]})]}),r.jsx(An,{title:"Study Overview",children:r.jsxs("div",{className:"bg-white px-6 py-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Study Overview"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[r.jsxs("div",{className:"lg:col-span-2 text-sm text-gray-800 space-y-6",children:[u.briefSummary&&r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900 border-b pb-1 mb-2",children:"Brief Summary"}),r.jsx("p",{className:"leading-relaxed whitespace-pre-line",children:u.briefSummary})]}),a.officialTitle&&r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900 border-b pb-1 mb-2",children:"Official Title"}),r.jsx("p",{className:"leading-relaxed whitespace-pre-line",children:a.officialTitle})]}),Array.isArray(h.conditions)&&h.conditions.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900 border-b pb-1 mb-2",children:"Conditions"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:h.conditions.map((k,D)=>r.jsx("span",{className:"px-2 py-0.5 text-xs rounded bg-blue-100 text-blue-800",children:k},D))})]}),((V=(B=i.armsInterventionsModule)==null?void 0:B.interventions)==null?void 0:V.length)>0&&r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-gray-900 border-b pb-1 mb-2",children:"Intervention / Treatment"}),r.jsx("ul",{className:"list-disc ml-5 space-y-1",children:i.armsInterventionsModule.interventions.map((k,D)=>r.jsxs("li",{children:[k.type,": ",r.jsx("strong",{children:k.name})]},D))})]})]}),r.jsxs("div",{className:"text-sm space-y-4",children:[r.jsx(w,{label:"Study Start (Actual)",value:(U=c.startDateStruct)==null?void 0:U.date}),r.jsx(w,{label:"Primary Completion (Estimated)",value:(X=c.primaryCompletionDateStruct)==null?void 0:X.date}),r.jsx(w,{label:"Study Completion (Estimated)",value:_}),r.jsx(w,{label:"Enrollment (Estimated)",value:(M=l.enrollmentInfo)==null?void 0:M.count}),r.jsx(w,{label:"Study Type",value:l.studyType}),r.jsx(w,{label:"Phase",value:GE(l.phases)})]})]})]})}),r.jsx(An,{title:"Study Description",children:r.jsxs("div",{className:"space-y-4",children:[u.briefSummary?r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Brief Summary"}),r.jsx("p",{className:"text-sm text-gray-700 mt-1 whitespace-pre-line",children:u.briefSummary})]}):null,u.detailedDescription?r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Detailed Description"}),r.jsx("p",{className:"text-sm text-gray-700 mt-1 whitespace-pre-line",children:u.detailedDescription})]}):null,!u.briefSummary&&!u.detailedDescription?r.jsx("p",{className:"text-sm text-gray-500",children:""}):null]})}),r.jsx(An,{title:"Conditions and Keywords",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Conditions"}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:Array.isArray(h.conditions)&&h.conditions.length?h.conditions.map((k,D)=>r.jsx("span",{className:"px-3 py-1 rounded-full text-xs bg-blue-50 text-blue-700 border border-blue-100",children:k},D)):r.jsx("span",{className:"text-sm text-gray-500",children:""})})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Keywords"}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:Array.isArray(h.keywords)&&h.keywords.length?h.keywords.map((k,D)=>r.jsx("span",{className:"px-3 py-1 rounded-full text-xs bg-gray-50 text-gray-700 border border-gray-200",children:k},D)):r.jsx("span",{className:"text-sm text-gray-500",children:""})})]})]})}),((($=m.primaryOutcomes)==null?void 0:$.length)||((H=m.secondaryOutcomes)==null?void 0:H.length))&&r.jsx(An,{title:"What is the study measuring?",children:r.jsxs("div",{className:"space-y-8",children:[r.jsx(oh,{title:"Primary Outcome Measures",outcomes:m.primaryOutcomes}),r.jsx(oh,{title:"Secondary Outcome Measures",outcomes:m.secondaryOutcomes})]})}),Array.isArray(x.locations)&&x.locations.length?r.jsx(An,{title:"Locations",children:r.jsx(qE,{locations:x.locations})}):null,Array.isArray(x.centralContacts)&&x.centralContacts.length?r.jsx(An,{title:"Central Contacts",children:r.jsx(YE,{centralContacts:x.centralContacts})}):null,r.jsx(An,{title:"Eligibility Criteria",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Description"}),g.eligibilityCriteria?r.jsx("div",{className:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap",children:g.eligibilityCriteria}):r.jsx("p",{className:"text-sm text-gray-500",children:""})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gray-50 border rounded-lg p-4",children:[r.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:["Ages Eligible for Study",r.jsx("span",{className:"cursor-help",children:""})]}),r.jsxs("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:[g.minimumAge||"",g.maximumAge?` to ${g.maximumAge}`:"",g.minimumAge?" (Adult)":""]})]}),r.jsxs("div",{className:"bg-gray-50 border rounded-lg p-4",children:[r.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:["Sexes Eligible for Study",r.jsx("span",{className:"cursor-help",children:""})]}),r.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:g.sex||""})]}),r.jsxs("div",{className:"bg-gray-50 border rounded-lg p-4",children:[r.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:["Accepts Healthy Volunteers",r.jsx("span",{className:"cursor-help",children:""})]}),r.jsx("p",{className:"text-sm font-semibold text-gray-900 mt-1",children:g.healthyVolunteers===!0?"Yes":g.healthyVolunteers===!1?"No":""})]})]})]})}),i.armsInterventionsModule&&r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[r.jsxs("div",{className:"px-6 py-4 border-b",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Study Plan"}),r.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"This section provides details of the study plan, including how the study is designed and what the study is measuring."})]}),r.jsxs("div",{className:"bg-blue-50 px-6 py-3 flex items-center justify-between",children:[r.jsx("h3",{className:"text-base font-semibold text-blue-900",children:"How is the study designed?"}),r.jsx("span",{className:"text-xl font-semibold text-blue-900",children:""})]}),r.jsxs("div",{className:"px-6 py-5 space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Design Details"}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-900",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Primary Purpose:"})," ",(O=l.designInfo)!=null&&O.primaryPurpose?l.designInfo.primaryPurpose.replace(/_/g," "):""]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Allocation:"})," ",((ee=l.designInfo)==null?void 0:ee.allocation)||"N/A"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Interventional Model:"})," ",(de=l.designInfo)!=null&&de.interventionModel?l.designInfo.interventionModel.replace(/_/g," "):""]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Masking:"})," ",(he=(J=l.designInfo)==null?void 0:J.maskingInfo)!=null&&he.masking?`${l.designInfo.maskingInfo.masking.replace(/_/g," ")} `:""]})]})]}),r.jsx("hr",{className:"border-t border-blue-200"}),r.jsx(JE,{armsModule:i.armsInterventionsModule})]})]}),r.jsx(b,{status:c}),(h||((ne=t.derivedSection)==null?void 0:ne.conditionBrowseModule))&&r.jsx(N,{conditionsModule:h,conditionBrowseModule:(F=t.derivedSection)==null?void 0:F.conditionBrowseModule}),y&&Object.keys(y).length?r.jsx(An,{title:"Sponsors and Collaborators",children:r.jsx(XE,{sponsorModule:y})}):null]})},e2=()=>{const[e,t]=f.useState([]),[s,i]=f.useState([]),[a,c]=f.useState([]),[l,u]=f.useState([]),[h,m]=f.useState(null),[g,x]=f.useState(""),[y,_]=f.useState(!1),[w,b]=f.useState(null),[N,T]=f.useState([]),[C,j]=f.useState([]),[P,E]=f.useState([]),[B,V]=f.useState([]),[U,X]=f.useState(null),[M,$]=f.useState({rule_name:"",location_text:"",condition_text:"",frequency_code:""});f.useEffect(()=>{we.get("/api/email-management/email-types").then(k=>t(k.data.data)),we.get("/api/email-management/frequencies").then(k=>i(k.data.data)),we.get("/api/email-management/users").then(k=>c(k.data.data)),we.get("/api/email-management/study-phases").then(k=>T(k.data.data)),we.get("/api/email-management/study-conditions").then(k=>j(k.data.data))},[]);const H=k=>{k.code==="STUDY"&&(m(k),_(!0))},O=k=>{we.get(`/api/email-management/rules/${k}`).then(D=>u(D.data.data))},ee=async()=>{if(!g){alert("Please select a user first");return}U?await we.put(`/api/email-management/rules/${U.id}`,{location_text:M.location_text||null,phase:P,condition_text:B,frequency_code:M.frequency_code,timezone:"America/Chicago",schedule_day_of_week:M.schedule_day_of_week,schedule_day_of_month:M.schedule_day_of_month,schedule_time:M.schedule_time,is_enabled:1}):await we.post("/api/email-management/rules",{email_type_code:"STUDY",target_user_id:g,...M}),X(null),$({location_text:"",condition_text:"",frequency_code:""}),E([]),V([]),O(g)},de=async k=>{confirm("Are you sure you want to delete this rule?")&&(await we.delete(`/api/email-management/rules/${k}`),O(g))},J=k=>{try{return k?JSON.parse(k):[]}catch{return[]}},he=k=>k.frequency_code==="DAILY"?"Daily":k.frequency_code==="WEEKLY"?`Weekly (Day ${k.schedule_day_of_week})`:k.frequency_code==="MONTHLY"?`Monthly (Day ${k.schedule_day_of_month})`:k.frequency_code,ne=k=>{if(k>3&&k<21)return"th";switch(k%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}};f.useEffect(()=>{const k=()=>setOpen(!1);return document.addEventListener("click",k),()=>document.removeEventListener("click",k)},[]);const F=({label:k,options:D=[],value:W=[],onChange:z,placeholder:Z="Select..."})=>{const[ge,xe]=f.useState(!1),[ue,Te]=f.useState(""),ze=f.useRef(null),K=le=>{W.includes(le)?z(W.filter(Pe=>Pe!==le)):z([...W,le])},ie=D.filter(le=>le.toLowerCase().includes(ue.toLowerCase()));return f.useEffect(()=>{const le=Pe=>{ze.current&&!ze.current.contains(Pe.target)&&xe(!1)};return document.addEventListener("mousedown",le),()=>document.removeEventListener("mousedown",le)},[]),r.jsxs("div",{ref:ze,className:"relative mb-6",children:[r.jsx("label",{className:"block text-sm font-semibold mb-1",children:k}),r.jsxs("div",{className:"border rounded-md p-3 flex justify-between items-center cursor-pointer bg-white",onClick:()=>xe(!0),children:[r.jsx("span",{className:"text-sm text-gray-600",children:W.length?`${W.length} selected`:Z}),r.jsx("span",{className:"text-gray-400",children:""})]}),ge&&r.jsxs("div",{className:"absolute z-50 w-full bg-white border rounded-lg shadow-lg mt-2",children:[r.jsx("div",{className:"p-2 border-b",children:r.jsx("input",{type:"text",className:"w-full border rounded p-2 text-sm",placeholder:"Search...",value:ue,onChange:le=>Te(le.target.value)})}),r.jsxs("div",{className:"max-h-60 overflow-y-auto p-2",children:[ie.length===0&&r.jsx("p",{className:"text-xs text-gray-400 p-2",children:"No results found"}),ie.map(le=>r.jsxs("div",{className:"flex items-center gap-2 p-2 rounded hover:bg-gray-100 cursor-pointer",onClick:()=>K(le),children:[r.jsx("input",{type:"checkbox",checked:W.includes(le),readOnly:!0}),r.jsx("span",{className:"text-sm",children:le})]},le))]})]}),W.length>0&&r.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:W.map(le=>r.jsxs("span",{className:"bg-gray-100 border rounded-full px-3 py-1 text-xs flex items-center gap-2",children:[le,r.jsx("button",{className:"text-gray-500 hover:text-black",onClick:()=>K(le),children:""})]},le))})]})};return r.jsxs("div",{className:"p-6 bg-white rounded-lg shadow max-w-auto mx-auto mt-8",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Email Management"}),r.jsxs("table",{className:"w-full border mb-6",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"p-3 text-left",children:"Email Type"}),r.jsx("th",{className:"p-3 text-left",children:"Description"}),r.jsx("th",{className:"p-3 text-left",children:"Status"})]})}),r.jsx("tbody",{children:e.map(k=>r.jsxs("tr",{className:"border-b cursor-pointer hover:bg-gray-50",onClick:()=>H(k),children:[r.jsx("td",{className:"p-3",children:k.name}),r.jsx("td",{children:k.description}),r.jsx("td",{children:k.is_active?"Enabled":"Disabled"})]},k.id))})]}),y&&r.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",children:r.jsxs("div",{className:"absolute right-0 top-0 h-full w-[1200px] bg-white p-6 overflow-auto",children:[r.jsxs("div",{className:"flex justify-between mb-4",children:[r.jsx("h3",{className:"font-bold",children:w==null?void 0:w.name}),r.jsx("button",{onClick:()=>_(!1),children:"Close"})]}),r.jsxs("select",{className:"w-full border p-2 mb-2",onChange:k=>{const D=k.target.value;x(D),u([]),O(D)},children:[r.jsx("option",{children:"Select user"}),a.map(k=>r.jsx("option",{value:k.id,children:k.name},k.id))]}),r.jsx(F,{label:"ClinicalTrials.gov Study Phase",options:N,value:P,placeholder:"Select study phase(s)",onChange:k=>{E(k),$(D=>({...D,phase:k}))}}),r.jsx(F,{label:"ClinicalTrials.gov Condition",options:C,value:B,placeholder:"Select condition(s)",onChange:k=>{V(k),$(D=>({...D,condition_text:k}))}}),r.jsxs("select",{className:"w-full border p-2 mb-2",onChange:k=>$({...M,frequency_code:k.target.value}),children:[r.jsx("option",{children:"Select frequency"}),s.map(k=>r.jsx("option",{value:k.code,children:k.label},k.code))]}),["DAILY","WEEKLY","MONTHLY"].includes(M.frequency_code)&&r.jsx("input",{type:"time",className:"w-full border p-2 mb-2",onChange:k=>$({...M,schedule_time:k.target.value})}),M.frequency_code==="WEEKLY"&&r.jsxs("select",{className:"w-full border p-2 mb-2",onChange:k=>$({...M,schedule_day_of_week:k.target.value}),children:[r.jsx("option",{value:"",children:"Select weekday"}),r.jsx("option",{value:"1",children:"Monday"}),r.jsx("option",{value:"2",children:"Tuesday"}),r.jsx("option",{value:"3",children:"Wednesday"}),r.jsx("option",{value:"4",children:"Thursday"}),r.jsx("option",{value:"5",children:"Friday"})]}),M.frequency_code==="MONTHLY"&&r.jsxs("div",{className:"mb-2",children:[r.jsx("label",{className:"text-sm text-gray-600 block mb-1",children:"Select day of month"}),r.jsx("input",{type:"date",className:"w-full border p-2 rounded",onChange:k=>{if(!k.target.value)return;const W=new Date(k.target.value).getDate();$({...M,schedule_day_of_month:W})}}),M.schedule_day_of_month&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Email will be sent on the"," ",r.jsx("b",{children:M.schedule_day_of_month}),ne(M.schedule_day_of_month)," of every month"]})]}),r.jsx("button",{className:"w-full bg-black text-white p-2",onClick:ee,children:U?"Update Rule":"Save Rule"}),U&&r.jsx("button",{className:"w-full mt-2 border p-2",onClick:()=>{X(null),$({location_text:"",condition_text:"",frequency_code:""}),E([]),V([])},children:"Cancel Edit"}),r.jsx("div",{className:"mt-4",children:g&&l.length>0&&l.map(k=>{var z;const D=J(k.phase),W=J(k.condition_text);return r.jsxs("div",{className:"border rounded-lg p-4 mb-4 bg-gray-50",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-lg",children:"User"}),r.jsx("p",{className:"text-sm text-gray-500",children:(z=a.find(Z=>Z.id===k.target_user_id))==null?void 0:z.name})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-lg",children:k.rule_name}),r.jsx("p",{className:"text-sm text-gray-500",children:he(k)})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"px-3 py-1 text-sm border rounded hover:bg-gray-100",onClick:()=>{X(k),$({rule_name:k.rule_name,location_text:k.location_text||"",frequency_code:k.frequency_code,schedule_day_of_week:k.schedule_day_of_week,schedule_day_of_month:k.schedule_day_of_month,schedule_time:k.schedule_time,phase:J(k.phase),condition_text:J(k.condition_text)}),E(J(k.phase)),V(J(k.condition_text))},children:"Edit"}),r.jsx("button",{className:"px-3 py-1 text-sm border border-red-300 text-red-600 rounded hover:bg-red-50",onClick:()=>de(k.id),children:"Delete"})]})]}),D.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("p",{className:"text-sm font-medium mb-1",children:"Study Phases"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:D.map(Z=>r.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:Z},Z))})]}),W.length>0&&r.jsxs("div",{className:"mb-2",children:[r.jsx("p",{className:"text-sm font-medium mb-1",children:"Conditions"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:W.map(Z=>r.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs",children:Z},Z))})]}),r.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:["Status:"," ",r.jsx("span",{className:k.is_enabled?"text-green-600 font-medium":"text-red-600",children:k.is_enabled?"Enabled":"Disabled"})]})]},k.id)})})]})})]})},t2=f.lazy(()=>be(()=>import("./DashboardLayout-DMAl0DeD.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]))),n2=f.lazy(()=>be(()=>import("./Login-r7K6BL4S.js"),__vite__mapDeps([15,1,2,16,17,18,3,14]))),s2=f.lazy(()=>be(()=>import("./Register-B46rogpI.js"),__vite__mapDeps([19,1,2,16,17,18,3,14]))),r2=f.lazy(()=>be(()=>import("./GmailCallback-1aHlXEYq.js"),__vite__mapDeps([20,1,2,3,14]))),i2=f.lazy(()=>be(()=>import("./GmailPopupCallback-DLdbBAfL.js"),__vite__mapDeps([21,1,2,3]))),o2=f.lazy(()=>be(()=>import("./FacebookPopupCallback-gDuq6pV-.js"),__vite__mapDeps([22,1,2,3]))),a2=f.lazy(()=>be(()=>import("./FacebookCallback-BJuyvbet.js"),__vite__mapDeps([23,1,2,3]))),ah=f.lazy(()=>be(()=>import("./Dashboard-BWdEyjTF.js"),__vite__mapDeps([24,1,2,14,25,5,6,26,27,13,28,29,3]))),l2=f.lazy(()=>be(()=>import("./KnowledgeBases-CJptN3-_.js"),__vite__mapDeps([30,1,2,31,32,33,26,25,5,6,34,3,35,36,37,38,39,14]))),c2=f.lazy(()=>be(()=>import("./Action-NzFRBQPZ.js"),__vite__mapDeps([40,1,2,31,32,33,26,25,5,6,34,3,35,36,38,39,14]))),d2=f.lazy(()=>be(()=>import("./Contacts-DUG41PtV.js"),__vite__mapDeps([41,1,2,32,33,26,25,5,6,42,17,43,44,45,46,47,48,14,49,50,51,34,3,35,36,38]))),u2=f.lazy(()=>be(()=>import("./Messages-5U28KSxR.js"),__vite__mapDeps([52,1,2,25,5,6,26,45,46,48,14,47,49,50,3]))),h2=f.lazy(()=>be(()=>import("./Patients-DJ-UVvLf.js"),__vite__mapDeps([53,1,2,14,3,45,33,25,5,6,26,39]))),f2=f.lazy(()=>be(()=>import("./ClinicalRoles-CmyU-4-i.js"),__vite__mapDeps([54,1,2,14,55,33,3]))),m2=f.lazy(()=>be(()=>import("./ClinicalDashboard-D9nwqWRP.js"),__vite__mapDeps([56,1,2,14,57,58,59,60,3]))),p2=f.lazy(()=>be(()=>import("./ClinicalSites-CudjzyqM.js"),__vite__mapDeps([61,1,2,14,57,3]))),g2=f.lazy(()=>be(()=>import("./ClinicalStudies-BlVMcl-S.js"),__vite__mapDeps([62,1,2,14,58,57,59,55,3]))),x2=f.lazy(()=>be(()=>import("./ClinicalUsers-B61fHWTZ.js"),__vite__mapDeps([63,1,2,14,59,55,57,3]))),v2=f.lazy(()=>be(()=>import("./StudyParticipants-D6d8secX.js"),__vite__mapDeps([64,1,2,14,60,58,3]))),y2=f.lazy(()=>be(()=>import("./Lists-CGFzw4-Y.js"),__vite__mapDeps([65,1,2,25,5,6,66,3,14,49,47,67,37,17,43,44,45,46,48,50,51,34,68,69]))),_2=f.lazy(()=>be(()=>import("./ListDetails-C7xaC6sh.js"),__vite__mapDeps([70,1,2,32,33,25,5,6,34,68,17,43,3,14]))),b2=f.lazy(()=>be(()=>import("./Campaigns-n8bT6tTs.js"),__vite__mapDeps([71,1,2,32,33,26,25,5,6,34,72,73,35,3,38,39,14]))),w2=f.lazy(()=>be(()=>import("./Recordings-CdItVzHA.js"),__vite__mapDeps([74,1,2,32,33,26,25,5,6,3,39,72,73,35,37,8,75,14,34]))),j2=f.lazy(()=>be(()=>import("./RecordingDetail-BfKQ6AHS.js"),__vite__mapDeps([76,1,2,14,38,75,37,25,5,6,3]))),S2=f.lazy(()=>be(()=>import("./Support-WoNn-Mez.js"),__vite__mapDeps([77,1,2,3,32,33,26,25,5,6,17,43,34,14,78,79,45,35,69]))),N2=f.lazy(()=>be(()=>import("./SupportTicketDetail-D_GdPhcK.js"),__vite__mapDeps([80,1,2,14,45,78,79,3])).then(e=>({default:e.SupportTicketDetail}))),C2=f.lazy(()=>be(()=>import("./AdminSupport-CRIqIMlr.js"),__vite__mapDeps([81,1,2,32,33,26,25,5,6,42,14,79,39,3,17,43,27,13,28]))),T2=f.lazy(()=>be(()=>import("./Agents-C8A8kFUz.js"),__vite__mapDeps([82,1,2,32,33,26,25,5,6,45,35,36,37,38,14,49,39,3,42]))),P2=f.lazy(()=>be(()=>import("./VapiStyleAgents-N0RQPC0H.js"),__vite__mapDeps([83,1,2,14,49,45,84,85,86,3]))),E2=f.lazy(()=>be(()=>import("./AddAgent-BiQQtQ-z.js"),__vite__mapDeps([87,1,2,25,5,6,3,14])).then(e=>({default:e.AddAgent}))),L2=f.lazy(()=>be(()=>import("./Models-BXcY1Ak_.js"),__vite__mapDeps([88,1,2,14,25,5,6,3]))),A2=f.lazy(()=>be(()=>import("./Voices-DA-W5s-N.js"),__vite__mapDeps([89,1,2,14,25,5,6,3]))),k2=f.lazy(()=>be(()=>import("./VoicePreviewTest-DFp3CXgR.js"),__vite__mapDeps([90,1,2,86,3,14]))),R2=f.lazy(()=>be(()=>import("./PhoneNumbers-kZVs8VG3.js"),__vite__mapDeps([91,1,2,14,33,25,5,6,48,47,49,50,92,68,3]))),M2=f.lazy(()=>be(()=>import("./OutboundCalls-BDqSLgHg.js"),__vite__mapDeps([93,1,2,14,33,75,37,25,5,6,66,3,49,47]))),I2=f.lazy(()=>be(()=>import("./Outbound-BSoUlCmU.js"),__vite__mapDeps([94,1,2,14,33,25,5,6,95,47,49,67,37,3]))),O2=f.lazy(()=>be(()=>import("./CreateCampaignPage-4y9BDiBx.js"),__vite__mapDeps([96,1,2,14,36,25,5,6,95,49,47,3])).then(e=>({default:e.CreateCampaignPage}))),lh=f.lazy(()=>be(()=>import("./Workflows-Bc7oWD-N.js"),__vite__mapDeps([97,1,2,14,25,5,6,26,33,69,98,99,100,17,16,49,50,3]))),pi=f.lazy(()=>be(()=>import("./WorkflowBuilder-DY9n8X2a.js"),__vite__mapDeps([101,1,2,14,84,7,6,8,99,100,3]))),D2=f.lazy(()=>be(()=>import("./Webhooks-D1YlL8zS.js"),__vite__mapDeps([102,1,2,3,25,5,6,33,68,34,103,47,49,99,36,14]))),B2=f.lazy(()=>be(()=>import("./AuditLogs-DWMXiHzb.js"),__vite__mapDeps([104,1,2,14,72,73,35,33,3]))),z2=f.lazy(()=>be(()=>import("./Integrations-BZ8e6JeW.js"),__vite__mapDeps([105,1,2,25,5,6,26,103,3,14]))),F2=f.lazy(()=>be(()=>import("./SuperAdminDashboard-DhHqMcr0.js"),__vite__mapDeps([106,1,2,25,5,6,26,3,14]))),V2=f.lazy(()=>be(()=>import("./Roles-_YceSwpl.js"),__vite__mapDeps([107,1,2,14,25,5,6,26,108,109,68,42,3]))),$2=f.lazy(()=>be(()=>import("./RolePermissionManagement-BfrLKW-s.js"),__vite__mapDeps([110,1,2,14,25,5,6,26,98,108,109,68,42,3]))),U2=f.lazy(()=>be(()=>import("./Permissions-CuQQnbhi.js"),__vite__mapDeps([111,1,2,14,25,5,6,26,98,33,42,3]))),H2=f.lazy(()=>be(()=>import("./DefaultAssistants-BcnNQbYN.js"),__vite__mapDeps([112,1,2,14,85,38,3]))),W2=f.lazy(()=>be(()=>import("./UserManagement-B8ZyCNI-.js"),__vite__mapDeps([113,1,2,25,5,6,26,45,98,92,109,68,42,3,69,73,14]))),Z2=f.lazy(()=>be(()=>import("./CreditManagement-BLg-1AD2.js"),__vite__mapDeps([114,1,2,33,3,14]))),G2=f.lazy(()=>be(()=>import("./UserCreditPortal-BLus9ty2.js"),__vite__mapDeps([115,1,2,10,11,12,13,3,27,29,14]))),K2=f.lazy(()=>be(()=>import("./TestCreditsPage-CfbSMEOc.js"),__vite__mapDeps([116,1,2,3,14]))),q2=f.lazy(()=>be(()=>import("./CreditPurchasePage-Me3RIUfO.js"),__vite__mapDeps([117,1,2,12,13,3,14]))),gi=f.lazy(()=>be(()=>import("./TestPurchasePage-F_3ThWyX.js"),__vite__mapDeps([118,1,2]))),Y2=f.lazy(()=>be(()=>import("./CreditDebug-Dg_58-lV.js"),__vite__mapDeps([119,1,2,3,14]))),X2=f.lazy(()=>be(()=>import("./SimpleCreditTest-B36-YwGc.js"),__vite__mapDeps([120,1,2,3,14]))),J2=f.lazy(()=>be(()=>import("./GmailDebug-Cm7YtPlS.js"),__vite__mapDeps([121,1,2,3,14]))),Q2=f.lazy(()=>be(()=>import("./ModalTestPage-BJE4JdOh.js"),__vite__mapDeps([122,1,2,11,12,13,3,14]))),eL=f.lazy(()=>be(()=>import("./Settings-eAnBGb3V.js"),__vite__mapDeps([123,1,2,25,5,6,92,45,10,11,12,13,3,14])));f.lazy(()=>be(()=>import("./TestLogout-DluzZnkn.js"),__vite__mapDeps([124,1,2,9,3,14])));const tL=f.lazy(()=>be(()=>import("./Privacy-CHONU9J1.js"),__vite__mapDeps([125,1,2]))),nL=f.lazy(()=>be(()=>import("./Terms-6_UAROCM.js"),__vite__mapDeps([126,1,2]))),sL=f.lazy(()=>be(()=>import("./NotFound-DY19zR40.js"),__vite__mapDeps([127,1,2,4,3,14])));function rL(){const e=kv(),[t,s]=f.useState(!0),{isRefresh:i}=GS(),a=new Ov({defaultOptions:{queries:{staleTime:30*1e3,gcTime:2*60*1e3,retry:1,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchInterval:5*60*1e3,refetchIntervalInBackground:!1},mutations:{onSuccess:()=>{a.invalidateQueries()}}}});return f.useEffect(()=>{Ba.setQueryClient(a),Ba.setupAutoCacheManagement(),ZS.setupAutoMonitoring(),console.log(" Cache management and performance monitoring initialized");const c=setTimeout(()=>{s(!1)},100);return()=>clearTimeout(c)},[a]),f.useEffect(()=>{!t&&!i&&(console.log(" Route changed, clearing cache for fresh data..."),be(async()=>{const{cacheManager:c}=await Promise.resolve().then(()=>Ss);return{cacheManager:c}},void 0).then(({cacheManager:c})=>{c.clearCacheForNavigation(),c.invalidateQueriesByPage(e.pathname)}).catch(c=>{console.warn("Could not clear cache for navigation:",c)}))},[e.pathname,t,i]),r.jsx(r.Fragment,{children:r.jsxs(Dv,{client:a,children:[r.jsx(HS,{children:r.jsx(zS,{children:r.jsx(FS,{children:r.jsx(WS,{children:r.jsx(f.Suspense,{fallback:r.jsx($l,{delay:100}),children:r.jsxs(Rv,{children:[r.jsx(pe,{path:"privacy",element:r.jsx(tL,{})}),r.jsx(pe,{path:"terms",element:r.jsx(nL,{})}),r.jsxs(pe,{element:r.jsx(Jw,{}),children:[r.jsx(pe,{path:"login",element:r.jsx(n2,{})}),r.jsx(pe,{path:"register",element:r.jsx(s2,{})}),r.jsx(pe,{path:"gmail/callback",element:r.jsx(r2,{})}),r.jsx(pe,{path:"gmail/popup-callback",element:r.jsx(i2,{})}),r.jsx(pe,{path:"facebook/popup-callback",element:r.jsx(o2,{})}),r.jsx(pe,{path:"integration/facebook/callback",element:r.jsx(a2,{})})]}),r.jsx(pe,{element:r.jsx($S,{}),children:r.jsxs(pe,{path:"/",element:r.jsx(t2,{}),children:[r.jsx(pe,{index:!0,element:r.jsx(ah,{})}),r.jsx(pe,{path:"dashboard",element:r.jsx(ah,{})}),r.jsx(pe,{path:"agents",element:r.jsx(P2,{})}),r.jsx(pe,{path:"agents/list",element:r.jsx(T2,{})}),r.jsx(pe,{path:"agents/add",element:r.jsx(E2,{})}),r.jsx(pe,{path:"models",element:r.jsx(L2,{})}),r.jsx(pe,{path:"voices",element:r.jsx(A2,{})}),r.jsx(pe,{path:"voice-test",element:r.jsx(k2,{})}),r.jsx(pe,{path:"phone-numbers",element:r.jsx(R2,{})}),r.jsx(pe,{path:"outbound-calls",element:r.jsx(M2,{})}),r.jsx(pe,{path:"outbound",element:r.jsx(I2,{})}),r.jsx(pe,{path:"outbound/create-campaign",element:r.jsx(O2,{})}),r.jsx(pe,{path:"workflows",element:r.jsx(lh,{})}),r.jsx(pe,{path:"workflows/:id",element:r.jsx(pi,{})}),r.jsx(pe,{path:"workflows/:id/edit",element:r.jsx(pi,{})}),r.jsx(pe,{path:"dashboard/workflows",element:r.jsx(lh,{})}),r.jsx(pe,{path:"dashboard/workflows/:id",element:r.jsx(pi,{})}),r.jsx(pe,{path:"dashboard/workflows/:id/edit",element:r.jsx(pi,{})}),r.jsx(pe,{path:"webhooks",element:r.jsx(D2,{})}),r.jsx(pe,{path:"credits",element:r.jsx(G2,{})}),r.jsx(pe,{path:"credits/purchase",element:r.jsx(q2,{})}),r.jsx(pe,{path:"purchase-credits",element:r.jsx(gi,{})}),r.jsx(pe,{path:"buy-credits",element:r.jsx(gi,{})}),r.jsx(pe,{path:"test-purchase",element:r.jsx(gi,{})}),r.jsx(pe,{path:"test-credits",element:r.jsx(K2,{})}),r.jsx(pe,{path:"debug-credits",element:r.jsx(Y2,{})}),r.jsx(pe,{path:"simple-credit-test",element:r.jsx(X2,{})}),r.jsx(pe,{path:"debug-gmail",element:r.jsx(J2,{})}),r.jsx(pe,{path:"modal-test",element:r.jsx(Q2,{})}),r.jsx(pe,{path:"audit-logs",element:r.jsx(B2,{})}),r.jsx(pe,{path:"knowledge-bases",element:r.jsx(l2,{})}),r.jsx(pe,{path:"actions",element:r.jsx(c2,{})}),r.jsx(pe,{path:"contacts",element:r.jsx(d2,{})}),r.jsx(pe,{path:"messages",element:r.jsx(u2,{})}),r.jsx(pe,{path:"patients",element:r.jsx(h2,{})}),r.jsx(pe,{path:"clinical-roles",element:r.jsx(f2,{})}),r.jsx(pe,{path:"clinical-dashboard",element:r.jsx(m2,{})}),r.jsx(pe,{path:"clinical-users",element:r.jsx(x2,{})}),r.jsx(pe,{path:"clinical-sites",element:r.jsx(p2,{})}),r.jsx(pe,{path:"clinical-studies",element:r.jsx(g2,{})}),r.jsx(pe,{path:"study-participants",element:r.jsx(v2,{})}),r.jsx(pe,{path:"lists",element:r.jsx(y2,{})}),r.jsx(pe,{path:"lists/:id",element:r.jsx(_2,{})}),r.jsx(pe,{path:"campaigns",element:r.jsx(b2,{})}),r.jsx(pe,{path:"recordings",element:r.jsx(w2,{})}),r.jsx(pe,{path:"recordings/:id",element:r.jsx(j2,{})}),r.jsx(pe,{path:"support",element:r.jsx(S2,{})}),r.jsx(pe,{path:"support/ticket/:ticketId",element:r.jsx(N2,{})}),r.jsx(pe,{path:"admin-support",element:r.jsx(C2,{})}),r.jsx(pe,{path:"users",element:r.jsx(W2,{})}),r.jsx(pe,{path:"marketing-ads",element:r.jsx(zT,{})}),r.jsx(pe,{path:"leads-scraper",element:r.jsx(hE,{})}),r.jsx(pe,{path:"leads-contacts",element:r.jsx(SE,{})}),r.jsx(pe,{path:"leads-contacts/import",element:r.jsx(NE,{})}),r.jsx(pe,{path:"leads/:id",element:r.jsx(CE,{})}),r.jsx(pe,{path:"integration",element:r.jsx(z2,{})}),r.jsx(pe,{path:"super-admin",element:r.jsx(F2,{})}),r.jsx(pe,{path:"roles",element:r.jsx($2,{})}),r.jsx(pe,{path:"roles/old",element:r.jsx(V2,{})}),r.jsx(pe,{path:"permissions",element:r.jsx(U2,{})}),r.jsx(pe,{path:"default-assistants",element:r.jsx(H2,{})}),r.jsx(pe,{path:"admin/credits",element:r.jsx(Z2,{})}),r.jsx(pe,{path:"settings",element:r.jsx(eL,{})}),r.jsx(pe,{path:"studies_calculator",element:r.jsx(EE,{})}),r.jsx(pe,{path:"/studies/db/:id",element:r.jsx(QE,{})}),r.jsx(pe,{path:"email_management",element:r.jsx(e2,{})})]})}),r.jsx(pe,{path:"/test-route-direct",element:r.jsx(gi,{})}),r.jsx(pe,{path:"*",element:r.jsx(sL,{})})]})})})})})}),r.jsx(my,{richColors:!0,position:"top-right"}),r.jsx(Vm,{})]})})}Eh(document.getElementById("root")).render(r.jsx(f.StrictMode,{children:r.jsx(Mv,{children:r.jsx(rL,{})})}));export{$L as $,Fi as A,ye as B,Gt as C,fE as D,Vi as E,VT as F,ZL as G,OL as H,at as I,ct as J,Tu as K,He as L,wE as M,zL as N,bE as O,HL as P,jE as Q,VL as R,dn as S,Zl as T,BL as U,bP as V,wP as W,jP as X,WL as Y,Ya as Z,UL as _,VS as a,xE as a0,AL as a1,MN as a2,kL as a3,PN as a4,Ah as a5,py as a6,il as a7,xy as a8,gy as a9,Lh as aa,Hl as ab,Hm as ac,Wl as ad,xp as ae,kN as af,be as ag,LL as b,We as c,EL as d,mE as e,Ug as f,yE as g,_E as h,Hg as i,we as j,Kt as k,Rn as l,cn as m,Mn as n,Ym as o,nn as p,un as q,sn as r,Ie as s,re as t,Vl as u,qt as v,BT as w,FL as x,qa as y,zi as z};
//# sourceMappingURL=index-9NRFi5uV.js.map
