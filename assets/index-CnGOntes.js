const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DashboardLayout-DX9WPRHJ.js","assets/ui-Bcnk-Zux.js","assets/vendor-D6QveUxv.js","assets/router-jXXg-8rg.js","assets/index-DjKJqAo0.js","assets/scroll-area-CgE1Gapf.js","assets/index-BuBVdwgz.js","assets/tooltip-C4EjLk2p.js","assets/index-WXL6DcJH.js","assets/LogoutModal-i7gpP73f.js","assets/CreditBalance-D7HI-hdi.js","assets/PurchaseCreditsModal--gJ4yMZ1.js","assets/react-stripe.esm-H7TrQbxp.js","assets/index-B4aCQGRZ.js","assets/query-CO-DO_55.js","assets/Login-Dd3PRa9X.js","assets/index-D4ZITe_Q.js","assets/resolvers-BDyAs6MX.js","assets/AuthCard-B8iRJW32.js","assets/Register-BY1AkXcs.js","assets/GmailCallback-BnksdgTt.js","assets/GmailPopupCallback-vD5Fywk5.js","assets/FacebookPopupCallback-mMpnSNWn.js","assets/FacebookCallback-D1CbYK16.js","assets/Dashboard-I6XVJ0Cf.js","assets/Page-Cw4AkXu3.js","assets/Header-RmoPuMXB.js","assets/sheet-Dvm26hBH.js","assets/PieChart-DhySwOzR.js","assets/BarChart-es67lIUf.js","assets/LineChart-CM2nA2Y_.js","assets/KnowledgeBases-CSz1k-l9.js","assets/dynamicdata-DBD5QZ1_.js","assets/ModernTable-BZGsyKE7.js","assets/table-RYRZeZk7.js","assets/popover-BJ352tFn.js","assets/radio-group-B73Y8PJf.js","assets/slider-BU5jWtyW.js","assets/separator-C06MtmOw.js","assets/CustomPagination-DfO3BWt0.js","assets/Action-DGy8Konf.js","assets/Contacts-zj0p6DR5.js","assets/Loading-DZZIIR9h.js","assets/index.esm-2IctsHce.js","assets/ChatSidebar-DzbB4q_-.js","assets/avatar--ery3aDa.js","assets/messagingService-CjfKYTcK.js","assets/phoneNumberService-D5lNpD_H.js","assets/CreatePhoneNumberForm-ACbnf5kv.js","assets/agentService-_zNE3h1t.js","assets/CreditGuard-CHqg0OEG.js","assets/ChatSidebar-Bbgo5x5y.css","assets/Messages-Dr_pEF4Y.js","assets/Patients-BXoFzytC.js","assets/ClinicalRoles-CSWjWyyZ.js","assets/clinicalRoleService-9KCAu9HP.js","assets/ClinicalDashboard-DFGoNPTi.js","assets/clinicalSiteService-CrM9UORx.js","assets/clinicalStudyService-C1ibwekn.js","assets/clinicalUserService-CqlZ-567.js","assets/studyParticipantService-CodXnj3c.js","assets/ClinicalSites-wAmy8-Jh.js","assets/ClinicalStudies-By4WlsBG.js","assets/ClinicalUsers-BllAW16K.js","assets/StudyParticipants-DqNBD3Hc.js","assets/Lists-BG40q89e.js","assets/outboundService-BkzSDDgP.js","assets/CallRecordingPlayer-Bu5mMxHt.js","assets/usePermissions-Bd3GNuw3.js","assets/alert-dialog-FFSKd7cs.js","assets/ListDetails-BLp987_e.js","assets/Campaigns-DNjvUmi_.js","assets/calendar-CClfoGEv.js","assets/format-C-QuTXqM.js","assets/Recordings-3N6pJlN4.js","assets/recordingService-7qBF4htI.js","assets/RecordingDetail-CuepXmuu.js","assets/Support-DABwN6uv.js","assets/supportService-v396ygeR.js","assets/client-CnYpjzT6.js","assets/SupportTicketDetail-CGmzDV_g.js","assets/AdminSupport-DzKNE37r.js","assets/Agents-BLu3gU7S.js","assets/VapiStyleAgents-dgwzzg77.js","assets/vapi-DgZiUPdj.js","assets/defaultAssistantTemplateService-iHpoVUPk.js","assets/vapiProviders-CKv2MinT.js","assets/AddAgent-B3NF_GK7.js","assets/Models-vquaUvwO.js","assets/Voices-C8Q_Y4s3.js","assets/VoicePreviewTest-CxWQuvo6.js","assets/PhoneNumbers-BqysTQM7.js","assets/userService-CUqjjLRr.js","assets/OutboundCalls-DJjP2MyE.js","assets/Outbound-Cu6P1FO0.js","assets/campaignService-s0GdmDC5.js","assets/CreateCampaignPage-tVSORqbG.js","assets/Workflows-m7FG5Mdd.js","assets/skeleton-BOZe0XVu.js","assets/workflowService-BiYe7oVB.js","assets/vapiService-Bxa_d-G1.js","assets/WorkflowBuilder-4andImXU.js","assets/Webhooks-DMV8GnZ2.js","assets/GmailOAuthModal-DdnZAvJR.js","assets/AuditLogs-BQP5gkIg.js","assets/Integrations-Bf3Mi35d.js","assets/SuperAdminDashboard-CPvItet8.js","assets/Roles-L1F9DlnK.js","assets/checkbox-CqufpOU2.js","assets/PermissionRoute-fOCkcp9C.js","assets/RolePermissionManagement-B5CN9zqE.js","assets/Permissions-CJTaRd9m.js","assets/DefaultAssistants-D_1_XwwG.js","assets/UserManagement-CKiwfzaA.js","assets/CreditManagement-7H3bHpMB.js","assets/UserCreditPortal-B0v5SJrD.js","assets/TestCreditsPage-Czf-B2e_.js","assets/CreditPurchasePage-Bt0UJTf6.js","assets/TestPurchasePage-BORha3Sg.js","assets/CreditDebug-B5IjTeve.js","assets/SimpleCreditTest-DMbRMSkJ.js","assets/GmailDebug-CgqnkiHt.js","assets/ModalTestPage-BAAc1Hgg.js","assets/Settings-D1Q2vCk2.js","assets/TestLogout-DnADxKlt.js","assets/Privacy-D8CmafUi.js","assets/Terms-ptdb4EeW.js","assets/NotFound-B_HjlALb.js"])))=>i.map(i=>d[i]);
var Yx=Object.defineProperty;var Xx=(e,t,s)=>t in e?Yx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var bs=(e,t,s)=>Xx(e,typeof t!="symbol"?t+"":t,s);import{j as i,M as Wc,Z as Zc,B as Cr,S as ii,W as Jx,a as Qx,u as e0,o as t0,s as n0,l as s0,f as i0,b as r0,c as o0,h as a0,d as l0,e as c0,g as d0,i as u0,R as h0,F as f0,C as ah,k as m0,m as lh,n as Gc,T as p0,I as g0,V as qc,U as Tr,X as ch,p as dh,q as x0,D as ca,O as uh,P as v0,r as hh,t as y0,v as fh,w as mh,x as b0,y as _0,z as ph,A as w0,E as gh,G as j0,H as xh,J as vh,K as yh,L as bh,N as _h,Q as S0,Y as wh,_ as jh,$ as N0,a0 as C0,a1 as Io,a2 as T0,a3 as Kc,a4 as P0,a5 as Yc}from"./ui-Bcnk-Zux.js";import{a as Ls,r as f,R as me,c as Sh,g as E0,d as xn,b as Ni,e as L0}from"./vendor-D6QveUxv.js";import{O as Nh,u as Ci,N as A0,a as Ch,b as k0,R as R0,c as pe,H as M0}from"./router-jXXg-8rg.js";import{u as I0,Q as O0,a as D0}from"./query-CO-DO_55.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(a){if(a.ep)return;a.ep=!0;const c=s(a);fetch(a.href,c)}})();var Th,Xc=Ls;Th=Xc.createRoot,Xc.hydrateRoot;const B0="modulepreload",z0=function(e){return"/"+e},Jc={},_e=function(t,s,r){let a=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.allSettled(s.map(h=>{if(h=z0(h),h in Jc)return;Jc[h]=!0;const m=h.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":B0,m||(x.as="script"),x.crossOrigin="",x.href=h,u&&x.setAttribute("nonce",u),document.head.appendChild(x),m)return new Promise((y,b)=>{x.addEventListener("load",y),x.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${h}`)))})}))}function c(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return a.then(l=>{for(const u of l||[])u.status==="rejected"&&c(u.reason);return t().catch(c)})};var F0=(e,t,s,r,a,c,l,u)=>{let h=document.documentElement,m=["light","dark"];function g(b){(Array.isArray(e)?e:[e]).forEach(w=>{let _=w==="class",N=_&&c?a.map(T=>c[T]||T):a;_?(h.classList.remove(...N),h.classList.add(b)):h.setAttribute(w,b)}),x(b)}function x(b){u&&m.includes(b)&&(h.style.colorScheme=b)}function y(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)g(r);else try{let b=localStorage.getItem(t)||s,w=l&&b==="system"?y():b;g(w)}catch{}},V0=f.createContext(void 0),$0={setTheme:e=>{},themes:[]},U0=()=>{var e;return(e=f.useContext(V0))!=null?e:$0};f.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:r,enableColorScheme:a,defaultTheme:c,value:l,themes:u,nonce:h,scriptProps:m})=>{let g=JSON.stringify([s,t,c,e,u,l,r,a]).slice(1,-1);return f.createElement("script",{...m,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${F0.toString()})(${g})`}})});var H0=e=>{switch(e){case"success":return G0;case"info":return K0;case"warning":return q0;case"error":return Y0;default:return null}},W0=Array(12).fill(0),Z0=({visible:e,className:t})=>me.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},me.createElement("div",{className:"sonner-spinner"},W0.map((s,r)=>me.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),G0=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),q0=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),K0=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Y0=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),X0=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},me.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),me.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),J0=()=>{let[e,t]=me.useState(document.hidden);return me.useEffect(()=>{let s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e},da=1,Q0=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:s,...r}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:da++,c=this.toasts.find(u=>u.id===a),l=e.dismissible===void 0?!0:e.dismissible;return c?this.toasts=this.toasts.map(u=>u.id===a?(this.publish({...u,...e,id:a,title:s}),{...u,...e,id:a,dismissible:l,title:s}):u):this.addToast({title:s,...r,dismissible:l,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),a=s!==void 0,c,l=r.then(async h=>{if(c=["resolve",h],me.isValidElement(h))a=!1,this.create({id:s,type:"default",message:h});else if(tv(h)&&!h.ok){a=!1;let m=typeof t.error=="function"?await t.error(`HTTP error! status: ${h.status}`):t.error,g=typeof t.description=="function"?await t.description(`HTTP error! status: ${h.status}`):t.description;this.create({id:s,type:"error",message:m,description:g})}else if(t.success!==void 0){a=!1;let m=typeof t.success=="function"?await t.success(h):t.success,g=typeof t.description=="function"?await t.description(h):t.description;this.create({id:s,type:"success",message:m,description:g})}}).catch(async h=>{if(c=["reject",h],t.error!==void 0){a=!1;let m=typeof t.error=="function"?await t.error(h):t.error,g=typeof t.description=="function"?await t.description(h):t.description;this.create({id:s,type:"error",message:m,description:g})}}).finally(()=>{var h;a&&(this.dismiss(s),s=void 0),(h=t.finally)==null||h.call(t)}),u=()=>new Promise((h,m)=>l.then(()=>c[0]==="reject"?m(c[1]):h(c[1])).catch(m));return typeof s!="string"&&typeof s!="number"?{unwrap:u}:Object.assign(s,{unwrap:u})},this.custom=(e,t)=>{let s=(t==null?void 0:t.id)||da++;return this.create({jsx:e(s),id:s,...t}),s},this.subscribers=[],this.toasts=[]}},Ft=new Q0,ev=(e,t)=>{let s=(t==null?void 0:t.id)||da++;return Ft.addToast({title:e,...t,id:s}),s},tv=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",nv=ev,sv=()=>Ft.toasts,re=Object.assign(nv,{success:Ft.success,info:Ft.info,warning:Ft.warning,error:Ft.error,custom:Ft.custom,message:Ft.message,promise:Ft.promise,dismiss:Ft.dismiss,loading:Ft.loading},{getHistory:sv});function iv(e,{insertAt:t}={}){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&s.firstChild?s.insertBefore(r,s.firstChild):s.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}iv(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function dr(e){return e.label!==void 0}var rv=3,ov="32px",Qc=4e3,av=356,lv=14,cv=20,dv=200;function uv(...e){return e.filter(Boolean).join(" ")}var hv=e=>{var t,s,r,a,c,l,u,h,m,g,x;let{invert:y,toast:b,unstyled:w,interacting:_,setHeights:N,visibleToasts:T,heights:C,index:j,toasts:P,expanded:E,removeToast:D,defaultRichColors:z,closeButton:$,style:J,cancelButtonStyle:R,actionButtonStyle:F,className:U="",descriptionClassName:M="",duration:te,position:he,gap:Q,loadingIcon:fe,expandByDefault:se,classNames:V,icons:k,closeButtonAriaLabel:I="Close toast",pauseWhenPageIsHidden:H,cn:O}=e,[W,ge]=me.useState(!1),[xe,de]=me.useState(!1),[Pe,Be]=me.useState(!1),[G,oe]=me.useState(!1),[ce,Ee]=me.useState(!1),[we,Oe]=me.useState(0),[$e,Ue]=me.useState(0),ke=me.useRef(b.duration||te||Qc),qe=me.useRef(null),De=me.useRef(null),ft=j===0,at=j+1<=T,nt=b.type,rt=b.dismissible!==!1,Tt=b.className||"",ee=b.descriptionClassName||"",ye=me.useMemo(()=>C.findIndex(X=>X.toastId===b.id)||0,[C,b.id]),Le=me.useMemo(()=>{var X;return(X=b.closeButton)!=null?X:$},[b.closeButton,$]);me.useMemo(()=>b.duration||te||Qc,[b.duration,te]);let ie=me.useRef(0),Ne=me.useRef(0),Qe=me.useRef(0),et=me.useRef(null),[xt,K]=he.split("-"),ne=me.useMemo(()=>C.reduce((X,ve,Te)=>Te>=ye?X:X+ve.height,0),[C,ye]),Re=J0(),Xe=b.invert||y,B=nt==="loading";Ne.current=me.useMemo(()=>ye*Q+ne,[ye,ne]),me.useEffect(()=>{ge(!0)},[]),me.useEffect(()=>{let X=De.current;if(X){let ve=X.getBoundingClientRect().height;return Ue(ve),N(Te=>[{toastId:b.id,height:ve,position:b.position},...Te]),()=>N(Te=>Te.filter(Ke=>Ke.toastId!==b.id))}},[N,b.id]),me.useLayoutEffect(()=>{if(!W)return;let X=De.current,ve=X.style.height;X.style.height="auto";let Te=X.getBoundingClientRect().height;X.style.height=ve,Ue(Te),N(Ke=>Ke.find(tt=>tt.toastId===b.id)?Ke.map(tt=>tt.toastId===b.id?{...tt,height:Te}:tt):[{toastId:b.id,height:Te,position:b.position},...Ke])},[W,b.title,b.description,N,b.id]);let ae=me.useCallback(()=>{de(!0),Oe(Ne.current),N(X=>X.filter(ve=>ve.toastId!==b.id)),setTimeout(()=>{D(b)},dv)},[b,D,N,Ne]);me.useEffect(()=>{if(b.promise&&nt==="loading"||b.duration===1/0||b.type==="loading")return;let X;return E||_||H&&Re?(()=>{if(Qe.current<ie.current){let ve=new Date().getTime()-ie.current;ke.current=ke.current-ve}Qe.current=new Date().getTime()})():ke.current!==1/0&&(ie.current=new Date().getTime(),X=setTimeout(()=>{var ve;(ve=b.onAutoClose)==null||ve.call(b,b),ae()},ke.current)),()=>clearTimeout(X)},[E,_,b,nt,H,Re,ae]),me.useEffect(()=>{b.delete&&ae()},[ae,b.delete]);function ue(){var X,ve,Te;return k!=null&&k.loading?me.createElement("div",{className:O(V==null?void 0:V.loader,(X=b==null?void 0:b.classNames)==null?void 0:X.loader,"sonner-loader"),"data-visible":nt==="loading"},k.loading):fe?me.createElement("div",{className:O(V==null?void 0:V.loader,(ve=b==null?void 0:b.classNames)==null?void 0:ve.loader,"sonner-loader"),"data-visible":nt==="loading"},fe):me.createElement(Z0,{className:O(V==null?void 0:V.loader,(Te=b==null?void 0:b.classNames)==null?void 0:Te.loader),visible:nt==="loading"})}return me.createElement("li",{tabIndex:0,ref:De,className:O(U,Tt,V==null?void 0:V.toast,(t=b==null?void 0:b.classNames)==null?void 0:t.toast,V==null?void 0:V.default,V==null?void 0:V[nt],(s=b==null?void 0:b.classNames)==null?void 0:s[nt]),"data-sonner-toast":"","data-rich-colors":(r=b.richColors)!=null?r:z,"data-styled":!(b.jsx||b.unstyled||w),"data-mounted":W,"data-promise":!!b.promise,"data-swiped":ce,"data-removed":xe,"data-visible":at,"data-y-position":xt,"data-x-position":K,"data-index":j,"data-front":ft,"data-swiping":Pe,"data-dismissible":rt,"data-type":nt,"data-invert":Xe,"data-swipe-out":G,"data-expanded":!!(E||se&&W),style:{"--index":j,"--toasts-before":j,"--z-index":P.length-j,"--offset":`${xe?we:Ne.current}px`,"--initial-height":se?"auto":`${$e}px`,...J,...b.style},onPointerDown:X=>{B||!rt||(qe.current=new Date,Oe(Ne.current),X.target.setPointerCapture(X.pointerId),X.target.tagName!=="BUTTON"&&(Be(!0),et.current={x:X.clientX,y:X.clientY}))},onPointerUp:()=>{var X,ve,Te,Ke;if(G||!rt)return;et.current=null;let tt=Number(((X=De.current)==null?void 0:X.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Jt=new Date().getTime()-((ve=qe.current)==null?void 0:ve.getTime()),cs=Math.abs(tt)/Jt;if(Math.abs(tt)>=cv||cs>.11){Oe(Ne.current),(Te=b.onDismiss)==null||Te.call(b,b),ae(),oe(!0),Ee(!1);return}(Ke=De.current)==null||Ke.style.setProperty("--swipe-amount","0px"),Be(!1)},onPointerMove:X=>{var ve,Te,Ke;if(!et.current||!rt)return;let tt=X.clientY-et.current.y,Jt=((ve=window.getSelection())==null?void 0:ve.toString().length)>0;Number(((Te=De.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount").replace("px",""))||0)>0&&Ee(!0),!Jt&&((Ke=De.current)==null||Ke.style.setProperty("--swipe-amount",`${Math.max(0,tt)}px`))}},Le&&!b.jsx?me.createElement("button",{"aria-label":I,"data-disabled":B,"data-close-button":!0,onClick:B||!rt?()=>{}:()=>{var X;ae(),(X=b.onDismiss)==null||X.call(b,b)},className:O(V==null?void 0:V.closeButton,(a=b==null?void 0:b.classNames)==null?void 0:a.closeButton)},(c=k==null?void 0:k.close)!=null?c:X0):null,b.jsx||me.isValidElement(b.title)?b.jsx?b.jsx:typeof b.title=="function"?b.title():b.title:me.createElement(me.Fragment,null,nt||b.icon||b.promise?me.createElement("div",{"data-icon":"",className:O(V==null?void 0:V.icon,(l=b==null?void 0:b.classNames)==null?void 0:l.icon)},b.promise||b.type==="loading"&&!b.icon?b.icon||ue():null,b.type!=="loading"?b.icon||(k==null?void 0:k[nt])||H0(nt):null):null,me.createElement("div",{"data-content":"",className:O(V==null?void 0:V.content,(u=b==null?void 0:b.classNames)==null?void 0:u.content)},me.createElement("div",{"data-title":"",className:O(V==null?void 0:V.title,(h=b==null?void 0:b.classNames)==null?void 0:h.title)},typeof b.title=="function"?b.title():b.title),b.description?me.createElement("div",{"data-description":"",className:O(M,ee,V==null?void 0:V.description,(m=b==null?void 0:b.classNames)==null?void 0:m.description)},typeof b.description=="function"?b.description():b.description):null),me.isValidElement(b.cancel)?b.cancel:b.cancel&&dr(b.cancel)?me.createElement("button",{"data-button":!0,"data-cancel":!0,style:b.cancelButtonStyle||R,onClick:X=>{var ve,Te;dr(b.cancel)&&rt&&((Te=(ve=b.cancel).onClick)==null||Te.call(ve,X),ae())},className:O(V==null?void 0:V.cancelButton,(g=b==null?void 0:b.classNames)==null?void 0:g.cancelButton)},b.cancel.label):null,me.isValidElement(b.action)?b.action:b.action&&dr(b.action)?me.createElement("button",{"data-button":!0,"data-action":!0,style:b.actionButtonStyle||F,onClick:X=>{var ve,Te;dr(b.action)&&((Te=(ve=b.action).onClick)==null||Te.call(ve,X),!X.defaultPrevented&&ae())},className:O(V==null?void 0:V.actionButton,(x=b==null?void 0:b.classNames)==null?void 0:x.actionButton)},b.action.label):null))};function ed(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var fv=f.forwardRef(function(e,t){let{invert:s,position:r="bottom-right",hotkey:a=["altKey","KeyT"],expand:c,closeButton:l,className:u,offset:h,theme:m="light",richColors:g,duration:x,style:y,visibleToasts:b=rv,toastOptions:w,dir:_=ed(),gap:N=lv,loadingIcon:T,icons:C,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:P,cn:E=uv}=e,[D,z]=me.useState([]),$=me.useMemo(()=>Array.from(new Set([r].concat(D.filter(H=>H.position).map(H=>H.position)))),[D,r]),[J,R]=me.useState([]),[F,U]=me.useState(!1),[M,te]=me.useState(!1),[he,Q]=me.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),fe=me.useRef(null),se=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=me.useRef(null),k=me.useRef(!1),I=me.useCallback(H=>{z(O=>{var W;return(W=O.find(ge=>ge.id===H.id))!=null&&W.delete||Ft.dismiss(H.id),O.filter(({id:ge})=>ge!==H.id)})},[]);return me.useEffect(()=>Ft.subscribe(H=>{if(H.dismiss){z(O=>O.map(W=>W.id===H.id?{...W,delete:!0}:W));return}setTimeout(()=>{Sh.flushSync(()=>{z(O=>{let W=O.findIndex(ge=>ge.id===H.id);return W!==-1?[...O.slice(0,W),{...O[W],...H},...O.slice(W+1)]:[H,...O]})})})}),[]),me.useEffect(()=>{if(m!=="system"){Q(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;let H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:O})=>{Q(O?"dark":"light")})}catch{H.addListener(({matches:W})=>{try{Q(W?"dark":"light")}catch(ge){console.error(ge)}})}},[m]),me.useEffect(()=>{D.length<=1&&U(!1)},[D]),me.useEffect(()=>{let H=O=>{var W,ge;a.every(xe=>O[xe]||O.code===xe)&&(U(!0),(W=fe.current)==null||W.focus()),O.code==="Escape"&&(document.activeElement===fe.current||(ge=fe.current)!=null&&ge.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[a]),me.useEffect(()=>{if(fe.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,k.current=!1)}},[fe.current]),me.createElement("section",{"aria-label":`${j} ${se}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false"},$.map((H,O)=>{var W;let[ge,xe]=H.split("-");return D.length?me.createElement("ol",{key:H,dir:_==="auto"?ed():_,tabIndex:-1,ref:fe,className:u,"data-sonner-toaster":!0,"data-theme":he,"data-y-position":ge,"data-lifted":F&&D.length>1&&!c,"data-x-position":xe,style:{"--front-toast-height":`${((W=J[0])==null?void 0:W.height)||0}px`,"--offset":typeof h=="number"?`${h}px`:h||ov,"--width":`${av}px`,"--gap":`${N}px`,...y},onBlur:de=>{k.current&&!de.currentTarget.contains(de.relatedTarget)&&(k.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||k.current||(k.current=!0,V.current=de.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{M||U(!1)},onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||te(!0)},onPointerUp:()=>te(!1)},D.filter(de=>!de.position&&O===0||de.position===H).map((de,Pe)=>{var Be,G;return me.createElement(hv,{key:de.id,icons:C,index:Pe,toast:de,defaultRichColors:g,duration:(Be=w==null?void 0:w.duration)!=null?Be:x,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:s,visibleToasts:b,closeButton:(G=w==null?void 0:w.closeButton)!=null?G:l,interacting:M,position:H,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:I,toasts:D.filter(oe=>oe.position==de.position),heights:J.filter(oe=>oe.position==de.position),setHeights:R,expandByDefault:c,gap:N,loadingIcon:T,expanded:F,pauseWhenPageIsHidden:P,cn:E})})):null}))});const mv=({...e})=>{const{theme:t="system"}=U0();return i.jsx(fv,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},Ph=f.createContext({});function pv(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}const sl=typeof window<"u",gv=sl?f.useLayoutEffect:f.useEffect,il=f.createContext(null),Eh=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function xv(e=!0){const t=f.useContext(il);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:a}=t,c=f.useId();f.useEffect(()=>{if(e)return a(c)},[e]);const l=f.useCallback(()=>e&&r&&r(c),[c,r,e]);return!s&&r?[!1,l]:[!0]}function rl(e,t){e.indexOf(t)===-1&&e.push(t)}function ol(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const Cn=(e,t,s)=>s>t?t:s<e?e:s;let Pr=()=>{};const Tn={},Lh=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Ah=e=>/^0[^.\s]+$/u.test(e);function al(e){let t;return()=>(t===void 0&&(t=e()),t)}const Xt=e=>e,vv=(e,t)=>s=>t(e(s)),Ti=(...e)=>e.reduce(vv),xi=(e,t,s)=>{const r=t-e;return r===0?1:(s-e)/r};class ll{constructor(){this.subscriptions=[]}add(t){return rl(this.subscriptions,t),()=>ol(this.subscriptions,t)}notify(t,s,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,s,r);else for(let c=0;c<a;c++){const l=this.subscriptions[c];l&&l(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fn=e=>e*1e3,mn=e=>e/1e3;function kh(e,t){return t?e*(1e3/t):0}const Rh=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,yv=1e-7,bv=12;function _v(e,t,s,r,a){let c,l,u=0;do l=t+(s-t)/2,c=Rh(l,r,a)-e,c>0?s=l:t=l;while(Math.abs(c)>yv&&++u<bv);return l}function Pi(e,t,s,r){if(e===t&&s===r)return Xt;const a=c=>_v(c,0,1,e,s);return c=>c===0||c===1?c:Rh(a(c),t,r)}const Mh=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ih=e=>t=>1-e(1-t),Oh=Pi(.33,1.53,.69,.99),cl=Ih(Oh),Dh=Mh(cl),Bh=e=>(e*=2)<1?.5*cl(e):.5*(2-Math.pow(2,-10*(e-1))),dl=e=>1-Math.sin(Math.acos(e)),zh=Ih(dl),Fh=Mh(dl),wv=Pi(.42,0,1,1),jv=Pi(0,0,.58,1),Vh=Pi(.42,0,.58,1),Sv=e=>Array.isArray(e)&&typeof e[0]!="number",$h=e=>Array.isArray(e)&&typeof e[0]=="number",td={linear:Xt,easeIn:wv,easeInOut:Vh,easeOut:jv,circIn:dl,circInOut:Fh,circOut:zh,backIn:cl,backInOut:Dh,backOut:Oh,anticipate:Bh},Nv=e=>typeof e=="string",nd=e=>{if($h(e)){Pr(e.length===4);const[t,s,r,a]=e;return Pi(t,s,r,a)}else if(Nv(e))return Pr(td[e]!==void 0),td[e];return e},ur=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],sd={value:null};function Cv(e,t){let s=new Set,r=new Set,a=!1,c=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},h=0;function m(x){l.has(x)&&(g.schedule(x),e()),h++,x(u)}const g={schedule:(x,y=!1,b=!1)=>{const _=b&&a?s:r;return y&&l.add(x),_.has(x)||_.add(x),x},cancel:x=>{r.delete(x),l.delete(x)},process:x=>{if(u=x,a){c=!0;return}a=!0,[s,r]=[r,s],s.forEach(m),t&&sd.value&&sd.value.frameloop[t].push(h),h=0,s.clear(),a=!1,c&&(c=!1,g.process(x))}};return g}const Tv=40;function Uh(e,t){let s=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},c=()=>s=!0,l=ur.reduce((j,P)=>(j[P]=Cv(c,t?P:void 0),j),{}),{setup:u,read:h,resolveKeyframes:m,preUpdate:g,update:x,preRender:y,render:b,postRender:w}=l,_=()=>{const j=Tn.useManualTiming?a.timestamp:performance.now();s=!1,Tn.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(j-a.timestamp,Tv),1)),a.timestamp=j,a.isProcessing=!0,u.process(a),h.process(a),m.process(a),g.process(a),x.process(a),y.process(a),b.process(a),w.process(a),a.isProcessing=!1,s&&t&&(r=!1,e(_))},N=()=>{s=!0,r=!0,a.isProcessing||e(_)};return{schedule:ur.reduce((j,P)=>{const E=l[P];return j[P]=(D,z=!1,$=!1)=>(s||N(),E.schedule(D,z,$)),j},{}),cancel:j=>{for(let P=0;P<ur.length;P++)l[ur[P]].cancel(j)},state:a,steps:l}}const{schedule:ut,cancel:Dn,state:St,steps:Oo}=Uh(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xt,!0);let vr;function Pv(){vr=void 0}const Rt={now:()=>(vr===void 0&&Rt.set(St.isProcessing||Tn.useManualTiming?St.timestamp:performance.now()),vr),set:e=>{vr=e,queueMicrotask(Pv)}},Hh=e=>t=>typeof t=="string"&&t.startsWith(e),ul=Hh("--"),Ev=Hh("var(--"),hl=e=>Ev(e)?Lv.test(e.split("/*")[0].trim()):!1,Lv=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,As={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},vi={...As,transform:e=>Cn(0,1,e)},hr={...As,default:1},hi=e=>Math.round(e*1e5)/1e5,fl=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Av(e){return e==null}const kv=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ml=(e,t)=>s=>!!(typeof s=="string"&&kv.test(s)&&s.startsWith(e)||t&&!Av(s)&&Object.prototype.hasOwnProperty.call(s,t)),Wh=(e,t,s)=>r=>{if(typeof r!="string")return r;const[a,c,l,u]=r.match(fl);return{[e]:parseFloat(a),[t]:parseFloat(c),[s]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},Rv=e=>Cn(0,255,e),Do={...As,transform:e=>Math.round(Rv(e))},es={test:ml("rgb","red"),parse:Wh("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+Do.transform(e)+", "+Do.transform(t)+", "+Do.transform(s)+", "+hi(vi.transform(r))+")"};function Mv(e){let t="",s="",r="",a="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,s+=s,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const ua={test:ml("#"),parse:Mv,transform:es.transform},Ei=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Mn=Ei("deg"),pn=Ei("%"),Me=Ei("px"),Iv=Ei("vh"),Ov=Ei("vw"),id={...pn,parse:e=>pn.parse(e)/100,transform:e=>pn.transform(e*100)},_s={test:ml("hsl","hue"),parse:Wh("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+pn.transform(hi(t))+", "+pn.transform(hi(s))+", "+hi(vi.transform(r))+")"},Nt={test:e=>es.test(e)||ua.test(e)||_s.test(e),parse:e=>es.test(e)?es.parse(e):_s.test(e)?_s.parse(e):ua.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?es.transform(e):_s.transform(e)},Dv=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Bv(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(fl))==null?void 0:t.length)||0)+(((s=e.match(Dv))==null?void 0:s.length)||0)>0}const Zh="number",Gh="color",zv="var",Fv="var(",rd="${}",Vv=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yi(e){const t=e.toString(),s=[],r={color:[],number:[],var:[]},a=[];let c=0;const u=t.replace(Vv,h=>(Nt.test(h)?(r.color.push(c),a.push(Gh),s.push(Nt.parse(h))):h.startsWith(Fv)?(r.var.push(c),a.push(zv),s.push(h)):(r.number.push(c),a.push(Zh),s.push(parseFloat(h))),++c,rd)).split(rd);return{values:s,split:u,indexes:r,types:a}}function qh(e){return yi(e).values}function Kh(e){const{split:t,types:s}=yi(e),r=t.length;return a=>{let c="";for(let l=0;l<r;l++)if(c+=t[l],a[l]!==void 0){const u=s[l];u===Zh?c+=hi(a[l]):u===Gh?c+=Nt.transform(a[l]):c+=a[l]}return c}}const $v=e=>typeof e=="number"?0:e;function Uv(e){const t=qh(e);return Kh(e)(t.map($v))}const Bn={test:Bv,parse:qh,createTransformer:Kh,getAnimatableNone:Uv};function Bo(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function Hv({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,t/=100,s/=100;let a=0,c=0,l=0;if(!t)a=c=l=s;else{const u=s<.5?s*(1+t):s+t-s*t,h=2*s-u;a=Bo(h,u,e+1/3),c=Bo(h,u,e),l=Bo(h,u,e-1/3)}return{red:Math.round(a*255),green:Math.round(c*255),blue:Math.round(l*255),alpha:r}}function Er(e,t){return s=>s>0?t:e}const dt=(e,t,s)=>e+(t-e)*s,zo=(e,t,s)=>{const r=e*e,a=s*(t*t-r)+r;return a<0?0:Math.sqrt(a)},Wv=[ua,es,_s],Zv=e=>Wv.find(t=>t.test(e));function od(e){const t=Zv(e);if(!t)return!1;let s=t.parse(e);return t===_s&&(s=Hv(s)),s}const ad=(e,t)=>{const s=od(e),r=od(t);if(!s||!r)return Er(e,t);const a={...s};return c=>(a.red=zo(s.red,r.red,c),a.green=zo(s.green,r.green,c),a.blue=zo(s.blue,r.blue,c),a.alpha=dt(s.alpha,r.alpha,c),es.transform(a))},ha=new Set(["none","hidden"]);function Gv(e,t){return ha.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function qv(e,t){return s=>dt(e,t,s)}function pl(e){return typeof e=="number"?qv:typeof e=="string"?hl(e)?Er:Nt.test(e)?ad:Xv:Array.isArray(e)?Yh:typeof e=="object"?Nt.test(e)?ad:Kv:Er}function Yh(e,t){const s=[...e],r=s.length,a=e.map((c,l)=>pl(c)(c,t[l]));return c=>{for(let l=0;l<r;l++)s[l]=a[l](c);return s}}function Kv(e,t){const s={...e,...t},r={};for(const a in s)e[a]!==void 0&&t[a]!==void 0&&(r[a]=pl(e[a])(e[a],t[a]));return a=>{for(const c in r)s[c]=r[c](a);return s}}function Yv(e,t){const s=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const c=t.types[a],l=e.indexes[c][r[c]],u=e.values[l]??0;s[a]=u,r[c]++}return s}const Xv=(e,t)=>{const s=Bn.createTransformer(t),r=yi(e),a=yi(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?ha.has(e)&&!a.values.length||ha.has(t)&&!r.values.length?Gv(e,t):Ti(Yh(Yv(r,a),a.values),s):Er(e,t)};function Xh(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?dt(e,t,s):pl(e)(e,t)}const Jv=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>ut.update(t,s),stop:()=>Dn(t),now:()=>St.isProcessing?St.timestamp:Rt.now()}},Jh=(e,t,s=10)=>{let r="";const a=Math.max(Math.round(t/s),2);for(let c=0;c<a;c++)r+=e(c/(a-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Lr=2e4;function gl(e){let t=0;const s=50;let r=e.next(t);for(;!r.done&&t<Lr;)t+=s,r=e.next(t);return t>=Lr?1/0:t}function Qv(e,t=100,s){const r=s({...e,keyframes:[0,t]}),a=Math.min(gl(r),Lr);return{type:"keyframes",ease:c=>r.next(a*c).value/t,duration:mn(a)}}const ey=5;function Qh(e,t,s){const r=Math.max(t-ey,0);return kh(s-e(r),t-r)}const ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Fo=.001;function ty({duration:e=ht.duration,bounce:t=ht.bounce,velocity:s=ht.velocity,mass:r=ht.mass}){let a,c,l=1-t;l=Cn(ht.minDamping,ht.maxDamping,l),e=Cn(ht.minDuration,ht.maxDuration,mn(e)),l<1?(a=m=>{const g=m*l,x=g*e,y=g-s,b=fa(m,l),w=Math.exp(-x);return Fo-y/b*w},c=m=>{const x=m*l*e,y=x*s+s,b=Math.pow(l,2)*Math.pow(m,2)*e,w=Math.exp(-x),_=fa(Math.pow(m,2),l);return(-a(m)+Fo>0?-1:1)*((y-b)*w)/_}):(a=m=>{const g=Math.exp(-m*e),x=(m-s)*e+1;return-Fo+g*x},c=m=>{const g=Math.exp(-m*e),x=(s-m)*(e*e);return g*x});const u=5/e,h=sy(a,c,u);if(e=fn(e),isNaN(h))return{stiffness:ht.stiffness,damping:ht.damping,duration:e};{const m=Math.pow(h,2)*r;return{stiffness:m,damping:l*2*Math.sqrt(r*m),duration:e}}}const ny=12;function sy(e,t,s){let r=s;for(let a=1;a<ny;a++)r=r-e(r)/t(r);return r}function fa(e,t){return e*Math.sqrt(1-t*t)}const iy=["duration","bounce"],ry=["stiffness","damping","mass"];function ld(e,t){return t.some(s=>e[s]!==void 0)}function oy(e){let t={velocity:ht.velocity,stiffness:ht.stiffness,damping:ht.damping,mass:ht.mass,isResolvedFromDuration:!1,...e};if(!ld(e,ry)&&ld(e,iy))if(e.visualDuration){const s=e.visualDuration,r=2*Math.PI/(s*1.2),a=r*r,c=2*Cn(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ht.mass,stiffness:a,damping:c}}else{const s=ty(e);t={...t,...s,mass:ht.mass},t.isResolvedFromDuration=!0}return t}function Ar(e=ht.visualDuration,t=ht.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=s;const c=s.keyframes[0],l=s.keyframes[s.keyframes.length-1],u={done:!1,value:c},{stiffness:h,damping:m,mass:g,duration:x,velocity:y,isResolvedFromDuration:b}=oy({...s,velocity:-mn(s.velocity||0)}),w=y||0,_=m/(2*Math.sqrt(h*g)),N=l-c,T=mn(Math.sqrt(h/g)),C=Math.abs(N)<5;r||(r=C?ht.restSpeed.granular:ht.restSpeed.default),a||(a=C?ht.restDelta.granular:ht.restDelta.default);let j;if(_<1){const E=fa(T,_);j=D=>{const z=Math.exp(-_*T*D);return l-z*((w+_*T*N)/E*Math.sin(E*D)+N*Math.cos(E*D))}}else if(_===1)j=E=>l-Math.exp(-T*E)*(N+(w+T*N)*E);else{const E=T*Math.sqrt(_*_-1);j=D=>{const z=Math.exp(-_*T*D),$=Math.min(E*D,300);return l-z*((w+_*T*N)*Math.sinh($)+E*N*Math.cosh($))/E}}const P={calculatedDuration:b&&x||null,next:E=>{const D=j(E);if(b)u.done=E>=x;else{let z=E===0?w:0;_<1&&(z=E===0?fn(w):Qh(j,E,D));const $=Math.abs(z)<=r,J=Math.abs(l-D)<=a;u.done=$&&J}return u.value=u.done?l:D,u},toString:()=>{const E=Math.min(gl(P),Lr),D=Jh(z=>P.next(E*z).value,E,30);return E+"ms "+D},toTransition:()=>{}};return P}Ar.applyToOptions=e=>{const t=Qv(e,100,Ar);return e.ease=t.ease,e.duration=fn(t.duration),e.type="keyframes",e};function ma({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:c=500,modifyTarget:l,min:u,max:h,restDelta:m=.5,restSpeed:g}){const x=e[0],y={done:!1,value:x},b=$=>u!==void 0&&$<u||h!==void 0&&$>h,w=$=>u===void 0?h:h===void 0||Math.abs(u-$)<Math.abs(h-$)?u:h;let _=s*t;const N=x+_,T=l===void 0?N:l(N);T!==N&&(_=T-x);const C=$=>-_*Math.exp(-$/r),j=$=>T+C($),P=$=>{const J=C($),R=j($);y.done=Math.abs(J)<=m,y.value=y.done?T:R};let E,D;const z=$=>{b(y.value)&&(E=$,D=Ar({keyframes:[y.value,w(y.value)],velocity:Qh(j,$,y.value),damping:a,stiffness:c,restDelta:m,restSpeed:g}))};return z(0),{calculatedDuration:null,next:$=>{let J=!1;return!D&&E===void 0&&(J=!0,P($),z($)),E!==void 0&&$>=E?D.next($-E):(!J&&P($),y)}}}function ay(e,t,s){const r=[],a=s||Tn.mix||Xh,c=e.length-1;for(let l=0;l<c;l++){let u=a(e[l],e[l+1]);if(t){const h=Array.isArray(t)?t[l]||Xt:t;u=Ti(h,u)}r.push(u)}return r}function ly(e,t,{clamp:s=!0,ease:r,mixer:a}={}){const c=e.length;if(Pr(c===t.length),c===1)return()=>t[0];if(c===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=ay(t,r,a),h=u.length,m=g=>{if(l&&g<e[0])return t[0];let x=0;if(h>1)for(;x<e.length-2&&!(g<e[x+1]);x++);const y=xi(e[x],e[x+1],g);return u[x](y)};return s?g=>m(Cn(e[0],e[c-1],g)):m}function cy(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const a=xi(0,t,r);e.push(dt(s,1,a))}}function dy(e){const t=[0];return cy(t,e.length-1),t}function uy(e,t){return e.map(s=>s*t)}function hy(e,t){return e.map(()=>t||Vh).splice(0,e.length-1)}function fi({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const a=Sv(r)?r.map(nd):nd(r),c={done:!1,value:t[0]},l=uy(s&&s.length===t.length?s:dy(t),e),u=ly(l,t,{ease:Array.isArray(a)?a:hy(t,a)});return{calculatedDuration:e,next:h=>(c.value=u(h),c.done=h>=e,c)}}const fy=e=>e!==null;function xl(e,{repeat:t,repeatType:s="loop"},r,a=1){const c=e.filter(fy),u=a<0||t&&s!=="loop"&&t%2===1?0:c.length-1;return!u||r===void 0?c[u]:r}const my={decay:ma,inertia:ma,tween:fi,keyframes:fi,spring:Ar};function ef(e){typeof e.type=="string"&&(e.type=my[e.type])}class vl{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const py=e=>e/100;class yl extends vl{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(s=!0)=>{var r,a;if(s){const{motionValue:c}=this.options;c&&c.updatedAt!==Rt.now()&&this.tick(Rt.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;ef(t);const{type:s=fi,repeat:r=0,repeatDelay:a=0,repeatType:c,velocity:l=0}=t;let{keyframes:u}=t;const h=s||fi;h!==fi&&typeof u[0]!="number"&&(this.mixKeyframes=Ti(py,Xh(u[0],u[1])),u=[0,100]);const m=h({...t,keyframes:u});c==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...u].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=gl(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=m}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:r,totalDuration:a,mixKeyframes:c,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:g,repeat:x,repeatType:y,repeatDelay:b,type:w,onUpdate:_,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const T=this.currentTime-m*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?T<0:T>a;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let j=this.currentTime,P=r;if(x){const $=Math.min(this.currentTime,a)/u;let J=Math.floor($),R=$%1;!R&&$>=1&&(R=1),R===1&&J--,J=Math.min(J,x+1),!!(J%2)&&(y==="reverse"?(R=1-R,b&&(R-=b/u)):y==="mirror"&&(P=l)),j=Cn(0,1,R)*u}const E=C?{done:!1,value:g[0]}:P.next(j);c&&(E.value=c(E.value));let{done:D}=E;!C&&h!==null&&(D=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return z&&w!==ma&&(E.value=xl(g,this.options,N,this.speed)),_&&_(E.value),z&&this.finish(),E}then(t,s){return this.finished.then(t,s)}get duration(){return mn(this.calculatedDuration)}get time(){return mn(this.currentTime)}set time(t){var s;t=fn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Rt.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=mn(this.currentTime))}play(){var a,c;if(this.isStopped)return;const{driver:t=Jv,startTime:s}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),(c=(a=this.options).onPlay)==null||c.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Rt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function gy(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ts=e=>e*180/Math.PI,pa=e=>{const t=ts(Math.atan2(e[1],e[0]));return ga(t)},xy={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:pa,rotateZ:pa,skewX:e=>ts(Math.atan(e[1])),skewY:e=>ts(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ga=e=>(e=e%360,e<0&&(e+=360),e),cd=pa,dd=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),ud=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),vy={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:dd,scaleY:ud,scale:e=>(dd(e)+ud(e))/2,rotateX:e=>ga(ts(Math.atan2(e[6],e[5]))),rotateY:e=>ga(ts(Math.atan2(-e[2],e[0]))),rotateZ:cd,rotate:cd,skewX:e=>ts(Math.atan(e[4])),skewY:e=>ts(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function hd(e){return e.includes("scale")?1:0}function xa(e,t){if(!e||e==="none")return hd(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(s)r=vy,a=s;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=xy,a=u}if(!a)return hd(t);const c=r[t],l=a[1].split(",").map(by);return typeof c=="function"?c(l):l[c]}const yy=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return xa(s,t)};function by(e){return parseFloat(e.trim())}const ks=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rs=new Set(ks),fd=e=>e===As||e===Me,_y=new Set(["x","y","z"]),wy=ks.filter(e=>!_y.has(e));function jy(e){const t=[];return wy.forEach(s=>{const r=e.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}const ss={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>xa(t,"x"),y:(e,{transform:t})=>xa(t,"y")};ss.translateX=ss.x;ss.translateY=ss.y;const is=new Set;let va=!1,ya=!1,ba=!1;function tf(){if(ya){const e=Array.from(is).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),s=new Map;t.forEach(r=>{const a=jy(r);a.length&&(s.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=s.get(r);a&&a.forEach(([c,l])=>{var u;(u=r.getValue(c))==null||u.set(l)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ya=!1,va=!1,is.forEach(e=>e.complete(ba)),is.clear()}function nf(){is.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ya=!0)})}function Sy(){ba=!0,nf(),tf(),ba=!1}class bl{constructor(t,s,r,a,c,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=r,this.motionValue=a,this.element=c,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(is.add(this),va||(va=!0,ut.read(nf),ut.resolveKeyframes(tf))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:r,motionValue:a}=this;if(t[0]===null){const c=a==null?void 0:a.get(),l=t[t.length-1];if(c!==void 0)t[0]=c;else if(r&&s){const u=r.readValue(s,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),a&&c===void 0&&a.set(t[0])}gy(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),is.delete(this)}cancel(){this.state==="scheduled"&&(is.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Ny=e=>e.startsWith("--");function Cy(e,t,s){Ny(t)?e.style.setProperty(t,s):e.style[t]=s}const Ty=al(()=>window.ScrollTimeline!==void 0),Py={};function Ey(e,t){const s=al(e);return()=>Py[t]??s()}const sf=Ey(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ci=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,md={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ci([0,.65,.55,1]),circOut:ci([.55,0,1,.45]),backIn:ci([.31,.01,.66,-.59]),backOut:ci([.33,1.53,.69,.99])};function rf(e,t){if(e)return typeof e=="function"?sf()?Jh(e,t):"ease-out":$h(e)?ci(e):Array.isArray(e)?e.map(s=>rf(s,t)||md.easeOut):md[e]}function Ly(e,t,s,{delay:r=0,duration:a=300,repeat:c=0,repeatType:l="loop",ease:u="easeOut",times:h}={},m=void 0){const g={[t]:s};h&&(g.offset=h);const x=rf(u,a);Array.isArray(x)&&(g.easing=x);const y={delay:r,duration:a,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:c+1,direction:l==="reverse"?"alternate":"normal"};return m&&(y.pseudoElement=m),e.animate(g,y)}function of(e){return typeof e=="function"&&"applyToOptions"in e}function Ay({type:e,...t}){return of(e)&&sf()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ky extends vl{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:r,keyframes:a,pseudoElement:c,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=t;this.isPseudoElement=!!c,this.allowFlatten=l,this.options=t,Pr(typeof t.type!="string");const m=Ay(t);this.animation=Ly(s,r,a,m,c),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const g=xl(a,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):Cy(s,r,g),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,r;const t=((r=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:r.call(s).duration)||0;return mn(Number(t))}get time(){return mn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=fn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Ty()?(this.animation.timeline=t,Xt):s(this)}}const af={anticipate:Bh,backInOut:Dh,circInOut:Fh};function Ry(e){return e in af}function My(e){typeof e.ease=="string"&&Ry(e.ease)&&(e.ease=af[e.ease])}const pd=10;class Iy extends ky{constructor(t){My(t),ef(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:r,onComplete:a,element:c,...l}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const u=new yl({...l,autoplay:!1}),h=fn(this.finishedTime??this.time);s.setWithVelocity(u.sample(h-pd).value,u.sample(h).value,pd),u.stop()}}const gd=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Bn.test(e)||e==="0")&&!e.startsWith("url("));function Oy(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function Dy(e,t,s,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const c=e[e.length-1],l=gd(a,t),u=gd(c,t);return!l||!u?!1:Oy(e)||(s==="spring"||of(s))&&r}const By=new Set(["opacity","clipPath","filter","transform"]),zy=al(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Fy(e){const{motionValue:t,name:s,repeatDelay:r,repeatType:a,damping:c,type:l}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=t.owner.getProps();return zy()&&s&&By.has(s)&&(s!=="transform"||!h)&&!u&&!r&&a!=="mirror"&&c!==0&&l!=="inertia"}const Vy=40;class $y extends vl{constructor({autoplay:t=!0,delay:s=0,type:r="keyframes",repeat:a=0,repeatDelay:c=0,repeatType:l="loop",keyframes:u,name:h,motionValue:m,element:g,...x}){var w;super(),this.stop=()=>{var _,N;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(N=this.keyframeResolver)==null||N.cancel()},this.createdAt=Rt.now();const y={autoplay:t,delay:s,type:r,repeat:a,repeatDelay:c,repeatType:l,name:h,motionValue:m,element:g,...x},b=(g==null?void 0:g.KeyframeResolver)||bl;this.keyframeResolver=new b(u,(_,N,T)=>this.onKeyframesResolved(_,N,y,!T),h,m,g),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,s,r,a){this.keyframeResolver=void 0;const{name:c,type:l,velocity:u,delay:h,isHandoff:m,onUpdate:g}=r;this.resolvedAt=Rt.now(),Dy(t,c,l,u)||((Tn.instantAnimations||!h)&&(g==null||g(xl(t,r,s))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const y={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Vy?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:t},b=!m&&Fy(y)?new Iy({...y,element:y.motionValue.owner.current}):new yl(y);b.finished.then(()=>this.notifyFinished()).catch(Xt),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Sy()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Uy=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Hy(e){const t=Uy.exec(e);if(!t)return[,];const[,s,r,a]=t;return[`--${s??r}`,a]}function lf(e,t,s=1){const[r,a]=Hy(e);if(!r)return;const c=window.getComputedStyle(t).getPropertyValue(r);if(c){const l=c.trim();return Lh(l)?parseFloat(l):l}return hl(a)?lf(a,t,s+1):a}function _l(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const cf=new Set(["width","height","top","left","right","bottom",...ks]),Wy={test:e=>e==="auto",parse:e=>e},df=e=>t=>t.test(e),uf=[As,Me,pn,Mn,Ov,Iv,Wy],xd=e=>uf.find(df(e));function Zy(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Ah(e):!0}const Gy=new Set(["brightness","contrast","saturate","opacity"]);function qy(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=s.match(fl)||[];if(!r)return e;const a=s.replace(r,"");let c=Gy.has(t)?1:0;return r!==s&&(c*=100),t+"("+c+a+")"}const Ky=/\b([a-z-]*)\(.*?\)/gu,_a={...Bn,getAnimatableNone:e=>{const t=e.match(Ky);return t?t.map(qy).join(" "):e}},vd={...As,transform:Math.round},Yy={rotate:Mn,rotateX:Mn,rotateY:Mn,rotateZ:Mn,scale:hr,scaleX:hr,scaleY:hr,scaleZ:hr,skew:Mn,skewX:Mn,skewY:Mn,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:vi,originX:id,originY:id,originZ:Me},wl={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,radius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,top:Me,right:Me,bottom:Me,left:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,backgroundPositionX:Me,backgroundPositionY:Me,...Yy,zIndex:vd,fillOpacity:vi,strokeOpacity:vi,numOctaves:vd},Xy={...wl,color:Nt,backgroundColor:Nt,outlineColor:Nt,fill:Nt,stroke:Nt,borderColor:Nt,borderTopColor:Nt,borderRightColor:Nt,borderBottomColor:Nt,borderLeftColor:Nt,filter:_a,WebkitFilter:_a},hf=e=>Xy[e];function ff(e,t){let s=hf(e);return s!==_a&&(s=Bn),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Jy=new Set(["auto","none","0"]);function Qy(e,t,s){let r=0,a;for(;r<e.length&&!a;){const c=e[r];typeof c=="string"&&!Jy.has(c)&&yi(c).values.length&&(a=e[r]),r++}if(a&&s)for(const c of t)e[c]=ff(s,a)}class eb extends bl{constructor(t,s,r,a,c){super(t,s,r,a,c,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let m=t[h];if(typeof m=="string"&&(m=m.trim(),hl(m))){const g=lf(m,s.current);g!==void 0&&(t[h]=g),h===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!cf.has(r)||t.length!==2)return;const[a,c]=t,l=xd(a),u=xd(c);if(l!==u)if(fd(l)&&fd(u))for(let h=0;h<t.length;h++){const m=t[h];typeof m=="string"&&(t[h]=parseFloat(m))}else ss[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||Zy(t[a]))&&r.push(a);r.length&&Qy(t,r,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ss[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const a=s[s.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var u;const{element:t,name:s,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(s);a&&a.jump(this.measuredOrigin,!1);const c=r.length-1,l=r[c];r[c]=ss[s](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,m])=>{t.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function tb(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=(s==null?void 0:s[e])??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const yd=30,nb=e=>!isNaN(parseFloat(e));class sb{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{var l,u;const c=Rt.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();a&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Rt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=nb(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new ll);const r=this.events[t].add(s);return t==="change"?()=>{r(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Rt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>yd)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,yd);return kh(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ps(e,t){return new sb(e,t)}const mf=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:jl}=Uh(queueMicrotask,!1),tn={x:!1,y:!1};function pf(){return tn.x||tn.y}function ib(e){return e==="x"||e==="y"?tn[e]?null:(tn[e]=!0,()=>{tn[e]=!1}):tn.x||tn.y?null:(tn.x=tn.y=!0,()=>{tn.x=tn.y=!1})}function gf(e,t){const s=tb(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[s,a,()=>r.abort()]}function bd(e){return!(e.pointerType==="touch"||pf())}function rb(e,t,s={}){const[r,a,c]=gf(e,s),l=u=>{if(!bd(u))return;const{target:h}=u,m=t(h,u);if(typeof m!="function"||!h)return;const g=x=>{bd(x)&&(m(x),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,a)};return r.forEach(u=>{u.addEventListener("pointerenter",l,a)}),c}const xf=(e,t)=>t?e===t?!0:xf(e,t.parentElement):!1,Sl=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,ob=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ab(e){return ob.has(e.tagName)||e.tabIndex!==-1}const yr=new WeakSet;function _d(e){return t=>{t.key==="Enter"&&e(t)}}function Vo(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const lb=(e,t)=>{const s=e.currentTarget;if(!s)return;const r=_d(()=>{if(yr.has(s))return;Vo(s,"down");const a=_d(()=>{Vo(s,"up")}),c=()=>Vo(s,"cancel");s.addEventListener("keyup",a,t),s.addEventListener("blur",c,t)});s.addEventListener("keydown",r,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),t)};function wd(e){return Sl(e)&&!pf()}function cb(e,t,s={}){const[r,a,c]=gf(e,s),l=u=>{const h=u.currentTarget;if(!wd(u))return;yr.add(h);const m=t(h,u),g=(b,w)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",y),yr.has(h)&&yr.delete(h),wd(b)&&typeof m=="function"&&m(b,{success:w})},x=b=>{g(b,h===window||h===document||s.useGlobalTarget||xf(h,b.target))},y=b=>{g(b,!1)};window.addEventListener("pointerup",x,a),window.addEventListener("pointercancel",y,a)};return r.forEach(u=>{(s.useGlobalTarget?window:u).addEventListener("pointerdown",l,a),u instanceof HTMLElement&&(u.addEventListener("focus",m=>lb(m,a)),!ab(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),c}const db=[...uf,Nt,Bn],ub=e=>db.find(df(e)),vf=f.createContext({strict:!1}),jd={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Es={};for(const e in jd)Es[e]={isEnabled:t=>jd[e].some(s=>!!t[s])};function hb(e){for(const t in e)Es[t]={...Es[t],...e[t]}}const fb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kr(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||fb.has(e)}let yf=e=>!kr(e);function mb(e){e&&(yf=t=>t.startsWith("on")?!kr(t):e(t))}try{mb(require("@emotion/is-prop-valid").default)}catch{}function pb(e,t,s){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(yf(a)||s===!0&&kr(a)||!t&&!kr(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function gb(e){if(typeof Proxy>"u")return e;const t=new Map,s=(...r)=>e(...r);return new Proxy(s,{get:(r,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const Gr=f.createContext({});function qr(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function bi(e){return typeof e=="string"||Array.isArray(e)}const Nl=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cl=["initial",...Nl];function Kr(e){return qr(e.animate)||Cl.some(t=>bi(e[t]))}function bf(e){return!!(Kr(e)||e.variants)}function xb(e,t){if(Kr(e)){const{initial:s,animate:r}=e;return{initial:s===!1||bi(s)?s:void 0,animate:bi(r)?r:void 0}}return e.inherit!==!1?t:{}}function vb(e){const{initial:t,animate:s}=xb(e,f.useContext(Gr));return f.useMemo(()=>({initial:t,animate:s}),[Sd(t),Sd(s)])}function Sd(e){return Array.isArray(e)?e.join(" "):e}const yb=Symbol.for("motionComponentSymbol");function ws(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function bb(e,t,s){return f.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):ws(s)&&(s.current=r))},[t])}const Tl=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_b="framerAppearId",_f="data-"+Tl(_b),wf=f.createContext({});function wb(e,t,s,r,a){var _,N;const{visualElement:c}=f.useContext(Gr),l=f.useContext(vf),u=f.useContext(il),h=f.useContext(Eh).reducedMotion,m=f.useRef(null);r=r||l.renderer,!m.current&&r&&(m.current=r(e,{visualState:t,parent:c,props:s,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const g=m.current,x=f.useContext(wf);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&jb(m.current,s,a,x);const y=f.useRef(!1);f.useInsertionEffect(()=>{g&&y.current&&g.update(s,u)});const b=s[_f],w=f.useRef(!!b&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,b))&&((N=window.MotionHasOptimisedAnimation)==null?void 0:N.call(window,b)));return gv(()=>{g&&(y.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),jl.render(g.render),w.current&&g.animationState&&g.animationState.animateChanges())}),f.useEffect(()=>{g&&(!w.current&&g.animationState&&g.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)==null||T.call(window,b)}),w.current=!1))}),g}function jb(e,t,s,r){const{layoutId:a,layout:c,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:m,layoutCrossfade:g}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:jf(e.parent)),e.projection.setOptions({layoutId:a,layout:c,alwaysMeasureLayout:!!l||u&&ws(u),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:h,layoutRoot:m})}function jf(e){if(e)return e.options.allowProjection!==!1?e.projection:jf(e.parent)}function Sb({preloadedFeatures:e,createVisualElement:t,useRender:s,useVisualState:r,Component:a}){e&&hb(e);function c(u,h){let m;const g={...f.useContext(Eh),...u,layoutId:Nb(u)},{isStatic:x}=g,y=vb(u),b=r(u,x);if(!x&&sl){Cb();const w=Tb(g);m=w.MeasureLayout,y.visualElement=wb(a,b,g,t,w.ProjectionNode)}return i.jsxs(Gr.Provider,{value:y,children:[m&&y.visualElement?i.jsx(m,{visualElement:y.visualElement,...g}):null,s(a,u,bb(b,y.visualElement,h),b,x,y.visualElement)]})}c.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const l=f.forwardRef(c);return l[yb]=a,l}function Nb({layoutId:e}){const t=f.useContext(Ph).id;return t&&e!==void 0?t+"-"+e:e}function Cb(e,t){f.useContext(vf).strict}function Tb(e){const{drag:t,layout:s}=Es;if(!t&&!s)return{};const r={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const _i={};function Pb(e){for(const t in e)_i[t]=e[t],ul(t)&&(_i[t].isCSSVariable=!0)}function Sf(e,{layout:t,layoutId:s}){return Rs.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!_i[e]||e==="opacity")}const Ct=e=>!!(e&&e.getVelocity),Eb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Lb=ks.length;function Ab(e,t,s){let r="",a=!0;for(let c=0;c<Lb;c++){const l=ks[c],u=e[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||s){const m=mf(u,wl[l]);if(!h){a=!1;const g=Eb[l]||l;r+=`${g}(${m}) `}s&&(t[l]=m)}}return r=r.trim(),s?r=s(t,a?"":r):a&&(r="none"),r}function Pl(e,t,s){const{style:r,vars:a,transformOrigin:c}=e;let l=!1,u=!1;for(const h in t){const m=t[h];if(Rs.has(h)){l=!0;continue}else if(ul(h)){a[h]=m;continue}else{const g=mf(m,wl[h]);h.startsWith("origin")?(u=!0,c[h]=g):r[h]=g}}if(t.transform||(l||s?r.transform=Ab(t,e.transform,s):r.transform&&(r.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:g=0}=c;r.transformOrigin=`${h} ${m} ${g}`}}const El=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Nf(e,t,s){for(const r in t)!Ct(t[r])&&!Sf(r,s)&&(e[r]=t[r])}function kb({transformTemplate:e},t){return f.useMemo(()=>{const s=El();return Pl(s,t,e),Object.assign({},s.vars,s.style)},[t])}function Rb(e,t){const s=e.style||{},r={};return Nf(r,s,e),Object.assign(r,kb(e,t)),r}function Mb(e,t){const s={},r=Rb(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}const Ib=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ll(e){return typeof e!="string"||e.includes("-")?!1:!!(Ib.indexOf(e)>-1||/[A-Z]/u.test(e))}const Ob={offset:"stroke-dashoffset",array:"stroke-dasharray"},Db={offset:"strokeDashoffset",array:"strokeDasharray"};function Bb(e,t,s=1,r=0,a=!0){e.pathLength=1;const c=a?Ob:Db;e[c.offset]=Me.transform(-r);const l=Me.transform(t),u=Me.transform(s);e[c.array]=`${l} ${u}`}function Cf(e,{attrX:t,attrY:s,attrScale:r,pathLength:a,pathSpacing:c=1,pathOffset:l=0,...u},h,m,g){if(Pl(e,u,m),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:y}=e;x.transform&&(y.transform=x.transform,delete x.transform),(y.transform||x.transformOrigin)&&(y.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),y.transform&&(y.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete x.transformBox),t!==void 0&&(x.x=t),s!==void 0&&(x.y=s),r!==void 0&&(x.scale=r),a!==void 0&&Bb(x,a,c,l,!1)}const Tf=()=>({...El(),attrs:{}}),Pf=e=>typeof e=="string"&&e.toLowerCase()==="svg";function zb(e,t,s,r){const a=f.useMemo(()=>{const c=Tf();return Cf(c,t,Pf(r),e.transformTemplate,e.style),{...c.attrs,style:{...c.style}}},[t]);if(e.style){const c={};Nf(c,e.style,e),a.style={...c,...a.style}}return a}function Fb(e=!1){return(s,r,a,{latestValues:c},l)=>{const h=(Ll(s)?zb:Mb)(r,c,l,s),m=pb(r,typeof s=="string",e),g=s!==f.Fragment?{...m,...h,ref:a}:{},{children:x}=r,y=f.useMemo(()=>Ct(x)?x.get():x,[x]);return f.createElement(s,{...g,children:y})}}function Nd(e){const t=[{},{}];return e==null||e.values.forEach((s,r)=>{t[0][r]=s.get(),t[1][r]=s.getVelocity()}),t}function Al(e,t,s,r){if(typeof t=="function"){const[a,c]=Nd(r);t=t(s!==void 0?s:e.custom,a,c)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,c]=Nd(r);t=t(s!==void 0?s:e.custom,a,c)}return t}function br(e){return Ct(e)?e.get():e}function Vb({scrapeMotionValuesFromProps:e,createRenderState:t},s,r,a){return{latestValues:$b(s,r,a,e),renderState:t()}}const Ef=e=>(t,s)=>{const r=f.useContext(Gr),a=f.useContext(il),c=()=>Vb(e,t,r,a);return s?c():pv(c)};function $b(e,t,s,r){const a={},c=r(e,{});for(const y in c)a[y]=br(c[y]);let{initial:l,animate:u}=e;const h=Kr(e),m=bf(e);t&&m&&!h&&e.inherit!==!1&&(l===void 0&&(l=t.initial),u===void 0&&(u=t.animate));let g=s?s.initial===!1:!1;g=g||l===!1;const x=g?u:l;if(x&&typeof x!="boolean"&&!qr(x)){const y=Array.isArray(x)?x:[x];for(let b=0;b<y.length;b++){const w=Al(e,y[b]);if(w){const{transitionEnd:_,transition:N,...T}=w;for(const C in T){let j=T[C];if(Array.isArray(j)){const P=g?j.length-1:0;j=j[P]}j!==null&&(a[C]=j)}for(const C in _)a[C]=_[C]}}}return a}function kl(e,t,s){var c;const{style:r}=e,a={};for(const l in r)(Ct(r[l])||t.style&&Ct(t.style[l])||Sf(l,e)||((c=s==null?void 0:s.getValue(l))==null?void 0:c.liveStyle)!==void 0)&&(a[l]=r[l]);return a}const Ub={useVisualState:Ef({scrapeMotionValuesFromProps:kl,createRenderState:El})};function Lf(e,t,s){const r=kl(e,t,s);for(const a in e)if(Ct(e[a])||Ct(t[a])){const c=ks.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[c]=e[a]}return r}const Hb={useVisualState:Ef({scrapeMotionValuesFromProps:Lf,createRenderState:Tf})};function Wb(e,t){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const l={...Ll(r)?Hb:Ub,preloadedFeatures:e,useRender:Fb(a),createVisualElement:t,Component:r};return Sb(l)}}function wi(e,t,s){const r=e.getProps();return Al(r,t,s!==void 0?s:r.custom,e)}const wa=e=>Array.isArray(e);function Zb(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,Ps(s))}function Gb(e){return wa(e)?e[e.length-1]||0:e}function qb(e,t){const s=wi(e,t);let{transitionEnd:r={},transition:a={},...c}=s||{};c={...c,...r};for(const l in c){const u=Gb(c[l]);Zb(e,l,u)}}function Kb(e){return!!(Ct(e)&&e.add)}function ja(e,t){const s=e.getValue("willChange");if(Kb(s))return s.add(t);if(!s&&Tn.WillChange){const r=new Tn.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Af(e){return e.props[_f]}const Yb=e=>e!==null;function Xb(e,{repeat:t,repeatType:s="loop"},r){const a=e.filter(Yb),c=t&&s!=="loop"&&t%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const Jb={type:"spring",stiffness:500,damping:25,restSpeed:10},Qb=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),e_={type:"keyframes",duration:.8},t_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},n_=(e,{keyframes:t})=>t.length>2?e_:Rs.has(e)?e.startsWith("scale")?Qb(t[1]):Jb:t_;function s_({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:a,repeat:c,repeatType:l,repeatDelay:u,from:h,elapsed:m,...g}){return!!Object.keys(g).length}const Rl=(e,t,s,r={},a,c)=>l=>{const u=_l(r,e)||{},h=u.delay||r.delay||0;let{elapsed:m=0}=r;m=m-fn(h);const g={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-m,onUpdate:y=>{t.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:c?void 0:a};s_(u)||Object.assign(g,n_(e,g)),g.duration&&(g.duration=fn(g.duration)),g.repeatDelay&&(g.repeatDelay=fn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let x=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(x=!0)),(Tn.instantAnimations||Tn.skipAnimations)&&(x=!0,g.duration=0,g.delay=0),g.allowFlatten=!u.type&&!u.ease,x&&!c&&t.get()!==void 0){const y=Xb(g.keyframes,u);if(y!==void 0){ut.update(()=>{g.onUpdate(y),g.onComplete()});return}}return u.isSync?new yl(g):new $y(g)};function i_({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function kf(e,t,{delay:s=0,transitionOverride:r,type:a}={}){let{transition:c=e.getDefaultTransition(),transitionEnd:l,...u}=t;r&&(c=r);const h=[],m=a&&e.animationState&&e.animationState.getState()[a];for(const g in u){const x=e.getValue(g,e.latestValues[g]??null),y=u[g];if(y===void 0||m&&i_(m,g))continue;const b={delay:s,..._l(c||{},g)},w=x.get();if(w!==void 0&&!x.isAnimating&&!Array.isArray(y)&&y===w&&!b.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const T=Af(e);if(T){const C=window.MotionHandoffAnimation(T,g,ut);C!==null&&(b.startTime=C,_=!0)}}ja(e,g),x.start(Rl(g,x,y,e.shouldReduceMotion&&cf.has(g)?{type:!1}:b,e,_));const N=x.animation;N&&h.push(N)}return l&&Promise.all(h).then(()=>{ut.update(()=>{l&&qb(e,l)})}),h}function Sa(e,t,s={}){var h;const r=wi(e,t,s.type==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(a=s.transitionOverride);const c=r?()=>Promise.all(kf(e,r,s)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:x,staggerDirection:y}=a;return r_(e,t,g+m,x,y,s)}:()=>Promise.resolve(),{when:u}=a;if(u){const[m,g]=u==="beforeChildren"?[c,l]:[l,c];return m().then(()=>g())}else return Promise.all([c(),l(s.delay)])}function r_(e,t,s=0,r=0,a=1,c){const l=[],u=(e.variantChildren.size-1)*r,h=a===1?(m=0)=>m*r:(m=0)=>u-m*r;return Array.from(e.variantChildren).sort(o_).forEach((m,g)=>{m.notify("AnimationStart",t),l.push(Sa(m,t,{...c,delay:s+h(g)}).then(()=>m.notify("AnimationComplete",t)))}),Promise.all(l)}function o_(e,t){return e.sortNodePosition(t)}function a_(e,t,s={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(c=>Sa(e,c,s));r=Promise.all(a)}else if(typeof t=="string")r=Sa(e,t,s);else{const a=typeof t=="function"?wi(e,t,s.custom):t;r=Promise.all(kf(e,a,s))}return r.then(()=>{e.notify("AnimationComplete",t)})}function Rf(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}const l_=Cl.length;function Mf(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?Mf(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<l_;s++){const r=Cl[s],a=e.props[r];(bi(a)||a===!1)&&(t[r]=a)}return t}const c_=[...Nl].reverse(),d_=Nl.length;function u_(e){return t=>Promise.all(t.map(({animation:s,options:r})=>a_(e,s,r)))}function h_(e){let t=u_(e),s=Cd(),r=!0;const a=h=>(m,g)=>{var y;const x=wi(e,g,h==="exit"?(y=e.presenceContext)==null?void 0:y.custom:void 0);if(x){const{transition:b,transitionEnd:w,..._}=x;m={...m,..._,...w}}return m};function c(h){t=h(e)}function l(h){const{props:m}=e,g=Mf(e.parent)||{},x=[],y=new Set;let b={},w=1/0;for(let N=0;N<d_;N++){const T=c_[N],C=s[T],j=m[T]!==void 0?m[T]:g[T],P=bi(j),E=T===h?C.isActive:null;E===!1&&(w=N);let D=j===g[T]&&j!==m[T]&&P;if(D&&r&&e.manuallyAnimateOnMount&&(D=!1),C.protectedKeys={...b},!C.isActive&&E===null||!j&&!C.prevProp||qr(j)||typeof j=="boolean")continue;const z=f_(C.prevProp,j);let $=z||T===h&&C.isActive&&!D&&P||N>w&&P,J=!1;const R=Array.isArray(j)?j:[j];let F=R.reduce(a(T),{});E===!1&&(F={});const{prevResolvedValues:U={}}=C,M={...U,...F},te=fe=>{$=!0,y.has(fe)&&(J=!0,y.delete(fe)),C.needsAnimating[fe]=!0;const se=e.getValue(fe);se&&(se.liveStyle=!1)};for(const fe in M){const se=F[fe],V=U[fe];if(b.hasOwnProperty(fe))continue;let k=!1;wa(se)&&wa(V)?k=!Rf(se,V):k=se!==V,k?se!=null?te(fe):y.add(fe):se!==void 0&&y.has(fe)?te(fe):C.protectedKeys[fe]=!0}C.prevProp=j,C.prevResolvedValues=F,C.isActive&&(b={...b,...F}),r&&e.blockInitialAnimation&&($=!1),$&&(!(D&&z)||J)&&x.push(...R.map(fe=>({animation:fe,options:{type:T}})))}if(y.size){const N={};if(typeof m.initial!="boolean"){const T=wi(e,Array.isArray(m.initial)?m.initial[0]:m.initial);T&&T.transition&&(N.transition=T.transition)}y.forEach(T=>{const C=e.getBaseTarget(T),j=e.getValue(T);j&&(j.liveStyle=!0),N[T]=C??null}),x.push({animation:N})}let _=!!x.length;return r&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(_=!1),r=!1,_?t(x):Promise.resolve()}function u(h,m){var x;if(s[h].isActive===m)return Promise.resolve();(x=e.variantChildren)==null||x.forEach(y=>{var b;return(b=y.animationState)==null?void 0:b.setActive(h,m)}),s[h].isActive=m;const g=l(h);for(const y in s)s[y].protectedKeys={};return g}return{animateChanges:l,setActive:u,setAnimateFunction:c,getState:()=>s,reset:()=>{s=Cd(),r=!0}}}function f_(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Rf(t,e):!1}function Kn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Cd(){return{animate:Kn(!0),whileInView:Kn(),whileHover:Kn(),whileTap:Kn(),whileDrag:Kn(),whileFocus:Kn(),exit:Kn()}}class zn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class m_ extends zn{constructor(t){super(t),t.animationState||(t.animationState=h_(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();qr(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let p_=0;class g_ extends zn{constructor(){super(...arguments),this.id=p_++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);s&&!t&&a.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const x_={animation:{Feature:m_},exit:{Feature:g_}};function ji(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}function Li(e){return{point:{x:e.pageX,y:e.pageY}}}const v_=e=>t=>Sl(t)&&e(t,Li(t));function mi(e,t,s,r){return ji(e,t,v_(s),r)}function If({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function y_({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function b_(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}const Of=1e-4,__=1-Of,w_=1+Of,Df=.01,j_=0-Df,S_=0+Df;function Lt(e){return e.max-e.min}function N_(e,t,s){return Math.abs(e-t)<=s}function Td(e,t,s,r=.5){e.origin=r,e.originPoint=dt(t.min,t.max,e.origin),e.scale=Lt(s)/Lt(t),e.translate=dt(s.min,s.max,e.origin)-e.originPoint,(e.scale>=__&&e.scale<=w_||isNaN(e.scale))&&(e.scale=1),(e.translate>=j_&&e.translate<=S_||isNaN(e.translate))&&(e.translate=0)}function pi(e,t,s,r){Td(e.x,t.x,s.x,r?r.originX:void 0),Td(e.y,t.y,s.y,r?r.originY:void 0)}function Pd(e,t,s){e.min=s.min+t.min,e.max=e.min+Lt(t)}function C_(e,t,s){Pd(e.x,t.x,s.x),Pd(e.y,t.y,s.y)}function Ed(e,t,s){e.min=t.min-s.min,e.max=e.min+Lt(t)}function gi(e,t,s){Ed(e.x,t.x,s.x),Ed(e.y,t.y,s.y)}const Ld=()=>({translate:0,scale:1,origin:0,originPoint:0}),js=()=>({x:Ld(),y:Ld()}),Ad=()=>({min:0,max:0}),pt=()=>({x:Ad(),y:Ad()});function Gt(e){return[e("x"),e("y")]}function $o(e){return e===void 0||e===1}function Na({scale:e,scaleX:t,scaleY:s}){return!$o(e)||!$o(t)||!$o(s)}function Xn(e){return Na(e)||Bf(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Bf(e){return kd(e.x)||kd(e.y)}function kd(e){return e&&e!=="0%"}function Rr(e,t,s){const r=e-s,a=t*r;return s+a}function Rd(e,t,s,r,a){return a!==void 0&&(e=Rr(e,a,r)),Rr(e,s,r)+t}function Ca(e,t=0,s=1,r,a){e.min=Rd(e.min,t,s,r,a),e.max=Rd(e.max,t,s,r,a)}function zf(e,{x:t,y:s}){Ca(e.x,t.translate,t.scale,t.originPoint),Ca(e.y,s.translate,s.scale,s.originPoint)}const Md=.999999999999,Id=1.0000000000001;function T_(e,t,s,r=!1){const a=s.length;if(!a)return;t.x=t.y=1;let c,l;for(let u=0;u<a;u++){c=s[u],l=c.projectionDelta;const{visualElement:h}=c.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ns(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,zf(e,l)),r&&Xn(c.latestValues)&&Ns(e,c.latestValues))}t.x<Id&&t.x>Md&&(t.x=1),t.y<Id&&t.y>Md&&(t.y=1)}function Ss(e,t){e.min=e.min+t,e.max=e.max+t}function Od(e,t,s,r,a=.5){const c=dt(e.min,e.max,a);Ca(e,t,s,c,r)}function Ns(e,t){Od(e.x,t.x,t.scaleX,t.scale,t.originX),Od(e.y,t.y,t.scaleY,t.scale,t.originY)}function Ff(e,t){return If(b_(e.getBoundingClientRect(),t))}function P_(e,t,s){const r=Ff(e,s),{scroll:a}=t;return a&&(Ss(r.x,a.offset.x),Ss(r.y,a.offset.y)),r}const Vf=({current:e})=>e?e.ownerDocument.defaultView:null,Dd=(e,t)=>Math.abs(e-t);function E_(e,t){const s=Dd(e.x,t.x),r=Dd(e.y,t.y);return Math.sqrt(s**2+r**2)}class $f{constructor(t,s,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:c=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Ho(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,b=E_(x.offset,{x:0,y:0})>=3;if(!y&&!b)return;const{point:w}=x,{timestamp:_}=St;this.history.push({...w,timestamp:_});const{onStart:N,onMove:T}=this.handlers;y||(N&&N(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,x)},this.handlePointerMove=(x,y)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Uo(y,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(x,y)=>{this.end();const{onEnd:b,onSessionEnd:w,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Ho(x.type==="pointercancel"?this.lastMoveEventInfo:Uo(y,this.transformPagePoint),this.history);this.startEvent&&b&&b(x,N),w&&w(x,N)},!Sl(t))return;this.dragSnapToOrigin=c,this.handlers=s,this.transformPagePoint=r,this.contextWindow=a||window;const l=Li(t),u=Uo(l,this.transformPagePoint),{point:h}=u,{timestamp:m}=St;this.history=[{...h,timestamp:m}];const{onSessionStart:g}=s;g&&g(t,Ho(u,this.history)),this.removeListeners=Ti(mi(this.contextWindow,"pointermove",this.handlePointerMove),mi(this.contextWindow,"pointerup",this.handlePointerUp),mi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Dn(this.updatePoint)}}function Uo(e,t){return t?{point:t(e.point)}:e}function Bd(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ho({point:e},t){return{point:e,delta:Bd(e,Uf(t)),offset:Bd(e,L_(t)),velocity:A_(t,.1)}}function L_(e){return e[0]}function Uf(e){return e[e.length-1]}function A_(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const a=Uf(e);for(;s>=0&&(r=e[s],!(a.timestamp-r.timestamp>fn(t)));)s--;if(!r)return{x:0,y:0};const c=mn(a.timestamp-r.timestamp);if(c===0)return{x:0,y:0};const l={x:(a.x-r.x)/c,y:(a.y-r.y)/c};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function k_(e,{min:t,max:s},r){return t!==void 0&&e<t?e=r?dt(t,e,r.min):Math.max(e,t):s!==void 0&&e>s&&(e=r?dt(s,e,r.max):Math.min(e,s)),e}function zd(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function R_(e,{top:t,left:s,bottom:r,right:a}){return{x:zd(e.x,s,a),y:zd(e.y,t,r)}}function Fd(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function M_(e,t){return{x:Fd(e.x,t.x),y:Fd(e.y,t.y)}}function I_(e,t){let s=.5;const r=Lt(e),a=Lt(t);return a>r?s=xi(t.min,t.max-r,e.min):r>a&&(s=xi(e.min,e.max-a,t.min)),Cn(0,1,s)}function O_(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Ta=.35;function D_(e=Ta){return e===!1?e=0:e===!0&&(e=Ta),{x:Vd(e,"left","right"),y:Vd(e,"top","bottom")}}function Vd(e,t,s){return{min:$d(e,t),max:$d(e,s)}}function $d(e,t){return typeof e=="number"?e:e[t]||0}const B_=new WeakMap;class z_{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pt(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Li(g).point)},c=(g,x)=>{const{drag:y,dragPropagation:b,onDragStart:w}=this.getProps();if(y&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ib(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gt(N=>{let T=this.getAxisMotionValue(N).get()||0;if(pn.test(T)){const{projection:C}=this.visualElement;if(C&&C.layout){const j=C.layout.layoutBox[N];j&&(T=Lt(j)*(parseFloat(T)/100))}}this.originPoint[N]=T}),w&&ut.postRender(()=>w(g,x)),ja(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},l=(g,x)=>{const{dragPropagation:y,dragDirectionLock:b,onDirectionLock:w,onDrag:_}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:N}=x;if(b&&this.currentDirection===null){this.currentDirection=F_(N),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",x.point,N),this.updateAxis("y",x.point,N),this.visualElement.render(),_&&_(g,x)},u=(g,x)=>this.stop(g,x),h=()=>Gt(g=>{var x;return this.getAnimationState(g)==="paused"&&((x=this.getAxisMotionValue(g).animation)==null?void 0:x.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new $f(t,{onSessionStart:a,onStart:c,onMove:l,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:Vf(this.visualElement)})}stop(t,s){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:c}=this.getProps();c&&ut.postRender(()=>c(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:a}=this.getProps();if(!r||!fr(t,a,this.currentDirection))return;const c=this.getAxisMotionValue(t);let l=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(l=k_(l,this.constraints[t],this.elastic[t])),c.set(l)}resolveConstraints(){var c;const{dragConstraints:t,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(c=this.visualElement.projection)==null?void 0:c.layout,a=this.constraints;t&&ws(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=R_(r.layoutBox,t):this.constraints=!1,this.elastic=D_(s),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Gt(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=O_(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!ws(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const c=P_(r,a.root,this.visualElement.getTransformPagePoint());let l=M_(a.layout.layoutBox,c);if(s){const u=s(y_(l));this.hasMutatedConstraints=!!u,u&&(l=If(u))}return l}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:a,dragTransition:c,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},m=Gt(g=>{if(!fr(g,s,this.currentDirection))return;let x=h&&h[g]||{};l&&(x={min:0,max:0});const y=a?200:1e6,b=a?40:1e7,w={type:"inertia",velocity:r?t[g]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...c,...x};return this.startAxisValueAnimation(g,w)});return Promise.all(m).then(u)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return ja(this.visualElement,t),r.start(Rl(t,r,0,s,this.visualElement,!1))}stopAnimation(){Gt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Gt(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[s];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Gt(s=>{const{drag:r}=this.getProps();if(!fr(s,r,this.currentDirection))return;const{projection:a}=this.visualElement,c=this.getAxisMotionValue(s);if(a&&a.layout){const{min:l,max:u}=a.layout.layoutBox[s];c.set(t[s]-dt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!ws(s)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Gt(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();a[l]=I_({min:h,max:h},this.constraints[l])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Gt(l=>{if(!fr(l,t,null))return;const u=this.getAxisMotionValue(l),{min:h,max:m}=this.constraints[l];u.set(dt(h,m,a[l]))})}addListeners(){if(!this.visualElement.current)return;B_.set(this.visualElement,this);const t=this.visualElement.current,s=mi(t,"pointerdown",h=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();ws(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,c=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ut.read(r);const l=ji(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Gt(g=>{const x=this.getAxisMotionValue(g);x&&(this.originPoint[g]+=h[g].translate,x.set(x.get()+h[g].translate))}),this.visualElement.render())});return()=>{l(),s(),c(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:c=!1,dragElastic:l=Ta,dragMomentum:u=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:a,dragConstraints:c,dragElastic:l,dragMomentum:u}}}function fr(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function F_(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class V_ extends zn{constructor(t){super(t),this.removeGroupControls=Xt,this.removeListeners=Xt,this.controls=new z_(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ud=e=>(t,s)=>{e&&ut.postRender(()=>e(t,s))};class $_ extends zn{constructor(){super(...arguments),this.removePointerDownListener=Xt}onPointerDown(t){this.session=new $f(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Vf(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:Ud(t),onStart:Ud(s),onMove:r,onEnd:(c,l)=>{delete this.session,a&&ut.postRender(()=>a(c,l))}}}mount(){this.removePointerDownListener=mi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _r={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Hd(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ri={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Me.test(e))e=parseFloat(e);else return e;const s=Hd(e,t.target.x),r=Hd(e,t.target.y);return`${s}% ${r}%`}},U_={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,a=Bn.parse(e);if(a.length>5)return r;const c=Bn.createTransformer(e),l=typeof a[0]!="number"?1:0,u=s.x.scale*t.x,h=s.y.scale*t.y;a[0+l]/=u,a[1+l]/=h;const m=dt(u,h,.5);return typeof a[2+l]=="number"&&(a[2+l]/=m),typeof a[3+l]=="number"&&(a[3+l]/=m),c(a)}};class H_ extends f.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:a}=this.props,{projection:c}=t;Pb(W_),c&&(s.group&&s.group.add(c),r&&r.register&&a&&r.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),_r.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:a,isPresent:c}=this.props,{projection:l}=r;return l&&(l.isPresent=c,a||t.layoutDependency!==s||s===void 0||t.isPresent!==c?l.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?l.promote():l.relegate()||ut.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),jl.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Hf(e){const[t,s]=xv(),r=f.useContext(Ph);return i.jsx(H_,{...e,layoutGroup:r,switchLayoutGroup:f.useContext(wf),isPresent:t,safeToRemove:s})}const W_={borderRadius:{...ri,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ri,borderTopRightRadius:ri,borderBottomLeftRadius:ri,borderBottomRightRadius:ri,boxShadow:U_};function Z_(e,t,s){const r=Ct(e)?e:Ps(e);return r.start(Rl("",r,t,s)),r.animation}function G_(e){return e instanceof SVGElement&&e.tagName!=="svg"}const q_=(e,t)=>e.depth-t.depth;class K_{constructor(){this.children=[],this.isDirty=!1}add(t){rl(this.children,t),this.isDirty=!0}remove(t){ol(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(q_),this.isDirty=!1,this.children.forEach(t)}}function Y_(e,t){const s=Rt.now(),r=({timestamp:a})=>{const c=a-s;c>=t&&(Dn(r),e(c-t))};return ut.setup(r,!0),()=>Dn(r)}const Wf=["TopLeft","TopRight","BottomLeft","BottomRight"],X_=Wf.length,Wd=e=>typeof e=="string"?parseFloat(e):e,Zd=e=>typeof e=="number"||Me.test(e);function J_(e,t,s,r,a,c){a?(e.opacity=dt(0,s.opacity??1,Q_(r)),e.opacityExit=dt(t.opacity??1,0,ew(r))):c&&(e.opacity=dt(t.opacity??1,s.opacity??1,r));for(let l=0;l<X_;l++){const u=`border${Wf[l]}Radius`;let h=Gd(t,u),m=Gd(s,u);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||Zd(h)===Zd(m)?(e[u]=Math.max(dt(Wd(h),Wd(m),r),0),(pn.test(m)||pn.test(h))&&(e[u]+="%")):e[u]=m}(t.rotate||s.rotate)&&(e.rotate=dt(t.rotate||0,s.rotate||0,r))}function Gd(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Q_=Zf(0,.5,zh),ew=Zf(.5,.95,Xt);function Zf(e,t,s){return r=>r<e?0:r>t?1:s(xi(e,t,r))}function qd(e,t){e.min=t.min,e.max=t.max}function Zt(e,t){qd(e.x,t.x),qd(e.y,t.y)}function Kd(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Yd(e,t,s,r,a){return e-=t,e=Rr(e,1/s,r),a!==void 0&&(e=Rr(e,1/a,r)),e}function tw(e,t=0,s=1,r=.5,a,c=e,l=e){if(pn.test(t)&&(t=parseFloat(t),t=dt(l.min,l.max,t/100)-l.min),typeof t!="number")return;let u=dt(c.min,c.max,r);e===c&&(u-=t),e.min=Yd(e.min,t,s,u,a),e.max=Yd(e.max,t,s,u,a)}function Xd(e,t,[s,r,a],c,l){tw(e,t[s],t[r],t[a],t.scale,c,l)}const nw=["x","scaleX","originX"],sw=["y","scaleY","originY"];function Jd(e,t,s,r){Xd(e.x,t,nw,s?s.x:void 0,r?r.x:void 0),Xd(e.y,t,sw,s?s.y:void 0,r?r.y:void 0)}function Qd(e){return e.translate===0&&e.scale===1}function Gf(e){return Qd(e.x)&&Qd(e.y)}function eu(e,t){return e.min===t.min&&e.max===t.max}function iw(e,t){return eu(e.x,t.x)&&eu(e.y,t.y)}function tu(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function qf(e,t){return tu(e.x,t.x)&&tu(e.y,t.y)}function nu(e){return Lt(e.x)/Lt(e.y)}function su(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class rw{constructor(){this.members=[]}add(t){rl(this.members,t),t.scheduleRender()}remove(t){if(ol(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(a=>t===a);if(s===0)return!1;let r;for(let a=s;a>=0;a--){const c=this.members[a];if(c.isPresent!==!1){r=c;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ow(e,t,s){let r="";const a=e.x.translate/t.x,c=e.y.translate/t.y,l=(s==null?void 0:s.z)||0;if((a||c||l)&&(r=`translate3d(${a}px, ${c}px, ${l}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:m,rotate:g,rotateX:x,rotateY:y,skewX:b,skewY:w}=s;m&&(r=`perspective(${m}px) ${r}`),g&&(r+=`rotate(${g}deg) `),x&&(r+=`rotateX(${x}deg) `),y&&(r+=`rotateY(${y}deg) `),b&&(r+=`skewX(${b}deg) `),w&&(r+=`skewY(${w}deg) `)}const u=e.x.scale*t.x,h=e.y.scale*t.y;return(u!==1||h!==1)&&(r+=`scale(${u}, ${h})`),r||"none"}const Wo=["","X","Y","Z"],aw={visibility:"hidden"},lw=1e3;let cw=0;function Zo(e,t,s,r){const{latestValues:a}=t;a[e]&&(s[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Kf(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=Af(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:a,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",ut,!(a||c))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Kf(r)}function Yf({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(l={},u=t==null?void 0:t()){this.id=cw++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(hw),this.nodes.forEach(xw),this.nodes.forEach(vw),this.nodes.forEach(fw)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new K_)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new ll),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=G_(l),this.instance=l;const{layoutId:u,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),e){let g;const x=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=Y_(x,250),_r.hasAnimatedSinceResize&&(_r.hasAnimatedSinceResize=!1,this.nodes.forEach(ru))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&m&&(u||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:x,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||m.getDefaultTransition()||jw,{onLayoutAnimationStart:_,onLayoutAnimationComplete:N}=m.getProps(),T=!this.targetLayout||!qf(this.targetLayout,b),C=!x&&y;if(this.options.layoutRoot||this.resumeFrom||C||x&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,C);const j={..._l(w,"layout"),onPlay:_,onComplete:N};(m.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else x||ru(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Dn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yw),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Kf(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const x=this.path[g];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iu);return}this.isUpdating||this.nodes.forEach(pw),this.isUpdating=!1,this.nodes.forEach(gw),this.nodes.forEach(dw),this.nodes.forEach(uw),this.clearAllSnapshots();const u=Rt.now();St.delta=Cn(0,1e3/60,u-St.timestamp),St.timestamp=u,St.isProcessing=!0,Oo.update.process(St),Oo.preRender.process(St),Oo.render.process(St),St.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,jl.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mw),this.sharedNodes.forEach(bw)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Lt(this.snapshot.measuredBox.x)&&!Lt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!Gf(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;l&&this.instance&&(u||Xn(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),Sw(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:l}=this.options;if(!l)return pt();const u=l.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(Nw))){const{scroll:g}=this.root;g&&(Ss(u.x,g.offset.x),Ss(u.y,g.offset.y))}return u}removeElementScroll(l){var h;const u=pt();if(Zt(u,l),(h=this.scroll)!=null&&h.wasRoot)return u;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:x,options:y}=g;g!==this.root&&x&&y.layoutScroll&&(x.wasRoot&&Zt(u,l),Ss(u.x,x.offset.x),Ss(u.y,x.offset.y))}return u}applyTransform(l,u=!1){const h=pt();Zt(h,l);for(let m=0;m<this.path.length;m++){const g=this.path[m];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Ns(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Xn(g.latestValues)&&Ns(h,g.latestValues)}return Xn(this.latestValues)&&Ns(h,this.latestValues),h}removeTransform(l){const u=pt();Zt(u,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!Xn(m.latestValues))continue;Na(m.latestValues)&&m.updateSnapshot();const g=pt(),x=m.measurePageBox();Zt(g,x),Jd(u,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Xn(this.latestValues)&&Jd(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==St.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var y;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:x}=this.options;if(!(!this.layout||!(g||x))){if(this.resolvedRelativeTargetAt=St.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),gi(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Zt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pt(),this.targetWithTransforms=pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),C_(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zt(this.target,this.layout.layoutBox),zf(this.target,this.targetDelta)):Zt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),gi(this.relativeTargetOrigin,this.target,b.target),Zt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Na(this.parent.latestValues)||Bf(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===St.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Zt(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,y=this.treeScale.y;T_(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=pt());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Kd(this.prevProjectionDelta.x,this.projectionDelta.x),Kd(this.prevProjectionDelta.y,this.projectionDelta.y)),pi(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==y||!su(this.projectionDelta.x,this.prevProjectionDelta.x)||!su(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=js(),this.projectionDelta=js(),this.projectionDeltaWithTransform=js()}setAnimationOrigin(l,u=!1){const h=this.snapshot,m=h?h.latestValues:{},g={...this.latestValues},x=js();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=pt(),b=h?h.source:void 0,w=this.layout?this.layout.source:void 0,_=b!==w,N=this.getStack(),T=!N||N.members.length<=1,C=!!(_&&!T&&this.options.crossfade===!0&&!this.path.some(ww));this.animationProgress=0;let j;this.mixTargetDelta=P=>{const E=P/1e3;ou(x.x,l.x,E),ou(x.y,l.y,E),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gi(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_w(this.relativeTarget,this.relativeTargetOrigin,y,E),j&&iw(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=pt()),Zt(j,this.relativeTarget)),_&&(this.animationValues=g,J_(g,m,this.latestValues,E,C,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var u,h,m;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(!1),(m=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||m.stop(!1),this.pendingAnimation&&(Dn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{_r.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ps(0)),this.currentAnimation=Z_(this.motionValue,[0,1e3],{...l,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),l.onUpdate&&l.onUpdate(g)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lw),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:m,latestValues:g}=l;if(!(!u||!h||!m)){if(this!==l&&this.layout&&m&&Xf(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||pt();const x=Lt(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+x;const y=Lt(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+y}Zt(u,h),Ns(u,g),pi(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new rw),this.sharedNodes.get(l).add(u);const m=u.options.initialPromotionConfig;u.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const m={};h.z&&Zo("z",l,m,this.animationValues);for(let g=0;g<Wo.length;g++)Zo(`rotate${Wo[g]}`,l,m,this.animationValues),Zo(`skew${Wo[g]}`,l,m,this.animationValues);l.render();for(const g in m)l.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return aw;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=br(l==null?void 0:l.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=br(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Xn(this.latestValues)&&(b.transform=h?h({},""):"none",this.hasProjected=!1),b}const g=m.animationValues||m.latestValues;this.applyTransformsToTarget(),u.transform=ow(this.projectionDeltaWithTransform,this.treeScale,g),h&&(u.transform=h(g,u.transform));const{x,y}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${y.origin*100}% 0`,m.animationValues?u.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const b in _i){if(g[b]===void 0)continue;const{correct:w,applyTo:_,isCSSVariable:N}=_i[b],T=u.transform==="none"?g[b]:w(g[b],m);if(_){const C=_.length;for(let j=0;j<C;j++)u[_[j]]=T}else N?this.options.visualElement.renderState.vars[b]=T:u[b]=T}return this.options.layoutId&&(u.pointerEvents=m===this?br(l==null?void 0:l.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop(!1)}),this.root.nodes.forEach(iu),this.root.sharedNodes.clear()}}}function dw(e){e.updateLayout()}function uw(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:c}=e.options,l=t.source!==e.layout.source;c==="size"?Gt(x=>{const y=l?t.measuredBox[x]:t.layoutBox[x],b=Lt(y);y.min=r[x].min,y.max=y.min+b}):Xf(c,t.layoutBox,r)&&Gt(x=>{const y=l?t.measuredBox[x]:t.layoutBox[x],b=Lt(r[x]);y.max=y.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[x].max=e.relativeTarget[x].min+b)});const u=js();pi(u,r,t.layoutBox);const h=js();l?pi(h,e.applyTransform(a,!0),t.measuredBox):pi(h,r,t.layoutBox);const m=!Gf(u);let g=!1;if(!e.resumeFrom){const x=e.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:y,layout:b}=x;if(y&&b){const w=pt();gi(w,t.layoutBox,y.layoutBox);const _=pt();gi(_,r,b.layoutBox),qf(w,_)||(g=!0),x.options.layoutRoot&&(e.relativeTarget=_,e.relativeTargetOrigin=w,e.relativeParent=x)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function hw(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function fw(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function mw(e){e.clearSnapshot()}function iu(e){e.clearMeasurements()}function pw(e){e.isLayoutDirty=!1}function gw(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ru(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function xw(e){e.resolveTargetDelta()}function vw(e){e.calcProjection()}function yw(e){e.resetSkewAndRotation()}function bw(e){e.removeLeadSnapshot()}function ou(e,t,s){e.translate=dt(t.translate,0,s),e.scale=dt(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function au(e,t,s,r){e.min=dt(t.min,s.min,r),e.max=dt(t.max,s.max,r)}function _w(e,t,s,r){au(e.x,t.x,s.x,r),au(e.y,t.y,s.y,r)}function ww(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const jw={duration:.45,ease:[.4,0,.1,1]},lu=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),cu=lu("applewebkit/")&&!lu("chrome/")?Math.round:Xt;function du(e){e.min=cu(e.min),e.max=cu(e.max)}function Sw(e){du(e.x),du(e.y)}function Xf(e,t,s){return e==="position"||e==="preserve-aspect"&&!N_(nu(t),nu(s),.2)}function Nw(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Cw=Yf({attachResizeListener:(e,t)=>ji(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Go={current:void 0},Jf=Yf({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Go.current){const e=new Cw({});e.mount(window),e.setOptions({layoutScroll:!0}),Go.current=e}return Go.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Tw={pan:{Feature:$_},drag:{Feature:V_,ProjectionNode:Jf,MeasureLayout:Hf}};function uu(e,t,s){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",s==="Start");const a="onHover"+s,c=r[a];c&&ut.postRender(()=>c(t,Li(t)))}class Pw extends zn{mount(){const{current:t}=this.node;t&&(this.unmount=rb(t,(s,r)=>(uu(this.node,r,"Start"),a=>uu(this.node,a,"End"))))}unmount(){}}class Ew extends zn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ti(ji(this.node.current,"focus",()=>this.onFocus()),ji(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hu(e,t,s){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",s==="Start");const a="onTap"+(s==="End"?"":s),c=r[a];c&&ut.postRender(()=>c(t,Li(t)))}class Lw extends zn{mount(){const{current:t}=this.node;t&&(this.unmount=cb(t,(s,r)=>(hu(this.node,r,"Start"),(a,{success:c})=>hu(this.node,a,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Pa=new WeakMap,qo=new WeakMap,Aw=e=>{const t=Pa.get(e.target);t&&t(e)},kw=e=>{e.forEach(Aw)};function Rw({root:e,...t}){const s=e||document;qo.has(s)||qo.set(s,{});const r=qo.get(s),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(kw,{root:e,...t})),r[a]}function Mw(e,t,s){const r=Rw(t);return Pa.set(e,s),r.observe(e),()=>{Pa.delete(e),r.unobserve(e)}}const Iw={some:0,all:1};class Ow extends zn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:a="some",once:c}=t,l={root:s?s.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Iw[a]},u=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,c&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:x}=this.node.getProps(),y=m?g:x;y&&y(h)};return Mw(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(Dw(t,s))&&this.startObserver()}unmount(){}}function Dw({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const Bw={inView:{Feature:Ow},tap:{Feature:Lw},focus:{Feature:Ew},hover:{Feature:Pw}},zw={layout:{ProjectionNode:Jf,MeasureLayout:Hf}},Ea={current:null},Qf={current:!1};function Fw(){if(Qf.current=!0,!!sl)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ea.current=e.matches;e.addListener(t),t()}else Ea.current=!1}const Vw=new WeakMap;function $w(e,t,s){for(const r in t){const a=t[r],c=s[r];if(Ct(a))e.addValue(r,a);else if(Ct(c))e.addValue(r,Ps(a,{owner:e}));else if(c!==a)if(e.hasValue(r)){const l=e.getValue(r);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=e.getStaticValue(r);e.addValue(r,Ps(l!==void 0?l:a,{owner:e}))}}for(const r in s)t[r]===void 0&&e.removeValue(r);return t}const fu=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Uw{scrapeMotionValuesFromProps(t,s,r){return{}}constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:c,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bl,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Rt.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,ut.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=s.initial?{...h}:{},this.renderState=m,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!c,this.isControllingVariants=Kr(s),this.isVariantNode=bf(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...x}=this.scrapeMotionValuesFromProps(s,{},this);for(const y in x){const b=x[y];h[y]!==void 0&&Ct(b)&&b.set(h[y],!1)}}mount(t){this.current=t,Vw.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),Qf.current||Fw(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ea.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Dn(this.notifyUpdate),Dn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Rs.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=s.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&ut.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),c=s.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{a(),c(),l&&l(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Es){const s=Es[t];if(!s)continue;const{isEnabled:r,Feature:a}=s;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const c=this.features[t];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<fu.length;r++){const a=fu[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const c="on"+a,l=t[c];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=$w(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const r=this.values.get(t);s!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=Ps(s===null?void 0:s,{owner:this}),this.addValue(t,r)),r}readValue(t,s){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Lh(r)||Ah(r))?r=parseFloat(r):!ub(r)&&Bn.test(s)&&(r=ff(t,s)),this.setBaseTarget(t,Ct(r)?r.get():r)),Ct(r)?r.get():r}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var c;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const l=Al(this.props,s,(c=this.presenceContext)==null?void 0:c.custom);l&&(r=l[t])}if(s&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ct(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new ll),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class em extends Uw{constructor(){super(...arguments),this.KeyframeResolver=eb}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ct(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function tm(e,{style:t,vars:s},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const c in s)e.style.setProperty(c,s[c])}function Hw(e){return window.getComputedStyle(e)}class Ww extends em{constructor(){super(...arguments),this.type="html",this.renderInstance=tm}readValueFromInstance(t,s){if(Rs.has(s))return yy(t,s);{const r=Hw(t),a=(ul(s)?r.getPropertyValue(s):r[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:s}){return Ff(t,s)}build(t,s,r){Pl(t,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,s,r){return kl(t,s,r)}}const nm=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Zw(e,t,s,r){tm(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(nm.has(a)?a:Tl(a),t.attrs[a])}class Gw extends em{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pt}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Rs.has(s)){const r=hf(s);return r&&r.default||0}return s=nm.has(s)?s:Tl(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,r){return Lf(t,s,r)}build(t,s,r){Cf(t,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,s,r,a){Zw(t,s,r,a)}mount(t){this.isSVGTag=Pf(t.tagName),super.mount(t)}}const qw=(e,t)=>Ll(e)?new Gw(t):new Ww(t,{allowProjection:e!==f.Fragment}),Kw=Wb({...x_,...Bw,...Tw,...zw},qw),dn=gb(Kw),Yw=()=>{const e=f.useRef(null);return f.useEffect(()=>{const t=e.current;if(!t)return;const s=t.getContext("2d");if(!s)return;const r=()=>{const u=t.parentElement;u&&(t.width=u.clientWidth,t.height=120)};r(),window.addEventListener("resize",r);let a,c=0;const l=()=>{if(!s||!t)return;s.clearRect(0,0,t.width,t.height);const u=t.height/2,h=30,m=.02,g=.05;s.beginPath(),s.moveTo(0,u);for(let w=0;w<t.width;w++){const _=Math.sin(w*m+c)*h*.6,N=Math.sin(w*m*1.4+c*1.2)*h*.3,T=Math.sin(w*m*.6+c)*h*.2;s.lineTo(w,u+_+N+T)}const x=s.createLinearGradient(0,0,t.width,0);x.addColorStop(0,"rgba(255,180,0,0.2)"),x.addColorStop(.5,"rgba(255,120,0,0.9)"),x.addColorStop(1,"rgba(255,60,0,0.2)"),s.strokeStyle=x,s.lineWidth=2.5,s.shadowBlur=20,s.shadowColor="rgba(255,140,0,0.9)",s.stroke(),s.beginPath(),s.moveTo(0,u);for(let w=0;w<t.width;w++){const _=Math.sin(w*m*.8+c*1.4)*h*.4,N=Math.sin(w*m*1.1+c)*h*.2;s.lineTo(w,u+_+N)}const y=s.createLinearGradient(0,0,t.width,0);y.addColorStop(0,"rgba(255,255,255,0.05)"),y.addColorStop(.5,"rgba(255,200,120,0.4)"),y.addColorStop(1,"rgba(255,255,255,0.05)"),s.strokeStyle=y,s.lineWidth=1.5,s.shadowBlur=10,s.shadowColor="rgba(255,200,120,0.6)",s.stroke();const b=18;for(let w=0;w<b;w++){const _=t.width/b*w+Math.sin(c*2+w)*6,N=Math.sin(c*3+w)*h*.6,T=u+N;s.beginPath(),s.arc(_,T,Math.abs(N)/10+1.2,0,Math.PI*2),s.fillStyle="rgba(255,180,80,0.8)",s.shadowBlur=12,s.shadowColor="rgba(255,140,0,1)",s.fill()}c+=g,a=requestAnimationFrame(l)};return l(),()=>{window.removeEventListener("resize",r),cancelAnimationFrame(a)}},[]),i.jsx("canvas",{ref:e,className:`
        w-full h-[120px]
        opacity-80
        rounded-xl
        backdrop-blur-md
        
      `})},Ko=({icon:e,title:t,description:s,delay:r})=>i.jsxs(dn.div,{className:"flex items-start mb-6",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:r*.1+.5},children:[i.jsx("div",{className:"flex-shrink-0 mr-4",children:i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:e})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-base font-semibold mb-1 text-white",children:t}),i.jsx("p",{className:"text-sm text-white/50",children:s})]})]}),Xw=()=>i.jsxs("main",{className:"min-h-screen neo-login text-foreground flex flex-col md:flex-row",children:[i.jsxs("div",{className:"md:flex md:w-1/2 neo-login to-violet-900 text-white relative overflow-hidden",children:[i.jsxs("div",{className:"md:hidden flex items-center justify-between p-6 border-b border-indigo-800",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-500 flex items-center justify-center mr-2",children:i.jsx(Wc,{className:"w-4 h-4 text-white "})}),i.jsx("h2",{className:"text-lg font-bold",children:"VoiceAI"})]}),i.jsx(dn.div,{initial:{opacity:0},animate:{opacity:1},className:"text-xs px-2 py-1 bg-white/10 rounded-full",children:"Enterprise Solution"})]}),i.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute top-[10%] right-[-10%] w-[40%] h-[40%] rounded-full bg-indigo-600/10 blur-3xl"}),i.jsx("div",{className:"absolute bottom-[10%] left-[-10%] w-[40%] h-[40%] rounded-full bg-violet-600/10 blur-3xl"}),i.jsx("div",{className:"absolute top-[40%] left-[20%] w-[30%] h-[30%] rounded-full bg-indigo-500/10 blur-3xl"})]}),i.jsxs("div",{className:"relative z-10 flex flex-col justify-between h-full w-full p-6 md:p-8 lg:p-12 md:block hidden",children:[i.jsxs("div",{children:[i.jsxs(dn.div,{className:"flex items-center mb-6",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsxs("div",{className:`
    relative w-10 h-10 mr-3 rounded-full
    flex items-center justify-center
    bg-gradient-to-br from-yellow-400 via-orange-500 to-red-600
    shadow-[0_0_6px_rgba(255,140,0,0.9)]
    before:absolute before:inset-0 before:rounded-full
    before:bg-gradient-to-br before:from-yellow-300/60 before:via-orange-400/50 before:to-red-600/60
    before:blur-md before:animate-pulse
    after:absolute after:inset-[-6px] after:rounded-full
    after:bg-[radial-gradient(circle,rgba(255,160,0,0.5),transparent_70%)]
    after:blur-xl
  `,children:[i.jsx("div",{className:"absolute inset-0 rounded-full bg-white/10 backdrop-blur-sm"}),i.jsx(Wc,{className:"relative z-10 w-5 h-5 text-white drop-shadow-[0_0_6px_rgba(255,255,255,0.9)]"})]}),i.jsx("h2",{className:"text-xl font-bold",children:"VoiceAI"})]}),i.jsxs(dn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[i.jsx("h1",{className:"text-3xl lg:text-4xl font-bold mb-3",children:"Transform Your Business Communication"}),i.jsx("p",{className:"text-lg text-indigo-100 mb-6",children:"Intelligent voice agents that deliver exceptional customer experiences."})]})]}),i.jsxs("div",{className:"my-8",children:[i.jsx(dn.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:.4},children:i.jsx(Yw,{})}),i.jsx("div",{className:"flex items-center justify-center mt-4 space-x-2",children:[...Array(5)].map((e,t)=>i.jsx(dn.div,{className:`
        w-2.5 h-2.5 rounded-full
        bg-gradient-to-br from-yellow-300 via-orange-400 to-red-500
        shadow-[0_0_12px_rgba(255,160,0,0.9)]
        backdrop-blur-md
      `,animate:{scale:[1,1.8,1],opacity:[.4,1,.4],boxShadow:["0 0 6px rgba(255,160,0,0.4)","0 0 16px rgba(255,140,0,1)","0 0 6px rgba(255,160,0,0.4)"]},transition:{duration:1.4,repeat:1/0,delay:t*.18,ease:"easeInOut"}},t))})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:`
    group rounded-xl p-5
    bg-white/5 backdrop-blur-lg
    border border-yellow-400/20
    shadow-[0_0_30px_rgba(255,160,0,0.12)]
    transition-all duration-500
    hover:border-yellow-400/50
    hover:shadow-[0_0_45px_rgba(255,140,0,0.35)]
  `,children:i.jsx(Ko,{icon:i.jsx(Zc,{className:"w-5 h-5 text-yellow-400 drop-shadow-[0_0_8px_rgba(255,160,0,0.8)]"}),title:"AI-Powered Voice Agents",description:"Lifelike conversations that handle customer inquiries with natural flow.",delay:1})}),i.jsx("div",{className:`
    group rounded-xl p-5
    bg-white/5 backdrop-blur-lg
    border border-orange-400/20
    shadow-[0_0_30px_rgba(255,120,0,0.12)]
    transition-all duration-500
    hover:border-orange-400/50
    hover:shadow-[0_0_45px_rgba(255,120,0,0.35)]
  `,children:i.jsx(Ko,{icon:i.jsx(Cr,{className:"w-5 h-5 text-orange-400 drop-shadow-[0_0_8px_rgba(255,120,0,0.8)]"}),title:"Advanced Natural Language Processing",description:"Understands context, sentiment, and intent for human-like interactions.",delay:2})}),i.jsx("div",{className:`
    group rounded-xl p-5
    bg-white/5 backdrop-blur-lg
    border border-red-400/20
    shadow-[0_0_30px_rgba(255,80,0,0.12)]
    transition-all duration-500
    hover:border-red-400/50
    hover:shadow-[0_0_45px_rgba(255,80,0,0.35)]
  `,children:i.jsx(Ko,{icon:i.jsx(ii,{className:"w-5 h-5 text-red-400 drop-shadow-[0_0_8px_rgba(255,80,0,0.8)]"}),title:"Enterprise-Grade Security",description:"Secure handling of sensitive customer data with full compliance.",delay:3})})]}),i.jsxs(dn.div,{className:"mt-auto pt-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:1},children:[i.jsx("p",{className:"text-sm text-indigo-200 mb-3",children:"Trusted by leading enterprises worldwide"}),i.jsx("div",{className:"flex items-center space-x-6",children:[1,2,3,4].map(e=>i.jsx("div",{className:"h-6 w-16 bg-white/10 rounded-md flex items-center justify-center",children:i.jsx("div",{className:"w-10 h-2 bg-white/20 rounded-sm"})},e))}),i.jsxs("div",{className:"flex items-center mt-4 space-x-3",children:[i.jsxs("div",{className:"flex items-center text-xs text-indigo-200",children:[i.jsx(ii,{className:"w-3 h-3 mr-1 stroke-2"}),i.jsx("span",{children:"SOC 2"})]}),i.jsxs("div",{className:"flex items-center text-xs text-indigo-200",children:[i.jsx(ii,{className:"w-3 h-3 mr-1 stroke-4"}),i.jsx("span",{children:"GDPR"})]}),i.jsxs("div",{className:"flex items-center text-xs text-indigo-200",children:[i.jsx(ii,{className:"w-3 h-3 mr-1"}),i.jsx("span",{children:"HIPAA"})]})]})]})]}),i.jsxs("div",{className:"md:hidden p-6 pt-0",children:[i.jsxs(dn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},children:[i.jsx("h1",{className:"text-md font-bold mb-2",children:"Transform Your Business Communication"}),i.jsx("p",{className:"text-sm text-indigo-100 mb-4",children:"Intelligent voice agents for exceptional customer experiences."})]}),i.jsxs(dn.div,{className:"space-y-2 mb-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},children:[i.jsxs("div",{className:"flex items-center text-sm",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center mr-2",children:i.jsx(Zc,{className:"w-3 h-3 text-white"})}),i.jsx("span",{children:"AI-Powered Voice Agents"})]}),i.jsxs("div",{className:"flex items-center text-sm",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center mr-2",children:i.jsx(Cr,{className:"w-3 h-3 text-white"})}),i.jsx("span",{children:"Advanced NLP Technology"})]}),i.jsxs("div",{className:"flex items-center text-sm",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center mr-2",children:i.jsx(ii,{className:"w-3 h-3 text-white"})}),i.jsx("span",{children:"Enterprise-Grade Security"})]})]})]})]}),i.jsxs("div",{className:"flex-1 flex items-center justify-center p-6 md:p-10 relative",children:[i.jsxs("div",{className:"absolute top-0 right-0 w-full h-full overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute top-[5%] right-[5%] w-[20%] h-[20%] rounded-full bg-primary/5 blur-3xl"}),i.jsx("div",{className:"absolute bottom-[5%] left-[5%] w-[20%] h-[20%] rounded-full bg-primary/5 blur-3xl"})]}),i.jsx(dn.div,{className:"w-full max-w-md relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:i.jsx(Nh,{})})]})]}),Jw=()=>i.jsx(Xw,{});var Ml={},Ai={},sm={exports:{}};function Qw(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Yo={exports:{}};const e1={},t1=Object.freeze(Object.defineProperty({__proto__:null,default:e1},Symbol.toStringTag,{value:"Module"})),n1=E0(t1);var mu;function Fn(){return mu||(mu=1,function(e,t){(function(s,r){e.exports=r()})(xn,function(){var s=s||function(r,a){var c;if(typeof window<"u"&&window.crypto&&(c=window.crypto),typeof self<"u"&&self.crypto&&(c=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(c=globalThis.crypto),!c&&typeof window<"u"&&window.msCrypto&&(c=window.msCrypto),!c&&typeof globalThis<"u"&&globalThis.crypto&&(c=globalThis.crypto),!c&&typeof Qw=="function")try{c=n1}catch{}var l=function(){if(c){if(typeof c.getRandomValues=="function")try{return c.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof c.randomBytes=="function")try{return c.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},u=Object.create||function(){function C(){}return function(j){var P;return C.prototype=j,P=new C,C.prototype=null,P}}(),h={},m=h.lib={},g=m.Base=function(){return{extend:function(C){var j=u(this);return C&&j.mixIn(C),(!j.hasOwnProperty("init")||this.init===j.init)&&(j.init=function(){j.$super.init.apply(this,arguments)}),j.init.prototype=j,j.$super=this,j},create:function(){var C=this.extend();return C.init.apply(C,arguments),C},init:function(){},mixIn:function(C){for(var j in C)C.hasOwnProperty(j)&&(this[j]=C[j]);C.hasOwnProperty("toString")&&(this.toString=C.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),x=m.WordArray=g.extend({init:function(C,j){C=this.words=C||[],j!=a?this.sigBytes=j:this.sigBytes=C.length*4},toString:function(C){return(C||b).stringify(this)},concat:function(C){var j=this.words,P=C.words,E=this.sigBytes,D=C.sigBytes;if(this.clamp(),E%4)for(var z=0;z<D;z++){var $=P[z>>>2]>>>24-z%4*8&255;j[E+z>>>2]|=$<<24-(E+z)%4*8}else for(var J=0;J<D;J+=4)j[E+J>>>2]=P[J>>>2];return this.sigBytes+=D,this},clamp:function(){var C=this.words,j=this.sigBytes;C[j>>>2]&=4294967295<<32-j%4*8,C.length=r.ceil(j/4)},clone:function(){var C=g.clone.call(this);return C.words=this.words.slice(0),C},random:function(C){for(var j=[],P=0;P<C;P+=4)j.push(l());return new x.init(j,C)}}),y=h.enc={},b=y.Hex={stringify:function(C){for(var j=C.words,P=C.sigBytes,E=[],D=0;D<P;D++){var z=j[D>>>2]>>>24-D%4*8&255;E.push((z>>>4).toString(16)),E.push((z&15).toString(16))}return E.join("")},parse:function(C){for(var j=C.length,P=[],E=0;E<j;E+=2)P[E>>>3]|=parseInt(C.substr(E,2),16)<<24-E%8*4;return new x.init(P,j/2)}},w=y.Latin1={stringify:function(C){for(var j=C.words,P=C.sigBytes,E=[],D=0;D<P;D++){var z=j[D>>>2]>>>24-D%4*8&255;E.push(String.fromCharCode(z))}return E.join("")},parse:function(C){for(var j=C.length,P=[],E=0;E<j;E++)P[E>>>2]|=(C.charCodeAt(E)&255)<<24-E%4*8;return new x.init(P,j)}},_=y.Utf8={stringify:function(C){try{return decodeURIComponent(escape(w.stringify(C)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(C){return w.parse(unescape(encodeURIComponent(C)))}},N=m.BufferedBlockAlgorithm=g.extend({reset:function(){this._data=new x.init,this._nDataBytes=0},_append:function(C){typeof C=="string"&&(C=_.parse(C)),this._data.concat(C),this._nDataBytes+=C.sigBytes},_process:function(C){var j,P=this._data,E=P.words,D=P.sigBytes,z=this.blockSize,$=z*4,J=D/$;C?J=r.ceil(J):J=r.max((J|0)-this._minBufferSize,0);var R=J*z,F=r.min(R*4,D);if(R){for(var U=0;U<R;U+=z)this._doProcessBlock(E,U);j=E.splice(0,R),P.sigBytes-=F}return new x.init(j,F)},clone:function(){var C=g.clone.call(this);return C._data=this._data.clone(),C},_minBufferSize:0});m.Hasher=N.extend({cfg:g.extend(),init:function(C){this.cfg=this.cfg.extend(C),this.reset()},reset:function(){N.reset.call(this),this._doReset()},update:function(C){return this._append(C),this._process(),this},finalize:function(C){C&&this._append(C);var j=this._doFinalize();return j},blockSize:16,_createHelper:function(C){return function(j,P){return new C.init(P).finalize(j)}},_createHmacHelper:function(C){return function(j,P){return new T.HMAC.init(C,P).finalize(j)}}});var T=h.algo={};return h}(Math);return s})}(Yo)),Yo.exports}(function(e,t){(function(s,r){e.exports=r(Fn())})(xn,function(s){return s.enc.Utf8})})(sm);var s1=sm.exports,im={exports:{}},Xo={exports:{}},pu;function i1(){return pu||(pu=1,function(e,t){(function(s,r){e.exports=r(Fn())})(xn,function(s){return function(){var r=s,a=r.lib,c=a.WordArray,l=r.enc;l.Base64={stringify:function(h){var m=h.words,g=h.sigBytes,x=this._map;h.clamp();for(var y=[],b=0;b<g;b+=3)for(var w=m[b>>>2]>>>24-b%4*8&255,_=m[b+1>>>2]>>>24-(b+1)%4*8&255,N=m[b+2>>>2]>>>24-(b+2)%4*8&255,T=w<<16|_<<8|N,C=0;C<4&&b+C*.75<g;C++)y.push(x.charAt(T>>>6*(3-C)&63));var j=x.charAt(64);if(j)for(;y.length%4;)y.push(j);return y.join("")},parse:function(h){var m=h.length,g=this._map,x=this._reverseMap;if(!x){x=this._reverseMap=[];for(var y=0;y<g.length;y++)x[g.charCodeAt(y)]=y}var b=g.charAt(64);if(b){var w=h.indexOf(b);w!==-1&&(m=w)}return u(h,m,x)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function u(h,m,g){for(var x=[],y=0,b=0;b<m;b++)if(b%4){var w=g[h.charCodeAt(b-1)]<<b%4*2,_=g[h.charCodeAt(b)]>>>6-b%4*2,N=w|_;x[y>>>2]|=N<<24-y%4*8,y++}return c.create(x,y)}}(),s.enc.Base64})}(Xo)),Xo.exports}var Jo={exports:{}},gu;function r1(){return gu||(gu=1,function(e,t){(function(s,r){e.exports=r(Fn())})(xn,function(s){return function(r){var a=s,c=a.lib,l=c.WordArray,u=c.Hasher,h=a.algo,m=[];(function(){for(var _=0;_<64;_++)m[_]=r.abs(r.sin(_+1))*4294967296|0})();var g=h.MD5=u.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(_,N){for(var T=0;T<16;T++){var C=N+T,j=_[C];_[C]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360}var P=this._hash.words,E=_[N+0],D=_[N+1],z=_[N+2],$=_[N+3],J=_[N+4],R=_[N+5],F=_[N+6],U=_[N+7],M=_[N+8],te=_[N+9],he=_[N+10],Q=_[N+11],fe=_[N+12],se=_[N+13],V=_[N+14],k=_[N+15],I=P[0],H=P[1],O=P[2],W=P[3];I=x(I,H,O,W,E,7,m[0]),W=x(W,I,H,O,D,12,m[1]),O=x(O,W,I,H,z,17,m[2]),H=x(H,O,W,I,$,22,m[3]),I=x(I,H,O,W,J,7,m[4]),W=x(W,I,H,O,R,12,m[5]),O=x(O,W,I,H,F,17,m[6]),H=x(H,O,W,I,U,22,m[7]),I=x(I,H,O,W,M,7,m[8]),W=x(W,I,H,O,te,12,m[9]),O=x(O,W,I,H,he,17,m[10]),H=x(H,O,W,I,Q,22,m[11]),I=x(I,H,O,W,fe,7,m[12]),W=x(W,I,H,O,se,12,m[13]),O=x(O,W,I,H,V,17,m[14]),H=x(H,O,W,I,k,22,m[15]),I=y(I,H,O,W,D,5,m[16]),W=y(W,I,H,O,F,9,m[17]),O=y(O,W,I,H,Q,14,m[18]),H=y(H,O,W,I,E,20,m[19]),I=y(I,H,O,W,R,5,m[20]),W=y(W,I,H,O,he,9,m[21]),O=y(O,W,I,H,k,14,m[22]),H=y(H,O,W,I,J,20,m[23]),I=y(I,H,O,W,te,5,m[24]),W=y(W,I,H,O,V,9,m[25]),O=y(O,W,I,H,$,14,m[26]),H=y(H,O,W,I,M,20,m[27]),I=y(I,H,O,W,se,5,m[28]),W=y(W,I,H,O,z,9,m[29]),O=y(O,W,I,H,U,14,m[30]),H=y(H,O,W,I,fe,20,m[31]),I=b(I,H,O,W,R,4,m[32]),W=b(W,I,H,O,M,11,m[33]),O=b(O,W,I,H,Q,16,m[34]),H=b(H,O,W,I,V,23,m[35]),I=b(I,H,O,W,D,4,m[36]),W=b(W,I,H,O,J,11,m[37]),O=b(O,W,I,H,U,16,m[38]),H=b(H,O,W,I,he,23,m[39]),I=b(I,H,O,W,se,4,m[40]),W=b(W,I,H,O,E,11,m[41]),O=b(O,W,I,H,$,16,m[42]),H=b(H,O,W,I,F,23,m[43]),I=b(I,H,O,W,te,4,m[44]),W=b(W,I,H,O,fe,11,m[45]),O=b(O,W,I,H,k,16,m[46]),H=b(H,O,W,I,z,23,m[47]),I=w(I,H,O,W,E,6,m[48]),W=w(W,I,H,O,U,10,m[49]),O=w(O,W,I,H,V,15,m[50]),H=w(H,O,W,I,R,21,m[51]),I=w(I,H,O,W,fe,6,m[52]),W=w(W,I,H,O,$,10,m[53]),O=w(O,W,I,H,he,15,m[54]),H=w(H,O,W,I,D,21,m[55]),I=w(I,H,O,W,M,6,m[56]),W=w(W,I,H,O,k,10,m[57]),O=w(O,W,I,H,F,15,m[58]),H=w(H,O,W,I,se,21,m[59]),I=w(I,H,O,W,J,6,m[60]),W=w(W,I,H,O,Q,10,m[61]),O=w(O,W,I,H,z,15,m[62]),H=w(H,O,W,I,te,21,m[63]),P[0]=P[0]+I|0,P[1]=P[1]+H|0,P[2]=P[2]+O|0,P[3]=P[3]+W|0},_doFinalize:function(){var _=this._data,N=_.words,T=this._nDataBytes*8,C=_.sigBytes*8;N[C>>>5]|=128<<24-C%32;var j=r.floor(T/4294967296),P=T;N[(C+64>>>9<<4)+15]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,N[(C+64>>>9<<4)+14]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,_.sigBytes=(N.length+1)*4,this._process();for(var E=this._hash,D=E.words,z=0;z<4;z++){var $=D[z];D[z]=($<<8|$>>>24)&16711935|($<<24|$>>>8)&4278255360}return E},clone:function(){var _=u.clone.call(this);return _._hash=this._hash.clone(),_}});function x(_,N,T,C,j,P,E){var D=_+(N&T|~N&C)+j+E;return(D<<P|D>>>32-P)+N}function y(_,N,T,C,j,P,E){var D=_+(N&C|T&~C)+j+E;return(D<<P|D>>>32-P)+N}function b(_,N,T,C,j,P,E){var D=_+(N^T^C)+j+E;return(D<<P|D>>>32-P)+N}function w(_,N,T,C,j,P,E){var D=_+(T^(N|~C))+j+E;return(D<<P|D>>>32-P)+N}a.MD5=u._createHelper(g),a.HmacMD5=u._createHmacHelper(g)}(Math),s.MD5})}(Jo)),Jo.exports}var Qo={exports:{}},ea={exports:{}},xu;function o1(){return xu||(xu=1,function(e,t){(function(s,r){e.exports=r(Fn())})(xn,function(s){return function(){var r=s,a=r.lib,c=a.WordArray,l=a.Hasher,u=r.algo,h=[],m=u.SHA1=l.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(g,x){for(var y=this._hash.words,b=y[0],w=y[1],_=y[2],N=y[3],T=y[4],C=0;C<80;C++){if(C<16)h[C]=g[x+C]|0;else{var j=h[C-3]^h[C-8]^h[C-14]^h[C-16];h[C]=j<<1|j>>>31}var P=(b<<5|b>>>27)+T+h[C];C<20?P+=(w&_|~w&N)+1518500249:C<40?P+=(w^_^N)+1859775393:C<60?P+=(w&_|w&N|_&N)-1894007588:P+=(w^_^N)-899497514,T=N,N=_,_=w<<30|w>>>2,w=b,b=P}y[0]=y[0]+b|0,y[1]=y[1]+w|0,y[2]=y[2]+_|0,y[3]=y[3]+N|0,y[4]=y[4]+T|0},_doFinalize:function(){var g=this._data,x=g.words,y=this._nDataBytes*8,b=g.sigBytes*8;return x[b>>>5]|=128<<24-b%32,x[(b+64>>>9<<4)+14]=Math.floor(y/4294967296),x[(b+64>>>9<<4)+15]=y,g.sigBytes=x.length*4,this._process(),this._hash},clone:function(){var g=l.clone.call(this);return g._hash=this._hash.clone(),g}});r.SHA1=l._createHelper(m),r.HmacSHA1=l._createHmacHelper(m)}(),s.SHA1})}(ea)),ea.exports}var ta={exports:{}},vu;function a1(){return vu||(vu=1,function(e,t){(function(s,r){e.exports=r(Fn())})(xn,function(s){(function(){var r=s,a=r.lib,c=a.Base,l=r.enc,u=l.Utf8,h=r.algo;h.HMAC=c.extend({init:function(m,g){m=this._hasher=new m.init,typeof g=="string"&&(g=u.parse(g));var x=m.blockSize,y=x*4;g.sigBytes>y&&(g=m.finalize(g)),g.clamp();for(var b=this._oKey=g.clone(),w=this._iKey=g.clone(),_=b.words,N=w.words,T=0;T<x;T++)_[T]^=1549556828,N[T]^=909522486;b.sigBytes=w.sigBytes=y,this.reset()},reset:function(){var m=this._hasher;m.reset(),m.update(this._iKey)},update:function(m){return this._hasher.update(m),this},finalize:function(m){var g=this._hasher,x=g.finalize(m);g.reset();var y=g.finalize(this._oKey.clone().concat(x));return y}})})()})}(ta)),ta.exports}var yu;function rm(){return yu||(yu=1,function(e,t){(function(s,r,a){e.exports=r(Fn(),o1(),a1())})(xn,function(s){return function(){var r=s,a=r.lib,c=a.Base,l=a.WordArray,u=r.algo,h=u.MD5,m=u.EvpKDF=c.extend({cfg:c.extend({keySize:128/32,hasher:h,iterations:1}),init:function(g){this.cfg=this.cfg.extend(g)},compute:function(g,x){for(var y,b=this.cfg,w=b.hasher.create(),_=l.create(),N=_.words,T=b.keySize,C=b.iterations;N.length<T;){y&&w.update(y),y=w.update(g).finalize(x),w.reset();for(var j=1;j<C;j++)y=w.finalize(y),w.reset();_.concat(y)}return _.sigBytes=T*4,_}});r.EvpKDF=function(g,x,y){return m.create(y).compute(g,x)}}(),s.EvpKDF})}(Qo)),Qo.exports}var na={exports:{}},bu;function l1(){return bu||(bu=1,function(e,t){(function(s,r,a){e.exports=r(Fn(),rm())})(xn,function(s){s.lib.Cipher||function(r){var a=s,c=a.lib,l=c.Base,u=c.WordArray,h=c.BufferedBlockAlgorithm,m=a.enc;m.Utf8;var g=m.Base64,x=a.algo,y=x.EvpKDF,b=c.Cipher=h.extend({cfg:l.extend(),createEncryptor:function(R,F){return this.create(this._ENC_XFORM_MODE,R,F)},createDecryptor:function(R,F){return this.create(this._DEC_XFORM_MODE,R,F)},init:function(R,F,U){this.cfg=this.cfg.extend(U),this._xformMode=R,this._key=F,this.reset()},reset:function(){h.reset.call(this),this._doReset()},process:function(R){return this._append(R),this._process()},finalize:function(R){R&&this._append(R);var F=this._doFinalize();return F},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function R(F){return typeof F=="string"?J:D}return function(F){return{encrypt:function(U,M,te){return R(M).encrypt(F,U,M,te)},decrypt:function(U,M,te){return R(M).decrypt(F,U,M,te)}}}}()});c.StreamCipher=b.extend({_doFinalize:function(){var R=this._process(!0);return R},blockSize:1});var w=a.mode={},_=c.BlockCipherMode=l.extend({createEncryptor:function(R,F){return this.Encryptor.create(R,F)},createDecryptor:function(R,F){return this.Decryptor.create(R,F)},init:function(R,F){this._cipher=R,this._iv=F}}),N=w.CBC=function(){var R=_.extend();R.Encryptor=R.extend({processBlock:function(U,M){var te=this._cipher,he=te.blockSize;F.call(this,U,M,he),te.encryptBlock(U,M),this._prevBlock=U.slice(M,M+he)}}),R.Decryptor=R.extend({processBlock:function(U,M){var te=this._cipher,he=te.blockSize,Q=U.slice(M,M+he);te.decryptBlock(U,M),F.call(this,U,M,he),this._prevBlock=Q}});function F(U,M,te){var he,Q=this._iv;Q?(he=Q,this._iv=r):he=this._prevBlock;for(var fe=0;fe<te;fe++)U[M+fe]^=he[fe]}return R}(),T=a.pad={},C=T.Pkcs7={pad:function(R,F){for(var U=F*4,M=U-R.sigBytes%U,te=M<<24|M<<16|M<<8|M,he=[],Q=0;Q<M;Q+=4)he.push(te);var fe=u.create(he,M);R.concat(fe)},unpad:function(R){var F=R.words[R.sigBytes-1>>>2]&255;R.sigBytes-=F}};c.BlockCipher=b.extend({cfg:b.cfg.extend({mode:N,padding:C}),reset:function(){var R;b.reset.call(this);var F=this.cfg,U=F.iv,M=F.mode;this._xformMode==this._ENC_XFORM_MODE?R=M.createEncryptor:(R=M.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==R?this._mode.init(this,U&&U.words):(this._mode=R.call(M,this,U&&U.words),this._mode.__creator=R)},_doProcessBlock:function(R,F){this._mode.processBlock(R,F)},_doFinalize:function(){var R,F=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(F.pad(this._data,this.blockSize),R=this._process(!0)):(R=this._process(!0),F.unpad(R)),R},blockSize:128/32});var j=c.CipherParams=l.extend({init:function(R){this.mixIn(R)},toString:function(R){return(R||this.formatter).stringify(this)}}),P=a.format={},E=P.OpenSSL={stringify:function(R){var F,U=R.ciphertext,M=R.salt;return M?F=u.create([1398893684,1701076831]).concat(M).concat(U):F=U,F.toString(g)},parse:function(R){var F,U=g.parse(R),M=U.words;return M[0]==1398893684&&M[1]==1701076831&&(F=u.create(M.slice(2,4)),M.splice(0,4),U.sigBytes-=16),j.create({ciphertext:U,salt:F})}},D=c.SerializableCipher=l.extend({cfg:l.extend({format:E}),encrypt:function(R,F,U,M){M=this.cfg.extend(M);var te=R.createEncryptor(U,M),he=te.finalize(F),Q=te.cfg;return j.create({ciphertext:he,key:U,iv:Q.iv,algorithm:R,mode:Q.mode,padding:Q.padding,blockSize:R.blockSize,formatter:M.format})},decrypt:function(R,F,U,M){M=this.cfg.extend(M),F=this._parse(F,M.format);var te=R.createDecryptor(U,M).finalize(F.ciphertext);return te},_parse:function(R,F){return typeof R=="string"?F.parse(R,this):R}}),z=a.kdf={},$=z.OpenSSL={execute:function(R,F,U,M,te){if(M||(M=u.random(64/8)),te)var he=y.create({keySize:F+U,hasher:te}).compute(R,M);else var he=y.create({keySize:F+U}).compute(R,M);var Q=u.create(he.words.slice(F),U*4);return he.sigBytes=F*4,j.create({key:he,iv:Q,salt:M})}},J=c.PasswordBasedCipher=D.extend({cfg:D.cfg.extend({kdf:$}),encrypt:function(R,F,U,M){M=this.cfg.extend(M);var te=M.kdf.execute(U,R.keySize,R.ivSize,M.salt,M.hasher);M.iv=te.iv;var he=D.encrypt.call(this,R,F,te.key,M);return he.mixIn(te),he},decrypt:function(R,F,U,M){M=this.cfg.extend(M),F=this._parse(F,M.format);var te=M.kdf.execute(U,R.keySize,R.ivSize,F.salt,M.hasher);M.iv=te.iv;var he=D.decrypt.call(this,R,F,te.key,M);return he}})}()})}(na)),na.exports}(function(e,t){(function(s,r,a){e.exports=r(Fn(),i1(),r1(),rm(),l1())})(xn,function(s){return function(){var r=s,a=r.lib,c=a.BlockCipher,l=r.algo,u=[],h=[],m=[],g=[],x=[],y=[],b=[],w=[],_=[],N=[];(function(){for(var j=[],P=0;P<256;P++)P<128?j[P]=P<<1:j[P]=P<<1^283;for(var E=0,D=0,P=0;P<256;P++){var z=D^D<<1^D<<2^D<<3^D<<4;z=z>>>8^z&255^99,u[E]=z,h[z]=E;var $=j[E],J=j[$],R=j[J],F=j[z]*257^z*16843008;m[E]=F<<24|F>>>8,g[E]=F<<16|F>>>16,x[E]=F<<8|F>>>24,y[E]=F;var F=R*16843009^J*65537^$*257^E*16843008;b[z]=F<<24|F>>>8,w[z]=F<<16|F>>>16,_[z]=F<<8|F>>>24,N[z]=F,E?(E=$^j[j[j[R^$]]],D^=j[j[D]]):E=D=1}})();var T=[0,1,2,4,8,16,32,64,128,27,54],C=l.AES=c.extend({_doReset:function(){var j;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var P=this._keyPriorReset=this._key,E=P.words,D=P.sigBytes/4,z=this._nRounds=D+6,$=(z+1)*4,J=this._keySchedule=[],R=0;R<$;R++)R<D?J[R]=E[R]:(j=J[R-1],R%D?D>6&&R%D==4&&(j=u[j>>>24]<<24|u[j>>>16&255]<<16|u[j>>>8&255]<<8|u[j&255]):(j=j<<8|j>>>24,j=u[j>>>24]<<24|u[j>>>16&255]<<16|u[j>>>8&255]<<8|u[j&255],j^=T[R/D|0]<<24),J[R]=J[R-D]^j);for(var F=this._invKeySchedule=[],U=0;U<$;U++){var R=$-U;if(U%4)var j=J[R];else var j=J[R-4];U<4||R<=4?F[U]=j:F[U]=b[u[j>>>24]]^w[u[j>>>16&255]]^_[u[j>>>8&255]]^N[u[j&255]]}}},encryptBlock:function(j,P){this._doCryptBlock(j,P,this._keySchedule,m,g,x,y,u)},decryptBlock:function(j,P){var E=j[P+1];j[P+1]=j[P+3],j[P+3]=E,this._doCryptBlock(j,P,this._invKeySchedule,b,w,_,N,h);var E=j[P+1];j[P+1]=j[P+3],j[P+3]=E},_doCryptBlock:function(j,P,E,D,z,$,J,R){for(var F=this._nRounds,U=j[P]^E[0],M=j[P+1]^E[1],te=j[P+2]^E[2],he=j[P+3]^E[3],Q=4,fe=1;fe<F;fe++){var se=D[U>>>24]^z[M>>>16&255]^$[te>>>8&255]^J[he&255]^E[Q++],V=D[M>>>24]^z[te>>>16&255]^$[he>>>8&255]^J[U&255]^E[Q++],k=D[te>>>24]^z[he>>>16&255]^$[U>>>8&255]^J[M&255]^E[Q++],I=D[he>>>24]^z[U>>>16&255]^$[M>>>8&255]^J[te&255]^E[Q++];U=se,M=V,te=k,he=I}var se=(R[U>>>24]<<24|R[M>>>16&255]<<16|R[te>>>8&255]<<8|R[he&255])^E[Q++],V=(R[M>>>24]<<24|R[te>>>16&255]<<16|R[he>>>8&255]<<8|R[U&255])^E[Q++],k=(R[te>>>24]<<24|R[he>>>16&255]<<16|R[U>>>8&255]<<8|R[M&255])^E[Q++],I=(R[he>>>24]<<24|R[U>>>16&255]<<16|R[M>>>8&255]<<8|R[te&255])^E[Q++];j[P]=se,j[P+1]=V,j[P+2]=k,j[P+3]=I},keySize:256/32});r.AES=c._createHelper(C)}(),s.AES})})(im);var c1=im.exports,Yr={},ki={},Et={};Object.defineProperty(ki,"__esModule",{value:!0});ki.default=void 0;var d1=function(){var t=null;try{typeof Cypress<"u"?t=Cypress.env("SECURE_LOCAL_STORAGE_HASH_KEY")||Cypress.env("REACT_APP_SECURE_LOCAL_STORAGE_HASH_KEY")||Cypress.env("NEXT_PUBLIC_SECURE_LOCAL_STORAGE_HASH_KEY")||Cypress.env("VITE_SECURE_LOCAL_STORAGE_HASH_KEY"):typeof Et<"u"?t=Et.SECURE_LOCAL_STORAGE_HASH_KEY||Et.REACT_APP_SECURE_LOCAL_STORAGE_HASH_KEY||Et.NEXT_PUBLIC_SECURE_LOCAL_STORAGE_HASH_KEY||Et.VITE_SECURE_LOCAL_STORAGE_HASH_KEY:console.warn("react-secure-storage : process is not defined! Just a warning!")}catch{return null}return t},u1=function(){var t=null;try{typeof Cypress<"u"?t=Cypress.env("SECURE_LOCAL_STORAGE_PREFIX")||Cypress.env("REACT_APP_SECURE_LOCAL_STORAGE_PREFIX")||Cypress.env("NEXT_PUBLIC_SECURE_LOCAL_STORAGE_PREFIX")||Cypress.env("VITE_SECURE_LOCAL_STORAGE_PREFIX"):typeof Et<"u"?t=Et.SECURE_LOCAL_STORAGE_PREFIX||Et.REACT_APP_SECURE_LOCAL_STORAGE_PREFIX||Et.NEXT_PUBLIC_SECURE_LOCAL_STORAGE_PREFIX||Et.VITE_SECURE_LOCAL_STORAGE_PREFIX:console.warn("react-secure-storage : process is not defined! Just a warning!")}catch{return null}return t},h1=function(){var t=null;try{typeof Cypress<"u"?t=Cypress.env("SECURE_LOCAL_STORAGE_DISABLED_KEYS")||Cypress.env("REACT_APP_SECURE_LOCAL_STORAGE_DISABLED_KEYS")||Cypress.env("NEXT_PUBLIC_SECURE_LOCAL_STORAGE_DISABLED_KEYS")||Cypress.env("VITE_SECURE_LOCAL_STORAGE_DISABLED_KEYS"):typeof Et<"u"?t=Et.SECURE_LOCAL_STORAGE_DISABLED_KEYS||Et.REACT_APP_SECURE_LOCAL_STORAGE_DISABLED_KEYS||Et.NEXT_PUBLIC_SECURE_LOCAL_STORAGE_DISABLED_KEYS||Et.VITE_SECURE_LOCAL_STORAGE_DISABLED_KEYS:console.warn("react-secure-storage : process is not defined! Just a warning!")}catch{return null}return t},f1={getHashKey:d1,getStoragePrefix:u1,getDisabledKeys:h1},m1=f1;ki.default=m1;var Xr={},om={exports:{}};(function(e){function t(s,r){var a,c,l,u,h,m,g,x;for(a=s.length&3,c=s.length-a,l=r,h=3432918353,m=461845907,x=0;x<c;)g=s.charCodeAt(x)&255|(s.charCodeAt(++x)&255)<<8|(s.charCodeAt(++x)&255)<<16|(s.charCodeAt(++x)&255)<<24,++x,g=(g&65535)*h+(((g>>>16)*h&65535)<<16)&4294967295,g=g<<15|g>>>17,g=(g&65535)*m+(((g>>>16)*m&65535)<<16)&4294967295,l^=g,l=l<<13|l>>>19,u=(l&65535)*5+(((l>>>16)*5&65535)<<16)&4294967295,l=(u&65535)+27492+(((u>>>16)+58964&65535)<<16);switch(g=0,a){case 3:g^=(s.charCodeAt(x+2)&255)<<16;case 2:g^=(s.charCodeAt(x+1)&255)<<8;case 1:g^=s.charCodeAt(x)&255,g=(g&65535)*h+(((g>>>16)*h&65535)<<16)&4294967295,g=g<<15|g>>>17,g=(g&65535)*m+(((g>>>16)*m&65535)<<16)&4294967295,l^=g}return l^=s.length,l^=l>>>16,l=(l&65535)*2246822507+(((l>>>16)*2246822507&65535)<<16)&4294967295,l^=l>>>13,l=(l&65535)*3266489909+(((l>>>16)*3266489909&65535)<<16)&4294967295,l^=l>>>16,l>>>0}e.exports=t})(om);var p1=om.exports,gn={};Object.defineProperty(gn,"__esModule",{value:!0});gn.getSecurePrefix=gn.getDisabledKeys=gn.FINGERPRINT_KEYS=void 0;var am=g1(ki);function g1(e){return e&&e.__esModule?e:{default:e}}var x1=function(){var t=am.default.getStoragePrefix()||"@secure.";return t.endsWith(".")?t:t+"."};gn.getSecurePrefix=x1;var zt={USERAGENT:"UserAgent",SCREEN_PRINT:"ScreenPrint",PLUGINS:"Plugins",FONTS:"Fonts",LOCAL_STORAGE:"LocalStorage",SESSION_STORAGE:"SessionStorage",TIMEZONE:"TimeZone",LANGUAGE:"Language",SYSTEM_LANGUAGE:"SystemLanguage",COOKIE:"Cookie",CANVAS:"Canvas",HOSTNAME:"Hostname"};gn.FINGERPRINT_KEYS=zt;var v1=function(){var t=am.default.getDisabledKeys()||"";if(t==="")return[];var s=[zt.USERAGENT,zt.SCREEN_PRINT,zt.PLUGINS,zt.FONTS,zt.LOCAL_STORAGE,zt.SESSION_STORAGE,zt.TIMEZONE,zt.LANGUAGE,zt.SYSTEM_LANGUAGE,zt.COOKIE,zt.CANVAS,zt.HOSTNAME],r=[];return t.split("|").forEach(function(a){a===""||(s.includes(a)?r.push(a):console.warn("react-secure-storage : ".concat(a," is not present in the available disabled keys options! Please go through the documentation")))}),r};gn.getDisabledKeys=v1;Object.defineProperty(Xr,"__esModule",{value:!0});Xr.default=void 0;var y1=b1(p1),Bt=gn;function b1(e){return e&&e.__esModule?e:{default:e}}function _1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w1(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j1(e,t,s){return t&&w1(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var S1=function(){function e(){_1(this,e)}return j1(e,[{key:"getFingerprint",value:function(){var s="|",r=(0,Bt.getDisabledKeys)(),a="";r.includes(Bt.FINGERPRINT_KEYS.USERAGENT)||(a+=navigator.userAgent+s),r.includes(Bt.FINGERPRINT_KEYS.HOSTNAME)||(a+=window.location.hostname+s),r.includes(Bt.FINGERPRINT_KEYS.SCREEN_PRINT)||(a+=this.getScreenPrint()+s),r.includes(Bt.FINGERPRINT_KEYS.PLUGINS)||(a+=this.getPlugins()+s),r.includes(Bt.FINGERPRINT_KEYS.FONTS)||(a+=this.getFonts()+s),r.includes(Bt.FINGERPRINT_KEYS.LOCAL_STORAGE)||(a+=this.isLocalStorage()+s),r.includes(Bt.FINGERPRINT_KEYS.SESSION_STORAGE)||(a+=this.isSessionStorage()+s),r.includes(Bt.FINGERPRINT_KEYS.TIMEZONE)||(a+=this.getTimeZone()+s),r.includes(Bt.FINGERPRINT_KEYS.LANGUAGE)||(a+=this.getLanguage()+s),r.includes(Bt.FINGERPRINT_KEYS.SYSTEM_LANGUAGE)||(a+=this.getSystemLanguage()+s),r.includes(Bt.FINGERPRINT_KEYS.COOKIE)||(a+=this.isCookie()+s),r.includes(Bt.FINGERPRINT_KEYS.CANVAS)||(a+=this.getCanvasPrint()),a.endsWith(s)&&(a=a.substring(0,a.length-1));var c=256;return(0,y1.default)(a,c)}},{key:"getScreenPrint",value:function(){return"Color Depth: "+this.getColorDepth()+", Device XDPI: "+this.getDeviceXDPI()+", Device YDPI: "+this.getDeviceYDPI()}},{key:"getColorDepth",value:function(){return window.screen.colorDepth}},{key:"getCurrentResolution",value:function(){return window.screen.width+"x"+window.screen.height}},{key:"getAvailableResolution",value:function(){return window.screen.availWidth+"x"+window.screen.availHeight}},{key:"getDeviceXDPI",value:function(){return""}},{key:"getDeviceYDPI",value:function(){return""}},{key:"getPlugins",value:function(){for(var s="",r=0;r<navigator.plugins.length;r++)r===navigator.plugins.length-1?s+=navigator.plugins[r].name:s+=navigator.plugins[r].name+", ";return s}},{key:"getFonts",value:function(){var s="";return s}},{key:"isLocalStorage",value:function(){try{return!!localStorage}catch{return!0}}},{key:"isSessionStorage",value:function(){try{return!!sessionStorage}catch{return!0}}},{key:"isCookie",value:function(){return navigator.cookieEnabled}},{key:"getTimeZone",value:function(){var s,r,a,c;return s=new Date,r=String(-(s.getTimezoneOffset()/60)),r<0?(r=r*-1,a=("0"+r).slice(-2),c="-"+a):(a=("0"+r).slice(-2),c="+"+a),c}},{key:"getLanguage",value:function(){return navigator.language}},{key:"getSystemLanguage",value:function(){return navigator.language||window.navigator.language}},{key:"getCanvasPrint",value:function(){var s=document.createElement("canvas"),r;try{r=s.getContext("2d")}catch{return""}var a="ClientJS,org <canvas> 1.0";return r.textBaseline="top",r.font="14px 'Arial'",r.textBaseline="alphabetic",r.fillStyle="#f60",r.fillRect(125,1,62,20),r.fillStyle="#069",r.fillText(a,2,15),r.fillStyle="rgba(102, 204, 0, 0.7)",r.fillText(a,4,17),s.toDataURL()}}]),e}(),N1=new S1,C1=N1;Xr.default=C1;Object.defineProperty(Yr,"__esModule",{value:!0});Yr.default=void 0;var T1=lm(ki),P1=lm(Xr);function lm(e){return e&&e.__esModule?e:{default:e}}var E1="E86E2612010258B35137",L1=function(){var t=T1.default.getHashKey()||E1;return typeof window>"u"?t:P1.default.getFingerprint()+t},A1=L1;Yr.default=A1;Object.defineProperty(Ai,"__esModule",{value:!0});Ai.default=void 0;var k1=Il(s1),_u=Il(c1),R1=Il(Yr);function Il(e){return e&&e.__esModule?e:{default:e}}function M1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I1(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O1(e,t,s){return t&&I1(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function D1(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var B1=function(){function e(){M1(this,e),D1(this,"secureKey",""),this.secureKey=(0,R1.default)()}return O1(e,[{key:"encrypt",value:function(s){return _u.default.encrypt(s,this.secureKey).toString()}},{key:"decrypt",value:function(s){try{var r=_u.default.decrypt(s,this.secureKey);return r.toString(k1.default)||null}catch{return null}}}]),e}(),z1=B1;Ai.default=z1;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.default=void 0;var F1=$1(Ai),V1=gn;function $1(e){return e&&e.__esModule?e:{default:e}}function U1(e,t){return G1(e)||Z1(e,t)||W1(e,t)||H1()}function H1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W1(e,t){if(e){if(typeof e=="string")return wu(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return wu(e,t)}}function wu(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,r=new Array(t);s<t;s++)r[s]=e[s];return r}function Z1(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var r=[],a=!0,c=!1,l,u;try{for(s=s.call(e);!(a=(l=s.next()).done)&&(r.push(l.value),!(t&&r.length===t));a=!0);}catch(h){c=!0,u=h}finally{try{!a&&s.return!=null&&s.return()}finally{if(c)throw u}}return r}}function G1(e){if(Array.isArray(e))return e}var ju=(0,V1.getSecurePrefix)(),q1=function(){var t={};if(typeof window<"u")for(var s=new F1.default,r=0,a=Object.entries(localStorage);r<a.length;r++){var c=U1(a[r],2),l=c[0],u=c[1];if(l.startsWith(ju)){var h=l.replace(ju,"")[0],m=l.replace(/[.][bjns][.]/,"."),g=s.decrypt(u),x=null;if(g!=null)switch(h){case"b":x=g==="true";break;case"j":try{x=JSON.parse(g)}catch{x=null}break;case"n":try{x=Number(g)}catch{x=null}break;default:x=g}t[m]=x}}return t},K1=q1;Jr.default=K1;Object.defineProperty(Ml,"__esModule",{value:!0});var ct=Ml.default=void 0,Y1=cm(Ai),X1=cm(Jr),J1=gn;function cm(e){return e&&e.__esModule?e:{default:e}}function Q1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ej(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tj(e,t,s){return t&&ej(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nj(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Mr(e){"@babel/helpers - typeof";return Mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mr(e)}var wr=(0,J1.getSecurePrefix)(),sj=function(t){return Mr(t)==="object"?"j":typeof t=="boolean"?"b":typeof t=="number"?"n":"s"},Su=function(t,s){var r=sj(s);return wr+"".concat(r,".")+t},ij=function(){function e(){Q1(this,e),nj(this,"_localStorageItems",{}),this._localStorageItems=(0,X1.default)()}return tj(e,[{key:"setItem",value:function(s,r){if(r==null)this.removeItem(s);else{var a=Mr(r)==="object"?JSON.stringify(r):r+"",c=Su(s,r),l=wr+s;s!=null&&(this._localStorageItems[l]=r);var u=new Y1.default;localStorage.setItem(c,u.encrypt(a))}}},{key:"getItem",value:function(s){var r,a=wr+s;return(r=this._localStorageItems[a])!==null&&r!==void 0?r:null}},{key:"removeItem",value:function(s){var r=wr+s,a=this._localStorageItems[r],c=Su(s,a);this._localStorageItems[r]!==void 0&&delete this._localStorageItems[r],localStorage.removeItem(c)}},{key:"clear",value:function(){this._localStorageItems={},localStorage.clear()}}]),e}(),rj=new ij,oj=rj;ct=Ml.default=oj;class di extends Error{}di.prototype.name="InvalidTokenError";function aj(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,s)=>{let r=s.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function lj(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return aj(t)}catch{return atob(t)}}function Nu(e,t){if(typeof e!="string")throw new di("Invalid token specified: must be a string");t||(t={});const s=t.header===!0?0:1,r=e.split(".")[s];if(typeof r!="string")throw new di(`Invalid token specified: missing part #${s+1}`);let a;try{a=lj(r)}catch(c){throw new di(`Invalid token specified: invalid base64 for part #${s+1} (${c.message})`)}try{return JSON.parse(a)}catch(c){throw new di(`Invalid token specified: invalid json for part #${s+1} (${c.message})`)}}function dm(e,t){return function(){return e.apply(t,arguments)}}const{toString:cj}=Object.prototype,{getPrototypeOf:Ol}=Object,Qr=(e=>t=>{const s=cj.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),on=e=>(e=e.toLowerCase(),t=>Qr(t)===e),eo=e=>t=>typeof t===e,{isArray:Ms}=Array,Si=eo("undefined");function dj(e){return e!==null&&!Si(e)&&e.constructor!==null&&!Si(e.constructor)&&Vt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const um=on("ArrayBuffer");function uj(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&um(e.buffer),t}const hj=eo("string"),Vt=eo("function"),hm=eo("number"),to=e=>e!==null&&typeof e=="object",fj=e=>e===!0||e===!1,jr=e=>{if(Qr(e)!=="object")return!1;const t=Ol(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},mj=on("Date"),pj=on("File"),gj=on("Blob"),xj=on("FileList"),vj=e=>to(e)&&Vt(e.pipe),yj=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Vt(e.append)&&((t=Qr(e))==="formdata"||t==="object"&&Vt(e.toString)&&e.toString()==="[object FormData]"))},bj=on("URLSearchParams"),[_j,wj,jj,Sj]=["ReadableStream","Request","Response","Headers"].map(on),Nj=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ri(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),Ms(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{const c=s?Object.getOwnPropertyNames(e):Object.keys(e),l=c.length;let u;for(r=0;r<l;r++)u=c[r],t.call(null,e[u],u,e)}}function fm(e,t){t=t.toLowerCase();const s=Object.keys(e);let r=s.length,a;for(;r-- >0;)if(a=s[r],t===a.toLowerCase())return a;return null}const ns=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,mm=e=>!Si(e)&&e!==ns;function La(){const{caseless:e}=mm(this)&&this||{},t={},s=(r,a)=>{const c=e&&fm(t,a)||a;jr(t[c])&&jr(r)?t[c]=La(t[c],r):jr(r)?t[c]=La({},r):Ms(r)?t[c]=r.slice():t[c]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Ri(arguments[r],s);return t}const Cj=(e,t,s,{allOwnKeys:r}={})=>(Ri(t,(a,c)=>{s&&Vt(a)?e[c]=dm(a,s):e[c]=a},{allOwnKeys:r}),e),Tj=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Pj=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Ej=(e,t,s,r)=>{let a,c,l;const u={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),c=a.length;c-- >0;)l=a[c],(!r||r(l,e,t))&&!u[l]&&(t[l]=e[l],u[l]=!0);e=s!==!1&&Ol(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},Lj=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},Aj=e=>{if(!e)return null;if(Ms(e))return e;let t=e.length;if(!hm(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},kj=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ol(Uint8Array)),Rj=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=r.next())&&!a.done;){const c=a.value;t.call(e,c[0],c[1])}},Mj=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},Ij=on("HTMLFormElement"),Oj=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,a){return r.toUpperCase()+a}),Cu=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Dj=on("RegExp"),pm=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};Ri(s,(a,c)=>{let l;(l=t(a,c,e))!==!1&&(r[c]=l||a)}),Object.defineProperties(e,r)},Bj=e=>{pm(e,(t,s)=>{if(Vt(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(Vt(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},zj=(e,t)=>{const s={},r=a=>{a.forEach(c=>{s[c]=!0})};return Ms(e)?r(e):r(String(e).split(t)),s},Fj=()=>{},Vj=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,sa="abcdefghijklmnopqrstuvwxyz",Tu="0123456789",gm={DIGIT:Tu,ALPHA:sa,ALPHA_DIGIT:sa+sa.toUpperCase()+Tu},$j=(e=16,t=gm.ALPHA_DIGIT)=>{let s="";const{length:r}=t;for(;e--;)s+=t[Math.random()*r|0];return s};function Uj(e){return!!(e&&Vt(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Hj=e=>{const t=new Array(10),s=(r,a)=>{if(to(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[a]=r;const c=Ms(r)?[]:{};return Ri(r,(l,u)=>{const h=s(l,a+1);!Si(h)&&(c[u]=h)}),t[a]=void 0,c}}return r};return s(e,0)},Wj=on("AsyncFunction"),Zj=e=>e&&(to(e)||Vt(e))&&Vt(e.then)&&Vt(e.catch),xm=((e,t)=>e?setImmediate:t?((s,r)=>(ns.addEventListener("message",({source:a,data:c})=>{a===ns&&c===s&&r.length&&r.shift()()},!1),a=>{r.push(a),ns.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Vt(ns.postMessage)),Gj=typeof queueMicrotask<"u"?queueMicrotask.bind(ns):typeof process<"u"&&process.nextTick||xm,Y={isArray:Ms,isArrayBuffer:um,isBuffer:dj,isFormData:yj,isArrayBufferView:uj,isString:hj,isNumber:hm,isBoolean:fj,isObject:to,isPlainObject:jr,isReadableStream:_j,isRequest:wj,isResponse:jj,isHeaders:Sj,isUndefined:Si,isDate:mj,isFile:pj,isBlob:gj,isRegExp:Dj,isFunction:Vt,isStream:vj,isURLSearchParams:bj,isTypedArray:kj,isFileList:xj,forEach:Ri,merge:La,extend:Cj,trim:Nj,stripBOM:Tj,inherits:Pj,toFlatObject:Ej,kindOf:Qr,kindOfTest:on,endsWith:Lj,toArray:Aj,forEachEntry:Rj,matchAll:Mj,isHTMLForm:Ij,hasOwnProperty:Cu,hasOwnProp:Cu,reduceDescriptors:pm,freezeMethods:Bj,toObjectSet:zj,toCamelCase:Oj,noop:Fj,toFiniteNumber:Vj,findKey:fm,global:ns,isContextDefined:mm,ALPHABET:gm,generateString:$j,isSpecCompliantForm:Uj,toJSONObject:Hj,isAsyncFn:Wj,isThenable:Zj,setImmediate:xm,asap:Gj};function Fe(e,t,s,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}Y.inherits(Fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const vm=Fe.prototype,ym={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ym[e]={value:e}});Object.defineProperties(Fe,ym);Object.defineProperty(vm,"isAxiosError",{value:!0});Fe.from=(e,t,s,r,a,c)=>{const l=Object.create(vm);return Y.toFlatObject(e,l,function(h){return h!==Error.prototype},u=>u!=="isAxiosError"),Fe.call(l,e.message,t,s,r,a),l.cause=e,l.name=e.name,c&&Object.assign(l,c),l};const qj=null;function Aa(e){return Y.isPlainObject(e)||Y.isArray(e)}function bm(e){return Y.endsWith(e,"[]")?e.slice(0,-2):e}function Pu(e,t,s){return e?e.concat(t).map(function(a,c){return a=bm(a),!s&&c?"["+a+"]":a}).join(s?".":""):t}function Kj(e){return Y.isArray(e)&&!e.some(Aa)}const Yj=Y.toFlatObject(Y,{},null,function(t){return/^is[A-Z]/.test(t)});function no(e,t,s){if(!Y.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=Y.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,N){return!Y.isUndefined(N[_])});const r=s.metaTokens,a=s.visitor||g,c=s.dots,l=s.indexes,h=(s.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(t);if(!Y.isFunction(a))throw new TypeError("visitor must be a function");function m(w){if(w===null)return"";if(Y.isDate(w))return w.toISOString();if(!h&&Y.isBlob(w))throw new Fe("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(w)||Y.isTypedArray(w)?h&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function g(w,_,N){let T=w;if(w&&!N&&typeof w=="object"){if(Y.endsWith(_,"{}"))_=r?_:_.slice(0,-2),w=JSON.stringify(w);else if(Y.isArray(w)&&Kj(w)||(Y.isFileList(w)||Y.endsWith(_,"[]"))&&(T=Y.toArray(w)))return _=bm(_),T.forEach(function(j,P){!(Y.isUndefined(j)||j===null)&&t.append(l===!0?Pu([_],P,c):l===null?_:_+"[]",m(j))}),!1}return Aa(w)?!0:(t.append(Pu(N,_,c),m(w)),!1)}const x=[],y=Object.assign(Yj,{defaultVisitor:g,convertValue:m,isVisitable:Aa});function b(w,_){if(!Y.isUndefined(w)){if(x.indexOf(w)!==-1)throw Error("Circular reference detected in "+_.join("."));x.push(w),Y.forEach(w,function(T,C){(!(Y.isUndefined(T)||T===null)&&a.call(t,T,Y.isString(C)?C.trim():C,_,y))===!0&&b(T,_?_.concat(C):[C])}),x.pop()}}if(!Y.isObject(e))throw new TypeError("data must be an object");return b(e),t}function Eu(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Dl(e,t){this._pairs=[],e&&no(e,this,t)}const _m=Dl.prototype;_m.append=function(t,s){this._pairs.push([t,s])};_m.toString=function(t){const s=t?function(r){return t.call(this,r,Eu)}:Eu;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function Xj(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function wm(e,t,s){if(!t)return e;const r=s&&s.encode||Xj,a=s&&s.serialize;let c;if(a?c=a(t,s):c=Y.isURLSearchParams(t)?t.toString():new Dl(t,s).toString(r),c){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+c}return e}class Lu{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Y.forEach(this.handlers,function(r){r!==null&&t(r)})}}const jm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Jj=typeof URLSearchParams<"u"?URLSearchParams:Dl,Qj=typeof FormData<"u"?FormData:null,eS=typeof Blob<"u"?Blob:null,tS={isBrowser:!0,classes:{URLSearchParams:Jj,FormData:Qj,Blob:eS},protocols:["http","https","file","blob","url","data"]},Bl=typeof window<"u"&&typeof document<"u",ka=typeof navigator=="object"&&navigator||void 0,nS=Bl&&(!ka||["ReactNative","NativeScript","NS"].indexOf(ka.product)<0),sS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",iS=Bl&&window.location.href||"http://localhost",rS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bl,hasStandardBrowserEnv:nS,hasStandardBrowserWebWorkerEnv:sS,navigator:ka,origin:iS},Symbol.toStringTag,{value:"Module"})),Mt={...rS,...tS};function oS(e,t){return no(e,new Mt.classes.URLSearchParams,Object.assign({visitor:function(s,r,a,c){return Mt.isNode&&Y.isBuffer(s)?(this.append(r,s.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},t))}function aS(e){return Y.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function lS(e){const t={},s=Object.keys(e);let r;const a=s.length;let c;for(r=0;r<a;r++)c=s[r],t[c]=e[c];return t}function Sm(e){function t(s,r,a,c){let l=s[c++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),h=c>=s.length;return l=!l&&Y.isArray(a)?a.length:l,h?(Y.hasOwnProp(a,l)?a[l]=[a[l],r]:a[l]=r,!u):((!a[l]||!Y.isObject(a[l]))&&(a[l]=[]),t(s,r,a[l],c)&&Y.isArray(a[l])&&(a[l]=lS(a[l])),!u)}if(Y.isFormData(e)&&Y.isFunction(e.entries)){const s={};return Y.forEachEntry(e,(r,a)=>{t(aS(r),a,s,0)}),s}return null}function cS(e,t,s){if(Y.isString(e))try{return(t||JSON.parse)(e),Y.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const Mi={transitional:jm,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const r=s.getContentType()||"",a=r.indexOf("application/json")>-1,c=Y.isObject(t);if(c&&Y.isHTMLForm(t)&&(t=new FormData(t)),Y.isFormData(t))return a?JSON.stringify(Sm(t)):t;if(Y.isArrayBuffer(t)||Y.isBuffer(t)||Y.isStream(t)||Y.isFile(t)||Y.isBlob(t)||Y.isReadableStream(t))return t;if(Y.isArrayBufferView(t))return t.buffer;if(Y.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(c){if(r.indexOf("application/x-www-form-urlencoded")>-1)return oS(t,this.formSerializer).toString();if((u=Y.isFileList(t))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return no(u?{"files[]":t}:t,h&&new h,this.formSerializer)}}return c||a?(s.setContentType("application/json",!1),cS(t)):t}],transformResponse:[function(t){const s=this.transitional||Mi.transitional,r=s&&s.forcedJSONParsing,a=this.responseType==="json";if(Y.isResponse(t)||Y.isReadableStream(t))return t;if(t&&Y.isString(t)&&(r&&!this.responseType||a)){const l=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(u){if(l)throw u.name==="SyntaxError"?Fe.from(u,Fe.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mt.classes.FormData,Blob:Mt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],e=>{Mi.headers[e]={}});const dS=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uS=e=>{const t={};let s,r,a;return e&&e.split(`
`).forEach(function(l){a=l.indexOf(":"),s=l.substring(0,a).trim().toLowerCase(),r=l.substring(a+1).trim(),!(!s||t[s]&&dS[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},Au=Symbol("internals");function oi(e){return e&&String(e).trim().toLowerCase()}function Sr(e){return e===!1||e==null?e:Y.isArray(e)?e.map(Sr):String(e)}function hS(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const fS=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ia(e,t,s,r,a){if(Y.isFunction(r))return r.call(this,t,s);if(a&&(t=s),!!Y.isString(t)){if(Y.isString(r))return t.indexOf(r)!==-1;if(Y.isRegExp(r))return r.test(t)}}function mS(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function pS(e,t){const s=Y.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(a,c,l){return this[r].call(this,t,a,c,l)},configurable:!0})})}let It=class{constructor(t){t&&this.set(t)}set(t,s,r){const a=this;function c(u,h,m){const g=oi(h);if(!g)throw new Error("header name must be a non-empty string");const x=Y.findKey(a,g);(!x||a[x]===void 0||m===!0||m===void 0&&a[x]!==!1)&&(a[x||h]=Sr(u))}const l=(u,h)=>Y.forEach(u,(m,g)=>c(m,g,h));if(Y.isPlainObject(t)||t instanceof this.constructor)l(t,s);else if(Y.isString(t)&&(t=t.trim())&&!fS(t))l(uS(t),s);else if(Y.isHeaders(t))for(const[u,h]of t.entries())c(h,u,r);else t!=null&&c(s,t,r);return this}get(t,s){if(t=oi(t),t){const r=Y.findKey(this,t);if(r){const a=this[r];if(!s)return a;if(s===!0)return hS(a);if(Y.isFunction(s))return s.call(this,a,r);if(Y.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=oi(t),t){const r=Y.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||ia(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let a=!1;function c(l){if(l=oi(l),l){const u=Y.findKey(r,l);u&&(!s||ia(r,r[u],u,s))&&(delete r[u],a=!0)}}return Y.isArray(t)?t.forEach(c):c(t),a}clear(t){const s=Object.keys(this);let r=s.length,a=!1;for(;r--;){const c=s[r];(!t||ia(this,this[c],c,t,!0))&&(delete this[c],a=!0)}return a}normalize(t){const s=this,r={};return Y.forEach(this,(a,c)=>{const l=Y.findKey(r,c);if(l){s[l]=Sr(a),delete s[c];return}const u=t?mS(c):String(c).trim();u!==c&&delete s[c],s[u]=Sr(a),r[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return Y.forEach(this,(r,a)=>{r!=null&&r!==!1&&(s[a]=t&&Y.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[Au]=this[Au]={accessors:{}}).accessors,a=this.prototype;function c(l){const u=oi(l);r[u]||(pS(a,l),r[u]=!0)}return Y.isArray(t)?t.forEach(c):c(t),this}};It.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(It.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[s]=r}}});Y.freezeMethods(It);function ra(e,t){const s=this||Mi,r=t||s,a=It.from(r.headers);let c=r.data;return Y.forEach(e,function(u){c=u.call(s,c,a.normalize(),t?t.status:void 0)}),a.normalize(),c}function Nm(e){return!!(e&&e.__CANCEL__)}function Is(e,t,s){Fe.call(this,e??"canceled",Fe.ERR_CANCELED,t,s),this.name="CanceledError"}Y.inherits(Is,Fe,{__CANCEL__:!0});function Cm(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new Fe("Request failed with status code "+s.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function gS(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function xS(e,t){e=e||10;const s=new Array(e),r=new Array(e);let a=0,c=0,l;return t=t!==void 0?t:1e3,function(h){const m=Date.now(),g=r[c];l||(l=m),s[a]=h,r[a]=m;let x=c,y=0;for(;x!==a;)y+=s[x++],x=x%e;if(a=(a+1)%e,a===c&&(c=(c+1)%e),m-l<t)return;const b=g&&m-g;return b?Math.round(y*1e3/b):void 0}}function vS(e,t){let s=0,r=1e3/t,a,c;const l=(m,g=Date.now())=>{s=g,a=null,c&&(clearTimeout(c),c=null),e.apply(null,m)};return[(...m)=>{const g=Date.now(),x=g-s;x>=r?l(m,g):(a=m,c||(c=setTimeout(()=>{c=null,l(a)},r-x)))},()=>a&&l(a)]}const Ir=(e,t,s=3)=>{let r=0;const a=xS(50,250);return vS(c=>{const l=c.loaded,u=c.lengthComputable?c.total:void 0,h=l-r,m=a(h),g=l<=u;r=l;const x={loaded:l,total:u,progress:u?l/u:void 0,bytes:h,rate:m||void 0,estimated:m&&u&&g?(u-l)/m:void 0,event:c,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(x)},s)},ku=(e,t)=>{const s=e!=null;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},Ru=e=>(...t)=>Y.asap(()=>e(...t)),yS=Mt.hasStandardBrowserEnv?function(){const t=Mt.navigator&&/(msie|trident)/i.test(Mt.navigator.userAgent),s=document.createElement("a");let r;function a(c){let l=c;return t&&(s.setAttribute("href",l),l=s.href),s.setAttribute("href",l),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return r=a(window.location.href),function(l){const u=Y.isString(l)?a(l):l;return u.protocol===r.protocol&&u.host===r.host}}():function(){return function(){return!0}}(),bS=Mt.hasStandardBrowserEnv?{write(e,t,s,r,a,c){const l=[e+"="+encodeURIComponent(t)];Y.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),Y.isString(r)&&l.push("path="+r),Y.isString(a)&&l.push("domain="+a),c===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _S(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function wS(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Tm(e,t){return e&&!_S(t)?wS(e,t):t}const Mu=e=>e instanceof It?{...e}:e;function os(e,t){t=t||{};const s={};function r(m,g,x){return Y.isPlainObject(m)&&Y.isPlainObject(g)?Y.merge.call({caseless:x},m,g):Y.isPlainObject(g)?Y.merge({},g):Y.isArray(g)?g.slice():g}function a(m,g,x){if(Y.isUndefined(g)){if(!Y.isUndefined(m))return r(void 0,m,x)}else return r(m,g,x)}function c(m,g){if(!Y.isUndefined(g))return r(void 0,g)}function l(m,g){if(Y.isUndefined(g)){if(!Y.isUndefined(m))return r(void 0,m)}else return r(void 0,g)}function u(m,g,x){if(x in t)return r(m,g);if(x in e)return r(void 0,m)}const h={url:c,method:c,data:c,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(m,g)=>a(Mu(m),Mu(g),!0)};return Y.forEach(Object.keys(Object.assign({},e,t)),function(g){const x=h[g]||a,y=x(e[g],t[g],g);Y.isUndefined(y)&&x!==u||(s[g]=y)}),s}const Pm=e=>{const t=os({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:c,headers:l,auth:u}=t;t.headers=l=It.from(l),t.url=wm(Tm(t.baseURL,t.url),e.params,e.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let h;if(Y.isFormData(s)){if(Mt.hasStandardBrowserEnv||Mt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((h=l.getContentType())!==!1){const[m,...g]=h?h.split(";").map(x=>x.trim()).filter(Boolean):[];l.setContentType([m||"multipart/form-data",...g].join("; "))}}if(Mt.hasStandardBrowserEnv&&(r&&Y.isFunction(r)&&(r=r(t)),r||r!==!1&&yS(t.url))){const m=a&&c&&bS.read(c);m&&l.set(a,m)}return t},jS=typeof XMLHttpRequest<"u",SS=jS&&function(e){return new Promise(function(s,r){const a=Pm(e);let c=a.data;const l=It.from(a.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:m}=a,g,x,y,b,w;function _(){b&&b(),w&&w(),a.cancelToken&&a.cancelToken.unsubscribe(g),a.signal&&a.signal.removeEventListener("abort",g)}let N=new XMLHttpRequest;N.open(a.method.toUpperCase(),a.url,!0),N.timeout=a.timeout;function T(){if(!N)return;const j=It.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),E={data:!u||u==="text"||u==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:j,config:e,request:N};Cm(function(z){s(z),_()},function(z){r(z),_()},E),N=null}"onloadend"in N?N.onloadend=T:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(T)},N.onabort=function(){N&&(r(new Fe("Request aborted",Fe.ECONNABORTED,e,N)),N=null)},N.onerror=function(){r(new Fe("Network Error",Fe.ERR_NETWORK,e,N)),N=null},N.ontimeout=function(){let P=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const E=a.transitional||jm;a.timeoutErrorMessage&&(P=a.timeoutErrorMessage),r(new Fe(P,E.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,e,N)),N=null},c===void 0&&l.setContentType(null),"setRequestHeader"in N&&Y.forEach(l.toJSON(),function(P,E){N.setRequestHeader(E,P)}),Y.isUndefined(a.withCredentials)||(N.withCredentials=!!a.withCredentials),u&&u!=="json"&&(N.responseType=a.responseType),m&&([y,w]=Ir(m,!0),N.addEventListener("progress",y)),h&&N.upload&&([x,b]=Ir(h),N.upload.addEventListener("progress",x),N.upload.addEventListener("loadend",b)),(a.cancelToken||a.signal)&&(g=j=>{N&&(r(!j||j.type?new Is(null,e,N):j),N.abort(),N=null)},a.cancelToken&&a.cancelToken.subscribe(g),a.signal&&(a.signal.aborted?g():a.signal.addEventListener("abort",g)));const C=gS(a.url);if(C&&Mt.protocols.indexOf(C)===-1){r(new Fe("Unsupported protocol "+C+":",Fe.ERR_BAD_REQUEST,e));return}N.send(c||null)})},NS=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let r=new AbortController,a;const c=function(m){if(!a){a=!0,u();const g=m instanceof Error?m:this.reason;r.abort(g instanceof Fe?g:new Is(g instanceof Error?g.message:g))}};let l=t&&setTimeout(()=>{l=null,c(new Fe(`timeout ${t} of ms exceeded`,Fe.ETIMEDOUT))},t);const u=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(c):m.removeEventListener("abort",c)}),e=null)};e.forEach(m=>m.addEventListener("abort",c));const{signal:h}=r;return h.unsubscribe=()=>Y.asap(u),h}},CS=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let r=0,a;for(;r<s;)a=r+t,yield e.slice(r,a),r=a},TS=async function*(e,t){for await(const s of PS(e))yield*CS(s,t)},PS=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:r}=await t.read();if(s)break;yield r}}finally{await t.cancel()}},Iu=(e,t,s,r)=>{const a=TS(e,t);let c=0,l,u=h=>{l||(l=!0,r&&r(h))};return new ReadableStream({async pull(h){try{const{done:m,value:g}=await a.next();if(m){u(),h.close();return}let x=g.byteLength;if(s){let y=c+=x;s(y)}h.enqueue(new Uint8Array(g))}catch(m){throw u(m),m}},cancel(h){return u(h),a.return()}},{highWaterMark:2})},so=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Em=so&&typeof ReadableStream=="function",ES=so&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Lm=(e,...t)=>{try{return!!e(...t)}catch{return!1}},LS=Em&&Lm(()=>{let e=!1;const t=new Request(Mt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Ou=64*1024,Ra=Em&&Lm(()=>Y.isReadableStream(new Response("").body)),Or={stream:Ra&&(e=>e.body)};so&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Or[t]&&(Or[t]=Y.isFunction(e[t])?s=>s[t]():(s,r)=>{throw new Fe(`Response type '${t}' is not supported`,Fe.ERR_NOT_SUPPORT,r)})})})(new Response);const AS=async e=>{if(e==null)return 0;if(Y.isBlob(e))return e.size;if(Y.isSpecCompliantForm(e))return(await new Request(Mt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(e)||Y.isArrayBuffer(e))return e.byteLength;if(Y.isURLSearchParams(e)&&(e=e+""),Y.isString(e))return(await ES(e)).byteLength},kS=async(e,t)=>{const s=Y.toFiniteNumber(e.getContentLength());return s??AS(t)},RS=so&&(async e=>{let{url:t,method:s,data:r,signal:a,cancelToken:c,timeout:l,onDownloadProgress:u,onUploadProgress:h,responseType:m,headers:g,withCredentials:x="same-origin",fetchOptions:y}=Pm(e);m=m?(m+"").toLowerCase():"text";let b=NS([a,c&&c.toAbortSignal()],l),w;const _=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let N;try{if(h&&LS&&s!=="get"&&s!=="head"&&(N=await kS(g,r))!==0){let E=new Request(t,{method:"POST",body:r,duplex:"half"}),D;if(Y.isFormData(r)&&(D=E.headers.get("content-type"))&&g.setContentType(D),E.body){const[z,$]=ku(N,Ir(Ru(h)));r=Iu(E.body,Ou,z,$)}}Y.isString(x)||(x=x?"include":"omit");const T="credentials"in Request.prototype;w=new Request(t,{...y,signal:b,method:s.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:T?x:void 0});let C=await fetch(w);const j=Ra&&(m==="stream"||m==="response");if(Ra&&(u||j&&_)){const E={};["status","statusText","headers"].forEach(J=>{E[J]=C[J]});const D=Y.toFiniteNumber(C.headers.get("content-length")),[z,$]=u&&ku(D,Ir(Ru(u),!0))||[];C=new Response(Iu(C.body,Ou,z,()=>{$&&$(),_&&_()}),E)}m=m||"text";let P=await Or[Y.findKey(Or,m)||"text"](C,e);return!j&&_&&_(),await new Promise((E,D)=>{Cm(E,D,{data:P,headers:It.from(C.headers),status:C.status,statusText:C.statusText,config:e,request:w})})}catch(T){throw _&&_(),T&&T.name==="TypeError"&&/fetch/i.test(T.message)?Object.assign(new Fe("Network Error",Fe.ERR_NETWORK,e,w),{cause:T.cause||T}):Fe.from(T,T&&T.code,e,w)}}),Ma={http:qj,xhr:SS,fetch:RS};Y.forEach(Ma,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Du=e=>`- ${e}`,MS=e=>Y.isFunction(e)||e===null||e===!1,Am={getAdapter:e=>{e=Y.isArray(e)?e:[e];const{length:t}=e;let s,r;const a={};for(let c=0;c<t;c++){s=e[c];let l;if(r=s,!MS(s)&&(r=Ma[(l=String(s)).toLowerCase()],r===void 0))throw new Fe(`Unknown adapter '${l}'`);if(r)break;a[l||"#"+c]=r}if(!r){const c=Object.entries(a).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=t?c.length>1?`since :
`+c.map(Du).join(`
`):" "+Du(c[0]):"as no adapter specified";throw new Fe("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:Ma};function oa(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Is(null,e)}function Bu(e){return oa(e),e.headers=It.from(e.headers),e.data=ra.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Am.getAdapter(e.adapter||Mi.adapter)(e).then(function(r){return oa(e),r.data=ra.call(e,e.transformResponse,r),r.headers=It.from(r.headers),r},function(r){return Nm(r)||(oa(e),r&&r.response&&(r.response.data=ra.call(e,e.transformResponse,r.response),r.response.headers=It.from(r.response.headers))),Promise.reject(r)})}const km="1.7.7",zl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{zl[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const zu={};zl.transitional=function(t,s,r){function a(c,l){return"[Axios v"+km+"] Transitional option '"+c+"'"+l+(r?". "+r:"")}return(c,l,u)=>{if(t===!1)throw new Fe(a(l," has been removed"+(s?" in "+s:"")),Fe.ERR_DEPRECATED);return s&&!zu[l]&&(zu[l]=!0,console.warn(a(l," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(c,l,u):!0}};function IS(e,t,s){if(typeof e!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const c=r[a],l=t[c];if(l){const u=e[c],h=u===void 0||l(u,c,e);if(h!==!0)throw new Fe("option "+c+" must be "+h,Fe.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Fe("Unknown option "+c,Fe.ERR_BAD_OPTION)}}const Ia={assertOptions:IS,validators:zl},Ln=Ia.validators;let rs=class{constructor(t){this.defaults=t,this.interceptors={request:new Lu,response:new Lu}}async request(t,s){try{return await this._request(t,s)}catch(r){if(r instanceof Error){let a;Error.captureStackTrace?Error.captureStackTrace(a={}):a=new Error;const c=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?c&&!String(r.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+c):r.stack=c}catch{}}throw r}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=os(this.defaults,s);const{transitional:r,paramsSerializer:a,headers:c}=s;r!==void 0&&Ia.assertOptions(r,{silentJSONParsing:Ln.transitional(Ln.boolean),forcedJSONParsing:Ln.transitional(Ln.boolean),clarifyTimeoutError:Ln.transitional(Ln.boolean)},!1),a!=null&&(Y.isFunction(a)?s.paramsSerializer={serialize:a}:Ia.assertOptions(a,{encode:Ln.function,serialize:Ln.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let l=c&&Y.merge(c.common,c[s.method]);c&&Y.forEach(["delete","get","head","post","put","patch","common"],w=>{delete c[w]}),s.headers=It.concat(l,c);const u=[];let h=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(s)===!1||(h=h&&_.synchronous,u.unshift(_.fulfilled,_.rejected))});const m=[];this.interceptors.response.forEach(function(_){m.push(_.fulfilled,_.rejected)});let g,x=0,y;if(!h){const w=[Bu.bind(this),void 0];for(w.unshift.apply(w,u),w.push.apply(w,m),y=w.length,g=Promise.resolve(s);x<y;)g=g.then(w[x++],w[x++]);return g}y=u.length;let b=s;for(x=0;x<y;){const w=u[x++],_=u[x++];try{b=w(b)}catch(N){_.call(this,N);break}}try{g=Bu.call(this,b)}catch(w){return Promise.reject(w)}for(x=0,y=m.length;x<y;)g=g.then(m[x++],m[x++]);return g}getUri(t){t=os(this.defaults,t);const s=Tm(t.baseURL,t.url);return wm(s,t.params,t.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(t){rs.prototype[t]=function(s,r){return this.request(os(r||{},{method:t,url:s,data:(r||{}).data}))}});Y.forEach(["post","put","patch"],function(t){function s(r){return function(c,l,u){return this.request(os(u||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:c,data:l}))}}rs.prototype[t]=s(),rs.prototype[t+"Form"]=s(!0)});let OS=class Rm{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(c){s=c});const r=this;this.promise.then(a=>{if(!r._listeners)return;let c=r._listeners.length;for(;c-- >0;)r._listeners[c](a);r._listeners=null}),this.promise.then=a=>{let c;const l=new Promise(u=>{r.subscribe(u),c=u}).then(a);return l.cancel=function(){r.unsubscribe(c)},l},t(function(c,l,u){r.reason||(r.reason=new Is(c,l,u),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=r=>{t.abort(r)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Rm(function(a){t=a}),cancel:t}}};function DS(e){return function(s){return e.apply(null,s)}}function BS(e){return Y.isObject(e)&&e.isAxiosError===!0}const Oa={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Oa).forEach(([e,t])=>{Oa[t]=e});function Mm(e){const t=new rs(e),s=dm(rs.prototype.request,t);return Y.extend(s,rs.prototype,t,{allOwnKeys:!0}),Y.extend(s,t,null,{allOwnKeys:!0}),s.create=function(a){return Mm(os(e,a))},s}const gt=Mm(Mi);gt.Axios=rs;gt.CanceledError=Is;gt.CancelToken=OS;gt.isCancel=Nm;gt.VERSION=km;gt.toFormData=no;gt.AxiosError=Fe;gt.Cancel=gt.CanceledError;gt.all=function(t){return Promise.all(t)};gt.spread=DS;gt.isAxiosError=BS;gt.mergeConfig=os;gt.AxiosHeaders=It;gt.formToJSON=e=>Sm(Y.isHTMLForm(e)?new FormData(e):e);gt.getAdapter=Am.getAdapter;gt.HttpStatusCode=Oa;gt.default=gt;const{Axios:f5,AxiosError:m5,CanceledError:p5,isCancel:g5,CancelToken:x5,VERSION:v5,all:y5,Cancel:b5,isAxiosError:_5,spread:w5,toFormData:j5,AxiosHeaders:S5,HttpStatusCode:N5,formToJSON:C5,getAdapter:T5,mergeConfig:P5}=gt;console.log(" Environment VITE_APP_BASE_URL:","https://ai.research-hero.com");const Im="https://ai.research-hero.com";console.log(" Using baseURL:",Im);const Se=gt.create({baseURL:Im});console.log(" Axios instance created with baseURL:",Se.defaults.baseURL);Se.interceptors.request.use(e=>{try{const t=ct.getItem("token")||ct.getItem("authToken")||localStorage.getItem("token"),s=`${e.baseURL}${e.url}`;console.log(" Axios interceptor - Full URL:",s),console.log(" Axios interceptor - Base URL:",e.baseURL),console.log(" Axios interceptor - Request URL:",e.url),console.log(" Axios interceptor - Token found:",!!t),console.log(" Axios interceptor - Token preview:",t?String(t).substring(0,20)+"...":"null"),t&&typeof t=="string"?(e.headers.Authorization=`Bearer ${t}`,console.log(" Axios interceptor - Authorization header set")):(console.log(" Axios interceptor - No valid token found in storage"),console.log(" Available localStorage keys:",Object.keys(localStorage)))}catch(t){console.error(" Axios interceptor - Error accessing storage:",t)}return e},e=>(console.error(" Axios interceptor error:",e),Promise.reject(e)));Se.interceptors.response.use(e=>{var t;return(t=e.config.url)!=null&&t.includes("/api/credits/balance")&&console.log(" Axios response - Credit balance API response:",e.data),e},e=>{var t,s,r;return(s=(t=e.config)==null?void 0:t.url)!=null&&s.includes("/api/credits/balance")&&console.error(" Axios response - Credit balance API error:",(r=e.response)==null?void 0:r.data),Promise.reject(e)});const Om=f.createContext(void 0),zS=({children:e})=>{const[t,s]=f.useState(null),[r,a]=f.useState(null),[c,l]=f.useState(!1),[u,h]=f.useState(!1),[m,g]=f.useState(!0),x=Ci(),y=I0(),b=j=>{var P;try{const E=Nu(j);let D;return E.user?D={id:E.user.id,email:E.user.email,first_name:E.user.first_name,last_name:E.user.last_name,username:E.user.username,role:(P=E.user.role_id)==null?void 0:P.toString(),role_id:E.user.role_id,isSuperAdmin:E.user.isSuperAdmin}:D={id:E.id||0,email:E.email||"",name:E.name,first_name:E.first_name,last_name:E.last_name,username:E.username,role:E.role,org_id:E.org_id,phone_number:E.phone_number,created_at:E.created_at,last_login:E.last_login,isSuperAdmin:E.isSuperAdmin},D}catch(E){return console.error("Error extracting user from token:",E),null}},w=f.useRef(new Set),_=async(j,P)=>new Promise(async(E,D)=>{var z;try{if(!P){console.warn("No user data provided for audit log"),E();return}const $=`${j}_${P.id}_${P.email}_${Date.now().toString().slice(0,-3)}`;if(w.current.has($)){console.log(" Duplicate audit log prevented for:",j,P.email),E();return}if(w.current.add($),w.current.size>10){const U=Array.from(w.current);w.current.clear(),U.slice(-5).forEach(M=>w.current.add(M))}const J=()=>{const U=navigator.userAgent;return U.includes("Chrome")?"Chrome":U.includes("Firefox")?"Firefox":U.includes("Safari")&&!U.includes("Chrome")?"Safari":U.includes("Edge")?"Edge":U.includes("Opera")?"Opera":"Other"},R={operation_type:"CREATE",table_name:"auth_sessions",record_id:((z=P.id)==null?void 0:z.toString())||"unknown",user_email:P.email,user_name:`${P.first_name||""} ${P.last_name||""}`.trim()||P.email,old_values:j==="LOGOUT"?{session_active:!0,user_authenticated:!0,user_id:P.id,user_email:P.email,user_name:`${P.first_name||""} ${P.last_name||""}`.trim()}:null,new_values:{action:j,user_id:P.id,user_email:P.email,user_name:`${P.first_name||""} ${P.last_name||""}`.trim()||P.email,timestamp:new Date().toISOString(),session_active:j==="LOGIN",user_authenticated:j==="LOGIN",browser:J(),platform:navigator.platform,user_agent:navigator.userAgent},metadata:{authentication_event:!0,action:j,session_type:"web",browser:J(),platform:navigator.platform,screen_resolution:`${screen.width}x${screen.height}`,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language,user_info:{id:P.id,email:P.email,name:`${P.first_name||""} ${P.last_name||""}`.trim()},cache_key:$}};console.log(" Creating audit log for:",j,"User:",P.email,"Key:",$);const F=await Se.post("/api/audit-logs",R);console.log(" Audit log created successfully:",F.data),E()}catch($){console.error(" Error creating audit log entry:",$),D($)}}),N=async()=>{if(u){console.log(" Logout already in progress, skipping...");return}h(!0);try{if(r)try{await _("LOGOUT",r),console.log(" Logout audit log created for user:",r.email)}catch(j){console.warn(" Failed to create logout audit log:",j)}ct.removeItem("token"),ct.removeItem("authToken"),y.clear(),_e(async()=>{const{cacheManager:j}=await Promise.resolve().then(()=>Cs);return{cacheManager:j}},void 0).then(({cacheManager:j})=>{j.clearBrowserCache()}).catch(j=>{console.warn("Could not clear browser cache:",j)}),s(null),a(null),l(!1),x("/login")}finally{setTimeout(()=>{h(!1)},1e3)}},T=j=>{console.log(" AuthContext: Checking token validity...");try{const P=Nu(j),E=Date.now()/1e3,D=P.exp-E;if(console.log(" AuthContext: Token expires in",Math.floor(D/60),"minutes"),P.exp<E)console.log(" AuthContext: Token has expired."),ct.removeItem("token"),ct.removeItem("authToken"),s(null),a(null),l(!1);else{console.log(" AuthContext: Token is valid, extracting user data...");const z=b(j);z?(s(j),a(z),l(!0),console.log(" AuthContext: User authenticated successfully:",z.email)):(console.log(" AuthContext: Failed to extract user data from token"),l(!1))}}catch(P){console.error(" AuthContext: Error decoding token:",P),ct.removeItem("token"),ct.removeItem("authToken"),s(null),a(null),l(!1)}};f.useEffect(()=>{console.log(" AuthContext: Initializing authentication check...");const j=ct.getItem("token"),P=ct.getItem("authToken");console.log(" AuthContext: Token found in storage:",!!j),console.log(" AuthContext: AuthToken found in storage:",!!P);const E=j||P;if(E&&typeof E=="string"){console.log(" AuthContext: Valid token found, checking validity...");try{T(E)}catch(D){console.error(" AuthContext: Error checking token validity on mount:",D),l(!1)}}else console.log(" AuthContext: No token found in secure storage."),l(!1);console.log(" AuthContext: Authentication check complete, setting loading to false"),g(!1)},[]),f.useEffect(()=>{r!=null&&r.id&&(console.log(` User changed to ID: ${r.id}, clearing cache to prevent cross-user data`),y.getQueryCache().getAll().length>0&&(y.clear(),_e(async()=>{const{cacheManager:j}=await Promise.resolve().then(()=>Cs);return{cacheManager:j}},void 0).then(({cacheManager:j})=>{j.clearBrowserCache()}).catch(j=>{console.warn("Could not clear browser cache:",j)})))},[r==null?void 0:r.id]);const C=j=>{y.clear(),ct.setItem("token",j),T(j),setTimeout(()=>{const P=b(j);P&&_("LOGIN",P).catch(E=>{console.warn(" Failed to create login audit log:",E)})},100)};return i.jsx(Om.Provider,{value:{isLoggedIn:c,token:t,user:r,login:C,logout:N,loading:m},children:e})},Fl=()=>{const e=f.useContext(Om);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Dm=f.createContext(void 0),FS=({children:e})=>{const{user:t,isLoggedIn:s,token:r}=Fl(),[a,c]=f.useState([]),[l,u]=f.useState([]),[h,m]=f.useState([]),[g,x]=f.useState(null),[y,b]=f.useState([]),[w,_]=f.useState([]),[N,T]=f.useState(!1),[C,j]=f.useState(!0),P=async()=>{if(!t||!r||!s){c([]),u([]),m([]),x(null),b([]),_([]),T(!1),j(!1);return}try{j(!0);const te=await Se.get(`/api/users/${t.id}/with-roles`);if(te.data.success){const se=te.data.data;b(se.roles||[])}const he=await Se.get(`/api/user-roles/user/${t.id}/permissions`);if(he.data.success){const se=he.data.data;u(se),c(se.map(V=>V.permission_name))}const Q=await Se.get(`/api/role-page-permissions/user/${t.id}`);Q.data.success&&_(Q.data.data);const fe=await Se.get("/api/page-permissions/accessible/me");if(fe.data.success&&m(fe.data.data),t.role_id)try{const se=await Se.get(`/api/roles/${t.role_id}`);if(se.data){x(se.data);const V=se.data.name==="super_admin"||t.role_id===1;T(V),console.log("Permission Context Debug:",{userId:t.id,roleId:t.role_id,roleName:se.data.name,isSuperAdmin:V,roleData:se.data,checkByName:se.data.name==="super_admin",checkById:t.role_id===1})}}catch(se){console.error("Error loading role:",se),t.role_id===1&&(T(!0),console.log("Fallback: Setting super admin based on role_id = 1"))}}catch(te){console.error("Error loading permissions:",te),c([]),u([]),m([]),x(null),T(!1)}finally{j(!1)}},E=te=>N?!0:a.includes(te),D=te=>N?!0:te.some(he=>a.includes(he)),z=te=>N?!0:te.every(he=>a.includes(he)),$=te=>N?!0:y.some(he=>he.name===te),J=te=>N?!0:te.some(he=>y.some(Q=>Q.name===he)),R=(te,he)=>{if(N)return!0;const Q=w.find(fe=>fe.page_path===te);if(!Q)return!1;switch(he){case"view":return Q.can_view;case"add":return Q.can_add;case"update":return Q.can_update;case"delete":return Q.can_delete;default:return!1}},F=te=>{if(N)return!0;const he=w.find(Q=>Q.page_path===te);return he&&he.can_view?!0:h.some(Q=>Q.page_path===te&&(Q.is_public||E(Q.required_permission||"")))},U=async()=>{await P()};f.useEffect(()=>{P()},[t,s,r]);const M={permissions:a,permissionDetails:l,accessiblePages:h,role:g,roles:y,pagePermissions:w,isSuperAdmin:N,loading:C,hasPermission:E,hasAnyPermission:D,hasAllPermissions:z,hasRole:$,hasAnyRole:J,canAccessPage:F,canPerformAction:R,refreshPermissions:U};return i.jsx(Dm.Provider,{value:M,children:e})},VS=()=>{const e=f.useContext(Dm);if(!e)throw new Error("usePermissions must be used within a PermissionProvider");return e},Bm=f.memo(({delay:e=200,minDuration:t=200})=>{const[s,r]=f.useState(!1),[a,c]=f.useState(null);return f.useEffect(()=>{const l=setTimeout(()=>{r(!0),c(Date.now())},e);return()=>clearTimeout(l)},[e]),f.useEffect(()=>{if(s&&a){const l=Date.now()-a;if(l<t){const u=setTimeout(()=>{},t-l);return()=>clearTimeout(u)}}},[s,a,t]),s?i.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0f0c29] via-[#302b63] to-[#24243e]"}),i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,rgba(255,140,0,0.25),transparent_60%)]"}),i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_bottom,rgba(0,180,255,0.25),transparent_60%)]"}),i.jsx("div",{className:"absolute inset-0 backdrop-blur-md bg-black/30"}),i.jsxs("div",{className:"relative flex flex-col items-center gap-10",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-20 h-20 border-4 border-orange-400/30 rounded-full animate-spin"}),i.jsx("div",{className:`absolute inset-2 w-16 h-16 border-4
              border-t-yellow-400
              border-r-orange-500
              border-b-red-500
              border-l-yellow-400
              rounded-full animate-spin`,style:{animationDirection:"reverse",animationDuration:"1.4s"}}),i.jsx("div",{className:`
              absolute inset-6 w-8 h-8 rounded-full
              bg-gradient-to-br from-yellow-300 via-orange-400 to-red-600
              animate-pulse
              shadow-[0_0_20px_rgba(255,170,0,0.95)]
            `}),i.jsxs("div",{className:"absolute inset-0 w-20 h-20 animate-spin",style:{animationDuration:"3s"},children:[i.jsx("div",{className:"absolute top-0 left-1/2 w-2 h-2 bg-yellow-400 rounded-full -translate-x-1/2"}),i.jsx("div",{className:"absolute bottom-0 left-1/2 w-2 h-2 bg-orange-500 rounded-full -translate-x-1/2"})]}),i.jsx("div",{className:`
              absolute inset-0 w-20 h-20 rounded-full blur-xl
              bg-gradient-to-br from-yellow-400/30 via-orange-500/30 to-red-600/30
            `})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:`
              text-4xl font-extrabold tracking-widest
              text-yellow-300
              animate-fireText
              drop-shadow-[0_0_2px_rgba(255,200,0,1)]
              drop-shadow-[0_0_4px_rgba(255,140,0,0.9)]
              drop-shadow-[0_0_5px_rgba(255,80,0,0.8)]
              mb-2
            `,children:"AI CRUITMENT"}),i.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3",children:[i.jsx("span",{className:"text-white/90 text-lg",children:"Loading"}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx("span",{className:"w-1 h-1 bg-yellow-400 rounded-full animate-bounce"}),i.jsx("span",{className:"w-1 h-1 bg-orange-500 rounded-full animate-bounce delay-150"}),i.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full animate-bounce delay-300"})]})]})]}),i.jsx("div",{className:"w-64 h-1 rounded-full overflow-hidden bg-white/10",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-yellow-400 via-orange-500 to-red-600 rounded-full",style:{animation:"fireProgress 2s ease-in-out infinite"}})})]}),i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-yellow-400/40 rounded-full animate-ping"}),i.jsx("div",{className:"absolute top-1/3 right-1/4 w-1 h-1 bg-orange-500/40 rounded-full animate-ping delay-1000"}),i.jsx("div",{className:"absolute bottom-1/3 left-1/3 w-1.5 h-1.5 bg-cyan-400/40 rounded-full animate-ping delay-2000"})]}),i.jsx("style",{dangerouslySetInnerHTML:{__html:`
            @keyframes fireText {
              0% {
                color: #ffd966;
                text-shadow:
                  0 0 8px rgba(255,200,0,1),
                  0 0 18px rgba(255,140,0,0.9),
                  0 0 30px rgba(255,80,0,0.8);
              }
              50% {
                color: #ffb703;
                text-shadow:
                  0 0 14px rgba(255,180,0,1),
                  0 0 30px rgba(255,120,0,1),
                  0 0 46px rgba(255,60,0,0.9);
              }
              100% {
                color: #ffd966;
                text-shadow:
                  0 0 8px rgba(255,200,0,1),
                  0 0 18px rgba(255,140,0,0.9),
                  0 0 30px rgba(255,80,0,0.8);
              }
            }

            .animate-fireText {
              animation: fireText 1.8s ease-in-out infinite;
            }

            @keyframes fireProgress {
              0% { transform: translateX(-100%); }
              50% { transform: translateX(300%); }
              100% { transform: translateX(-100%); }
            }
          `}})]}):null});Bm.displayName="FastLoading";const $S=({children:e})=>{const{isLoggedIn:t,loading:s,token:r,user:a}=Fl(),{loading:c}=VS(),[l,u]=f.useState(!1);return f.useEffect(()=>{const h=setTimeout(()=>{u(!0)},100);return()=>clearTimeout(h)},[]),console.log(" ProtectedRoutes: Auth state check",{isLoggedIn:t,authLoading:s,permissionLoading:c,hasToken:!!r,hasUser:!!a,userEmail:a==null?void 0:a.email,initialCheckComplete:l}),s||c||!l?(console.log(" ProtectedRoutes: Still loading, showing FastLoading..."),i.jsx(Bm,{delay:200})):t?(console.log(" ProtectedRoutes: User authenticated, rendering protected content"),e?i.jsx(i.Fragment,{children:e}):i.jsx(Nh,{})):(console.log(" ProtectedRoutes: User not logged in, redirecting to login"),i.jsx(A0,{to:"/login",replace:!0}))},US={theme:"light"},zm=f.createContext(US);function HS({children:e,...t}){const s={theme:"light"};return i.jsx(zm.Provider,{...t,value:s,children:e})}const E5=()=>{const e=f.useContext(zm);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Fm=f.memo(({className:e=""})=>{const[t,s]=f.useState(navigator.onLine),[r,a]=f.useState(!1);return f.useEffect(()=>{const c=()=>{s(!0),a(!0),setTimeout(()=>a(!1),3e3)},l=()=>{s(!1),a(!0)};return window.addEventListener("online",c),window.addEventListener("offline",l),()=>{window.removeEventListener("online",c),window.removeEventListener("offline",l)}},[]),!r&&t?null:i.jsx("div",{className:`fixed top-4 right-4 z-50 ${e}`,children:i.jsx("div",{className:`
        flex items-center gap-2 px-3 py-2 rounded-lg shadow-lg text-sm font-medium
        ${t?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"}
        transition-all duration-300 ease-in-out
      `,children:t?i.jsxs(i.Fragment,{children:[i.jsx(Jx,{className:"h-4 w-4"}),i.jsx("span",{children:"Connected"})]}):i.jsxs(i.Fragment,{children:[i.jsx(Qx,{className:"h-4 w-4"}),i.jsx("span",{children:"No Connection"})]})})})});Fm.displayName="ConnectionStatus";const Vm=f.createContext(void 0),WS=({children:e})=>{const[t,s]=f.useState(!1),[r,a]=f.useState(!1),c=()=>{s(u=>!u)},l=()=>{s(!1)};return f.useEffect(()=>{const u=()=>{a(window.innerWidth<768)};return u(),window.addEventListener("resize",u),()=>{window.removeEventListener("resize",u)}},[]),f.useEffect(()=>{r||s(!1)},[r]),i.jsx(Vm.Provider,{value:{isMobileMenuOpen:t,toggleMobileMenu:c,closeMobileMenu:l,isMobileView:r},children:e})},L5=()=>{const e=f.useContext(Vm);if(!e)throw new Error("useMobileMenu must be used within a MobileMenuProvider");return e},Jn=class Jn{constructor(){bs(this,"queryClient",null)}static getInstance(){return Jn.instance||(Jn.instance=new Jn),Jn.instance}setQueryClient(t){this.queryClient=t}clearAllCache(){this.queryClient&&(console.log(" Clearing all React Query cache..."),this.queryClient.clear()),this.clearBrowserCache()}clearQueryCache(t){this.queryClient&&(console.log(` Clearing cache for query: ${t.join(", ")}`),this.queryClient.removeQueries({queryKey:t}))}invalidateQueries(t){this.queryClient&&(console.log(` Invalidating queries: ${t.join(", ")}`),this.queryClient.invalidateQueries({queryKey:t}))}invalidateQueriesByPage(t){this.queryClient&&this.queryClient.getQueryCache().getAll().filter(c=>c.queryKey.some(u=>typeof u=="string"&&(u.includes(t.replace("/",""))||t.includes(u)))).forEach(c=>{var l;console.log(` Invalidating page-specific query: ${c.queryKey.join(", ")}`),(l=this.queryClient)==null||l.invalidateQueries({queryKey:c.queryKey})})}clearBrowserCache(){try{console.log(" Clearing browser storage (preserving auth tokens)...");const t=["authToken","token","react-secure-storage"];Object.keys(localStorage).forEach(c=>{!t.includes(c)&&!c.startsWith("react-secure-storage")&&localStorage.removeItem(c)});const r=["authToken","token"];Object.keys(sessionStorage).forEach(c=>{r.includes(c)||sessionStorage.removeItem(c)}),console.log(" Browser cache cleared successfully (auth tokens preserved)")}catch(t){console.error(" Error clearing browser cache:",t)}}autoCleanStaleCache(){if(this.queryClient){const t=this.queryClient.getQueryCache(),s=t.getAll();let r=0;s.forEach(a=>{const c=a.state,u=Date.now()-5*60*1e3;a.state.dataUpdatedAt&&a.state.dataUpdatedAt<u&&c.status!=="pending"&&(t.remove(a),r++)}),r>0&&console.log(` Auto-cleaned ${r} stale cache entries`)}}clearStaleCache(){console.log(" Clearing stale cache entries..."),this.autoCleanStaleCache()}forceRefresh(t){this.queryClient&&(console.log(` Force refreshing: ${t.join(", ")}`),this.queryClient.refetchQueries({queryKey:t}))}getCacheStats(){if(!this.queryClient)return{totalQueries:0,staleQueries:0,activeQueries:0};const s=this.queryClient.getQueryCache().getAll(),a=Date.now()-5*60*1e3;return{totalQueries:s.length,staleQueries:s.filter(l=>l.state.dataUpdatedAt&&l.state.dataUpdatedAt<a).length,activeQueries:s.filter(l=>l.state.status==="pending").length}}clearCacheForNavigation(){if(this.queryClient){console.log(" Clearing cache for page navigation...");const t=this.queryClient.getQueryCache();t.getAll().forEach(r=>{r.queryKey.some(l=>typeof l=="string"&&(l.includes("auth")||l.includes("user")||l.includes("permission")))||t.remove(r)}),console.log(" Navigation cache clear completed")}}setupAutoCacheManagement(){setInterval(()=>{this.autoCleanStaleCache()},2*60*1e3),setInterval(()=>{console.log(" Performing scheduled stale cache cleanup (preserving auth)..."),this.autoCleanStaleCache()},30*60*1e3)}};bs(Jn,"instance");let Dr=Jn;const Da=Dr.getInstance(),Cs=Object.freeze(Object.defineProperty({__proto__:null,CacheManager:Dr,cacheManager:Da},Symbol.toStringTag,{value:"Module"})),Qn=class Qn{constructor(){bs(this,"metrics",new Map);bs(this,"loadingStates",new Map)}static getInstance(){return Qn.instance||(Qn.instance=new Qn),Qn.instance}startTiming(t){this.metrics.set(`${t}_start`,performance.now()),this.loadingStates.set(t,!0),console.log(` Started timing: ${t}`)}endTiming(t){const s=this.metrics.get(`${t}_start`);if(!s)return console.warn(` No start time found for operation: ${t}`),0;const a=performance.now()-s;return this.metrics.set(`${t}_duration`,a),this.loadingStates.set(t,!1),console.log(` ${t} completed in ${a.toFixed(2)}ms`),a>2e3&&console.warn(` Slow operation detected: ${t} took ${a.toFixed(2)}ms`),a}getDuration(t){return this.metrics.get(`${t}_duration`)||0}isLoading(t){return this.loadingStates.get(t)||!1}getAllMetrics(){const t={};return this.metrics.forEach((s,r)=>{if(r.endsWith("_duration")){const a=r.replace("_duration","");t[a]=s}}),t}getPerformanceSummary(){const t=this.getAllMetrics(),s=Object.entries(t);if(s.length===0)return{totalOperations:0,averageLoadTime:0,slowOperations:[],fastOperations:[]};const a=s.reduce((u,[,h])=>u+h,0)/s.length,c=s.filter(([,u])=>u>1e3).map(([u,h])=>({name:u,duration:h})).sort((u,h)=>h.duration-u.duration),l=s.filter(([,u])=>u<=500).map(([u,h])=>({name:u,duration:h})).sort((u,h)=>u.duration-h.duration);return{totalOperations:s.length,averageLoadTime:a,slowOperations:c,fastOperations:l}}monitorApiCall(t,s){return this.startTiming(t),s().then(r=>(this.endTiming(t),r)).catch(r=>{throw this.endTiming(t),console.error(` API call failed: ${t}`,r),r})}monitorQuery(t,s){const r=`query_${t.join("_")}`;this.metrics.set(`${r}_duration`,s),s>1e3&&console.warn(` Slow query detected: ${t.join(", ")} took ${s.toFixed(2)}ms`)}clearMetrics(){this.metrics.clear(),this.loadingStates.clear(),console.log(" Performance metrics cleared")}logPerformanceReport(){const t=this.getPerformanceSummary();console.group(" Performance Report"),console.log(`Total Operations: ${t.totalOperations}`),console.log(`Average Load Time: ${t.averageLoadTime.toFixed(2)}ms`),t.slowOperations.length>0&&(console.group(" Slow Operations (>1s)"),t.slowOperations.forEach(({name:s,duration:r})=>{console.log(`${s}: ${r.toFixed(2)}ms`)}),console.groupEnd()),t.fastOperations.length>0&&(console.group(" Fast Operations (<500ms)"),t.fastOperations.slice(0,5).forEach(({name:s,duration:r})=>{console.log(`${s}: ${r.toFixed(2)}ms`)}),console.groupEnd()),console.groupEnd()}setupAutoMonitoring(){typeof window<"u"&&window.addEventListener("load",()=>{const t=performance.now();console.log(` Page loaded in ${t.toFixed(2)}ms`),this.metrics.set("page_load_duration",t)})}};bs(Qn,"instance");let Ba=Qn;const ZS=Ba.getInstance();function GS(){const[e,t]=f.useState(!1),[s,r]=f.useState(!0);return f.useEffect(()=>{const a=performance.getEntriesByType("navigation");a.length>0&&(a[0].type==="reload"?(t(!0),console.log(" Browser refresh detected - preserving authentication"),_e(async()=>{const{cacheManager:u}=await Promise.resolve().then(()=>Cs);return{cacheManager:u}},void 0).then(({cacheManager:u})=>{u.clearStaleCache(),console.log(" Stale cache cleared due to browser refresh (auth preserved)")}).catch(u=>{console.warn("Could not clear stale cache on refresh:",u)})):t(!1));const c=setTimeout(()=>{r(!1)},500);return()=>clearTimeout(c)},[]),f.useEffect(()=>{const a=()=>{!document.hidden&&!s&&(console.log(" Page became visible, refreshing stale data..."),_e(async()=>{const{cacheManager:c}=await Promise.resolve().then(()=>Cs);return{cacheManager:c}},void 0).then(({cacheManager:c})=>{c.autoCleanStaleCache()}).catch(c=>{console.warn("Could not clean stale cache on visibility change:",c)}))};return document.addEventListener("visibilitychange",a),()=>{document.removeEventListener("visibilitychange",a)}},[s]),f.useEffect(()=>{const a=()=>{console.log(" Connection restored, refreshing data..."),_e(async()=>{const{cacheManager:l}=await Promise.resolve().then(()=>Cs);return{cacheManager:l}},void 0).then(({cacheManager:l})=>{l.forceRefresh(["dashboard","agents","calls"])}).catch(l=>{console.warn("Could not refresh data on reconnection:",l)})},c=()=>{console.log(" Connection lost")};return window.addEventListener("online",a),window.addEventListener("offline",c),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",c)}},[]),{isRefresh:e,isInitialLoad:s,isOnline:navigator.onLine}}function $m(e){var t,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=$m(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function Um(){for(var e,t,s=0,r="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=$m(e))&&(r&&(r+=" "),r+=t);return r}const Vl="-",qS=e=>{const t=YS(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const u=l.split(Vl);return u[0]===""&&u.length!==1&&u.shift(),Hm(u,t)||KS(l)},getConflictingClassGroupIds:(l,u)=>{const h=s[l]||[];return u&&r[l]?[...h,...r[l]]:h}}},Hm=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const s=e[0],r=t.nextPart.get(s),a=r?Hm(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const c=e.join(Vl);return(l=t.validators.find(({validator:u})=>u(c)))==null?void 0:l.classGroupId},Fu=/^\[(.+)\]$/,KS=e=>{if(Fu.test(e)){const t=Fu.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},YS=e=>{const{theme:t,prefix:s}=e,r={nextPart:new Map,validators:[]};return JS(Object.entries(e.classGroups),s).forEach(([c,l])=>{za(l,r,c,t)}),r},za=(e,t,s,r)=>{e.forEach(a=>{if(typeof a=="string"){const c=a===""?t:Vu(t,a);c.classGroupId=s;return}if(typeof a=="function"){if(XS(a)){za(a(r),t,s,r);return}t.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(([c,l])=>{za(l,Vu(t,c),s,r)})})},Vu=(e,t)=>{let s=e;return t.split(Vl).forEach(r=>{s.nextPart.has(r)||s.nextPart.set(r,{nextPart:new Map,validators:[]}),s=s.nextPart.get(r)}),s},XS=e=>e.isThemeGetter,JS=(e,t)=>t?e.map(([s,r])=>{const a=r.map(c=>typeof c=="string"?t+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([l,u])=>[t+l,u])):c);return[s,a]}):e,QS=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,r=new Map;const a=(c,l)=>{s.set(c,l),t++,t>e&&(t=0,r=s,s=new Map)};return{get(c){let l=s.get(c);if(l!==void 0)return l;if((l=r.get(c))!==void 0)return a(c,l),l},set(c,l){s.has(c)?s.set(c,l):a(c,l)}}},Wm="!",eN=e=>{const{separator:t,experimentalParseClassName:s}=e,r=t.length===1,a=t[0],c=t.length,l=u=>{const h=[];let m=0,g=0,x;for(let N=0;N<u.length;N++){let T=u[N];if(m===0){if(T===a&&(r||u.slice(N,N+c)===t)){h.push(u.slice(g,N)),g=N+c;continue}if(T==="/"){x=N;continue}}T==="["?m++:T==="]"&&m--}const y=h.length===0?u:u.substring(g),b=y.startsWith(Wm),w=b?y.substring(1):y,_=x&&x>g?x-g:void 0;return{modifiers:h,hasImportantModifier:b,baseClassName:w,maybePostfixModifierPosition:_}};return s?u=>s({className:u,parseClassName:l}):l},tN=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(r=>{r[0]==="["?(t.push(...s.sort(),r),s=[]):s.push(r)}),t.push(...s.sort()),t},nN=e=>({cache:QS(e.cacheSize),parseClassName:eN(e),...qS(e)}),sN=/\s+/,iN=(e,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:a}=t,c=[],l=e.trim().split(sN);let u="";for(let h=l.length-1;h>=0;h-=1){const m=l[h],{modifiers:g,hasImportantModifier:x,baseClassName:y,maybePostfixModifierPosition:b}=s(m);let w=!!b,_=r(w?y.substring(0,b):y);if(!_){if(!w){u=m+(u.length>0?" "+u:u);continue}if(_=r(y),!_){u=m+(u.length>0?" "+u:u);continue}w=!1}const N=tN(g).join(":"),T=x?N+Wm:N,C=T+_;if(c.includes(C))continue;c.push(C);const j=a(_,w);for(let P=0;P<j.length;++P){const E=j[P];c.push(T+E)}u=m+(u.length>0?" "+u:u)}return u};function rN(){let e=0,t,s,r="";for(;e<arguments.length;)(t=arguments[e++])&&(s=Zm(t))&&(r&&(r+=" "),r+=s);return r}const Zm=e=>{if(typeof e=="string")return e;let t,s="";for(let r=0;r<e.length;r++)e[r]&&(t=Zm(e[r]))&&(s&&(s+=" "),s+=t);return s};function oN(e,...t){let s,r,a,c=l;function l(h){const m=t.reduce((g,x)=>x(g),e());return s=nN(m),r=s.cache.get,a=s.cache.set,c=u,u(h)}function u(h){const m=r(h);if(m)return m;const g=iN(h,s);return a(h,g),g}return function(){return c(rN.apply(null,arguments))}}const it=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},Gm=/^\[(?:([a-z-]+):)?(.+)\]$/i,aN=/^\d+\/\d+$/,lN=new Set(["px","full","screen"]),cN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,hN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Sn=e=>Ts(e)||lN.has(e)||aN.test(e),An=e=>Os(e,"length",_N),Ts=e=>!!e&&!Number.isNaN(Number(e)),aa=e=>Os(e,"number",Ts),ai=e=>!!e&&Number.isInteger(Number(e)),mN=e=>e.endsWith("%")&&Ts(e.slice(0,-1)),Ve=e=>Gm.test(e),kn=e=>cN.test(e),pN=new Set(["length","size","percentage"]),gN=e=>Os(e,pN,qm),xN=e=>Os(e,"position",qm),vN=new Set(["image","url"]),yN=e=>Os(e,vN,jN),bN=e=>Os(e,"",wN),li=()=>!0,Os=(e,t,s)=>{const r=Gm.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):s(r[2]):!1},_N=e=>dN.test(e)&&!uN.test(e),qm=()=>!1,wN=e=>hN.test(e),jN=e=>fN.test(e),SN=()=>{const e=it("colors"),t=it("spacing"),s=it("blur"),r=it("brightness"),a=it("borderColor"),c=it("borderRadius"),l=it("borderSpacing"),u=it("borderWidth"),h=it("contrast"),m=it("grayscale"),g=it("hueRotate"),x=it("invert"),y=it("gap"),b=it("gradientColorStops"),w=it("gradientColorStopPositions"),_=it("inset"),N=it("margin"),T=it("opacity"),C=it("padding"),j=it("saturate"),P=it("scale"),E=it("sepia"),D=it("skew"),z=it("space"),$=it("translate"),J=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Ve,t],U=()=>[Ve,t],M=()=>["",Sn,An],te=()=>["auto",Ts,Ve],he=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",Ve],k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>[Ts,Ve];return{cacheSize:500,separator:":",theme:{colors:[li],spacing:[Sn,An],blur:["none","",kn,Ve],brightness:I(),borderColor:[e],borderRadius:["none","","full",kn,Ve],borderSpacing:U(),borderWidth:M(),contrast:I(),grayscale:V(),hueRotate:I(),invert:V(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[mN,An],inset:F(),margin:F(),opacity:I(),padding:U(),saturate:I(),scale:I(),sepia:V(),skew:I(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",Ve]}],container:["container"],columns:[{columns:[kn]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...he(),Ve]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:J()}],"overscroll-x":[{"overscroll-x":J()}],"overscroll-y":[{"overscroll-y":J()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ai,Ve]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ve]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",ai,Ve]}],"grid-cols":[{"grid-cols":[li]}],"col-start-end":[{col:["auto",{span:["full",ai,Ve]},Ve]}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":[li]}],"row-start-end":[{row:["auto",{span:[ai,Ve]},Ve]}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ve]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...se()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...se(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...se(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ve,t]}],"min-w":[{"min-w":[Ve,t,"min","max","fit"]}],"max-w":[{"max-w":[Ve,t,"none","full","min","max","fit","prose",{screen:[kn]},kn]}],h:[{h:[Ve,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ve,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ve,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ve,t,"auto","min","max","fit"]}],"font-size":[{text:["base",kn,An]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",aa]}],"font-family":[{font:[li]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ve]}],"line-clamp":[{"line-clamp":["none",Ts,aa]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Sn,Ve]}],"list-image":[{"list-image":["none",Ve]}],"list-style-type":[{list:["none","disc","decimal",Ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Sn,An]}],"underline-offset":[{"underline-offset":["auto",Sn,Ve]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...he(),xN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",gN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yN]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:Q()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[Sn,Ve]}],"outline-w":[{outline:[Sn,An]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[Sn,An]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",kn,bN]}],"shadow-color":[{shadow:[li]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...fe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",kn,Ve]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[x]}],saturate:[{saturate:[j]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ve]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",Ve]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[ai,Ve]}],"translate-x":[{"translate-x":[$]}],"translate-y":[{"translate-y":[$]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ve]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Sn,An,aa]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},NN=oN(SN);function Ze(...e){return NN(Um(e))}const qt=f.forwardRef(({className:e,...t},s)=>i.jsx("div",{ref:s,className:Ze("rounded-xl border bg-card text-card-foreground shadow",e),...t}));qt.displayName="Card";const In=f.forwardRef(({className:e,...t},s)=>i.jsx("div",{ref:s,className:Ze("flex flex-col space-y-1.5 p-6",e),...t}));In.displayName="CardHeader";const On=f.forwardRef(({className:e,...t},s)=>i.jsx("div",{ref:s,className:Ze("font-semibold leading-none tracking-tight",e),...t}));On.displayName="CardTitle";const Km=f.forwardRef(({className:e,...t},s)=>i.jsx("div",{ref:s,className:Ze("text-sm text-gray-400 ",e),...t}));Km.displayName="CardDescription";const Kt=f.forwardRef(({className:e,...t},s)=>i.jsx("div",{ref:s,className:Ze("p-6 pt-0",e),...t}));Kt.displayName="CardContent";const CN=f.forwardRef(({className:e,...t},s)=>i.jsx("div",{ref:s,className:Ze("flex items-center p-6 pt-0",e),...t}));CN.displayName="CardFooter";function TN(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Ym(...e){return t=>e.forEach(s=>TN(s,t))}function A5(...e){return f.useCallback(Ym(...e),e)}var $l=f.forwardRef((e,t)=>{const{children:s,...r}=e,a=f.Children.toArray(s),c=a.find(EN);if(c){const l=c.props.children,u=a.map(h=>h===c?f.Children.count(l)>1?f.Children.only(null):f.isValidElement(l)?l.props.children:null:h);return i.jsx(Fa,{...r,ref:t,children:f.isValidElement(l)?f.cloneElement(l,void 0,u):null})}return i.jsx(Fa,{...r,ref:t,children:s})});$l.displayName="Slot";var Fa=f.forwardRef((e,t)=>{const{children:s,...r}=e;if(f.isValidElement(s)){const a=AN(s);return f.cloneElement(s,{...LN(r,s.props),ref:t?Ym(t,a):a})}return f.Children.count(s)>1?f.Children.only(null):null});Fa.displayName="SlotClone";var PN=({children:e})=>i.jsx(i.Fragment,{children:e});function EN(e){return f.isValidElement(e)&&e.type===PN}function LN(e,t){const s={...t};for(const r in t){const a=e[r],c=t[r];/^on[A-Z]/.test(r)?a&&c?s[r]=(...u)=>{c(...u),a(...u)}:a&&(s[r]=a):r==="style"?s[r]={...a,...c}:r==="className"&&(s[r]=[a,c].filter(Boolean).join(" "))}return{...e,...s}}function AN(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}const $u=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Uu=Um,Ul=(e,t)=>s=>{var r;if((t==null?void 0:t.variants)==null)return Uu(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:c}=t,l=Object.keys(a).map(m=>{const g=s==null?void 0:s[m],x=c==null?void 0:c[m];if(g===null)return null;const y=$u(g)||$u(x);return a[m][y]}),u=s&&Object.entries(s).reduce((m,g)=>{let[x,y]=g;return y===void 0||(m[x]=y),m},{}),h=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((m,g)=>{let{class:x,className:y,...b}=g;return Object.entries(b).every(w=>{let[_,N]=w;return Array.isArray(N)?N.includes({...c,...u}[_]):{...c,...u}[_]===N})?[...m,x,y]:m},[]);return Uu(e,l,h,s==null?void 0:s.class,s==null?void 0:s.className)},kN=Ul("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),je=f.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...a},c)=>{const l=r?$l:"button";return i.jsx(l,{className:Ze(kN({variant:t,size:s,className:e})),ref:c,...a})});je.displayName="Button";const ot=f.forwardRef(({className:e,type:t,...s},r)=>i.jsx("input",{type:t,className:Ze("flex h-9 mt-1 pl-10 bg-gray-50 border-gray-200 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...s}));ot.displayName="Input";var RN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],MN=RN.reduce((e,t)=>{const s=f.forwardRef((r,a)=>{const{asChild:c,...l}=r,u=c?$l:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function k5(e,t){e&&Ls.flushSync(()=>e.dispatchEvent(t))}var IN="Label",Xm=f.forwardRef((e,t)=>i.jsx(MN.label,{...e,ref:t,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Xm.displayName=IN;var Jm=Xm;const ON=Ul("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),We=f.forwardRef(({className:e,...t},s)=>i.jsx(Jm,{ref:s,className:Ze(ON(),e),...t}));We.displayName=Jm.displayName;const Hl=f.forwardRef(({className:e,...t},s)=>i.jsx("textarea",{className:Ze("flex min-h-[60px] text-white/70 w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));Hl.displayName="Textarea";function Hu(e,[t,s]){return Math.min(s,Math.max(t,e))}function bt(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Wu(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function DN(...e){return t=>{let s=!1;const r=e.map(a=>{const c=Wu(a,t);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let a=0;a<r.length;a++){const c=r[a];typeof c=="function"?c():Wu(e[a],null)}}}}function At(...e){return f.useCallback(DN(...e),e)}function Qm(e,t=[]){let s=[];function r(c,l){const u=f.createContext(l),h=s.length;s=[...s,l];const m=x=>{var T;const{scope:y,children:b,...w}=x,_=((T=y==null?void 0:y[e])==null?void 0:T[h])||u,N=f.useMemo(()=>w,Object.values(w));return i.jsx(_.Provider,{value:N,children:b})};m.displayName=c+"Provider";function g(x,y){var _;const b=((_=y==null?void 0:y[e])==null?void 0:_[h])||u,w=f.useContext(b);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${x}\` must be used within \`${c}\``)}return[m,g]}const a=()=>{const c=s.map(l=>f.createContext(l));return function(u){const h=(u==null?void 0:u[e])||c;return f.useMemo(()=>({[`__scope${e}`]:{...u,[e]:h}}),[u,h])}};return a.scopeName=e,[r,BN(a,...t)]}function BN(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const l=r.reduce((u,{useScope:h,scopeName:m})=>{const x=h(c)[`__scope${m}`];return{...u,...x}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return s.scopeName=t.scopeName,s}var zN=f.createContext(void 0);function FN(e){const t=f.useContext(zN);return e||t||"ltr"}function ep(e){const t=VN(e),s=f.forwardRef((r,a)=>{const{children:c,...l}=r,u=f.Children.toArray(c),h=u.find(UN);if(h){const m=h.props.children,g=u.map(x=>x===h?f.Children.count(m)>1?f.Children.only(null):f.isValidElement(m)?m.props.children:null:x);return i.jsx(t,{...l,ref:a,children:f.isValidElement(m)?f.cloneElement(m,void 0,g):null})}return i.jsx(t,{...l,ref:a,children:c})});return s.displayName=`${e}.Slot`,s}function VN(e){const t=f.forwardRef((s,r)=>{const{children:a,...c}=s,l=f.isValidElement(a)?WN(a):void 0,u=At(l,r);if(f.isValidElement(a)){const h=HN(c,a.props);return a.type!==f.Fragment&&(h.ref=u),f.cloneElement(a,h)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $N=Symbol("radix.slottable");function UN(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$N}function HN(e,t){const s={...t};for(const r in t){const a=e[r],c=t[r];/^on[A-Z]/.test(r)?a&&c?s[r]=(...u)=>{const h=c(...u);return a(...u),h}:a&&(s[r]=a):r==="style"?s[r]={...a,...c}:r==="className"&&(s[r]=[a,c].filter(Boolean).join(" "))}return{...e,...s}}function WN(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var ZN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_t=ZN.reduce((e,t)=>{const s=ep(`Primitive.${t}`),r=f.forwardRef((a,c)=>{const{asChild:l,...u}=a,h=l?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(h,{...u,ref:c})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function GN(e,t){e&&Ls.flushSync(()=>e.dispatchEvent(t))}function Ii(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...s)=>{var r;return(r=t.current)==null?void 0:r.call(t,...s)},[])}function qN(e,t=globalThis==null?void 0:globalThis.document){const s=Ii(e);f.useEffect(()=>{const r=a=>{a.key==="Escape"&&s(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[s,t])}var KN="DismissableLayer",Va="dismissableLayer.update",YN="dismissableLayer.pointerDownOutside",XN="dismissableLayer.focusOutside",Zu,tp=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),np=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:l,onDismiss:u,...h}=e,m=f.useContext(tp),[g,x]=f.useState(null),y=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=f.useState({}),w=At(t,z=>x(z)),_=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),T=_.indexOf(N),C=g?_.indexOf(g):-1,j=m.layersWithOutsidePointerEventsDisabled.size>0,P=C>=T,E=eC(z=>{const $=z.target,J=[...m.branches].some(R=>R.contains($));!P||J||(a==null||a(z),l==null||l(z),z.defaultPrevented||u==null||u())},y),D=tC(z=>{const $=z.target;[...m.branches].some(R=>R.contains($))||(c==null||c(z),l==null||l(z),z.defaultPrevented||u==null||u())},y);return qN(z=>{C===m.layers.size-1&&(r==null||r(z),!z.defaultPrevented&&u&&(z.preventDefault(),u()))},y),f.useEffect(()=>{if(g)return s&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Zu=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),Gu(),()=>{s&&m.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=Zu)}},[g,y,s,m]),f.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),Gu())},[g,m]),f.useEffect(()=>{const z=()=>b({});return document.addEventListener(Va,z),()=>document.removeEventListener(Va,z)},[]),i.jsx(_t.div,{...h,ref:w,style:{pointerEvents:j?P?"auto":"none":void 0,...e.style},onFocusCapture:bt(e.onFocusCapture,D.onFocusCapture),onBlurCapture:bt(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:bt(e.onPointerDownCapture,E.onPointerDownCapture)})});np.displayName=KN;var JN="DismissableLayerBranch",QN=f.forwardRef((e,t)=>{const s=f.useContext(tp),r=f.useRef(null),a=At(t,r);return f.useEffect(()=>{const c=r.current;if(c)return s.branches.add(c),()=>{s.branches.delete(c)}},[s.branches]),i.jsx(_t.div,{...e,ref:a})});QN.displayName=JN;function eC(e,t=globalThis==null?void 0:globalThis.document){const s=Ii(e),r=f.useRef(!1),a=f.useRef(()=>{});return f.useEffect(()=>{const c=u=>{if(u.target&&!r.current){let h=function(){sp(YN,s,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=h,t.addEventListener("click",a.current,{once:!0})):h()}else t.removeEventListener("click",a.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",c),t.removeEventListener("click",a.current)}},[t,s]),{onPointerDownCapture:()=>r.current=!0}}function tC(e,t=globalThis==null?void 0:globalThis.document){const s=Ii(e),r=f.useRef(!1);return f.useEffect(()=>{const a=c=>{c.target&&!r.current&&sp(XN,s,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Gu(){const e=new CustomEvent(Va);document.dispatchEvent(e)}function sp(e,t,s,{discrete:r}){const a=s.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&a.addEventListener(e,t,{once:!0}),r?GN(a,c):a.dispatchEvent(c)}var Ot=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},nC=Ni[" useId ".trim().toString()]||(()=>{}),sC=0;function Wl(e){const[t,s]=f.useState(nC());return Ot(()=>{s(r=>r??String(sC++))},[e]),t?`radix-${t}`:""}var iC="Arrow",ip=f.forwardRef((e,t)=>{const{children:s,width:r=10,height:a=5,...c}=e;return i.jsx(_t.svg,{...c,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});ip.displayName=iC;var rC=ip;function oC(e){const[t,s]=f.useState(void 0);return Ot(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const c=a[0];let l,u;if("borderBoxSize"in c){const h=c.borderBoxSize,m=Array.isArray(h)?h[0]:h;l=m.inlineSize,u=m.blockSize}else l=e.offsetWidth,u=e.offsetHeight;s({width:l,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else s(void 0)},[e]),t}var Zl="Popper",[rp,op]=Qm(Zl),[aC,ap]=rp(Zl),lp=e=>{const{__scopePopper:t,children:s}=e,[r,a]=f.useState(null);return i.jsx(aC,{scope:t,anchor:r,onAnchorChange:a,children:s})};lp.displayName=Zl;var cp="PopperAnchor",dp=f.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:r,...a}=e,c=ap(cp,s),l=f.useRef(null),u=At(t,l);return f.useEffect(()=>{c.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:i.jsx(_t.div,{...a,ref:u})});dp.displayName=cp;var Gl="PopperContent",[lC,cC]=rp(Gl),up=f.forwardRef((e,t)=>{var de,Pe,Be,G,oe,ce;const{__scopePopper:s,side:r="bottom",sideOffset:a=0,align:c="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:x="partial",hideWhenDetached:y=!1,updatePositionStrategy:b="optimized",onPlaced:w,..._}=e,N=ap(Gl,s),[T,C]=f.useState(null),j=At(t,Ee=>C(Ee)),[P,E]=f.useState(null),D=oC(P),z=(D==null?void 0:D.width)??0,$=(D==null?void 0:D.height)??0,J=r+(c!=="center"?"-"+c:""),R=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},F=Array.isArray(m)?m:[m],U=F.length>0,M={padding:R,boundary:F.filter(uC),altBoundary:U},{refs:te,floatingStyles:he,placement:Q,isPositioned:fe,middlewareData:se}=e0({strategy:"fixed",placement:J,whileElementsMounted:(...Ee)=>l0(...Ee,{animationFrame:b==="always"}),elements:{reference:N.anchor},middleware:[t0({mainAxis:a+$,alignmentAxis:l}),h&&n0({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?s0():void 0,...M}),h&&i0({...M}),r0({...M,apply:({elements:Ee,rects:we,availableWidth:Oe,availableHeight:$e})=>{const{width:Ue,height:ke}=we.reference,qe=Ee.floating.style;qe.setProperty("--radix-popper-available-width",`${Oe}px`),qe.setProperty("--radix-popper-available-height",`${$e}px`),qe.setProperty("--radix-popper-anchor-width",`${Ue}px`),qe.setProperty("--radix-popper-anchor-height",`${ke}px`)}}),P&&o0({element:P,padding:u}),hC({arrowWidth:z,arrowHeight:$}),y&&a0({strategy:"referenceHidden",...M})]}),[V,k]=mp(Q),I=Ii(w);Ot(()=>{fe&&(I==null||I())},[fe,I]);const H=(de=se.arrow)==null?void 0:de.x,O=(Pe=se.arrow)==null?void 0:Pe.y,W=((Be=se.arrow)==null?void 0:Be.centerOffset)!==0,[ge,xe]=f.useState();return Ot(()=>{T&&xe(window.getComputedStyle(T).zIndex)},[T]),i.jsx("div",{ref:te.setFloating,"data-radix-popper-content-wrapper":"",style:{...he,transform:fe?he.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(G=se.transformOrigin)==null?void 0:G.x,(oe=se.transformOrigin)==null?void 0:oe.y].join(" "),...((ce=se.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(lC,{scope:s,placedSide:V,onArrowChange:E,arrowX:H,arrowY:O,shouldHideArrow:W,children:i.jsx(_t.div,{"data-side":V,"data-align":k,..._,ref:j,style:{..._.style,animation:fe?void 0:"none"}})})})});up.displayName=Gl;var hp="PopperArrow",dC={top:"bottom",right:"left",bottom:"top",left:"right"},fp=f.forwardRef(function(t,s){const{__scopePopper:r,...a}=t,c=cC(hp,r),l=dC[c.placedSide];return i.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:i.jsx(rC,{...a,ref:s,style:{...a.style,display:"block"}})})});fp.displayName=hp;function uC(e){return e!==null}var hC=e=>({name:"transformOrigin",options:e,fn(t){var N,T,C;const{placement:s,rects:r,middlewareData:a}=t,l=((N=a.arrow)==null?void 0:N.centerOffset)!==0,u=l?0:e.arrowWidth,h=l?0:e.arrowHeight,[m,g]=mp(s),x={start:"0%",center:"50%",end:"100%"}[g],y=(((T=a.arrow)==null?void 0:T.x)??0)+u/2,b=(((C=a.arrow)==null?void 0:C.y)??0)+h/2;let w="",_="";return m==="bottom"?(w=l?x:`${y}px`,_=`${-h}px`):m==="top"?(w=l?x:`${y}px`,_=`${r.floating.height+h}px`):m==="right"?(w=`${-h}px`,_=l?x:`${b}px`):m==="left"&&(w=`${r.floating.width+h}px`,_=l?x:`${b}px`),{data:{x:w,y:_}}}});function mp(e){const[t,s="center"]=e.split("-");return[t,s]}var fC=lp,mC=dp,pC=up,gC=fp,xC="Portal",pp=f.forwardRef((e,t)=>{var u;const{container:s,...r}=e,[a,c]=f.useState(!1);Ot(()=>c(!0),[]);const l=s||a&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?Sh.createPortal(i.jsx(_t.div,{...r,ref:t}),l):null});pp.displayName=xC;var vC=Ni[" useInsertionEffect ".trim().toString()]||Ot;function qu({prop:e,defaultProp:t,onChange:s=()=>{},caller:r}){const[a,c,l]=yC({defaultProp:t,onChange:s}),u=e!==void 0,h=u?e:a;{const g=f.useRef(e!==void 0);f.useEffect(()=>{const x=g.current;x!==u&&console.warn(`${r} is changing from ${x?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,r])}const m=f.useCallback(g=>{var x;if(u){const y=bC(g)?g(e):g;y!==e&&((x=l.current)==null||x.call(l,y))}else c(g)},[u,e,c,l]);return[h,m]}function yC({defaultProp:e,onChange:t}){const[s,r]=f.useState(e),a=f.useRef(s),c=f.useRef(t);return vC(()=>{c.current=t},[t]),f.useEffect(()=>{var l;a.current!==s&&((l=c.current)==null||l.call(c,s),a.current=s)},[s,a]),[s,r,c]}function bC(e){return typeof e=="function"}function gp(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var xp=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_C="VisuallyHidden",wC=f.forwardRef((e,t)=>i.jsx(_t.span,{...e,ref:t,style:{...xp,...e.style}}));wC.displayName=_C;var jC=[" ","Enter","ArrowUp","ArrowDown"],SC=[" ","Enter"],as="Select",[io,ro,NC]=c0(as),[Ds,R5]=Qm(as,[NC,op]),oo=op(),[CC,Vn]=Ds(as),[TC,PC]=Ds(as),vp=e=>{const{__scopeSelect:t,children:s,open:r,defaultOpen:a,onOpenChange:c,value:l,defaultValue:u,onValueChange:h,dir:m,name:g,autoComplete:x,disabled:y,required:b,form:w}=e,_=oo(t),[N,T]=f.useState(null),[C,j]=f.useState(null),[P,E]=f.useState(!1),D=FN(m),[z,$]=qu({prop:r,defaultProp:a??!1,onChange:c,caller:as}),[J,R]=qu({prop:l,defaultProp:u,onChange:h,caller:as}),F=f.useRef(null),U=N?w||!!N.closest("form"):!0,[M,te]=f.useState(new Set),he=Array.from(M).map(Q=>Q.props.value).join(";");return i.jsx(fC,{..._,children:i.jsxs(CC,{required:b,scope:t,trigger:N,onTriggerChange:T,valueNode:C,onValueNodeChange:j,valueNodeHasChildren:P,onValueNodeHasChildrenChange:E,contentId:Wl(),value:J,onValueChange:R,open:z,onOpenChange:$,dir:D,triggerPointerDownPosRef:F,disabled:y,children:[i.jsx(io.Provider,{scope:t,children:i.jsx(TC,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(Q=>{te(fe=>new Set(fe).add(Q))},[]),onNativeOptionRemove:f.useCallback(Q=>{te(fe=>{const se=new Set(fe);return se.delete(Q),se})},[]),children:s})}),U?i.jsxs($p,{"aria-hidden":!0,required:b,tabIndex:-1,name:g,autoComplete:x,value:J,onChange:Q=>R(Q.target.value),disabled:y,form:w,children:[J===void 0?i.jsx("option",{value:""}):null,Array.from(M)]},he):null]})})};vp.displayName=as;var yp="SelectTrigger",bp=f.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:r=!1,...a}=e,c=oo(s),l=Vn(yp,s),u=l.disabled||r,h=At(t,l.onTriggerChange),m=ro(s),g=f.useRef("touch"),[x,y,b]=Hp(_=>{const N=m().filter(j=>!j.disabled),T=N.find(j=>j.value===l.value),C=Wp(N,_,T);C!==void 0&&l.onValueChange(C.value)}),w=_=>{u||(l.onOpenChange(!0),b()),_&&(l.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return i.jsx(mC,{asChild:!0,...c,children:i.jsx(_t.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":Up(l.value)?"":void 0,...a,ref:h,onClick:bt(a.onClick,_=>{_.currentTarget.focus(),g.current!=="mouse"&&w(_)}),onPointerDown:bt(a.onPointerDown,_=>{g.current=_.pointerType;const N=_.target;N.hasPointerCapture(_.pointerId)&&N.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(w(_),_.preventDefault())}),onKeyDown:bt(a.onKeyDown,_=>{const N=x.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&y(_.key),!(N&&_.key===" ")&&jC.includes(_.key)&&(w(),_.preventDefault())})})})});bp.displayName=yp;var _p="SelectValue",wp=f.forwardRef((e,t)=>{const{__scopeSelect:s,className:r,style:a,children:c,placeholder:l="",...u}=e,h=Vn(_p,s),{onValueNodeHasChildrenChange:m}=h,g=c!==void 0,x=At(t,h.onValueNodeChange);return Ot(()=>{m(g)},[m,g]),i.jsx(_t.span,{...u,ref:x,style:{pointerEvents:"none"},children:Up(h.value)?i.jsx(i.Fragment,{children:l}):c})});wp.displayName=_p;var EC="SelectIcon",jp=f.forwardRef((e,t)=>{const{__scopeSelect:s,children:r,...a}=e;return i.jsx(_t.span,{"aria-hidden":!0,...a,ref:t,children:r||""})});jp.displayName=EC;var LC="SelectPortal",Sp=e=>i.jsx(pp,{asChild:!0,...e});Sp.displayName=LC;var ls="SelectContent",Np=f.forwardRef((e,t)=>{const s=Vn(ls,e.__scopeSelect),[r,a]=f.useState();if(Ot(()=>{a(new DocumentFragment)},[]),!s.open){const c=r;return c?Ls.createPortal(i.jsx(Cp,{scope:e.__scopeSelect,children:i.jsx(io.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),c):null}return i.jsx(Tp,{...e,ref:t})});Np.displayName=ls;var nn=10,[Cp,$n]=Ds(ls),AC="SelectContentImpl",kC=ep("SelectContent.RemoveScroll"),Tp=f.forwardRef((e,t)=>{const{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:c,onPointerDownOutside:l,side:u,sideOffset:h,align:m,alignOffset:g,arrowPadding:x,collisionBoundary:y,collisionPadding:b,sticky:w,hideWhenDetached:_,avoidCollisions:N,...T}=e,C=Vn(ls,s),[j,P]=f.useState(null),[E,D]=f.useState(null),z=At(t,de=>P(de)),[$,J]=f.useState(null),[R,F]=f.useState(null),U=ro(s),[M,te]=f.useState(!1),he=f.useRef(!1);f.useEffect(()=>{if(j)return d0(j)},[j]),u0();const Q=f.useCallback(de=>{const[Pe,...Be]=U().map(ce=>ce.ref.current),[G]=Be.slice(-1),oe=document.activeElement;for(const ce of de)if(ce===oe||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===Pe&&E&&(E.scrollTop=0),ce===G&&E&&(E.scrollTop=E.scrollHeight),ce==null||ce.focus(),document.activeElement!==oe))return},[U,E]),fe=f.useCallback(()=>Q([$,j]),[Q,$,j]);f.useEffect(()=>{M&&fe()},[M,fe]);const{onOpenChange:se,triggerPointerDownPosRef:V}=C;f.useEffect(()=>{if(j){let de={x:0,y:0};const Pe=G=>{var oe,ce;de={x:Math.abs(Math.round(G.pageX)-(((oe=V.current)==null?void 0:oe.x)??0)),y:Math.abs(Math.round(G.pageY)-(((ce=V.current)==null?void 0:ce.y)??0))}},Be=G=>{de.x<=10&&de.y<=10?G.preventDefault():j.contains(G.target)||se(!1),document.removeEventListener("pointermove",Pe),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",Be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",Be,{capture:!0})}}},[j,se,V]),f.useEffect(()=>{const de=()=>se(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[se]);const[k,I]=Hp(de=>{const Pe=U().filter(oe=>!oe.disabled),Be=Pe.find(oe=>oe.ref.current===document.activeElement),G=Wp(Pe,de,Be);G&&setTimeout(()=>G.ref.current.focus())}),H=f.useCallback((de,Pe,Be)=>{const G=!he.current&&!Be;(C.value!==void 0&&C.value===Pe||G)&&(J(de),G&&(he.current=!0))},[C.value]),O=f.useCallback(()=>j==null?void 0:j.focus(),[j]),W=f.useCallback((de,Pe,Be)=>{const G=!he.current&&!Be;(C.value!==void 0&&C.value===Pe||G)&&F(de)},[C.value]),ge=r==="popper"?$a:Pp,xe=ge===$a?{side:u,sideOffset:h,align:m,alignOffset:g,arrowPadding:x,collisionBoundary:y,collisionPadding:b,sticky:w,hideWhenDetached:_,avoidCollisions:N}:{};return i.jsx(Cp,{scope:s,content:j,viewport:E,onViewportChange:D,itemRefCallback:H,selectedItem:$,onItemLeave:O,itemTextRefCallback:W,focusSelectedItem:fe,selectedItemText:R,position:r,isPositioned:M,searchRef:k,children:i.jsx(h0,{as:kC,allowPinchZoom:!0,children:i.jsx(f0,{asChild:!0,trapped:C.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:bt(a,de=>{var Pe;(Pe=C.trigger)==null||Pe.focus({preventScroll:!0}),de.preventDefault()}),children:i.jsx(np,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:l,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:i.jsx(ge,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:de=>de.preventDefault(),...T,...xe,onPlaced:()=>te(!0),ref:z,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:bt(T.onKeyDown,de=>{const Pe=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!Pe&&de.key.length===1&&I(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let G=U().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(de.key)&&(G=G.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const oe=de.target,ce=G.indexOf(oe);G=G.slice(ce+1)}setTimeout(()=>Q(G)),de.preventDefault()}})})})})})})});Tp.displayName=AC;var RC="SelectItemAlignedPosition",Pp=f.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:r,...a}=e,c=Vn(ls,s),l=$n(ls,s),[u,h]=f.useState(null),[m,g]=f.useState(null),x=At(t,z=>g(z)),y=ro(s),b=f.useRef(!1),w=f.useRef(!0),{viewport:_,selectedItem:N,selectedItemText:T,focusSelectedItem:C}=l,j=f.useCallback(()=>{if(c.trigger&&c.valueNode&&u&&m&&_&&N&&T){const z=c.trigger.getBoundingClientRect(),$=m.getBoundingClientRect(),J=c.valueNode.getBoundingClientRect(),R=T.getBoundingClientRect();if(c.dir!=="rtl"){const oe=R.left-$.left,ce=J.left-oe,Ee=z.left-ce,we=z.width+Ee,Oe=Math.max(we,$.width),$e=window.innerWidth-nn,Ue=Hu(ce,[nn,Math.max(nn,$e-Oe)]);u.style.minWidth=we+"px",u.style.left=Ue+"px"}else{const oe=$.right-R.right,ce=window.innerWidth-J.right-oe,Ee=window.innerWidth-z.right-ce,we=z.width+Ee,Oe=Math.max(we,$.width),$e=window.innerWidth-nn,Ue=Hu(ce,[nn,Math.max(nn,$e-Oe)]);u.style.minWidth=we+"px",u.style.right=Ue+"px"}const F=y(),U=window.innerHeight-nn*2,M=_.scrollHeight,te=window.getComputedStyle(m),he=parseInt(te.borderTopWidth,10),Q=parseInt(te.paddingTop,10),fe=parseInt(te.borderBottomWidth,10),se=parseInt(te.paddingBottom,10),V=he+Q+M+se+fe,k=Math.min(N.offsetHeight*5,V),I=window.getComputedStyle(_),H=parseInt(I.paddingTop,10),O=parseInt(I.paddingBottom,10),W=z.top+z.height/2-nn,ge=U-W,xe=N.offsetHeight/2,de=N.offsetTop+xe,Pe=he+Q+de,Be=V-Pe;if(Pe<=W){const oe=F.length>0&&N===F[F.length-1].ref.current;u.style.bottom="0px";const ce=m.clientHeight-_.offsetTop-_.offsetHeight,Ee=Math.max(ge,xe+(oe?O:0)+ce+fe),we=Pe+Ee;u.style.height=we+"px"}else{const oe=F.length>0&&N===F[0].ref.current;u.style.top="0px";const Ee=Math.max(W,he+_.offsetTop+(oe?H:0)+xe)+Be;u.style.height=Ee+"px",_.scrollTop=Pe-W+_.offsetTop}u.style.margin=`${nn}px 0`,u.style.minHeight=k+"px",u.style.maxHeight=U+"px",r==null||r(),requestAnimationFrame(()=>b.current=!0)}},[y,c.trigger,c.valueNode,u,m,_,N,T,c.dir,r]);Ot(()=>j(),[j]);const[P,E]=f.useState();Ot(()=>{m&&E(window.getComputedStyle(m).zIndex)},[m]);const D=f.useCallback(z=>{z&&w.current===!0&&(j(),C==null||C(),w.current=!1)},[j,C]);return i.jsx(IC,{scope:s,contentWrapper:u,shouldExpandOnScrollRef:b,onScrollButtonChange:D,children:i.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:i.jsx(_t.div,{...a,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Pp.displayName=RC;var MC="SelectPopperPosition",$a=f.forwardRef((e,t)=>{const{__scopeSelect:s,align:r="start",collisionPadding:a=nn,...c}=e,l=oo(s);return i.jsx(pC,{...l,...c,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$a.displayName=MC;var[IC,ql]=Ds(ls,{}),Ua="SelectViewport",Ep=f.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:r,...a}=e,c=$n(Ua,s),l=ql(Ua,s),u=At(t,c.onViewportChange),h=f.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(io.Slot,{scope:s,children:i.jsx(_t.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:bt(a.onScroll,m=>{const g=m.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:y}=l;if(y!=null&&y.current&&x){const b=Math.abs(h.current-g.scrollTop);if(b>0){const w=window.innerHeight-nn*2,_=parseFloat(x.style.minHeight),N=parseFloat(x.style.height),T=Math.max(_,N);if(T<w){const C=T+b,j=Math.min(w,C),P=C-j;x.style.height=j+"px",x.style.bottom==="0px"&&(g.scrollTop=P>0?P:0,x.style.justifyContent="flex-end")}}}h.current=g.scrollTop})})})]})});Ep.displayName=Ua;var Lp="SelectGroup",[OC,DC]=Ds(Lp),BC=f.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,a=Wl();return i.jsx(OC,{scope:s,id:a,children:i.jsx(_t.div,{role:"group","aria-labelledby":a,...r,ref:t})})});BC.displayName=Lp;var Ap="SelectLabel",kp=f.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,a=DC(Ap,s);return i.jsx(_t.div,{id:a.id,...r,ref:t})});kp.displayName=Ap;var Br="SelectItem",[zC,Rp]=Ds(Br),Mp=f.forwardRef((e,t)=>{const{__scopeSelect:s,value:r,disabled:a=!1,textValue:c,...l}=e,u=Vn(Br,s),h=$n(Br,s),m=u.value===r,[g,x]=f.useState(c??""),[y,b]=f.useState(!1),w=At(t,C=>{var j;return(j=h.itemRefCallback)==null?void 0:j.call(h,C,r,a)}),_=Wl(),N=f.useRef("touch"),T=()=>{a||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(zC,{scope:s,value:r,disabled:a,textId:_,isSelected:m,onItemTextChange:f.useCallback(C=>{x(j=>j||((C==null?void 0:C.textContent)??"").trim())},[]),children:i.jsx(io.ItemSlot,{scope:s,value:r,disabled:a,textValue:g,children:i.jsx(_t.div,{role:"option","aria-labelledby":_,"data-highlighted":y?"":void 0,"aria-selected":m&&y,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:w,onFocus:bt(l.onFocus,()=>b(!0)),onBlur:bt(l.onBlur,()=>b(!1)),onClick:bt(l.onClick,()=>{N.current!=="mouse"&&T()}),onPointerUp:bt(l.onPointerUp,()=>{N.current==="mouse"&&T()}),onPointerDown:bt(l.onPointerDown,C=>{N.current=C.pointerType}),onPointerMove:bt(l.onPointerMove,C=>{var j;N.current=C.pointerType,a?(j=h.onItemLeave)==null||j.call(h):N.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:bt(l.onPointerLeave,C=>{var j;C.currentTarget===document.activeElement&&((j=h.onItemLeave)==null||j.call(h))}),onKeyDown:bt(l.onKeyDown,C=>{var P;((P=h.searchRef)==null?void 0:P.current)!==""&&C.key===" "||(SC.includes(C.key)&&T(),C.key===" "&&C.preventDefault())})})})})});Mp.displayName=Br;var ui="SelectItemText",Ip=f.forwardRef((e,t)=>{const{__scopeSelect:s,className:r,style:a,...c}=e,l=Vn(ui,s),u=$n(ui,s),h=Rp(ui,s),m=PC(ui,s),[g,x]=f.useState(null),y=At(t,T=>x(T),h.onItemTextChange,T=>{var C;return(C=u.itemTextRefCallback)==null?void 0:C.call(u,T,h.value,h.disabled)}),b=g==null?void 0:g.textContent,w=f.useMemo(()=>i.jsx("option",{value:h.value,disabled:h.disabled,children:b},h.value),[h.disabled,h.value,b]),{onNativeOptionAdd:_,onNativeOptionRemove:N}=m;return Ot(()=>(_(w),()=>N(w)),[_,N,w]),i.jsxs(i.Fragment,{children:[i.jsx(_t.span,{id:h.textId,...c,ref:y}),h.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Ls.createPortal(c.children,l.valueNode):null]})});Ip.displayName=ui;var Op="SelectItemIndicator",Dp=f.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e;return Rp(Op,s).isSelected?i.jsx(_t.span,{"aria-hidden":!0,...r,ref:t}):null});Dp.displayName=Op;var Ha="SelectScrollUpButton",Bp=f.forwardRef((e,t)=>{const s=$n(Ha,e.__scopeSelect),r=ql(Ha,e.__scopeSelect),[a,c]=f.useState(!1),l=At(t,r.onScrollButtonChange);return Ot(()=>{if(s.viewport&&s.isPositioned){let u=function(){const m=h.scrollTop>0;c(m)};const h=s.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[s.viewport,s.isPositioned]),a?i.jsx(Fp,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=s;u&&h&&(u.scrollTop=u.scrollTop-h.offsetHeight)}}):null});Bp.displayName=Ha;var Wa="SelectScrollDownButton",zp=f.forwardRef((e,t)=>{const s=$n(Wa,e.__scopeSelect),r=ql(Wa,e.__scopeSelect),[a,c]=f.useState(!1),l=At(t,r.onScrollButtonChange);return Ot(()=>{if(s.viewport&&s.isPositioned){let u=function(){const m=h.scrollHeight-h.clientHeight,g=Math.ceil(h.scrollTop)<m;c(g)};const h=s.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[s.viewport,s.isPositioned]),a?i.jsx(Fp,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=s;u&&h&&(u.scrollTop=u.scrollTop+h.offsetHeight)}}):null});zp.displayName=Wa;var Fp=f.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:r,...a}=e,c=$n("SelectScrollButton",s),l=f.useRef(null),u=ro(s),h=f.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return f.useEffect(()=>()=>h(),[h]),Ot(()=>{var g;const m=u().find(x=>x.ref.current===document.activeElement);(g=m==null?void 0:m.ref.current)==null||g.scrollIntoView({block:"nearest"})},[u]),i.jsx(_t.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:bt(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:bt(a.onPointerMove,()=>{var m;(m=c.onItemLeave)==null||m.call(c),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:bt(a.onPointerLeave,()=>{h()})})}),FC="SelectSeparator",Vp=f.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e;return i.jsx(_t.div,{"aria-hidden":!0,...r,ref:t})});Vp.displayName=FC;var Za="SelectArrow",VC=f.forwardRef((e,t)=>{const{__scopeSelect:s,...r}=e,a=oo(s),c=Vn(Za,s),l=$n(Za,s);return c.open&&l.position==="popper"?i.jsx(gC,{...a,...r,ref:t}):null});VC.displayName=Za;var $C="SelectBubbleInput",$p=f.forwardRef(({__scopeSelect:e,value:t,...s},r)=>{const a=f.useRef(null),c=At(r,a),l=gp(t);return f.useEffect(()=>{const u=a.current;if(!u)return;const h=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(l!==t&&g){const x=new Event("change",{bubbles:!0});g.call(u,t),u.dispatchEvent(x)}},[l,t]),i.jsx(_t.select,{...s,style:{...xp,...s.style},ref:c,defaultValue:t})});$p.displayName=$C;function Up(e){return e===""||e===void 0}function Hp(e){const t=Ii(e),s=f.useRef(""),r=f.useRef(0),a=f.useCallback(l=>{const u=s.current+l;t(u),function h(m){s.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>h(""),1e3))}(u)},[t]),c=f.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,a,c]}function Wp(e,t,s){const a=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,c=s?e.indexOf(s):-1;let l=UC(e,Math.max(c,0));a.length===1&&(l=l.filter(m=>m!==s));const h=l.find(m=>m.textValue.toLowerCase().startsWith(a.toLowerCase()));return h!==s?h:void 0}function UC(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var HC=vp,Zp=bp,WC=wp,ZC=jp,GC=Sp,Gp=Np,qC=Ep,qp=kp,Kp=Mp,KC=Ip,YC=Dp,Yp=Bp,Xp=zp,Jp=Vp;const un=HC,hn=WC,sn=f.forwardRef(({className:e,children:t,...s},r)=>i.jsxs(Zp,{ref:r,className:Ze("flex h-10 w-full items-center justify-between rounded-md border border-input  px-3 py-2 text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ",e),...s,children:[t,i.jsx(ZC,{asChild:!0,children:i.jsx(ah,{className:"h-4 w-4  opacity-50"})})]}));sn.displayName=Zp.displayName;const Qp=f.forwardRef(({className:e,...t},s)=>i.jsx(Yp,{ref:s,className:Ze("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(m0,{className:"h-4 w-4"})}));Qp.displayName=Yp.displayName;const eg=f.forwardRef(({className:e,...t},s)=>i.jsx(Xp,{ref:s,className:Ze("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(ah,{className:"h-4 w-4"})}));eg.displayName=Xp.displayName;const rn=f.forwardRef(({className:e,children:t,position:s="popper",...r},a)=>i.jsx(GC,{children:i.jsxs(Gp,{ref:a,className:Ze("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[i.jsx(Qp,{}),i.jsx(qC,{className:Ze("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(eg,{})]})}));rn.displayName=Gp.displayName;const XC=f.forwardRef(({className:e,...t},s)=>i.jsx(qp,{ref:s,className:Ze("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));XC.displayName=qp.displayName;const Ie=f.forwardRef(({className:e,children:t,...s},r)=>i.jsxs(Kp,{ref:r,className:Ze("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-white/10 hover:bg-white/10 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(YC,{children:i.jsx(lh,{className:"h-4 w-4"})})}),i.jsx(KC,{children:t})]}));Ie.displayName=Kp.displayName;const JC=f.forwardRef(({className:e,...t},s)=>i.jsx(Jp,{ref:s,className:Ze("-mx-1 my-1 h-px bg-muted",e),...t}));JC.displayName=Jp.displayName;const QC=Ul("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 hover:bg-green-200/80",warning:"border-transparent bg-yellow-100 text-yellow-800 hover:bg-yellow-200/80",info:"border-transparent bg-blue-100 text-blue-800 hover:bg-blue-200/80",purple:"border-transparent bg-primary/10 text-primary hover:bg-primary/20"}},defaultVariants:{variant:"default"}});function Yt({className:e,variant:t,...s}){return i.jsx("div",{className:Ze(QC({variant:t}),e),...s})}function e2(e,t=[]){let s=[];function r(c,l){const u=f.createContext(l),h=s.length;s=[...s,l];const m=x=>{var T;const{scope:y,children:b,...w}=x,_=((T=y==null?void 0:y[e])==null?void 0:T[h])||u,N=f.useMemo(()=>w,Object.values(w));return i.jsx(_.Provider,{value:N,children:b})};m.displayName=c+"Provider";function g(x,y){var _;const b=((_=y==null?void 0:y[e])==null?void 0:_[h])||u,w=f.useContext(b);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${x}\` must be used within \`${c}\``)}return[m,g]}const a=()=>{const c=s.map(l=>f.createContext(l));return function(u){const h=(u==null?void 0:u[e])||c;return f.useMemo(()=>({[`__scope${e}`]:{...u,[e]:h}}),[u,h])}};return a.scopeName=e,[r,t2(a,...t)]}function t2(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const l=r.reduce((u,{useScope:h,scopeName:m})=>{const x=h(c)[`__scope${m}`];return{...u,...x}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return s.scopeName=t.scopeName,s}function Ku(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function n2(...e){return t=>{let s=!1;const r=e.map(a=>{const c=Ku(a,t);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let a=0;a<r.length;a++){const c=r[a];typeof c=="function"?c():Ku(e[a],null)}}}}function s2(e){const t=i2(e),s=f.forwardRef((r,a)=>{const{children:c,...l}=r,u=f.Children.toArray(c),h=u.find(o2);if(h){const m=h.props.children,g=u.map(x=>x===h?f.Children.count(m)>1?f.Children.only(null):f.isValidElement(m)?m.props.children:null:x);return i.jsx(t,{...l,ref:a,children:f.isValidElement(m)?f.cloneElement(m,void 0,g):null})}return i.jsx(t,{...l,ref:a,children:c})});return s.displayName=`${e}.Slot`,s}function i2(e){const t=f.forwardRef((s,r)=>{const{children:a,...c}=s;if(f.isValidElement(a)){const l=l2(a),u=a2(c,a.props);return a.type!==f.Fragment&&(u.ref=r?n2(r,l):l),f.cloneElement(a,u)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var r2=Symbol("radix.slottable");function o2(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===r2}function a2(e,t){const s={...t};for(const r in t){const a=e[r],c=t[r];/^on[A-Z]/.test(r)?a&&c?s[r]=(...u)=>{const h=c(...u);return a(...u),h}:a&&(s[r]=a):r==="style"?s[r]={...a,...c}:r==="className"&&(s[r]=[a,c].filter(Boolean).join(" "))}return{...e,...s}}function l2(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var c2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],tg=c2.reduce((e,t)=>{const s=s2(`Primitive.${t}`),r=f.forwardRef((a,c)=>{const{asChild:l,...u}=a,h=l?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(h,{...u,ref:c})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Kl="Progress",Yl=100,[d2,M5]=e2(Kl),[u2,h2]=d2(Kl),ng=f.forwardRef((e,t)=>{const{__scopeProgress:s,value:r=null,max:a,getValueLabel:c=f2,...l}=e;(a||a===0)&&!Yu(a)&&console.error(m2(`${a}`,"Progress"));const u=Yu(a)?a:Yl;r!==null&&!Xu(r,u)&&console.error(p2(`${r}`,"Progress"));const h=Xu(r,u)?r:null,m=zr(h)?c(h,u):void 0;return i.jsx(u2,{scope:s,value:h,max:u,children:i.jsx(tg.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":zr(h)?h:void 0,"aria-valuetext":m,role:"progressbar","data-state":rg(h,u),"data-value":h??void 0,"data-max":u,...l,ref:t})})});ng.displayName=Kl;var sg="ProgressIndicator",ig=f.forwardRef((e,t)=>{const{__scopeProgress:s,...r}=e,a=h2(sg,s);return i.jsx(tg.div,{"data-state":rg(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});ig.displayName=sg;function f2(e,t){return`${Math.round(e/t*100)}%`}function rg(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function zr(e){return typeof e=="number"}function Yu(e){return zr(e)&&!isNaN(e)&&e>0}function Xu(e,t){return zr(e)&&!isNaN(e)&&e<=t&&e>=0}function m2(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Yl}\`.`}function p2(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Yl} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var og=ng,g2=ig;const Ga=f.forwardRef(({className:e,value:t,...s},r)=>i.jsx(og,{ref:r,className:Ze("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:i.jsx(g2,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ga.displayName=og.displayName;function x2(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Ju(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function v2(...e){return t=>{let s=!1;const r=e.map(a=>{const c=Ju(a,t);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let a=0;a<r.length;a++){const c=r[a];typeof c=="function"?c():Ju(e[a],null)}}}}function Xl(...e){return f.useCallback(v2(...e),e)}function y2(e,t=[]){let s=[];function r(c,l){const u=f.createContext(l),h=s.length;s=[...s,l];const m=x=>{var T;const{scope:y,children:b,...w}=x,_=((T=y==null?void 0:y[e])==null?void 0:T[h])||u,N=f.useMemo(()=>w,Object.values(w));return i.jsx(_.Provider,{value:N,children:b})};m.displayName=c+"Provider";function g(x,y){var _;const b=((_=y==null?void 0:y[e])==null?void 0:_[h])||u,w=f.useContext(b);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${x}\` must be used within \`${c}\``)}return[m,g]}const a=()=>{const c=s.map(l=>f.createContext(l));return function(u){const h=(u==null?void 0:u[e])||c;return f.useMemo(()=>({[`__scope${e}`]:{...u,[e]:h}}),[u,h])}};return a.scopeName=e,[r,b2(a,...t)]}function b2(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const l=r.reduce((u,{useScope:h,scopeName:m})=>{const x=h(c)[`__scope${m}`];return{...u,...x}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return s.scopeName=t.scopeName,s}var ag=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},_2=Ni[" useInsertionEffect ".trim().toString()]||ag;function w2({prop:e,defaultProp:t,onChange:s=()=>{},caller:r}){const[a,c,l]=j2({defaultProp:t,onChange:s}),u=e!==void 0,h=u?e:a;{const g=f.useRef(e!==void 0);f.useEffect(()=>{const x=g.current;x!==u&&console.warn(`${r} is changing from ${x?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,r])}const m=f.useCallback(g=>{var x;if(u){const y=S2(g)?g(e):g;y!==e&&((x=l.current)==null||x.call(l,y))}else c(g)},[u,e,c,l]);return[h,m]}function j2({defaultProp:e,onChange:t}){const[s,r]=f.useState(e),a=f.useRef(s),c=f.useRef(t);return _2(()=>{c.current=t},[t]),f.useEffect(()=>{var l;a.current!==s&&((l=c.current)==null||l.call(c,s),a.current=s)},[s,a]),[s,r,c]}function S2(e){return typeof e=="function"}function N2(e){const[t,s]=f.useState(void 0);return ag(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const c=a[0];let l,u;if("borderBoxSize"in c){const h=c.borderBoxSize,m=Array.isArray(h)?h[0]:h;l=m.inlineSize,u=m.blockSize}else l=e.offsetWidth,u=e.offsetHeight;s({width:l,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else s(void 0)},[e]),t}function C2(e){const t=T2(e),s=f.forwardRef((r,a)=>{const{children:c,...l}=r,u=f.Children.toArray(c),h=u.find(E2);if(h){const m=h.props.children,g=u.map(x=>x===h?f.Children.count(m)>1?f.Children.only(null):f.isValidElement(m)?m.props.children:null:x);return i.jsx(t,{...l,ref:a,children:f.isValidElement(m)?f.cloneElement(m,void 0,g):null})}return i.jsx(t,{...l,ref:a,children:c})});return s.displayName=`${e}.Slot`,s}function T2(e){const t=f.forwardRef((s,r)=>{const{children:a,...c}=s,l=f.isValidElement(a)?A2(a):void 0,u=Xl(l,r);if(f.isValidElement(a)){const h=L2(c,a.props);return a.type!==f.Fragment&&(h.ref=u),f.cloneElement(a,h)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var P2=Symbol("radix.slottable");function E2(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===P2}function L2(e,t){const s={...t};for(const r in t){const a=e[r],c=t[r];/^on[A-Z]/.test(r)?a&&c?s[r]=(...u)=>{const h=c(...u);return a(...u),h}:a&&(s[r]=a):r==="style"?s[r]={...a,...c}:r==="className"&&(s[r]=[a,c].filter(Boolean).join(" "))}return{...e,...s}}function A2(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var k2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lg=k2.reduce((e,t)=>{const s=C2(`Primitive.${t}`),r=f.forwardRef((a,c)=>{const{asChild:l,...u}=a,h=l?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(h,{...u,ref:c})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),ao="Switch",[R2,I5]=y2(ao),[M2,I2]=R2(ao),cg=f.forwardRef((e,t)=>{const{__scopeSwitch:s,name:r,checked:a,defaultChecked:c,required:l,disabled:u,value:h="on",onCheckedChange:m,form:g,...x}=e,[y,b]=f.useState(null),w=Xl(t,j=>b(j)),_=f.useRef(!1),N=y?g||!!y.closest("form"):!0,[T,C]=w2({prop:a,defaultProp:c??!1,onChange:m,caller:ao});return i.jsxs(M2,{scope:s,checked:T,disabled:u,children:[i.jsx(lg.button,{type:"button",role:"switch","aria-checked":T,"aria-required":l,"data-state":fg(T),"data-disabled":u?"":void 0,disabled:u,value:h,...x,ref:w,onClick:x2(e.onClick,j=>{C(P=>!P),N&&(_.current=j.isPropagationStopped(),_.current||j.stopPropagation())})}),N&&i.jsx(hg,{control:y,bubbles:!_.current,name:r,value:h,checked:T,required:l,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});cg.displayName=ao;var dg="SwitchThumb",ug=f.forwardRef((e,t)=>{const{__scopeSwitch:s,...r}=e,a=I2(dg,s);return i.jsx(lg.span,{"data-state":fg(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});ug.displayName=dg;var O2="SwitchBubbleInput",hg=f.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:r=!0,...a},c)=>{const l=f.useRef(null),u=Xl(l,c),h=gp(s),m=N2(t);return f.useEffect(()=>{const g=l.current;if(!g)return;const x=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(x,"checked").set;if(h!==s&&b){const w=new Event("click",{bubbles:r});b.call(g,s),g.dispatchEvent(w)}},[h,s,r]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:u,style:{...a.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});hg.displayName=O2;function fg(e){return e?"checked":"unchecked"}var mg=cg,D2=ug;const B2=f.forwardRef(({className:e,...t},s)=>i.jsx(mg,{className:Ze("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:i.jsx(D2,{className:Ze("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));B2.displayName=mg.displayName;const z2=()=>{const[e,t]=f.useState("image"),[s,r]=f.useState(!1),[a,c]=f.useState(0),[l,u]=f.useState([]),[h,m]=f.useState(""),[g,x]=f.useState(!1),[y,b]=f.useState(""),[w,_]=f.useState([]),[N,T]=f.useState([]),[C,j]=f.useState(null),[P,E]=f.useState([]),[D,z]=f.useState(!1),[$,J]=f.useState(0),R=f.useRef(null),[F,U]=f.useState(!1),[M,te]=f.useState({product_name:"",product_description:"",target_audience:"",ad_goal:"",brand_colors:"",style:"modern",dimensions:"1080x1080",duration:"15",voice_over:"",music_style:"",video_style:"",quantity:1,add_text_overlay:!1,custom_text:"",call_to_action:"",logo_position:"bottom-right",enhance_quality:!0,use_uploaded_assets:!1,color_scheme:"auto",mood:"professional",language:"english",animation_style:"smooth",background_music:!1,voice_gender:"neutral"});f.useEffect(()=>{fe(),l.length===0&&he(),Q()},[]);const he=async()=>{try{const oe=(await Se.get("/api/marketing-ads/history")).data.ads.filter(ce=>ce.status==="completed"&&ce.type==="video"&&ce.assets&&ce.assets.length>0);if(oe.length>0){const ce=oe[0];console.log(" Auto-loading most recent completed video:",ce.assets),u(ce.assets)}}catch(G){console.error("Error loading recent video:",G)}},Q=async()=>{try{const G=localStorage.getItem("current_generation");if(G){const{adId:oe,contentType:ce,startTime:Ee}=JSON.parse(G);if(Date.now()-Ee<15*60*1e3){console.log(" Resuming ongoing generation:",oe),t(ce),r(!0),j(oe);const Oe=await Se.get(`/api/marketing-ads/status/${oe}`),{status:$e,assets:Ue}=Oe.data;$e==="completed"?(u(Ue),r(!1),localStorage.removeItem("current_generation"),re.success(` Your ${ce} generation completed while you were away!`)):$e==="generating"?de(oe,300):localStorage.removeItem("current_generation")}else localStorage.removeItem("current_generation")}}catch(G){console.error("Error resuming generation:",G),localStorage.removeItem("current_generation")}},fe=async()=>{try{const G=await Se.get("/api/marketing-ads/history");T(G.data.ads)}catch(G){console.error("Error loading history:",G)}},se=G=>{G.preventDefault(),G.stopPropagation(),G.type==="dragenter"||G.type==="dragover"?U(!0):G.type==="dragleave"&&U(!1)},V=G=>{G.preventDefault(),G.stopPropagation(),U(!1);const oe=Array.from(G.dataTransfer.files);I(oe)},k=G=>{const oe=Array.from(G.target.files);I(oe)},I=async G=>{const oe=G.filter(ce=>{const Ee=ce.type.startsWith("image/"),we=ce.type.startsWith("video/"),Oe=we?100*1024*1024:10*1024*1024;return!Ee&&!we?(re.error(`${ce.name} is not a valid image or video file`),!1):ce.size>Oe?(re.error(`${ce.name} is too large. Max size: ${we?"100MB":"10MB"}`),!1):!0});if(oe.length!==0){z(!0),J(0);try{const ce=oe.map(async(we,Oe)=>{const $e=new FormData;$e.append("file",we),$e.append("purpose","marketing-asset"),$e.append("metadata",JSON.stringify({originalName:we.name,type:we.type.startsWith("image/")?"image":"video",size:we.size}));const Ue=await Se.post("/api/files/upload",$e,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:ke=>{const qe=Math.round(ke.loaded*100/ke.total);J(De=>Math.max(De,(Oe+qe/100)/oe.length*100))}});return{id:Ue.data.file.id,url:Ue.data.file.url,name:we.name,type:we.type.startsWith("image/")?"image":"video",size:we.size,preview:we.type.startsWith("image/")?URL.createObjectURL(we):null}}),Ee=await Promise.all(ce);E(we=>[...we,...Ee]),re.success(`${Ee.length} file(s) uploaded successfully!`)}catch(ce){console.error("Upload error:",ce),re.error("Failed to upload files")}finally{z(!1),J(0)}}},H=G=>{E(oe=>oe.filter((ce,Ee)=>Ee!==G))},O=(G,oe)=>{te(ce=>({...ce,[G]:oe}))},W=G=>{t(G),m(""),u([])},ge=async()=>{if(!M.product_name||!M.product_description){re.error("Please fill in product name and description");return}r(!0),c(0),u([]),_([]);try{console.log(" Generating Holo.ai-style variations...");const G=await Se.post("/api/marketing-ads/generate-variations",{product_name:M.product_name,product_description:M.product_description,target_audience:M.target_audience,ad_goal:M.ad_goal,style:M.style,dimensions:M.dimensions,quantity:3,brand_website:y});G.data.success&&(_(G.data.data),re.success(`Generated ${G.data.data.length} marketing variations!`))}catch(G){console.error(" Error generating variations:",G),re.error("Failed to generate marketing variations")}finally{r(!1),c(0)}},xe=async()=>{var ce,Ee,we,Oe,$e,Ue;if(!M.product_name||!M.product_description){re.error("Please fill in required fields");return}const G=ct.getItem("token")||ct.getItem("authToken")||localStorage.getItem("token");console.log(" Debug - Token exists:",!!G),console.log(" Debug - Token preview:",G?String(G).substring(0,20)+"...":"null"),r(!0),c(0),u([]);const oe=Pe(M,e);m(oe);try{const ke={product_name:M.product_name,product_description:M.product_description,target_audience:M.target_audience,ad_goal:M.ad_goal,brand_colors:M.brand_colors,style:M.style,dimensions:M.dimensions,type:e,quantity:e==="video"?1:M.quantity,use_uploaded_assets:M.use_uploaded_assets,enhance_quality:M.enhance_quality,add_text_overlay:M.add_text_overlay,custom_text:M.custom_text,logo_position:M.logo_position,color_scheme:M.color_scheme,mood:M.mood,call_to_action:M.call_to_action,language:M.language,uploaded_assets:P.map(De=>({id:De.id,url:De.url,type:De.type}))};e==="video"&&(ke.duration=M.duration,ke.voice_over=M.voice_over,ke.music_style=M.music_style,ke.video_style=M.video_style,ke.animation_style=M.animation_style,ke.background_music=M.background_music,ke.voice_gender=M.voice_gender),console.log(" Sending generation request with data:",ke);const qe=await Se.post("/api/marketing-ads/generate",ke);console.log(" Generation request successful:",qe.data),j(qe.data.ad_id),localStorage.setItem("current_generation",JSON.stringify({adId:qe.data.ad_id,contentType:e,startTime:Date.now()})),de(qe.data.ad_id,qe.data.estimated_time),re.success("Advanced AI generation started! This will be amazing...")}catch(ke){console.error(" Generation error:",ke),console.error(" Error response:",(ce=ke.response)==null?void 0:ce.data),console.error(" Error status:",(Ee=ke.response)==null?void 0:Ee.status),r(!1),((we=ke.response)==null?void 0:we.status)===403?re.error("Authentication failed. Please log in again."):((Oe=ke.response)==null?void 0:Oe.status)===401?re.error("Session expired. Please log in again."):(Ue=($e=ke.response)==null?void 0:$e.data)!=null&&Ue.message?re.error(`Generation failed: ${ke.response.data.message}`):re.error("Failed to start generation. Please try again.")}},de=async(G,oe)=>{const Ee=e==="video"?80:40,we=Math.ceil(oe/(3e3/1e3))+Ee;let Oe=0;const $e=async()=>{try{const Ue=await Se.get(`/api/marketing-ads/status/${G}`),{status:ke,assets:qe,progress_details:De}=Ue.data,ft=(De==null?void 0:De.overall_progress)||Math.min(Oe/we*100,95);if(c(ft),ke==="completed"){console.log(" Video generation completed!",{assets:qe,contentType:e}),c(100),u(qe),r(!1),localStorage.removeItem("current_generation"),fe(),re.success(` Generated ${qe.length} premium ${e}(s)!`);return}else if(ke==="failed"){r(!1),re.error("Generation failed");return}Oe++,Oe<we?setTimeout($e,3e3):(r(!1),re.error("Generation timeout"))}catch{r(!1),re.error("Error checking status")}};$e()},Pe=(G,oe)=>{const{product_name:ce,product_description:Ee,target_audience:we,ad_goal:Oe,brand_colors:$e,style:Ue,dimensions:ke,mood:qe,call_to_action:De,custom_text:ft,add_text_overlay:at,enhance_quality:nt,logo_position:rt,color_scheme:Tt,animation_style:ee,voice_over:ye,music_style:Le,video_style:ie,duration:Ne,voice_gender:Qe,language:et,use_uploaded_assets:xt,background_music:K}=G;let ne=` HOLO.AI MARKETING INTELLIGENCE PROMPT

`;ne+=` PRODUCT DETAILS:
`,ne+=` Product Name: "${ce}"
`,ne+=` Description: ${Ee}
`,ne+=` Content Type: ${oe==="video"?"Marketing Video Advertisement":"Marketing Image Advertisement"}

`,ne+=` AUDIENCE & PSYCHOLOGY:
`,we&&(ne+=` Target Audience: ${we}
`),Oe&&(ne+=` Marketing Goal: ${Oe}
`,ne+=` Conversion Focus: Drive ${Oe} through emotional engagement
`,ne+=` Psychology Triggers: ${{awareness:"Curiosity, Interest, Brand Recognition",leads:"Urgency, Value Proposition, FOMO",sales:"Trust, Social Proof, Scarcity",engagement:"Entertainment, Relatability, Shareability"}[Oe]||"Trust, Quality, Value"}
`),ne+=`
`,ne+=` VISUAL IDENTITY:
`;const Re={modern:"sleek, contemporary, minimalist design with clean lines and professional marketing composition",classic:"timeless, elegant, sophisticated with traditional elements and premium advertising aesthetic",bold:"striking, vibrant, attention-grabbing with strong contrasts and high-impact marketing visuals",minimalist:"clean, simple, uncluttered with plenty of white space and conversion-focused layout",luxury:"premium, high-end, sophisticated with gold accents and exclusive marketing appeal",playful:"fun, colorful, energetic with dynamic elements and engaging marketing personality",corporate:"professional, trustworthy, business-focused with credible marketing presentation"},Xe={professional:"polished, credible, trustworthy atmosphere with marketing authority",friendly:"warm, approachable, welcoming tone with customer-centric marketing",energetic:"dynamic, exciting, high-energy vibe with action-driving marketing elements",calm:"peaceful, serene, relaxing ambiance with reassuring marketing message",urgent:"compelling, time-sensitive, action-oriented with scarcity marketing tactics",luxurious:"premium, exclusive, high-end feel with aspirational marketing appeal",innovative:"cutting-edge, futuristic, tech-forward with disruptive marketing approach"};if(ne+=` Style: ${Re[Ue]||Ue}
`,ne+=` Mood: ${Xe[qe]||qe}
`,$e&&(ne+=` Brand Colors: ${$e}
`),ne+=` Color Scheme: ${Tt||"auto-optimized for conversion"}
`,ke){const[B,ae]=ke.split("x").map(Number);let ue="",X="";B===ae?(ue="Square composition with centered focal hierarchy",X="Instagram/Facebook feed optimized"):B>ae?(ue="Landscape composition with horizontal marketing flow",X="Facebook cover/LinkedIn banner optimized"):(ue="Portrait composition with vertical marketing narrative",X="Instagram story/Pinterest optimized"),ne+=` Dimensions: ${ke} (${ue})
`,ne+=` Platform Optimization: ${X}
`}return ne+=`
`,ne+=` MARKETING ELEMENTS:
`,at&&(ne+=` Text Overlay: Enabled with professional typography
`,ft&&(ne+=` Primary Text: "${ft}"
`),De&&(ne+=` Call-to-Action: "${De}"
`),rt&&(ne+=` Logo/Text Position: ${rt.replace("-"," ")} with optimal visibility
`)),ne+=` Marketing Layout: Professional advertisement composition with clear hierarchy
`,ne+=` Text Overlay Support: Space for headlines, CTAs, and brand messaging
`,ne+=` Conversion Elements: Trust indicators, value propositions, action drivers

`,oe==="video"&&(ne+=` VIDEO SPECIFICATIONS:
`,Ne&&(ne+=` Duration: ${Ne} seconds (optimized pacing)
`),ee&&(ne+=` Animation Style: ${{smooth:"fluid, seamless transitions with professional marketing flow",dynamic:"energetic, fast-paced movements with high engagement factor",elegant:"graceful, sophisticated animations with premium brand feel",minimal:"subtle, understated motion with focus on message clarity"}[ee]||ee}
`),ie&&(ne+=` Video Style: ${ie} with marketing optimization
`),ye&&(ne+=` Voice-Over Script: "${ye}"
`,Qe&&(ne+=` Voice Gender: ${Qe} with professional delivery
`)),Le&&(ne+=` Background Music: ${Le} that enhances marketing message
`),K&&(ne+=` Audio Enhancement: Professional background music integration
`),ne+=`
`),ne+=` TECHNICAL SPECIFICATIONS:
`,xt&&(ne+=` Brand Assets: Seamlessly integrate uploaded brand elements
`),nt&&(ne+=` Quality: High-definition 4K resolution with professional studio lighting
`),ne+=` Format: Marketing advertisement optimized for digital platforms
`,ne+=` Photography Style: Commercial-grade with brand-focused composition
`,ne+=` Industry Standards: Professional advertising design principles
`,ne+=` Layout Optimization: Conversion-focused with clear visual hierarchy

`,et&&et!=="en"&&(ne+=` LOCALIZATION:
`,ne+=` Language: Generate content in ${et} with cultural relevance
`,ne+=` Market Adaptation: Localized marketing approach for target region

`),ne+=` HOLO.AI GENERATION INSTRUCTIONS:
`,ne+=` Create a HIGH-CONVERTING marketing advertisement (not just product image)
`,ne+=` Use proven advertising psychology and visual hierarchy principles
`,ne+=` Optimize for ${we||"target audience"} demographic preferences
`,ne+=` Include professional marketing composition with clear focal points
`,ne+=` Ensure mobile-first responsive design thinking
`,ne+=` Apply conversion rate optimization (CRO) principles
`,ne+=` Generate content that looks like it came from a top marketing agency
`,ne+=` Focus on emotional resonance and action-driving visuals
`,ne+=` Incorporate brand storytelling elements naturally
`,ne+=` Use marketing color psychology for maximum impact

`,ne+=` FINAL DIRECTIVE:
`,ne+=`Transform this into a swipe-ready, conversion-optimized marketing ${oe} that drives ${Oe||"engagement"} `,ne+=`for ${we||"target audience"} using ${Ue||"modern"} aesthetic. `,ne+="This should be indistinguishable from professional marketing content created by top advertising agencies. ",ne+="Focus on: eye-catching design, memorable messaging, clear value proposition, and strong call-to-action. ",ne+="The final result must be marketing-grade content that converts viewers into customers.",ne},Be=async(G,oe)=>{try{const Ee=await(await fetch(G)).blob(),we=window.URL.createObjectURL(Ee),Oe=document.createElement("a");Oe.href=we,Oe.download=oe,document.body.appendChild(Oe),Oe.click(),Oe.remove(),window.URL.revokeObjectURL(we),re.success("Download started")}catch{re.error("Download failed")}};return i.jsxs("div",{className:"min-h-screen app-shell-bg relative overflow-hidden",children:[i.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 pointer-events-none bg-gradient-to-r from-indigo-500/10 via-purple-500/10 to-pink-500/10"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"bg-white/5 backdrop-blur-md border-b border-white/10",children:i.jsx("div",{className:"max-w-full mx-auto px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-semibold text-white flex items-center gap-2",children:[i.jsx(Cr,{className:"h-6 w-6 text-indigo-400"}),"Marketing Ads Studio"]}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Create professional marketing content with AI intelligence"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(Yt,{variant:"outline",className:"text-xs px-2 py-1 bg-indigo-500/20 text-indigo-300 border-indigo-500/30",children:[i.jsx(Gc,{className:"h-3 w-3 mr-1"}),"Holo.ai Powered"]}),i.jsxs(Yt,{variant:"outline",className:"text-xs px-2 py-1 bg-purple-500/20 text-purple-300 border-purple-500/30",children:[i.jsx(p0,{className:"h-3 w-3 mr-1"}),"Conversion Optimized"]})]})]})})}),i.jsx("div",{className:"max-w-full mx-auto px-6 py-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(qt,{className:"shadow-sm bg-white/5 backdrop-blur-md border border-white/10",children:[i.jsx(In,{className:"pb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(On,{className:"text-lg font-medium text-white",children:"Create Marketing Content"}),i.jsx(Km,{className:"text-sm text-gray-400",children:"Fill in the details to generate professional marketing assets"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(je,{variant:e==="image"?"default":"outline",size:"sm",onClick:()=>W("image"),className:`h-8 px-3 text-xs ${e==="image"?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white border-0":"bg-transparent border-white/20 text-white hover:bg-white/10"}`,children:[i.jsx(g0,{className:"h-3 w-3 mr-1"}),"Image"]}),i.jsxs(je,{variant:e==="video"?"default":"outline",size:"sm",onClick:()=>W("video"),className:`h-8 px-3 text-xs ${e==="video"?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white border-0":"bg-transparent border-white/20 text-white hover:bg-white/10"}`,children:[i.jsx(qc,{className:"h-3 w-3 mr-1"}),"Video"]})]})]})}),i.jsxs(Kt,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(We,{htmlFor:"product_name",className:"text-sm font-medium text-gray-300",children:"Product Name"}),i.jsx(ot,{id:"product_name",value:M.product_name,onChange:G=>O("product_name",G.target.value),placeholder:"Enter product name",className:"mt-1 h-9 bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"target_audience",className:"text-sm font-medium text-gray-300",children:"Target Audience"}),i.jsxs(un,{value:M.target_audience,onValueChange:G=>O("target_audience",G),children:[i.jsx(sn,{className:"mt-1 h-9 bg-white/5 border-white/20 text-white",children:i.jsx(hn,{placeholder:"Select audience"})}),i.jsxs(rn,{className:"bg-[#0e1340] border-white/10 text-white",children:[i.jsx(Ie,{value:"Young adults (18-35)",children:"Young adults (18-35)"}),i.jsx(Ie,{value:"Business professionals",children:"Business professionals"}),i.jsx(Ie,{value:"Families with children",children:"Families with children"}),i.jsx(Ie,{value:"Seniors (55+)",children:"Seniors (55+)"}),i.jsx(Ie,{value:"Students",children:"Students"})]})]})]})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"product_description",className:"text-sm font-medium text-gray-300",children:"Product Description"}),i.jsx(Hl,{id:"product_description",value:M.product_description,onChange:G=>O("product_description",G.target.value),placeholder:"Describe your product or service...",rows:3,className:"mt-1 bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(We,{htmlFor:"ad_goal",className:"text-sm font-medium text-gray-300",children:"Marketing Goal"}),i.jsxs(un,{value:M.ad_goal,onValueChange:G=>O("ad_goal",G),children:[i.jsx(sn,{className:"mt-1 h-9 bg-white/5 border-white/20 text-white",children:i.jsx(hn,{placeholder:"Select goal"})}),i.jsxs(rn,{className:"bg-[#0e1340] border-white/10 text-white",children:[i.jsx(Ie,{value:"awareness",children:"Brand Awareness"}),i.jsx(Ie,{value:"leads",children:"Lead Generation"}),i.jsx(Ie,{value:"sales",children:"Drive Sales"}),i.jsx(Ie,{value:"engagement",children:"Engagement"})]})]})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"style",className:"text-sm font-medium text-gray-300",children:"Visual Style"}),i.jsxs(un,{value:M.style,onValueChange:G=>O("style",G),children:[i.jsx(sn,{className:"mt-1 h-9 bg-white/5 border-white/20 text-white",children:i.jsx(hn,{placeholder:"Select style"})}),i.jsxs(rn,{className:"bg-[#0e1340] border-white/10 text-white",children:[i.jsx(Ie,{value:"modern",children:"Modern"}),i.jsx(Ie,{value:"bold",children:"Bold"}),i.jsx(Ie,{value:"elegant",children:"Elegant"}),i.jsx(Ie,{value:"minimalist",children:"Minimalist"}),i.jsx(Ie,{value:"luxury",children:"Luxury"}),i.jsx(Ie,{value:"playful",children:"Playful"})]})]})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"dimensions",className:"text-sm font-medium text-gray-300",children:"Dimensions"}),i.jsxs(un,{value:M.dimensions,onValueChange:G=>O("dimensions",G),children:[i.jsx(sn,{className:"mt-1 h-9 bg-white/5 border-white/20 text-white",children:i.jsx(hn,{placeholder:"Select size"})}),i.jsxs(rn,{className:"bg-[#0e1340] border-white/10 text-white",children:[i.jsx(Ie,{value:"1080x1080",children:"Square (1080x1080)"}),i.jsx(Ie,{value:"1200x628",children:"Facebook Cover (1200x628)"}),i.jsx(Ie,{value:"1080x1920",children:"Instagram Story (1080x1920)"}),i.jsx(Ie,{value:"1200x675",children:"LinkedIn Banner (1200x675)"})]})]})]})]}),i.jsxs("div",{className:"border-t border-white/10 pt-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx(We,{className:"text-sm font-medium text-gray-300",children:"Holo.ai Intelligence Mode"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Advanced brand DNA analysis and marketing variations"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:g,onChange:G=>x(G.target.checked),className:"sr-only peer"}),i.jsx("div",{className:"w-11 h-6 bg-white/20 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-500/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),g&&i.jsx("div",{className:"bg-indigo-500/10 border border-indigo-500/30 rounded-lg p-4 space-y-3",children:i.jsxs("div",{children:[i.jsx(We,{htmlFor:"brand_website",className:"text-sm font-medium text-gray-300",children:"Brand Website (Optional)"}),i.jsx(ot,{id:"brand_website",value:y,onChange:G=>b(G.target.value),placeholder:"https://your-website.com",className:"mt-1 h-9 bg-white/5 border-white/20 text-white placeholder:text-gray-500"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"AI will analyze your brand for better targeting"})]})})]}),i.jsxs("div",{className:"border-t border-white/10 pt-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx(We,{className:"text-sm font-medium text-gray-300",children:"Add Text Overlay"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Add professional text overlays to your marketing content"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:M.add_text_overlay,onChange:G=>O("add_text_overlay",G.target.checked),className:"sr-only peer"}),i.jsx("div",{className:"w-11 h-6 bg-white/20 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-500/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),M.add_text_overlay&&i.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(We,{htmlFor:"custom_text",className:"text-sm font-medium text-gray-300",children:"Custom Text"}),i.jsx(ot,{id:"custom_text",value:M.custom_text,onChange:G=>O("custom_text",G.target.value),placeholder:"Enter your main text",className:"mt-1 h-9 bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"call_to_action",className:"text-sm font-medium text-gray-300",children:"Call to Action"}),i.jsx(ot,{id:"call_to_action",value:M.call_to_action,onChange:G=>O("call_to_action",G.target.value),placeholder:"e.g., Shop Now, Learn More",className:"mt-1 h-9 bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"logo_position",className:"text-sm font-medium text-gray-300",children:"Text Position"}),i.jsxs(un,{value:M.logo_position,onValueChange:G=>O("logo_position",G),children:[i.jsx(sn,{className:"mt-1 h-9 bg-white/5 border-white/20 text-white",children:i.jsx(hn,{placeholder:"Select position"})}),i.jsxs(rn,{className:"bg-[#0e1340] border-white/10 text-white",children:[i.jsx(Ie,{value:"top-left",children:"Top Left"}),i.jsx(Ie,{value:"top-center",children:"Top Center"}),i.jsx(Ie,{value:"top-right",children:"Top Right"}),i.jsx(Ie,{value:"center",children:"Center"}),i.jsx(Ie,{value:"bottom-left",children:"Bottom Left"}),i.jsx(Ie,{value:"bottom-center",children:"Bottom Center"}),i.jsx(Ie,{value:"bottom-right",children:"Bottom Right"})]})]})]})]})]}),i.jsxs("div",{className:"border-t border-white/10 pt-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx(We,{className:"text-sm font-medium text-gray-300",children:"Upload Assets"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Add your own images or videos to incorporate into the marketing content"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:M.use_uploaded_assets,onChange:G=>O("use_uploaded_assets",G.target.checked),className:"sr-only peer"}),i.jsx("div",{className:"w-11 h-6 bg-white/20 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-500/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),M.use_uploaded_assets&&i.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 space-y-3",children:[i.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${F?"border-indigo-500 bg-indigo-500/10":"border-white/20 hover:border-white/40"}`,onDragEnter:se,onDragLeave:se,onDragOver:se,onDrop:V,children:[i.jsx(Tr,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),i.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:["Drag and drop your images or videos here, or"," ",i.jsx("button",{type:"button",onClick:()=>{var G;return(G=R.current)==null?void 0:G.click()},className:"text-indigo-400 hover:text-indigo-300 font-medium",children:"browse files"})]}),i.jsx("p",{className:"text-xs text-gray-500",children:"Supports: JPG, PNG, GIF, MP4, MOV (Max: 10MB for images, 100MB for videos)"}),i.jsx("input",{ref:R,type:"file",multiple:!0,accept:"image/*,video/*",onChange:k,className:"hidden"})]}),D&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-400",children:"Uploading..."}),i.jsxs("span",{className:"text-gray-400",children:[Math.round($),"%"]})]}),i.jsx(Ga,{value:$,className:"h-2"})]}),P.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs(We,{className:"text-sm font-medium text-gray-300",children:["Uploaded Assets (",P.length,")"]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:P.map((G,oe)=>i.jsxs("div",{className:"relative group border border-white/10 rounded-lg p-2 bg-white/5",children:[G.type==="image"&&G.preview?i.jsx("img",{src:G.preview,alt:G.name,className:"w-full h-20 object-cover rounded"}):i.jsx("div",{className:"w-full h-20 bg-white/10 rounded flex items-center justify-center",children:i.jsx(qc,{className:"h-6 w-6 text-gray-400"})}),i.jsx("p",{className:"text-xs text-gray-400 mt-1 truncate",children:G.name}),i.jsx("button",{type:"button",onClick:()=>H(oe),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(ch,{className:"h-3 w-3"})})]},oe))})]})]})]}),i.jsx("div",{className:"border-t border-white/10 pt-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(je,{onClick:xe,disabled:s||!M.product_name||!M.product_description,className:"flex-1 h-10 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white border-0",children:s?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Gc,{className:"h-4 w-4 mr-2"}),"Generate Premium ",e==="image"?"Image":"Video"]})}),g&&i.jsx(je,{onClick:ge,disabled:s||!M.product_name||!M.product_description,variant:"outline",className:"flex-1 h-10 border-white/20 text-white hover:bg-white/10",children:s?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-400 mr-2"}),"Generating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Generate 3 Swipe Ready Variations"]})})]})})]})]})}),i.jsxs("div",{className:"space-y-6",children:[h&&i.jsxs(qt,{className:"shadow-sm bg-white/5 backdrop-blur-md border border-white/10",children:[i.jsx(In,{className:"pb-3",children:i.jsxs(On,{className:"text-sm font-medium text-white flex items-center gap-2",children:[i.jsx(dh,{className:"h-4 w-4 text-indigo-400"}),"Master Prompt"]})}),i.jsxs(Kt,{children:[i.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3 max-h-64 overflow-y-auto",children:i.jsx("pre",{className:"text-xs text-gray-300 whitespace-pre-wrap font-mono leading-relaxed",children:h})}),i.jsxs(je,{variant:"outline",size:"sm",onClick:()=>navigator.clipboard.writeText(h),className:"mt-2 h-7 text-xs border-white/20 text-white hover:bg-white/10",children:[i.jsx(x0,{className:"h-3 w-3 mr-1"}),"Copy"]})]})]}),s&&i.jsxs(qt,{className:"shadow-sm bg-white/5 backdrop-blur-md border border-white/10",children:[i.jsx(In,{className:"pb-3",children:i.jsx(On,{className:"text-sm font-medium text-white",children:"Generation Progress"})}),i.jsx(Kt,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ga,{value:a,className:"h-2"}),i.jsxs("p",{className:"text-xs text-gray-400",children:[a,"% complete"]})]})})]}),l.length>0&&i.jsxs(qt,{className:"shadow-sm bg-white/5 backdrop-blur-md border border-white/10",children:[i.jsx(In,{className:"pb-3",children:i.jsx(On,{className:"text-sm font-medium text-white",children:"Generated Assets"})}),i.jsx(Kt,{children:i.jsx("div",{className:"space-y-3",children:l.map((G,oe)=>i.jsxs("div",{className:"border border-white/10 rounded-lg p-3 bg-white/5",children:[i.jsx("img",{src:G.url,alt:`Generated asset ${oe+1}`,className:"w-full h-32 object-cover rounded mb-2"}),i.jsxs(je,{variant:"outline",size:"sm",onClick:()=>Be(G.url,`marketing-ad-${oe+1}`),className:"w-full h-7 text-xs border-white/20 text-white hover:bg-white/10",children:[i.jsx(ca,{className:"h-3 w-3 mr-1"}),"Download"]})]},oe))})})]}),w.length>0&&i.jsxs(qt,{className:"shadow-sm bg-white/5 backdrop-blur-md border border-white/10",children:[i.jsx(In,{className:"pb-3",children:i.jsx(On,{className:"text-sm font-medium text-white",children:"Marketing Variations"})}),i.jsx(Kt,{children:i.jsx("div",{className:"space-y-3",children:w.map((G,oe)=>i.jsxs("div",{className:"border border-white/10 rounded-lg p-3 bg-white/5",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Yt,{variant:"outline",className:"text-xs bg-indigo-500/20 text-indigo-300 border-indigo-500/30",children:G.target_emotion}),i.jsx(Yt,{variant:"outline",className:"text-xs bg-purple-500/20 text-purple-300 border-purple-500/30",children:G.conversion_focus})]}),i.jsx("p",{className:"text-xs text-gray-400 mb-2",children:G.marketing_angle}),G.image_url&&i.jsx("img",{src:G.image_url,alt:`Variation ${oe+1}`,className:"w-full h-32 object-cover rounded mb-2"}),i.jsxs(je,{variant:"outline",size:"sm",onClick:()=>Be(G.image_url,`variation-${oe+1}`),className:"w-full h-7 text-xs border-white/20 text-white hover:bg-white/10",children:[i.jsx(ca,{className:"h-3 w-3 mr-1"}),"Download"]})]},oe))})})]})]})]})})]})]})},qa=b0,O5=_0,F2=v0,pg=f.forwardRef(({className:e,...t},s)=>i.jsx(uh,{ref:s,className:Ze("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));pg.displayName=uh.displayName;const Fr=f.forwardRef(({className:e,children:t,...s},r)=>i.jsxs(F2,{children:[i.jsx(pg,{}),i.jsxs(hh,{ref:r,className:Ze("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,i.jsxs(y0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(ch,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fr.displayName=hh.displayName;const Vr=({className:e,...t})=>i.jsx("div",{className:Ze("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Vr.displayName="DialogHeader";const Ka=({className:e,...t})=>i.jsx("div",{className:Ze("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ka.displayName="DialogFooter";const $r=f.forwardRef(({className:e,...t},s)=>i.jsx(fh,{ref:s,className:Ze("text-lg font-semibold leading-none tracking-tight",e),...t}));$r.displayName=fh.displayName;const V2=f.forwardRef(({className:e,...t},s)=>i.jsx(mh,{ref:s,className:Ze("text-sm text-muted-foreground",e),...t}));V2.displayName=mh.displayName;function Nn(e,t,{checkForDefaultPrevented:s=!0}={}){return function(a){if(e==null||e(a),s===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Jl(e,t=[]){let s=[];function r(c,l){const u=f.createContext(l),h=s.length;s=[...s,l];const m=x=>{var T;const{scope:y,children:b,...w}=x,_=((T=y==null?void 0:y[e])==null?void 0:T[h])||u,N=f.useMemo(()=>w,Object.values(w));return i.jsx(_.Provider,{value:N,children:b})};m.displayName=c+"Provider";function g(x,y){var _;const b=((_=y==null?void 0:y[e])==null?void 0:_[h])||u,w=f.useContext(b);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${x}\` must be used within \`${c}\``)}return[m,g]}const a=()=>{const c=s.map(l=>f.createContext(l));return function(u){const h=(u==null?void 0:u[e])||c;return f.useMemo(()=>({[`__scope${e}`]:{...u,[e]:h}}),[u,h])}};return a.scopeName=e,[r,$2(a,...t)]}function $2(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const l=r.reduce((u,{useScope:h,scopeName:m})=>{const x=h(c)[`__scope${m}`];return{...u,...x}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return s.scopeName=t.scopeName,s}function Qu(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function gg(...e){return t=>{let s=!1;const r=e.map(a=>{const c=Qu(a,t);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let a=0;a<r.length;a++){const c=r[a];typeof c=="function"?c():Qu(e[a],null)}}}}function Ur(...e){return f.useCallback(gg(...e),e)}function Ya(e){const t=U2(e),s=f.forwardRef((r,a)=>{const{children:c,...l}=r,u=f.Children.toArray(c),h=u.find(W2);if(h){const m=h.props.children,g=u.map(x=>x===h?f.Children.count(m)>1?f.Children.only(null):f.isValidElement(m)?m.props.children:null:x);return i.jsx(t,{...l,ref:a,children:f.isValidElement(m)?f.cloneElement(m,void 0,g):null})}return i.jsx(t,{...l,ref:a,children:c})});return s.displayName=`${e}.Slot`,s}function U2(e){const t=f.forwardRef((s,r)=>{const{children:a,...c}=s;if(f.isValidElement(a)){const l=G2(a),u=Z2(c,a.props);return a.type!==f.Fragment&&(u.ref=r?gg(r,l):l),f.cloneElement(a,u)}return f.Children.count(a)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var H2=Symbol("radix.slottable");function W2(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===H2}function Z2(e,t){const s={...t};for(const r in t){const a=e[r],c=t[r];/^on[A-Z]/.test(r)?a&&c?s[r]=(...u)=>{const h=c(...u);return a(...u),h}:a&&(s[r]=a):r==="style"?s[r]={...a,...c}:r==="className"&&(s[r]=[a,c].filter(Boolean).join(" "))}return{...e,...s}}function G2(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function q2(e){const t=e+"CollectionProvider",[s,r]=Jl(t),[a,c]=s(t,{collectionRef:{current:null},itemMap:new Map}),l=_=>{const{scope:N,children:T}=_,C=me.useRef(null),j=me.useRef(new Map).current;return i.jsx(a,{scope:N,itemMap:j,collectionRef:C,children:T})};l.displayName=t;const u=e+"CollectionSlot",h=Ya(u),m=me.forwardRef((_,N)=>{const{scope:T,children:C}=_,j=c(u,T),P=Ur(N,j.collectionRef);return i.jsx(h,{ref:P,children:C})});m.displayName=u;const g=e+"CollectionItemSlot",x="data-radix-collection-item",y=Ya(g),b=me.forwardRef((_,N)=>{const{scope:T,children:C,...j}=_,P=me.useRef(null),E=Ur(N,P),D=c(g,T);return me.useEffect(()=>(D.itemMap.set(P,{ref:P,...j}),()=>void D.itemMap.delete(P))),i.jsx(y,{[x]:"",ref:E,children:C})});b.displayName=g;function w(_){const N=c(e+"CollectionConsumer",_);return me.useCallback(()=>{const C=N.collectionRef.current;if(!C)return[];const j=Array.from(C.querySelectorAll(`[${x}]`));return Array.from(N.itemMap.values()).sort((D,z)=>j.indexOf(D.ref.current)-j.indexOf(z.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:l,Slot:m,ItemSlot:b},w,r]}var Hr=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},K2=Ni[" useId ".trim().toString()]||(()=>{}),Y2=0;function xg(e){const[t,s]=f.useState(K2());return Hr(()=>{s(r=>r??String(Y2++))},[e]),t?`radix-${t}`:""}var X2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bs=X2.reduce((e,t)=>{const s=Ya(`Primitive.${t}`),r=f.forwardRef((a,c)=>{const{asChild:l,...u}=a,h=l?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(h,{...u,ref:c})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function J2(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...s)=>{var r;return(r=t.current)==null?void 0:r.call(t,...s)},[])}var Q2=Ni[" useInsertionEffect ".trim().toString()]||Hr;function vg({prop:e,defaultProp:t,onChange:s=()=>{},caller:r}){const[a,c,l]=eT({defaultProp:t,onChange:s}),u=e!==void 0,h=u?e:a;{const g=f.useRef(e!==void 0);f.useEffect(()=>{const x=g.current;x!==u&&console.warn(`${r} is changing from ${x?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,r])}const m=f.useCallback(g=>{var x;if(u){const y=tT(g)?g(e):g;y!==e&&((x=l.current)==null||x.call(l,y))}else c(g)},[u,e,c,l]);return[h,m]}function eT({defaultProp:e,onChange:t}){const[s,r]=f.useState(e),a=f.useRef(s),c=f.useRef(t);return Q2(()=>{c.current=t},[t]),f.useEffect(()=>{var l;a.current!==s&&((l=c.current)==null||l.call(c,s),a.current=s)},[s,a]),[s,r,c]}function tT(e){return typeof e=="function"}var nT=f.createContext(void 0);function yg(e){const t=f.useContext(nT);return e||t||"ltr"}var la="rovingFocusGroup.onEntryFocus",sT={bubbles:!1,cancelable:!0},Oi="RovingFocusGroup",[Xa,bg,iT]=q2(Oi),[rT,_g]=Jl(Oi,[iT]),[oT,aT]=rT(Oi),wg=f.forwardRef((e,t)=>i.jsx(Xa.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Xa.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(lT,{...e,ref:t})})}));wg.displayName=Oi;var lT=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:a=!1,dir:c,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...x}=e,y=f.useRef(null),b=Ur(t,y),w=yg(c),[_,N]=vg({prop:l,defaultProp:u??null,onChange:h,caller:Oi}),[T,C]=f.useState(!1),j=J2(m),P=bg(s),E=f.useRef(!1),[D,z]=f.useState(0);return f.useEffect(()=>{const $=y.current;if($)return $.addEventListener(la,j),()=>$.removeEventListener(la,j)},[j]),i.jsx(oT,{scope:s,orientation:r,dir:w,loop:a,currentTabStopId:_,onItemFocus:f.useCallback($=>N($),[N]),onItemShiftTab:f.useCallback(()=>C(!0),[]),onFocusableItemAdd:f.useCallback(()=>z($=>$+1),[]),onFocusableItemRemove:f.useCallback(()=>z($=>$-1),[]),children:i.jsx(Bs.div,{tabIndex:T||D===0?-1:0,"data-orientation":r,...x,ref:b,style:{outline:"none",...e.style},onMouseDown:Nn(e.onMouseDown,()=>{E.current=!0}),onFocus:Nn(e.onFocus,$=>{const J=!E.current;if($.target===$.currentTarget&&J&&!T){const R=new CustomEvent(la,sT);if($.currentTarget.dispatchEvent(R),!R.defaultPrevented){const F=P().filter(Q=>Q.focusable),U=F.find(Q=>Q.active),M=F.find(Q=>Q.id===_),he=[U,M,...F].filter(Boolean).map(Q=>Q.ref.current);Ng(he,g)}}E.current=!1}),onBlur:Nn(e.onBlur,()=>C(!1))})})}),jg="RovingFocusGroupItem",Sg=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:a=!1,tabStopId:c,children:l,...u}=e,h=xg(),m=c||h,g=aT(jg,s),x=g.currentTabStopId===m,y=bg(s),{onFocusableItemAdd:b,onFocusableItemRemove:w,currentTabStopId:_}=g;return f.useEffect(()=>{if(r)return b(),()=>w()},[r,b,w]),i.jsx(Xa.ItemSlot,{scope:s,id:m,focusable:r,active:a,children:i.jsx(Bs.span,{tabIndex:x?0:-1,"data-orientation":g.orientation,...u,ref:t,onMouseDown:Nn(e.onMouseDown,N=>{r?g.onItemFocus(m):N.preventDefault()}),onFocus:Nn(e.onFocus,()=>g.onItemFocus(m)),onKeyDown:Nn(e.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){g.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const T=uT(N,g.orientation,g.dir);if(T!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let j=y().filter(P=>P.focusable).map(P=>P.ref.current);if(T==="last")j.reverse();else if(T==="prev"||T==="next"){T==="prev"&&j.reverse();const P=j.indexOf(N.currentTarget);j=g.loop?hT(j,P+1):j.slice(P+1)}setTimeout(()=>Ng(j))}}),children:typeof l=="function"?l({isCurrentTabStop:x,hasTabStop:_!=null}):l})})});Sg.displayName=jg;var cT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function dT(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function uT(e,t,s){const r=dT(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return cT[r]}function Ng(e,t=!1){const s=document.activeElement;for(const r of e)if(r===s||(r.focus({preventScroll:t}),document.activeElement!==s))return}function hT(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var fT=wg,mT=Sg;function pT(e,t){return f.useReducer((s,r)=>t[s][r]??s,e)}var Cg=e=>{const{present:t,children:s}=e,r=gT(t),a=typeof s=="function"?s({present:r.isPresent}):f.Children.only(s),c=Ur(r.ref,xT(a));return typeof s=="function"||r.isPresent?f.cloneElement(a,{ref:c}):null};Cg.displayName="Presence";function gT(e){const[t,s]=f.useState(),r=f.useRef(null),a=f.useRef(e),c=f.useRef("none"),l=e?"mounted":"unmounted",[u,h]=pT(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const m=mr(r.current);c.current=u==="mounted"?m:"none"},[u]),Hr(()=>{const m=r.current,g=a.current;if(g!==e){const y=c.current,b=mr(m);e?h("MOUNT"):b==="none"||(m==null?void 0:m.display)==="none"?h("UNMOUNT"):h(g&&y!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,h]),Hr(()=>{if(t){let m;const g=t.ownerDocument.defaultView??window,x=b=>{const _=mr(r.current).includes(b.animationName);if(b.target===t&&_&&(h("ANIMATION_END"),!a.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",m=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},y=b=>{b.target===t&&(c.current=mr(r.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{g.clearTimeout(m),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:f.useCallback(m=>{r.current=m?getComputedStyle(m):null,s(m)},[])}}function mr(e){return(e==null?void 0:e.animationName)||"none"}function xT(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var lo="Tabs",[vT,D5]=Jl(lo,[_g]),Tg=_g(),[yT,Ql]=vT(lo),Pg=f.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,onValueChange:a,defaultValue:c,orientation:l="horizontal",dir:u,activationMode:h="automatic",...m}=e,g=yg(u),[x,y]=vg({prop:r,onChange:a,defaultProp:c??"",caller:lo});return i.jsx(yT,{scope:s,baseId:xg(),value:x,onValueChange:y,orientation:l,dir:g,activationMode:h,children:i.jsx(Bs.div,{dir:g,"data-orientation":l,...m,ref:t})})});Pg.displayName=lo;var Eg="TabsList",Lg=f.forwardRef((e,t)=>{const{__scopeTabs:s,loop:r=!0,...a}=e,c=Ql(Eg,s),l=Tg(s);return i.jsx(fT,{asChild:!0,...l,orientation:c.orientation,dir:c.dir,loop:r,children:i.jsx(Bs.div,{role:"tablist","aria-orientation":c.orientation,...a,ref:t})})});Lg.displayName=Eg;var Ag="TabsTrigger",kg=f.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,disabled:a=!1,...c}=e,l=Ql(Ag,s),u=Tg(s),h=Ig(l.baseId,r),m=Og(l.baseId,r),g=r===l.value;return i.jsx(mT,{asChild:!0,...u,focusable:!a,active:g,children:i.jsx(Bs.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":m,"data-state":g?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:h,...c,ref:t,onMouseDown:Nn(e.onMouseDown,x=>{!a&&x.button===0&&x.ctrlKey===!1?l.onValueChange(r):x.preventDefault()}),onKeyDown:Nn(e.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&l.onValueChange(r)}),onFocus:Nn(e.onFocus,()=>{const x=l.activationMode!=="manual";!g&&!a&&x&&l.onValueChange(r)})})})});kg.displayName=Ag;var Rg="TabsContent",Mg=f.forwardRef((e,t)=>{const{__scopeTabs:s,value:r,forceMount:a,children:c,...l}=e,u=Ql(Rg,s),h=Ig(u.baseId,r),m=Og(u.baseId,r),g=r===u.value,x=f.useRef(g);return f.useEffect(()=>{const y=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(y)},[]),i.jsx(Cg,{present:a||g,children:({present:y})=>i.jsx(Bs.div,{"data-state":g?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!y,id:m,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:x.current?"0s":void 0},children:y&&c})})});Mg.displayName=Rg;function Ig(e,t){return`${e}-trigger-${t}`}function Og(e,t){return`${e}-content-${t}`}var bT=Pg,Dg=Lg,Bg=kg,zg=Mg;const B5=bT,_T=f.forwardRef(({className:e,...t},s)=>i.jsx(Dg,{ref:s,className:Ze("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));_T.displayName=Dg.displayName;const wT=f.forwardRef(({className:e,...t},s)=>i.jsx(Bg,{ref:s,className:Ze("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));wT.displayName=Bg.displayName;const jT=f.forwardRef(({className:e,...t},s)=>i.jsx(zg,{ref:s,className:Ze("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));jT.displayName=zg.displayName;const Yn={searchPlaces:async e=>{const t=await Se.post("/api/lead-scraper/search",e);return console.log(t,"============ check google response======="),t.data},getPlaceDetails:async e=>(await Se.get(`/api/lead-scraper/place/${e}`)).data,saveLead:async e=>(await Se.post("/api/lead-scraper/leads",e)).data,getLeads:async(e={})=>{const t=new URLSearchParams;return Object.entries(e).forEach(([r,a])=>{a!=null&&a!==""&&t.append(r,a.toString())}),(await Se.get(`/api/lead-scraper/leads?${t.toString()}`)).data},getLead:async e=>(await Se.get(`/api/lead-scraper/leads/${e}`)).data,updateLead:async(e,t)=>(await Se.put(`/api/lead-scraper/leads/${e}`,t)).data,deleteLead:async e=>(await Se.delete(`/api/lead-scraper/leads/${e}`)).data,getStats:async()=>(await Se.get("/api/lead-scraper/stats")).data,bulkSaveLeads:async e=>(await Se.post("/api/lead-scraper/leads/bulk",e)).data};function ST({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const NT=f.forwardRef(ST);function CT({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const TT=f.forwardRef(CT);function PT({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const ET=f.forwardRef(PT);function LT({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const AT=f.forwardRef(LT);function kT({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const RT=f.forwardRef(kT);function MT({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const IT=f.forwardRef(MT);function OT({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const DT=f.forwardRef(OT);function BT({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const zT=f.forwardRef(BT);function FT({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const pr=f.forwardRef(FT);function VT({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const $T=f.forwardRef(VT);function UT({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const HT=f.forwardRef(UT);function WT({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const Wr=f.forwardRef(WT);function ZT({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Fg=f.forwardRef(ZT);function GT({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const qT=f.forwardRef(GT);function KT({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const Ja=f.forwardRef(KT);function YT({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Zr=f.forwardRef(YT);function XT({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const eh=f.forwardRef(XT);function JT({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const th=f.forwardRef(JT);function QT({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Qa=f.forwardRef(QT);function eP({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const Nr=f.forwardRef(eP);function tP({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const nh=f.forwardRef(tP);function nP({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const sP=f.forwardRef(nP);function iP({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const Vg=f.forwardRef(iP);function rP({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const el=f.forwardRef(rP);function oP({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const aP=f.forwardRef(oP);function lP({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const cP=f.forwardRef(lP);function dP({title:e,titleId:t,...s},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?f.createElement("title",{id:t},e):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const sh=f.forwardRef(dP),uP="AIzaSyC5V4eL4a8u2WerD28qGwIznpHyWeD7obU",hP=()=>{const[e,t]=f.useState(""),[s,r]=f.useState(""),[a,c]=f.useState(5e3),[l,u]=f.useState(!1),[h,m]=f.useState([]),[g,x]=f.useState(null),[y,b]=f.useState(!1),[w,_]=f.useState(!1),N=f.useRef(null),[T,C]=f.useState(""),[j,P]=f.useState(""),[E,D]=f.useState(""),[z,$]=f.useState(!1),[J,R]=f.useState(!1),[F,U]=f.useState([]),[M,te]=f.useState(!1),[he,Q]=f.useState([]),[fe,se]=f.useState(null),[V,k]=f.useState(null),[I,H]=f.useState(!1),[O,W]=f.useState("search"),[ge,xe]=f.useState(1),[de,Pe]=f.useState(1),[Be,G]=f.useState(!1),[oe,ce]=f.useState({search:"",status:"all",business_type:"all",rating_min:"all"}),[Ee,we]=f.useState([]),[Oe,$e]=f.useState({lat:40.7128,lng:-74.006}),[Ue,ke]=f.useState(12),qe=f.useRef(null),De=f.useRef(null),ft=f.useRef([]),at=f.useRef(null);f.useEffect(()=>{O==="saved"&&(ie(),Ne())},[O,ge,oe]);const nt=()=>new Promise((B,ae)=>{if(window.google&&window.google.maps&&window.google.maps.Map){B(window.google);return}const ue=document.querySelector('script[src*="maps.googleapis.com"]');ue&&ue.remove();const X=document.createElement("script");X.src=`https://maps.googleapis.com/maps/api/js?key=${uP}&libraries=places,geometry,marker`,X.async=!0,X.defer=!0,X.onload=()=>{setTimeout(()=>{window.google&&window.google.maps&&window.google.maps.Map?B(window.google):ae(new Error("Google Maps failed to load"))},200)},X.onerror=ve=>{ae(new Error("Failed to load Google Maps script"))},document.head.appendChild(X)});f.useEffect(()=>{const B=async()=>{const X=()=>new Promise((ve,Te)=>{let Ke=0;const tt=20,Jt=()=>{qe.current?ve(qe.current):Ke<tt?(Ke++,setTimeout(Jt,100)):Te(new Error("Map container not found after waiting"))};Jt()});try{const ve=await X(),Te=await nt();ae(Te,Oe),navigator.geolocation&&navigator.geolocation.getCurrentPosition(Ke=>{const tt={lat:Ke.coords.latitude,lng:Ke.coords.longitude};$e(tt),De.current&&(De.current.setCenter(tt),Te.maps.marker&&Te.maps.marker.AdvancedMarkerElement?new Te.maps.marker.AdvancedMarkerElement({position:tt,map:De.current,title:"Your Location"}):new Te.maps.Marker({position:tt,map:De.current,title:"Your Location",icon:{url:"https://maps.google.com/mapfiles/ms/icons/blue-dot.png"}}))},Ke=>{console.log("Geolocation error:",Ke)})}catch(ve){console.error("Error loading Google Maps:",ve),re.error("Failed to load Google Maps. Please check your internet connection.")}},ae=(X,ve)=>{if(!X||!X.maps||!X.maps.Map){console.error("Google Maps API not properly loaded"),re.error("Google Maps API not properly loaded");return}if(!qe.current){console.error("Map container not found"),re.error("Map container not found");return}try{const Te={center:ve,zoom:Ue,mapTypeControl:!0,streetViewControl:!0,fullscreenControl:!0,zoomControl:!0,mapTypeId:X.maps.MapTypeId.ROADMAP,mapId:"88f5b6f4a12cadf8f16b7bd5"};De.current=new X.maps.Map(qe.current,Te),at.current=new X.maps.InfoWindow,De.current.addListener("click",Ke=>{const tt=Ke.latLng;ee(tt.lat(),tt.lng())}),console.log("Google Maps initialized successfully")}catch(Te){console.error("Error initializing Google Maps:",Te),re.error("Failed to initialize Google Maps")}},ue=setTimeout(()=>{B()},100);return()=>{clearTimeout(ue),De.current&&(De.current=null),at.current&&(at.current=null)}},[]),f.useEffect(()=>{const ae=setTimeout(async()=>{if(!(!De.current||!window.google||!window.google.maps))try{ft.current.forEach(ue=>{ue&&ue.setMap&&ue.setMap(null)}),ft.current=[];for(let ue=0;ue<Ee.length;ue++){const X=Ee[ue];if(!X.position||!X.position.lat||!X.position.lng){console.warn("Invalid marker position:",X);continue}try{let ve;window.google.maps.marker&&window.google.maps.marker.AdvancedMarkerElement?ve=new window.google.maps.marker.AdvancedMarkerElement({position:X.position,map:De.current,title:X.name}):ve=new window.google.maps.Marker({position:X.position,map:De.current,title:X.name,icon:{url:"https://maps.google.com/mapfiles/ms/icons/red-dot.png"}});const Te=`
              <div style="max-width: 300px; padding: 10px;">
                <h3 style="font-weight: bold; font-size: 14px; margin-bottom: 8px;">${X.name||"Unknown"}</h3>
                <p style="font-size: 12px; color: #666; margin-bottom: 4px;">${X.address||"No address"}</p>
                ${X.phone?`<p style="font-size: 12px; margin-bottom: 4px;"> ${X.phone}</p>`:""}
                ${X.website?`<p style="font-size: 12px; margin-bottom: 4px;"> <a href="${X.website}" target="_blank" style="color: #1976d2;">Website</a></p>`:""}
                ${X.rating?`<p style="font-size: 12px; margin-bottom: 8px;"> ${X.rating}/5</p>`:""}
                <button onclick="window.saveLead(${ue})" style="background: #1976d2; color: white; padding: 6px 12px; border: none; border-radius: 4px; font-size: 12px; cursor: pointer;">
                  Save Lead
                </button>
              </div>
            `;ve.addListener("click",()=>{at.current&&(at.current.setContent(Te),at.current.open(De.current,ve))}),ft.current.push(ve)}catch(ve){console.error("Error creating marker:",ve)}}if(Ee.length>0&&De.current){const ue=new window.google.maps.LatLngBounds;Ee.forEach(X=>{X.position&&X.position.lat&&X.position.lng&&ue.extend(X.position)}),ue.isEmpty()||De.current.fitBounds(ue)}}catch(ue){console.error("Error updating markers:",ue)}},100);return()=>clearTimeout(ae)},[Ee]),f.useEffect(()=>(window.saveLead=B=>{Ee[B]&&Le(Ee[B])},()=>{delete window.saveLead}),[Ee]);const rt=async(B=!1)=>{if(!e.trim()){re.error("Please enter a search query");return}B?_(!0):(u(!0),m([]),x(null),b(!1));try{const ae={query:e,location:s,radius:a,maxResults:20,openNow:z};T&&T!=="all"&&(ae.type=T),j&&j!=="all"&&(ae.priceLevel=parseInt(j)),E&&E!=="all"&&(ae.minRating=parseFloat(E)),B&&g&&(ae.pageToken=g);const ue=await Yn.searchPlaces(ae);if(ue.success){const X=ue.data.places||[];if(x(ue.data.nextPageToken||null),b(ue.data.hasMore||!1),B)m(ve=>[...ve,...X]),ye([...h,...X]);else{m(X),ye(X);const ve={query:e,location:s,timestamp:new Date().toISOString(),resultCount:X.length};if(U(Te=>[ve,...Te.filter(tt=>!(tt.query===e&&tt.location===s))].slice(0,10)),X.length===0)re.error("No results found. Try different search terms or expand the search radius.");else{const Te=s?` in ${s}`:"",Ke=ue.data.hasMore?" (scroll for more)":"";re.success(`Found ${X.length} businesses${Te}${Ke}`)}}}else re.error(ue.message||"Search failed")}catch(ae){console.error("Search error:",ae),re.error(`Search failed: ${ae.message}. Please try again with different search terms.`)}finally{u(!1),_(!1)}},Tt=()=>{!w&&y&&g&&rt(!0)};f.useEffect(()=>{const B=N.current;if(!B)return;const ae=()=>{const{scrollTop:ue,scrollHeight:X,clientHeight:ve}=B;X-ue-ve<100&&Tt()};return B.addEventListener("scroll",ae),()=>B.removeEventListener("scroll",ae)},[y,g,w,h]);const ee=async(B,ae)=>{e.trim()||t("places"),r(`${B.toFixed(6)}, ${ae.toFixed(6)}`),c(2e3),setTimeout(()=>{rt()},100),re.info("Searching for places near clicked location...")},ye=B=>{if(B.length===0)return;const ae=B.filter(ue=>ue.geometry&&ue.geometry.location&&ue.geometry.location.lat&&ue.geometry.location.lng).map(ue=>({position:{lat:ue.geometry.location.lat,lng:ue.geometry.location.lng},name:ue.name,address:ue.formatted_address,rating:ue.rating,business_type:ue.business_type,phone:ue.phone,website:ue.website,place_id:ue.place_id}));if(we(ae),ae.length>0){const ue=ae.reduce((ve,Te)=>ve+Te.position.lat,0)/ae.length,X=ae.reduce((ve,Te)=>ve+Te.position.lng,0)/ae.length;$e({lat:ue,lng:X}),ke(ae.length===1?15:12)}},Le=async B=>{var ae,ue,X,ve;try{const Te={business_name:B.name,address:B.formatted_address,phone:B.phone||null,email:B.email||null,website:B.website||null,business_type:B.business_type||(B.types&&B.types.length>0?B.types[0]:null),latitude:((ue=(ae=B.geometry)==null?void 0:ae.location)==null?void 0:ue.lat)||B.lat,longitude:((ve=(X=B.geometry)==null?void 0:X.location)==null?void 0:ve.lng)||B.lon,place_id:B.place_id||B.id,search_query:e,search_location:s,rating:B.rating||null,total_ratings:B.user_ratings_total||null},Ke=await Yn.saveLead(Te);Ke.success?(re.success("Lead saved successfully!"),O==="saved"&&(ie(),Ne())):re.error(Ke.message||"Failed to save lead")}catch(Te){console.error("Save lead error:",Te),re.error("Failed to save lead")}},ie=async()=>{G(!0);try{const B={page:ge,limit:10};oe.search&&(B.search=oe.search),oe.status&&oe.status!=="all"&&(B.status=oe.status),oe.business_type&&oe.business_type!=="all"&&(B.business_type=oe.business_type),oe.rating_min&&oe.rating_min!=="all"&&(B.rating_min=parseFloat(oe.rating_min));const ae=await Yn.getLeads(B);ae.success?(Q(ae.data.leads||[]),Pe(ae.data.totalPages||1)):(re.error(ae.message||"Failed to load saved leads"),Q([]),Pe(1))}catch(B){console.error("Load leads error:",B),re.error("Failed to load saved leads"),Q([]),Pe(1)}finally{G(!1)}},Ne=async()=>{try{const B=await Yn.getStats();if(B.success){const ae={total:B.data.total_leads||0,new:B.data.new_leads||0,contacted:B.data.contacted_leads||0,interested:B.data.interested_leads||0,not_interested:B.data.not_interested_leads||0};se(ae)}}catch(B){console.error("Load stats error:",B)}},Qe=async(B,ae)=>{try{const ue=await Yn.updateLead(B,{status:ae});ue.success?(re.success("Lead status updated successfully!"),ie(),Ne()):re.error(ue.message||"Failed to update lead status")}catch(ue){console.error("Update lead error:",ue),re.error("Failed to update lead status")}},et=async B=>{if(window.confirm("Are you sure you want to delete this lead?"))try{const ae=await Yn.deleteLead(B);ae.success?(re.success("Lead deleted successfully!"),ie(),Ne()):re.error(ae.message||"Failed to delete lead")}catch(ae){console.error("Delete lead error:",ae),re.error("Failed to delete lead")}},xt=async()=>{if(h.length===0){re.error("No search results to save");return}try{const B=h.map(ue=>{var X,ve,Te,Ke;return{business_name:ue.name,address:ue.formatted_address,phone:ue.phone||null,email:ue.email||null,website:ue.website||null,business_type:ue.business_type||(ue.types&&ue.types.length>0?ue.types[0]:null),latitude:((ve=(X=ue.geometry)==null?void 0:X.location)==null?void 0:ve.lat)||ue.lat,longitude:((Ke=(Te=ue.geometry)==null?void 0:Te.location)==null?void 0:Ke.lng)||ue.lon,place_id:ue.place_id||ue.id,search_query:e,search_location:s,rating:ue.rating||null,total_ratings:ue.user_ratings_total||null}}),ae=await Yn.bulkSaveLeads({leads:B});ae.success?(re.success(`${ae.saved_count||B.length} leads saved successfully!${ae.skipped_count>0?` (${ae.skipped_count} already existed)`:""}`),O==="saved"&&(ie(),Ne())):re.error(ae.message||"Failed to save leads")}catch(B){console.error("Bulk save error:",B),re.error("Failed to bulk save leads")}},K=async B=>{try{let ae=h.find(ue=>ue.place_id===B);ae||(ae=JSON.parse(localStorage.getItem("demoLeads")||"[]").find(X=>X.place_id===B)),ae?(k(ae),H(!0)):re.error("Place details not found")}catch(ae){console.error("Get place details error:",ae),re.error("Failed to get place details")}},ne=(B,ae)=>B?` ${B.toFixed(1)} (${ae||0} reviews)`:"No rating",Re=B=>!B||B.length===0?"Unknown":B[0].replace(/_/g," ").replace(/\b\w/g,ae=>ae.toUpperCase()),Xe=B=>{switch(B){case"new":return"bg-blue-100 text-blue-800";case"contacted":return"bg-yellow-100 text-yellow-800";case"interested":return"bg-green-100 text-green-800";case"not_interested":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return i.jsxs("div",{className:"h-screen flex flex-col app-shell-bg relative overflow-hidden",children:[i.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 pointer-events-none bg-gradient-to-r from-indigo-500/10 via-purple-500/10 to-pink-500/10"}),i.jsx("div",{className:"relative z-10 bg-white/5 backdrop-blur-md border-b border-white/10 px-6 py-4 flex items-center justify-between",children:i.jsx("h1",{className:"text-2xl font-bold text-white",children:"Lead Scraper"})}),O==="search"&&i.jsxs("div",{className:"flex-1 flex h-full relative z-10",children:[i.jsxs("div",{className:"w-80 bg-white/5 backdrop-blur-md border-r border-white/10 flex flex-col h-full",children:[i.jsx("div",{className:"flex-shrink-0 p-3 border-b border-white/10 bg-white/5 backdrop-blur-md",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ot,{placeholder:"Search for businesses, places, or services...",value:e,onChange:B=>t(B.target.value),onKeyDown:B=>B.key==="Enter"&&rt(),onFocus:()=>te(!0),onBlur:()=>setTimeout(()=>te(!1),200),className:"w-full text-sm h-9 bg-white/5 border-white/20 text-white placeholder:text-gray-500"}),M&&(F.length>0||!e)&&i.jsxs("div",{className:"absolute top-full left-0 right-0 bg-[#0e1340] border border-white/10 rounded-md shadow-lg z-50 mt-1",children:[F.length>0&&i.jsxs("div",{className:"p-2 border-b border-white/10",children:[i.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Recent searches"}),F.slice(0,5).map((B,ae)=>i.jsxs("button",{onClick:()=>{t(B.query),r(B.location||""),te(!1)},className:"w-full text-left text-xs p-1 hover:bg-white/10 rounded flex items-center gap-2 text-gray-300",children:[i.jsx("span",{className:"text-gray-500",children:""}),i.jsx("span",{children:B.query}),B.location&&i.jsxs("span",{className:"text-gray-500",children:["in ",B.location]})]},ae))]}),!e&&i.jsxs("div",{className:"p-2",children:[i.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Popular searches"}),["Restaurants near me","Gas stations","Hotels","Hospitals","Banks","Coffee shops"].map(B=>i.jsxs("button",{onClick:()=>{t(B),te(!1)},className:"w-full text-left text-xs p-1 hover:bg-white/10 rounded flex items-center gap-2 text-gray-300",children:[i.jsx("span",{className:"text-gray-500",children:""}),i.jsx("span",{children:B})]},B))]})]})]}),i.jsx("div",{}),i.jsxs(je,{onClick:rt,disabled:l||!e.trim(),className:"w-full h-8 text-sm bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white border-0",children:[i.jsx(Zr,{className:"h-3 w-3 mr-1"}),l?"Searching...":"Search"]}),h.length>0&&i.jsxs(je,{variant:"outline",onClick:xt,className:"w-full h-8 text-sm border-white/20 text-white hover:bg-white/10",children:[i.jsx(nh,{className:"h-3 w-3 mr-1"}),"Save All (",h.length,")"]})]})}),i.jsx("div",{className:"flex-1 overflow-hidden",children:h.length>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex-shrink-0 px-3 py-2 border-b border-white/10 bg-white/5 backdrop-blur-md",children:i.jsxs("h3",{className:"font-medium text-sm text-white",children:["Search Results (",h.length,")",y&&"+"]})}),i.jsx("div",{ref:N,className:"h-full overflow-y-auto",children:i.jsxs("div",{className:"p-2 space-y-2",children:[h.map((B,ae)=>i.jsx("div",{className:"border border-white/10 rounded-lg p-3 hover:shadow-md transition-all bg-white/5 backdrop-blur-md hover:bg-white/10 cursor-pointer",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsx("h4",{className:"font-semibold text-sm leading-tight text-white",title:B.name,children:B.name}),B.business_status==="OPERATIONAL"&&i.jsx("span",{className:"text-xs text-green-400 font-medium",children:"Open"})]}),B.rating&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-yellow-500",children:""}),i.jsx("span",{className:"text-sm font-medium text-white",children:B.rating.toFixed(1)})]}),B.user_ratings_total>0&&i.jsxs("span",{className:"text-xs text-gray-400",children:["(",B.user_ratings_total.toLocaleString()," reviews)"]})]}),B.price_level!==void 0&&B.price_level!==null&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-xs text-gray-400",children:"Price:"}),i.jsx("span",{className:"text-sm font-medium text-green-400",children:"$".repeat(B.price_level+1)})]}),B.types&&B.types.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-1",children:[B.types.slice(0,3).map((ue,X)=>i.jsx(Yt,{variant:"outline",className:"text-xs py-0 px-1 h-4 bg-indigo-500/20 text-indigo-300 border-indigo-500/30",children:ue.replace(/_/g," ").replace(/\b\w/g,ve=>ve.toUpperCase())},X)),B.types.length>3&&i.jsxs("span",{className:"text-xs text-gray-400",children:["+",B.types.length-3," more"]})]}),i.jsxs("div",{className:"flex items-start gap-1 text-xs text-gray-400",children:[i.jsx(eh,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"line-clamp-2 leading-tight",children:B.formatted_address})]}),B.phone&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[i.jsx(Nr,{className:"h-3 w-3 flex-shrink-0"}),i.jsx("span",{children:B.phone})]}),B.opening_hours&&i.jsx("div",{className:"text-xs",children:B.opening_hours.open_now||B.opening_hours.openNow?i.jsx("span",{className:"text-green-400 font-medium",children:"Open now"}):i.jsx("span",{className:"text-red-400 font-medium",children:"Closed"})}),i.jsxs("div",{className:"flex gap-1 pt-1",children:[i.jsxs(je,{size:"sm",onClick:()=>Le(B),className:"flex items-center gap-1 text-xs h-6 px-2 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white border-0",children:[i.jsx(nh,{className:"h-3 w-3"}),"Save"]}),i.jsxs(je,{size:"sm",variant:"outline",onClick:()=>K(B.place_id),className:"flex items-center gap-1 text-xs h-6 px-2 border-white/20 text-white hover:bg-white/10",children:[i.jsx(Fg,{className:"h-3 w-3"}),"Details"]}),B.geometry&&B.geometry.location&&i.jsx(je,{size:"sm",variant:"ghost",onClick:()=>{const ue=B.geometry.location.lat,X=B.geometry.location.lng,ve=`https://www.google.com/maps/dir/?api=1&destination=${ue},${X}`;window.open(ve,"_blank")},className:"flex items-center gap-1 text-xs h-6 px-1 text-gray-300 hover:bg-white/10",title:"Get directions",children:""}),B.place_id&&i.jsx(je,{size:"sm",variant:"ghost",onClick:()=>{const ue=`https://www.google.com/maps/place/?q=place_id:${B.place_id}`;window.open(ue,"_blank")},className:"flex items-center gap-1 text-xs h-6 px-1 text-gray-300 hover:bg-white/10",title:"View on Google Maps",children:""})]})]})},B.place_id||ae)),w&&i.jsx("div",{className:"flex items-center justify-center py-4",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[i.jsxs("svg",{className:"animate-spin h-4 w-4 text-indigo-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i.jsx("span",{children:"Loading more leads..."})]})}),!y&&h.length>0&&!w&&i.jsx("div",{className:"flex items-center justify-center py-3",children:i.jsxs("span",{className:"text-xs text-gray-500",children:[" End of results (",h.length," total) "]})}),y&&!w&&i.jsx("div",{className:"flex items-center justify-center py-3",children:i.jsx(je,{variant:"outline",size:"sm",onClick:()=>rt(!0),className:"text-xs border-white/20 text-white hover:bg-white/10",children:"Load More Results"})})]})})]}):i.jsxs("div",{className:"p-4 text-center text-gray-400",children:[i.jsx(Zr,{className:"h-12 w-12 mx-auto mb-3 text-gray-500"}),i.jsx("p",{className:"text-sm text-gray-300",children:"Search for businesses to see results here"}),i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsx("p",{className:"text-xs font-medium text-gray-300",children:"Quick searches:"}),i.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.jsx("button",{size:"sm",variant:"outline",onClick:()=>t("hotels"),className:`px-3 py-1
    rounded-lg
    text-sm font-semibold
    text-white
    bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))]
    border border-white/15
    shadow-[0_2px_5px_rgba(90,110,255,0.45)]
    hover:shadow-[0_5px_10px_rgba(90,110,255,0.65)]
    hover:bg-[linear-gradient(180deg,rgba(90,110,255,0.6),rgba(36,46,151,0.45))]
    disabled:opacity-40
    disabled:cursor-not-allowed
    transition-all
    flex items-center gap-2`,children:"Hotels"}),i.jsx("button",{size:"sm",variant:"outline",onClick:()=>t("restaurants"),className:`px-3 py-1
    rounded-lg
    text-sm font-semibold
    text-white
    bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))]
    border border-white/15
    shadow-[0_2px_5px_rgba(90,110,255,0.45)]
    hover:shadow-[0_5px_10px_rgba(90,110,255,0.65)]
    hover:bg-[linear-gradient(180deg,rgba(90,110,255,0.6),rgba(36,46,151,0.45))]
    disabled:opacity-40
    disabled:cursor-not-allowed
    transition-all
    flex items-center gap-2`,children:"Restaurants"}),i.jsx("button",{size:"sm",variant:"outline",onClick:()=>t("shops"),className:`px-3 py-1
    rounded-lg
    text-sm font-semibold
    text-white
    bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))]
    border border-white/15
    shadow-[0_2px_5px_rgba(90,110,255,0.45)]
    hover:shadow-[0_5px_10px_rgba(90,110,255,0.65)]
    hover:bg-[linear-gradient(180deg,rgba(90,110,255,0.6),rgba(36,46,151,0.45))]
    disabled:opacity-40
    disabled:cursor-not-allowed
    transition-all
    flex items-center gap-2`,children:"Shops"}),i.jsx("button",{size:"sm",variant:"outline",onClick:()=>t("banks"),className:`px-3 py-1
    rounded-lg
    text-sm font-semibold
    text-white
    bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))]
    border border-white/15
    shadow-[0_2px_5px_rgba(90,110,255,0.45)]
    hover:shadow-[0_5px_10px_rgba(90,110,255,0.65)]
    hover:bg-[linear-gradient(180deg,rgba(90,110,255,0.6),rgba(36,46,151,0.45))]
    disabled:opacity-40
    disabled:cursor-not-allowed
    transition-all
    flex items-center gap-2`,children:"Banks"})]}),i.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[i.jsx("p",{className:"font-medium text-gray-300",children:"Tips for better results:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-0.5 text-xs",children:[i.jsx("li",{children:'Use specific terms like "hotels" instead of "accommodation"'}),i.jsx("li",{children:"Try different radius settings (1-20km work best)"}),i.jsx("li",{children:"For international searches, include city name"})]})]})]})]})})]}),i.jsx("div",{className:"flex-1 relative overflow-hidden",children:i.jsx("div",{ref:qe,className:"w-full h-full",style:{height:"100%",width:"100%",overflow:"hidden"}})})]}),O==="saved"&&i.jsxs("div",{className:"flex-1 p-6 overflow-y-auto relative z-10",children:[fe&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[i.jsx(qt,{className:"bg-white/5 backdrop-blur-md border border-white/10",children:i.jsxs(Kt,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-400",children:fe.total}),i.jsx("div",{className:"text-sm text-gray-400",children:"Total Leads"})]})}),i.jsx(qt,{className:"bg-white/5 backdrop-blur-md border border-white/10",children:i.jsxs(Kt,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-green-400",children:fe.new}),i.jsx("div",{className:"text-sm text-gray-400",children:"New Leads"})]})}),i.jsx(qt,{className:"bg-white/5 backdrop-blur-md border border-white/10",children:i.jsxs(Kt,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:fe.contacted}),i.jsx("div",{className:"text-sm text-gray-400",children:"Contacted"})]})}),i.jsx(qt,{className:"bg-white/5 backdrop-blur-md border border-white/10",children:i.jsxs(Kt,{className:"p-4",children:[i.jsx("div",{className:"text-2xl font-bold text-purple-400",children:fe.interested}),i.jsx("div",{className:"text-sm text-gray-400",children:"Interested"})]})})]}),i.jsxs(qt,{className:"mb-6 bg-white/5 backdrop-blur-md border border-white/10",children:[i.jsx(In,{children:i.jsx(On,{className:"text-white",children:"Filter Leads"})}),i.jsx(Kt,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx(We,{htmlFor:"filterSearch",className:"text-gray-300",children:"Search"}),i.jsx(ot,{id:"filterSearch",placeholder:"Search leads...",value:oe.search,onChange:B=>ce(ae=>({...ae,search:B.target.value})),className:"bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"filterStatus",className:"text-gray-300",children:"Status"}),i.jsxs(un,{value:oe.status,onValueChange:B=>ce(ae=>({...ae,status:B})),children:[i.jsx(sn,{className:"bg-white/5 border-white/20 text-white",children:i.jsx(hn,{placeholder:"All statuses"})}),i.jsxs(rn,{className:"bg-[#0e1340] border-white/10 text-white",children:[i.jsx(Ie,{value:"all",children:"All statuses"}),i.jsx(Ie,{value:"new",children:"New"}),i.jsx(Ie,{value:"contacted",children:"Contacted"}),i.jsx(Ie,{value:"interested",children:"Interested"}),i.jsx(Ie,{value:"not_interested",children:"Not Interested"})]})]})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"filterBusinessType",className:"text-gray-300",children:"Business Type"}),i.jsx(ot,{id:"filterBusinessType",placeholder:"e.g., restaurant",value:oe.business_type,onChange:B=>ce(ae=>({...ae,business_type:B.target.value})),className:"bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),i.jsxs("div",{children:[i.jsx(We,{htmlFor:"filterRating",className:"text-gray-300",children:"Min Rating"}),i.jsxs(un,{value:oe.rating_min,onValueChange:B=>ce(ae=>({...ae,rating_min:B})),children:[i.jsx(sn,{className:"bg-white/5 border-white/20 text-white",children:i.jsx(hn,{placeholder:"Any rating"})}),i.jsxs(rn,{className:"bg-[#0e1340] border-white/10 text-white",children:[i.jsx(Ie,{value:"all",children:"Any rating"}),i.jsx(Ie,{value:"1",children:"1+ stars"}),i.jsx(Ie,{value:"2",children:"2+ stars"}),i.jsx(Ie,{value:"3",children:"3+ stars"}),i.jsx(Ie,{value:"4",children:"4+ stars"}),i.jsx(Ie,{value:"4.5",children:"4.5+ stars"})]})]})]})]})})]}),i.jsxs(qt,{className:"bg-white/5 backdrop-blur-md border border-white/10",children:[i.jsx(In,{children:i.jsx(On,{className:"text-white",children:"Your Saved Leads"})}),i.jsx(Kt,{children:Be?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("p",{className:"text-gray-400",children:"Loading leads..."})}):he.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(ET,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-400",children:"No saved leads found"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Start by searching for leads in the Search tab"})]}):i.jsxs("div",{className:"space-y-4",children:[he.map(B=>i.jsx("div",{className:"border border-white/10 rounded-lg p-4 hover:shadow-md transition-shadow bg-white/5 hover:bg-white/10",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-semibold text-lg text-white",children:B.business_name}),i.jsx(Yt,{className:Xe(B.status),children:B.status.replace("_"," ")})]}),i.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-400",children:[i.jsx(eh,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),i.jsx("span",{children:B.address})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[B.phone&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Nr,{className:"h-4 w-4"}),i.jsx("span",{children:B.phone})]}),B.website&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ja,{className:"h-4 w-4"}),i.jsx("a",{href:B.website,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:underline",children:"Website"})]}),B.rating&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(sP,{className:"h-4 w-4 text-yellow-500 fill-current"}),i.jsx("span",{className:"text-gray-300",children:ne(B.rating,B.total_ratings)})]})]}),B.business_type&&i.jsx(Yt,{variant:"secondary",className:"text-xs bg-indigo-500/20 text-indigo-300 border border-indigo-500/30",children:Re([B.business_type])}),B.notes&&i.jsxs("div",{className:"text-sm text-gray-400 bg-white/5 p-2 rounded",children:[i.jsx("strong",{className:"text-gray-300",children:"Notes:"})," ",B.notes]})]}),i.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[i.jsxs(un,{value:B.status,onValueChange:ae=>Qe(B.id,ae),children:[i.jsx(sn,{className:"w-32 bg-white/5 border-white/20 text-white",children:i.jsx(hn,{})}),i.jsxs(rn,{className:"bg-[#0e1340] border-white/10 text-white",children:[i.jsx(Ie,{value:"new",children:"New"}),i.jsx(Ie,{value:"contacted",children:"Contacted"}),i.jsx(Ie,{value:"interested",children:"Interested"}),i.jsx(Ie,{value:"not_interested",children:"Not Interested"})]})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(je,{size:"sm",variant:"outline",onClick:()=>{k(B),H(!0)},className:"border-white/20 text-white hover:bg-white/10",children:i.jsx(Qa,{className:"h-3 w-3"})}),i.jsx(je,{size:"sm",variant:"outline",onClick:()=>et(B.id),className:"border-red-500/30 text-red-400 hover:bg-red-500/10",children:i.jsx(el,{className:"h-3 w-3"})})]})]})]})},B.id)),de>1&&i.jsxs("div",{className:"flex items-center justify-center gap-2 pt-4",children:[i.jsx(je,{variant:"outline",size:"sm",onClick:()=>xe(B=>Math.max(1,B-1)),disabled:ge===1,className:"border-white/20 text-white hover:bg-white/10",children:"Previous"}),i.jsxs("span",{className:"text-sm text-gray-400",children:["Page ",ge," of ",de]}),i.jsx(je,{variant:"outline",size:"sm",onClick:()=>xe(B=>Math.min(de,B+1)),disabled:ge===de,className:"border-white/20 text-white hover:bg-white/10",children:"Next"})]})]})})]})]}),i.jsx(qa,{open:I,onOpenChange:H,children:i.jsxs(Fr,{className:"max-w-2xl bg-[#0e1340] border border-white/10 text-white",children:[i.jsx(Vr,{children:i.jsx($r,{className:"text-white",children:(V==null?void 0:V.business_name)||(V==null?void 0:V.name)||"Lead Details"})}),V&&i.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[!1,i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(We,{className:"text-gray-300",children:"Business Name"}),i.jsx("p",{className:"text-sm font-medium text-white",children:V.business_name||V.name||"Unknown Business"})]}),i.jsxs("div",{children:[i.jsx(We,{className:"text-gray-300",children:"Business Type"}),i.jsx("p",{className:"text-sm text-gray-300",children:V.business_type||Re(V.types)||"Unknown"})]})]}),i.jsxs("div",{children:[i.jsx(We,{className:"text-gray-300",children:"Address"}),i.jsx("p",{className:"text-sm text-gray-300",children:V.address||V.formatted_address||"Address not available"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[V.phone&&i.jsxs("div",{children:[i.jsxs(We,{className:"flex items-center gap-1 text-gray-300",children:[i.jsx(Nr,{className:"h-4 w-4"}),"Phone"]}),i.jsx("p",{className:"text-sm text-gray-300",children:V.phone})]}),V.email&&i.jsxs("div",{children:[i.jsx(We,{className:"text-gray-300",children:"Email"}),i.jsx("a",{href:`mailto:${V.email}`,className:"text-sm text-indigo-400 hover:underline",children:V.email})]}),V.website&&i.jsxs("div",{children:[i.jsxs(We,{className:"flex items-center gap-1 text-gray-300",children:[i.jsx(Ja,{className:"h-4 w-4"}),"Website"]}),i.jsx("a",{href:V.website.startsWith("http")?V.website:`https://${V.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-indigo-400 hover:underline",children:V.website})]}),V.fax&&i.jsxs("div",{children:[i.jsx(We,{className:"text-gray-300",children:"Fax"}),i.jsx("p",{className:"text-sm text-gray-300",children:V.fax})]})]}),(V.facebook||V.instagram||V.twitter)&&i.jsxs("div",{children:[i.jsx(We,{className:"text-gray-300",children:"Social Media"}),i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[V.facebook&&i.jsx("a",{href:V.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-blue-500/20 text-blue-300 px-2 py-1 rounded border border-blue-500/30",children:"Facebook"}),V.instagram&&i.jsx("a",{href:V.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-pink-500/20 text-pink-300 px-2 py-1 rounded border border-pink-500/30",children:"Instagram"}),V.twitter&&i.jsx("a",{href:V.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-sky-500/20 text-sky-300 px-2 py-1 rounded border border-sky-500/30",children:"Twitter"})]})]}),V.rating&&i.jsxs("div",{children:[i.jsx(We,{className:"text-gray-300",children:"Rating"}),i.jsx("p",{className:"text-sm text-gray-300",children:ne(V.rating,V.total_ratings||V.user_ratings_total)})]}),V.opening_hours&&i.jsxs("div",{children:[i.jsx(We,{className:"text-gray-300",children:"Opening Hours"}),i.jsx("div",{className:"text-sm bg-white/5 p-2 rounded text-gray-300",children:typeof V.opening_hours=="string"?V.opening_hours:V.opening_hours.weekdayDescriptions?V.opening_hours.weekdayDescriptions.join(`
`):V.opening_hours.openNow!==void 0?V.opening_hours.openNow?"Open now":"Closed":JSON.stringify(V.opening_hours)})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[V.cuisine&&i.jsxs("div",{children:[i.jsx(We,{className:"text-gray-300",children:"Cuisine"}),i.jsx("p",{className:"text-sm text-gray-300",children:V.cuisine})]}),V.operator&&i.jsxs("div",{children:[i.jsx(We,{className:"text-gray-300",children:"Operator/Brand"}),i.jsx("p",{className:"text-sm text-gray-300",children:V.operator})]}),V.capacity&&i.jsxs("div",{children:[i.jsx(We,{className:"text-gray-300",children:"Capacity"}),i.jsx("p",{className:"text-sm text-gray-300",children:V.capacity})]}),V.wheelchair&&i.jsxs("div",{children:[i.jsx(We,{className:"text-gray-300",children:"Wheelchair Access"}),i.jsx("p",{className:"text-sm text-gray-300",children:V.wheelchair==="yes"?"Accessible":V.wheelchair})]}),V.internet_access&&i.jsxs("div",{children:[i.jsx(We,{className:"text-gray-300",children:"Internet/WiFi"}),i.jsx("p",{className:"text-sm text-gray-300",children:V.internet_access})]}),V.payment_methods&&i.jsxs("div",{children:[i.jsx(We,{className:"text-gray-300",children:"Payment Methods"}),i.jsx("p",{className:"text-sm text-gray-300",children:V.payment_methods})]})]}),V.description&&i.jsxs("div",{children:[i.jsx(We,{className:"text-gray-300",children:"Description"}),i.jsx("p",{className:"text-sm bg-white/5 p-2 rounded text-gray-300",children:V.description})]}),V.search_query&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(We,{className:"text-gray-300",children:"Search Query"}),i.jsx("p",{className:"text-sm text-gray-300",children:V.search_query})]}),V.search_location&&i.jsxs("div",{children:[i.jsx(We,{className:"text-gray-300",children:"Search Location"}),i.jsx("p",{className:"text-sm text-gray-300",children:V.search_location})]})]}),V.notes&&i.jsxs("div",{children:[i.jsx(We,{className:"text-gray-300",children:"Notes"}),i.jsx(Hl,{value:V.notes,onChange:B=>k(ae=>({...ae,notes:B.target.value})),placeholder:"Add notes about this lead...",rows:3,className:"bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]})]})]})})]})},fP=N0,mP=C0,pP=f.forwardRef(({className:e,inset:t,children:s,...r},a)=>i.jsxs(ph,{ref:a,className:Ze("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[s,i.jsx(w0,{className:"ml-auto"})]}));pP.displayName=ph.displayName;const gP=f.forwardRef(({className:e,...t},s)=>i.jsx(gh,{ref:s,className:Ze("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));gP.displayName=gh.displayName;const $g=f.forwardRef(({className:e,sideOffset:t=4,...s},r)=>i.jsx(j0,{children:i.jsx(xh,{ref:r,sideOffset:t,className:Ze("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));$g.displayName=xh.displayName;const Ug=f.forwardRef(({className:e,inset:t,...s},r)=>i.jsx(vh,{ref:r,className:Ze("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...s}));Ug.displayName=vh.displayName;const xP=f.forwardRef(({className:e,children:t,checked:s,...r},a)=>i.jsxs(yh,{ref:a,className:Ze("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(bh,{children:i.jsx(lh,{className:"h-4 w-4"})})}),t]}));xP.displayName=yh.displayName;const vP=f.forwardRef(({className:e,children:t,...s},r)=>i.jsxs(_h,{ref:r,className:Ze("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(bh,{children:i.jsx(S0,{className:"h-2 w-2 fill-current"})})}),t]}));vP.displayName=_h.displayName;const yP=f.forwardRef(({className:e,inset:t,...s},r)=>i.jsx(wh,{ref:r,className:Ze("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...s}));yP.displayName=wh.displayName;const bP=f.forwardRef(({className:e,...t},s)=>i.jsx(jh,{ref:s,className:Ze("-mx-1 my-1 h-px bg-muted",e),...t}));bP.displayName=jh.displayName;const z5=async e=>{try{const t=await Se.post("/api/contacts",e);return re.success("Contact list created successfully"),t.data}catch(t){throw console.error("Contact Service Error:",t),re.error("Failed to create contact list"),t}},F5=async(e,t,s={})=>{var r,a,c,l,u,h,m;try{const g={page:e,search:t,...s};return(await Se.get("/api/contacts",{params:g})).data}catch(g){throw console.error("Error fetching contacts:",g),((r=g.response)==null?void 0:r.status)===404||((l=(c=(a=g.response)==null?void 0:a.data)==null?void 0:c.message)==null?void 0:l.toLowerCase().includes("not found"))||((m=(h=(u=g.response)==null?void 0:u.data)==null?void 0:h.error)==null?void 0:m.toLowerCase().includes("not found"))||re.error("Failed to fetch contacts"),g}},V5=async(e,t)=>{var s,r,a,c;try{const l={fullName:t.fullName,email:t.email,phoneNumber:t.phoneNumber};return(await Se.patch(`/api/contacts/${e}`,l)).data}catch(l){console.error("Error updating contact:",l);const u=((r=(s=l.response)==null?void 0:s.data)==null?void 0:r.error)||((c=(a=l.response)==null?void 0:a.data)==null?void 0:c.message)||"Failed to update contact";throw re.error(u),l}},$5=async e=>{var t,s;try{return(await Se.delete(`/api/contacts/${e}`)).data}catch(r){console.error("Error deleting contact:",r);const a=((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.message)||"Failed to delete contact";throw re.error(a),r}},_P=async(e,t,s)=>{try{return(await Se.get("/api/lists",{params:{page:e,search:t,includeDeleted:s}})).data}catch(r){throw console.error("Error fetching contact lists:",r),r}},U5=async e=>{try{return(await Se.get(`/api/lists/${e}`)).data}catch(t){throw console.error("Error fetching contact list:",t),re.error("Failed to fetch contact list"),t}},H5=async(e,t,s)=>{var r,a,c,l,u,h,m,g,x,y,b;try{return(await Se.get(`/api/lists/${e}/contacts`,{params:{page:t,search:s}})).data}catch(w){if(console.error("Error fetching list contacts:",w),!(((r=w.response)==null?void 0:r.status)===404||((l=(c=(a=w.response)==null?void 0:a.data)==null?void 0:c.message)==null?void 0:l.toLowerCase().includes("not found"))||((m=(h=(u=w.response)==null?void 0:u.data)==null?void 0:h.error)==null?void 0:m.toLowerCase().includes("not found")))){const N=((x=(g=w.response)==null?void 0:g.data)==null?void 0:x.error)||((b=(y=w.response)==null?void 0:y.data)==null?void 0:b.message)||"Failed to fetch list contacts";re.error(N)}throw w}},wP=async e=>{var t,s,r,a;try{const c={list_name:e.listName,list_description:e.description,type:e.type||"General"},l=await Se.post("/api/lists",c);return re.success("List created successfully"),l.data}catch(c){console.error("Error creating list:",c);const l=((s=(t=c.response)==null?void 0:t.data)==null?void 0:s.error)||((a=(r=c.response)==null?void 0:r.data)==null?void 0:a.message)||"Failed to create list";throw re.error(l),c}},jP=async(e,t)=>{var s,r,a,c;try{const l={email:t.email,contact_number:t.phoneNumber||t.contact_number,first_name:t.fullName||t.firstName||""};return(await Se.post(`/api/lists/${e}/contacts`,l)).data}catch(l){console.error("Error adding contact to list:",l);const u=((r=(s=l.response)==null?void 0:s.data)==null?void 0:r.error)||((c=(a=l.response)==null?void 0:a.data)==null?void 0:c.message)||"Failed to add contact to list";throw re.error(u),l}},W5=async(e,t)=>{var s,r,a,c;try{const l=await Se.delete(`/api/lists/${e}/contacts/${t}`);return re.success("Contact removed from list successfully"),l.data}catch(l){console.error("Error removing contact from list:",l);const u=((r=(s=l.response)==null?void 0:s.data)==null?void 0:r.error)||((c=(a=l.response)==null?void 0:a.data)==null?void 0:c.message)||"Failed to remove contact from list";throw re.error(u),l}},Z5=async()=>{try{return(await Se.get("/api/patients/stats")).data}catch(e){return console.error("Error fetching patient stats:",e),{total_patients:0,new_patients:0,contacted_patients:0,screening_patients:0,qualified_patients:0,enrolled_patients:0,banned_patients:0,dnq_patients:0}}},SP=()=>{const e=Ci(),[t,s]=f.useState([]),[r,a]=f.useState(!0),[c,l]=f.useState(""),[u,h]=f.useState("all"),[m,g]=f.useState(1),[x,y]=f.useState(1),[b,w]=f.useState(50),[_,N]=f.useState(0),[T,C]=f.useState([]),[j,P]=f.useState("all"),[E,D]=f.useState({total:0,new_leads:0,contacted:0,interested:0,not_interested:0}),[z,$]=f.useState(!1),[J,R]=f.useState({business_name:"",phone:"",email:"",website:"",address:"",business_type:"",status:"new"}),[F,U]=f.useState(!1),[M,te]=f.useState(!1),[he,Q]=f.useState(!1),[fe,se]=f.useState([]),[V,k]=f.useState(!1),[I,H]=f.useState(!1),[O,W]=f.useState(""),[ge,xe]=f.useState(!1),[de,Pe]=f.useState({list_name:"",type:"General",list_description:""}),[Be,G]=f.useState(!1),oe=async()=>{try{a(!0);const K=ct.getItem("token");if(!K){re.error("Please login to view leads");return}const ne=new URLSearchParams;u!=="all"&&ne.append("status",u),c.trim()&&ne.append("search",c.trim()),b!=="all"&&(ne.append("page",m.toString()),ne.append("limit",b.toString()));const Xe=await(await fetch(`/api/leads-contacts?${ne.toString()}`,{headers:{Authorization:`Bearer ${K}`}})).json();Xe.success?(s(Xe.leads),Xe.pagination?(y(Xe.pagination.totalPages||1),N(Xe.pagination.totalRecords||Xe.leads.length)):(N(Xe.leads.length),y(1))):re.error(Xe.message||"Failed to load leads")}catch(K){console.error("Load leads error:",K),re.error("Failed to load leads")}finally{a(!1)}},ce=async()=>{try{const K=ct.getItem("token");if(!K)return;const Re=await(await fetch("/api/leads-contacts/stats",{headers:{Authorization:`Bearer ${K}`}})).json();Re.success&&D(Re.stats)}catch(K){console.error("Load stats error:",K)}},Ee=async()=>{try{if(!J.business_name.trim()){re.error("Business name is required");return}const K=ct.getItem("token");if(!K){re.error("Authentication required");return}const Re=await(await fetch("https://ai.research-hero.com/api/leads-contacts/save",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${K}`},body:JSON.stringify({...J,latitude:null,longitude:null,place_id:`manual_${Date.now()}`,search_query:"Manual Entry",search_location:"Manual Entry",rating:null,total_ratings:null})})).json();Re.success?(re.success("Lead added successfully"),$(!1),R({business_name:"",phone:"",email:"",website:"",address:"",business_type:"",status:"new"}),oe(),ce()):re.error(Re.message||"Failed to add lead")}catch(K){console.error("Add lead error:",K),re.error("Failed to add lead")}},we=(K,ne)=>{R(Re=>({...Re,[K]:ne}))},Oe=()=>{$(!1),R({business_name:"",phone:"",email:"",website:"",address:"",business_type:"",status:"new"})},$e=K=>{const ne=new Date(K),Xe=Math.floor((new Date-ne)/(1e3*60*60));return Xe<1?"Just now":Xe<24?`${Xe} hours ago`:ne.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})},Ue=K=>new Date(K).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),ke=K=>{if(!K)return"UN";const ne=K.split(" ");return ne.length>=2?(ne[0][0]+ne[1][0]).toUpperCase():K.substring(0,2).toUpperCase()},qe=K=>{if(!K)return"bg-gray-500";const ne=["bg-blue-500","bg-green-500","bg-yellow-500","bg-red-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-teal-500"],Re=K.charCodeAt(0)%ne.length;return ne[Re]},De=K=>{C(ne=>ne.includes(K)?ne.filter(Re=>Re!==K):[...ne,K])},ft=()=>{T.length===t.length?C([]):C(t.map(K=>K.id))},at=K=>{e(`/leads/${K}`)},nt=()=>{if(T.length===0){re.error("Please select leads to delete");return}U(!0)},rt=async()=>{U(!1);try{const K=ct.getItem("token");if(!K){re.error("Authentication required");return}const ne=T.map(ue=>fetch(`https://ai.research-hero.com/api/leads-contacts/${ue}`,{method:"DELETE",headers:{Authorization:`Bearer ${K}`}})),Re=await Promise.all(ne),Xe=await Promise.all(Re.map(ue=>ue.json())),B=Xe.filter(ue=>ue.success).length,ae=Xe.length-B;B>0&&(re.success(`Successfully deleted ${B} lead(s)`),C([]),oe(),ce()),ae>0&&re.error(`Failed to delete ${ae} lead(s)`)}catch(K){console.error("Delete leads error:",K),re.error("Failed to delete selected leads")}},Tt=()=>{if(T.length===0){re.error("Please select leads to export");return}try{const K=t.filter(X=>T.includes(X.id)),ne=["Business Name","Phone","Email","Website","Address","Business Type","Status","Rating","Total Ratings","Created Date"],Re=K.map(X=>[X.business_name||"",X.phone||"",X.email||"",X.website||"",X.address||"",X.business_type||"",X.status||"",X.rating||"",X.total_ratings||"",X.created_at?new Date(X.created_at).toLocaleDateString():""]),Xe=[ne,...Re].map(X=>X.map(ve=>`"${ve}"`).join(",")).join(`
`),B=new Blob([Xe],{type:"text/csv;charset=utf-8;"}),ae=document.createElement("a"),ue=URL.createObjectURL(B);ae.setAttribute("href",ue),ae.setAttribute("download",`leads_export_${new Date().toISOString().split("T")[0]}.csv`),ae.style.visibility="hidden",document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),re.success(`Successfully exported ${T.length} lead(s) to CSV`)}catch(K){console.error("Export leads error:",K),re.error("Failed to export leads")}},ee=K=>{w(K),g(1)},ye=K=>{g(K)},Le=async()=>{try{k(!0);const K=await _P();K.success&&K.data&&se(K.data)}catch(K){console.error("Load contact lists error:",K)}finally{k(!1)}},ie=()=>{if(T.length===0){re.error("Please select at least one lead");return}Le(),te(!0)},Ne=async()=>{if(!de.list_name.trim()){re.error("List name is required");return}if(!de.list_description.trim()){re.error("List description is required");return}try{G(!0),(await wP({listName:de.list_name,description:de.list_description,type:de.type})).success&&(await Le(),Q(!1),Pe({list_name:"",type:"General",list_description:""}))}catch(K){console.error("Create list error:",K)}finally{G(!1)}},Qe=async()=>{var K;if(!O){re.error("Please select a list");return}try{xe(!0);const ne=t.filter(Re=>T.includes(Re.id));for(const Re of ne)await jP(O,{email:Re.email||`${(K=Re.business_name)==null?void 0:K.toLowerCase().replace(/\s+/g,"")}@placeholder.com`,contact_number:Re.phone||"",phoneNumber:Re.phone||"",fullName:Re.business_name||""});re.success(`Successfully added ${T.length} lead(s) to the list`),te(!1),H(!1),W(""),C([])}catch(ne){console.error("Add to list error:",ne)}finally{xe(!1)}},et=()=>{te(!1),H(!1),W("")},xt=()=>{Q(!1),Pe({list_name:"",type:"General",list_description:""})};return f.useEffect(()=>{oe(),ce()},[u,c,m,b]),i.jsxs("div",{className:"min-h-screen app-shell-bg relative overflow-hidden",children:[i.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 pointer-events-none bg-gradient-to-r from-indigo-500/10 via-purple-500/10 to-pink-500/10"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"bg-white/5 backdrop-blur-md border-b border-white/10",children:i.jsxs("div",{className:"px-6 py-4",children:[i.jsxs("div",{className:"flex items-center  mb-6 gap-6",children:[i.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Leads"}),i.jsxs("div",{className:"flex items-center gap-2 ",children:[i.jsxs(je,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:[i.jsx(Io,{className:"h-4 w-4 mr-2"}),"Create"]}),i.jsx(je,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:"Bulk Actions"}),i.jsx(je,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:"Restore"}),i.jsx(je,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:"Tasks"}),i.jsx(je,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:"Companies"}),i.jsx(je,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:"Manage Smart Lists"}),i.jsx(je,{size:"sm",variant:"ghost",className:"bg-transparent text-white hover:bg-white/10",children:i.jsx(zT,{className:"h-4 w-4 stroke-[2]"})})]})]}),i.jsxs("div",{className:"flex items-center gap-6 border-b border-white/10",children:[i.jsx("button",{onClick:()=>P("all"),className:`pb-3 px-1 text-sm font-medium border-b-2 transition-colors ${j==="all"?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:"All"}),i.jsx("button",{onClick:()=>P("new"),className:`pb-3 px-1 text-sm font-medium border-b-2 transition-colors ${j==="new"?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:"New"}),i.jsx("button",{onClick:()=>P("contacted"),className:`pb-3 px-1 text-sm font-medium border-b-2 transition-colors ${j==="contacted"?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:"Contacted"})]})]})}),i.jsxs("div",{className:"px-6 py-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(je,{size:"sm",variant:"outline",title:"Add Contact",onClick:()=>$(!0),className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:i.jsx(Io,{className:"h-4 w-4"})}),i.jsx(je,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:i.jsx(qT,{className:"h-4 w-4 stroke-[2] "})}),i.jsx(je,{size:"sm",variant:"outline",title:"please select lead to add automation ",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:i.jsx(T0,{className:"h-4 w-4"})}),i.jsx(je,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:i.jsx(Wr,{className:"h-4 w-4 stroke-[2]"})}),i.jsx(je,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:i.jsx(Kc,{className:"h-4 w-4"})}),i.jsx(je,{size:"sm",variant:"outline",title:"delete leads",onClick:nt,className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:i.jsx(el,{className:"h-4 w-4 stroke-[2]"})}),i.jsx(je,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:i.jsx(Fg,{className:"h-4 w-4 stroke-[2]"})}),i.jsx(je,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:i.jsx(Vg,{className:"h-4 w-4 stroke-[2]"})}),i.jsx(je,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:i.jsx(NT,{className:"h-4 w-4 stroke-[2]"})}),i.jsx(je,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:i.jsx($T,{className:"h-4 w-4 stroke-[2]"})}),i.jsx(je,{size:"sm",variant:"outline",title:"Export selected leads",onClick:Tt,className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:i.jsx(ca,{className:"h-4 w-4 stroke-[2]"})}),i.jsx(je,{size:"sm",variant:"outline",title:"Import leads from CSV",onClick:()=>e("/leads-contacts/import"),className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:i.jsx(Tr,{className:"h-4 w-4 stroke-[2]"})}),i.jsxs(fP,{modal:!1,children:[i.jsx(mP,{asChild:!0,children:i.jsx(je,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:i.jsx(HT,{className:"h-4 w-4 stroke-[2]"})})}),i.jsx($g,{align:"end",className:"bg-[#0e1340] border-white/10 text-white",children:i.jsxs(Ug,{onClick:ie,disabled:T.length===0,className:T.length===0?"opacity-50 cursor-not-allowed text-gray-300":"cursor-pointer text-gray-300 hover:bg-white/10",children:[i.jsx(aP,{className:"h-4 w-4 mr-2 stroke-[2]"}),"Add to contact"]})})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Zr,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),i.jsx(ot,{placeholder:"Quick search",value:c,onChange:K=>l(K.target.value),className:"pl-10 w-64 h-8 bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),i.jsx(je,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:"More Filters"})]})]}),i.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-lg border border-white/10 overflow-hidden",children:[i.jsx("div",{className:"bg-white/5 backdrop-blur-md border-b border-white/10 px-4 py-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:T.length===t.length&&t.length>0,onChange:ft,className:"rounded border-white/30"}),i.jsxs("span",{className:"text-sm text-gray-400",children:["Total ",i.jsx("strong",{className:"text-white",children:_||E.total})," records.",b!=="all"&&i.jsxs("span",{children:[" Page ",m," of ",x]})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-400",children:"Show:"}),i.jsxs("select",{value:b,onChange:K=>ee(K.target.value==="all"?"all":parseInt(K.target.value)),className:"text-sm border border-white/20 rounded px-2 py-1 bg-white/5 text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[i.jsx("option",{value:25,className:"bg-[#0e1340]",children:"25"}),i.jsx("option",{value:50,className:"bg-[#0e1340]",children:"50"}),i.jsx("option",{value:100,className:"bg-[#0e1340]",children:"100"}),i.jsx("option",{value:"all",className:"bg-[#0e1340]",children:"All"})]}),i.jsx("span",{className:"text-sm text-gray-400",children:"per page"})]}),b!=="all"&&x>1&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(je,{size:"sm",variant:"ghost",disabled:m===1,onClick:()=>ye(m-1),className:"text-white hover:bg-white/10",children:i.jsx(RT,{className:"h-4 w-4"})}),i.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,x)},(K,ne)=>{let Re;return x<=5||m<=3?Re=ne+1:m>=x-2?Re=x-4+ne:Re=m-2+ne,i.jsx(je,{size:"sm",variant:m===Re?"default":"ghost",onClick:()=>ye(Re),className:`w-8 h-8 p-0 ${m===Re?"bg-indigo-600 text-white":"text-gray-400 hover:bg-white/10"}`,children:Re},Re)})}),i.jsx(je,{size:"sm",variant:"ghost",disabled:m===x,onClick:()=>ye(m+1),className:"text-white hover:bg-white/10",children:i.jsx(IT,{className:"h-4 w-4"})})]})]})]})}),i.jsxs("div",{className:"divide-y divide-white/10",children:[i.jsxs("div",{className:"bg-white/5 px-4 py-3 grid grid-cols-12 gap-4 text-sm font-medium text-gray-400 uppercase tracking-wider",children:[i.jsx("div",{className:"col-span-1"}),i.jsx("div",{className:"col-span-3",children:"Name"}),i.jsx("div",{className:"col-span-2",children:"Phone"}),i.jsx("div",{className:"col-span-2",children:"Email"}),i.jsx("div",{className:"col-span-1",children:"Tags"}),i.jsx("div",{className:"col-span-2",children:"Created"}),i.jsx("div",{className:"col-span-1",children:"Last Activity"})]}),r?i.jsxs("div",{className:"px-4 py-8 text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500 mx-auto"}),i.jsx("p",{className:"mt-2 text-gray-400",children:"Loading contacts..."})]}):t.length===0?i.jsxs("div",{className:"px-4 py-8 text-center text-gray-400",children:[i.jsx(Zr,{className:"h-12 w-12 mx-auto mb-4 text-gray-500"}),i.jsx("p",{children:"No contacts found"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Try adjusting your search or filters"})]}):t.map(K=>i.jsxs("div",{className:"bg-white/5 px-4 py-3 grid grid-cols-12 gap-4 hover:bg-white/10 transition-colors cursor-pointer",children:[i.jsx("div",{className:"col-span-1 flex items-center",children:i.jsx("input",{type:"checkbox",checked:T.includes(K.id),onChange:()=>De(K.id),className:"rounded border-white/30"})}),i.jsxs("div",{className:"col-span-3 flex items-center gap-3",onClick:()=>at(K.id),children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-medium ${qe(K.business_name)}`,children:ke(K.business_name)}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-white",children:K.business_name}),K.business_type&&i.jsx("div",{className:"text-xs text-gray-400",children:K.business_type})]})]}),i.jsx("div",{className:"col-span-2 flex items-center",onClick:()=>at(K.id),children:K.phone?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Kc,{className:"h-4 w-4 text-green-400"}),i.jsx("span",{className:"text-sm text-gray-300",children:K.phone})]}):i.jsx("span",{className:"text-sm text-gray-500",children:"-"})}),i.jsx("div",{className:"col-span-2 flex items-center",onClick:()=>at(K.id),children:K.email?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Wr,{className:"h-4 w-4 text-indigo-400"}),i.jsx("span",{className:"text-sm text-gray-300",children:K.email})]}):i.jsx("span",{className:"text-sm text-gray-500",children:"-"})}),i.jsx("div",{className:"col-span-1 flex items-center",children:K.tags&&K.tags.length>0?i.jsxs("div",{className:"flex flex-wrap gap-1",children:[K.tags.slice(0,2).map(ne=>i.jsx(Yt,{variant:"secondary",className:"text-xs bg-indigo-500/20 text-indigo-300 border border-indigo-500/30",children:ne.tag_name.replace("_"," ")},ne.tag_id)),K.tags.length>2&&i.jsxs(Yt,{variant:"outline",className:"text-xs border-white/20 text-gray-400",children:["+",K.tags.length-2]})]}):i.jsx("span",{className:"text-xs text-gray-500",children:"No tags"})}),i.jsx("div",{className:"col-span-2 flex items-center",children:i.jsxs("div",{className:"text-sm",children:[i.jsx("div",{className:"text-gray-300",children:$e(K.created_at)}),i.jsx("div",{className:"text-xs text-gray-500",children:Ue(K.created_at)})]})}),i.jsx("div",{className:"col-span-1 flex items-center",children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),i.jsx("span",{className:"text-sm text-gray-300",children:$e(K.updated_at||K.created_at)})]})})]},K.id))]})]})]}),z&&i.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:Oe}),i.jsx("div",{className:"absolute right-0 top-0 h-full w-96 bg-[#0e1340] shadow-xl border-l border-white/10",children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"px-6 py-4 border-b border-white/10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold text-white",children:"Add New Lead"}),i.jsx("button",{onClick:Oe,className:"text-gray-400 hover:text-white",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Business Name ",i.jsx("span",{className:"text-red-400",children:"*"})]}),i.jsx(ot,{value:J.business_name,onChange:K=>we("business_name",K.target.value),placeholder:"Enter business name",className:"w-full bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),i.jsx(ot,{value:J.phone,onChange:K=>we("phone",K.target.value),placeholder:"Enter phone number",className:"w-full bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),i.jsx(ot,{value:J.email,onChange:K=>we("email",K.target.value),placeholder:"Enter email address",type:"email",className:"w-full bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Website"}),i.jsx(ot,{value:J.website,onChange:K=>we("website",K.target.value),placeholder:"Enter website URL",className:"w-full bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Address"}),i.jsx(ot,{value:J.address,onChange:K=>we("address",K.target.value),placeholder:"Enter business address",className:"w-full bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Business Type"}),i.jsx(ot,{value:J.business_type,onChange:K=>we("business_type",K.target.value),placeholder:"Enter business type",className:"w-full bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Status"}),i.jsxs("select",{value:J.status,onChange:K=>we("status",K.target.value),className:"w-full px-3 py-2 border border-white/20 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white/5 text-white",children:[i.jsx("option",{value:"new",className:"bg-[#0e1340]",children:"New"}),i.jsx("option",{value:"contacted",className:"bg-[#0e1340]",children:"Contacted"}),i.jsx("option",{value:"interested",className:"bg-[#0e1340]",children:"Interested"}),i.jsx("option",{value:"not_interested",className:"bg-[#0e1340]",children:"Not Interested"})]})]})]})}),i.jsx("div",{className:"px-6 py-4 border-t border-white/10",children:i.jsxs("div",{className:"flex space-x-3",children:[i.jsx(je,{variant:"outline",onClick:Oe,className:"flex-1 border-white/20 text-white hover:bg-white/10",children:"Cancel"}),i.jsx(je,{onClick:Ee,className:"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white border-0",children:"Add Lead"})]})})]})})]}),F&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-[#0e1340] rounded-lg p-6 w-full max-w-md mx-4 border border-white/10",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-10 h-10 bg-red-500/20 rounded-full flex items-center justify-center",children:i.jsx(el,{className:"h-5 w-5 text-red-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Delete Leads"}),i.jsx("p",{className:"text-sm text-gray-400",children:"This action cannot be undone"})]})]}),i.jsx("div",{className:"mb-6",children:i.jsxs("p",{className:"text-gray-300",children:["Are you sure you want to delete ",i.jsx("span",{className:"font-semibold text-white",children:T.length})," selected lead(s)? This will permanently remove them from your database."]})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(je,{variant:"outline",onClick:()=>U(!1),className:"flex-1 border-white/20 text-white hover:bg-white/10",children:"Cancel"}),i.jsxs(je,{onClick:rt,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:["Delete ",T.length," Lead",T.length>1?"s":""]})]})]})}),i.jsx(qa,{open:M,onOpenChange:te,children:i.jsxs(Fr,{className:"sm:max-w-md bg-[#0e1340] border border-white/10 text-white",children:[i.jsx(Vr,{children:i.jsx($r,{className:"text-white",children:"Add to Contact List"})}),i.jsxs("div",{className:"py-4",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:["Selected Leads (",T.length,")"]}),i.jsx("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto",children:t.filter(K=>T.includes(K.id)).map(K=>i.jsxs("div",{className:"flex items-center gap-2 bg-white/10 rounded-full px-3 py-1",children:[i.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-medium ${qe(K.business_name)}`,children:ke(K.business_name)}),i.jsx("span",{className:"text-sm text-gray-300",children:K.business_name})]},K.id))})]}),i.jsxs(je,{variant:"outline",className:"w-full mb-4 border-white/20 text-white hover:bg-white/10",onClick:()=>Q(!0),children:[i.jsx(Io,{className:"h-4 w-4 mr-2"}),"Create New List"]}),i.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[i.jsx("input",{type:"checkbox",id:"addToExisting",checked:I,onChange:K=>H(K.target.checked),className:"rounded border-white/30"}),i.jsx("label",{htmlFor:"addToExisting",className:"text-sm text-gray-300 cursor-pointer",children:"Add to Existing List"})]}),I&&i.jsx("div",{className:"mb-4",children:V?i.jsx("div",{className:"text-center py-2",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-500 mx-auto"})}):fe.length===0?i.jsx("p",{className:"text-sm text-gray-400 text-center py-2",children:"No lists available. Create one first."}):i.jsxs(un,{value:O,onValueChange:W,children:[i.jsx(sn,{className:"w-full bg-white/5 border-white/20 text-white",children:i.jsx(hn,{placeholder:"Select a list"})}),i.jsx(rn,{className:"bg-[#0e1340] border-white/10 text-white",children:fe.map(K=>i.jsxs(Ie,{value:String(K.id),children:[K.listName||K.list_name," (",K.contacts_count||0," contacts)"]},K.id))})]})})]}),i.jsxs(Ka,{children:[i.jsx(je,{variant:"outline",onClick:et,className:"border-white/20 text-white hover:bg-white/10",children:"Cancel"}),I&&O&&i.jsx(je,{onClick:Qe,disabled:ge,className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white border-0",children:ge?"Adding...":"Save"})]})]})}),i.jsx(qa,{open:he,onOpenChange:Q,children:i.jsxs(Fr,{className:"sm:max-w-md bg-[#0e1340] border border-white/10 text-white",children:[i.jsx(Vr,{children:i.jsx($r,{className:"text-white",children:"Create New List"})}),i.jsxs("div",{className:"py-4 space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["List Name ",i.jsx("span",{className:"text-red-400",children:"*"})]}),i.jsx(ot,{value:de.list_name,onChange:K=>Pe(ne=>({...ne,list_name:K.target.value})),placeholder:"Enter list name",className:"w-full bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Type"}),i.jsxs(un,{value:de.type,onValueChange:K=>Pe(ne=>({...ne,type:K})),children:[i.jsx(sn,{className:"w-full bg-white/5 border-white/20 text-white",children:i.jsx(hn,{placeholder:"Select type"})}),i.jsxs(rn,{className:"bg-[#0e1340] border-white/10 text-white",children:[i.jsx(Ie,{value:"Marketing",children:"Marketing"}),i.jsx(Ie,{value:"Sales",children:"Sales"}),i.jsx(Ie,{value:"Event",children:"Event"}),i.jsx(Ie,{value:"Customer",children:"Customer"}),i.jsx(Ie,{value:"General",children:"General"})]})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["List Description ",i.jsx("span",{className:"text-red-400",children:"*"})]}),i.jsx("textarea",{value:de.list_description,onChange:K=>Pe(ne=>({...ne,list_description:K.target.value})),placeholder:"Enter list description",className:"w-full px-3 py-2 border border-white/20 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent min-h-[80px] bg-white/5 text-white placeholder:text-gray-500"})]})]}),i.jsxs(Ka,{children:[i.jsx(je,{variant:"outline",onClick:xt,className:"border-white/20 text-white hover:bg-white/10",children:"Cancel"}),i.jsx(je,{onClick:Ne,disabled:Be,className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white border-0",children:Be?"Creating...":"Create List"})]})]})})]})]})},NP=()=>{const e=Ci(),[t,s]=f.useState(null),[r,a]=f.useState([]),[c,l]=f.useState([]),[u,h]=f.useState({}),[m,g]=f.useState(!1),x=w=>{const _=w.target.files[0];if(!_)return;if(_.type!=="text/csv"&&!_.name.endsWith(".csv")){re.error("Please select a CSV file");return}s(_);const N=new FileReader;N.onload=T=>{const j=T.target.result.split(`
`).filter(z=>z.trim());if(j.length<2){re.error("CSV file must contain at least a header row and one data row");return}const P=j[0].split(",").map(z=>z.replace(/"/g,"").trim()),E=j.slice(1).map(z=>{const $=z.split(",").map(J=>J.replace(/"/g,"").trim());return P.reduce((J,R,F)=>(J[R]=$[F]||"",J),{})});l(P),a(E);const D={};P.forEach(z=>{const $=z.toLowerCase();$.includes("business")||$.includes("company")||$.includes("name")?D[z]="business_name":$.includes("phone")||$.includes("mobile")?D[z]="phone":$.includes("email")?D[z]="email":$.includes("website")||$.includes("url")?D[z]="website":$.includes("address")||$.includes("location")?D[z]="address":$.includes("type")||$.includes("category")?D[z]="business_type":$.includes("status")&&(D[z]="status")}),h(D)},N.readAsText(_)},y=(w,_)=>{h(N=>({...N,[w]:_}))},b=async()=>{if(Object.keys(u).length===0){re.error("Please map at least one field");return}g(!0);try{const w=ct.getItem("token");if(!w){re.error("Authentication required");return}const N=r.map(E=>{const D={};return Object.keys(u).forEach(z=>{const $=u[z];$&&$!=="skip"&&(D[$]=E[z]||"")}),{...D,latitude:null,longitude:null,place_id:`import_${Date.now()}_${Math.random()}`,search_query:"CSV Import",search_location:"CSV Import",rating:null,total_ratings:null}}).map(E=>fetch("https://ai.research-hero.com/api/leads-contacts/save",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${w}`},body:JSON.stringify(E)})),T=await Promise.all(N),C=await Promise.all(T.map(E=>E.json())),j=C.filter(E=>E.success).length,P=C.length-j;j>0&&re.success(`Successfully imported ${j} lead(s)`),P>0&&re.error(`Failed to import ${P} lead(s)`),setTimeout(()=>{e("/leads-contacts")},2e3)}catch(w){console.error("Import leads error:",w),re.error("Failed to import leads")}finally{g(!1)}};return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white border-b",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"flex items-center justify-between h-16",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(je,{variant:"ghost",size:"sm",onClick:()=>e("/leads-contacts"),className:"flex items-center gap-2",children:[i.jsx(P0,{className:"h-4 w-4"}),"Back to Leads"]}),i.jsx("div",{className:"h-6 w-px bg-gray-300"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx(Tr,{className:"h-4 w-4 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Import Leads"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Upload and map your CSV data"})]})]})]})})})}),i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx(dh,{className:"h-4 w-4 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Upload CSV File"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Select a CSV file containing your leads data"})]})]}),i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[i.jsx(Tr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:t?t.name:"Choose CSV File"}),i.jsx("p",{className:"text-gray-500 mb-4",children:t?`${r.length} records found`:"Select a CSV file to get started"}),i.jsx("input",{type:"file",accept:".csv",onChange:x,className:"hidden",id:"csv-upload"}),i.jsx("label",{htmlFor:"csv-upload",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:t?"Choose Different File":"Choose CSV File"})]}),t&&i.jsxs("div",{className:"mt-6 bg-blue-50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[i.jsx(Yc,{className:"h-4 w-4"}),i.jsx("span",{className:"font-medium",children:"File uploaded successfully!"})]}),i.jsxs("p",{className:"text-blue-700 text-sm mt-1",children:["Found ",c.length," columns and ",r.length," records"]})]})]}),c.length>0&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:i.jsx(Yc,{className:"h-4 w-4 text-green-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Map CSV Fields"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Match your CSV columns to our system fields"})]})]}),i.jsx(je,{onClick:b,disabled:m||Object.keys(u).filter(w=>u[w]!=="skip").length===0,className:"bg-blue-600 hover:bg-blue-700 text-white",children:m?"Importing...":`Import ${r.length} Lead${r.length>1?"s":""}`})]}),i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map((w,_)=>i.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CSV Column"}),i.jsx("div",{className:"text-sm font-semibold text-gray-900 bg-white px-3 py-2 rounded border",children:w})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Map to Field"}),i.jsxs("select",{value:u[w]||"",onChange:N=>y(w,N.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"Select field to map"}),i.jsx("option",{value:"business_name",children:"Business Name"}),i.jsx("option",{value:"phone",children:"Phone"}),i.jsx("option",{value:"email",children:"Email"}),i.jsx("option",{value:"website",children:"Website"}),i.jsx("option",{value:"address",children:"Address"}),i.jsx("option",{value:"business_type",children:"Business Type"}),i.jsx("option",{value:"status",children:"Status"}),i.jsx("option",{value:"skip",children:"Skip this field"})]})]}),r.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Sample Data"}),i.jsx("div",{className:"text-xs text-gray-600 bg-white px-2 py-1 rounded border truncate",children:r[0][w]||"No data"})]})]},_))})}),i.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"CSV Format Requirements:"}),i.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[i.jsx("li",{children:" First row should contain column headers"}),i.jsx("li",{children:" Supported fields: Business Name, Phone, Email, Website, Address, Business Type, Status"}),i.jsx("li",{children:" Use comma-separated values (.csv format)"}),i.jsx("li",{children:" Maximum file size: 10MB"})]})]})]})]})})]})},CP=()=>{var Tt;const{id:e}=Ch(),t=Ci(),{user:s}=Fl(),[r,a]=f.useState(null),[c,l]=f.useState(!0),[u,h]=f.useState("sms"),[m,g]=f.useState(!1),[x,y]=f.useState({}),[b,w]=f.useState([]),[_,N]=f.useState(""),[T,C]=f.useState("sms"),[j,P]=f.useState(!1),[E,D]=f.useState([]),[z,$]=f.useState(!1),[J,R]=f.useState([]),[F,U]=f.useState([]),[M,te]=f.useState(""),[he,Q]=f.useState(""),[fe,se]=f.useState(!1),[V,k]=f.useState(null),[I,H]=f.useState(!0),O=[{value:"new",label:"New",color:"bg-blue-100 text-blue-800"},{value:"contacted",label:"Contacted",color:"bg-yellow-100 text-yellow-800"},{value:"qualified",label:"Qualified",color:"bg-green-100 text-green-800"},{value:"proposal",label:"Proposal",color:"bg-purple-100 text-purple-800"},{value:"closed",label:"Closed",color:"bg-gray-100 text-gray-800"},{value:"lost",label:"Lost",color:"bg-red-100 text-red-800"}],W=async()=>{try{const ee=ct.getItem("token");if(!ee){t("/login");return}const Le=await(await fetch(`https://ai.research-hero.com/api/leads-contacts/getleadsbyid/${e}`,{headers:{Authorization:`Bearer ${ee}`,"Content-Type":"application/json"}})).json();if(Le.success){a(Le.lead),y(Le.lead);const ie=Le.lead.tags||[];R(ie),U(ie.map(Ne=>Ne.tag_id))}else re.error(Le.message||"Failed to load lead"),t("/leads-contacts")}catch(ee){console.error("Load lead error:",ee),re.error("Failed to load lead details"),t("/leads-contacts")}finally{l(!1)}};f.useEffect(()=>{W(),ge()},[e]);const ge=async()=>{var ee;try{H(!0);const ye=await Se.get("/api/integration-gmail/auth/status");ye.data.success&&ye.data.data.isConnected?k(((ee=ye.data.data.profile)==null?void 0:ee.email)||null):k(null)}catch(ye){console.error("Error fetching Gmail status:",ye),k(null)}finally{H(!1)}};f.useEffect(()=>{m&&xe()},[m]);const xe=async()=>{var ee;try{if($(!0),console.log(" Frontend: User from AuthContext:",s),!s||!s.id){console.log(" Frontend: No user found in AuthContext");return}console.log(" Frontend: Making API call to get tags for user ID:",s.id);const ye=await Se.get(`/api/tags/get-tags-by-user/${s.id}`);console.log(" Frontend: API response:",ye.data),ye.data.success?(console.log(" Frontend: Setting tags:",ye.data.data),D(ye.data.data)):console.log(" Frontend: API returned success=false:",ye.data.message)}catch(ye){console.error(" Frontend: Error fetching tags:",ye),console.log(" Frontend: Error details:",(ee=ye.response)==null?void 0:ee.data),re.error("Failed to load tags")}finally{$(!1)}},de=ee=>{U(ye=>ye.includes(ee)?ye.filter(Le=>Le!==ee):[...ye,ee])},Pe=async()=>{try{if((await Se.post(`/api/leads-contacts/${e}/tags`,{tag_ids:F})).data.success){const ye=E.filter(Le=>F.includes(Le.tag_id));R(ye),re.success("Tags updated successfully")}}catch(ee){console.error("Error updating tags:",ee),re.error("Failed to update tags")}},Be=async ee=>{try{(await Se.delete(`/api/leads-contacts/${e}/tags/${ee}`)).data.success&&(R(Le=>Le.filter(ie=>ie.tag_id!==ee)),U(Le=>Le.filter(ie=>ie!==ee)),re.success("Tag removed successfully"))}catch(ye){console.error("Error removing tag:",ye),re.error("Failed to remove tag")}},G=ee=>ee?new Date(ee).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",oe=ee=>{const ye=O.find(Le=>Le.value===ee);return ye?ye.color:"bg-gray-100 text-gray-800"},ce=ee=>ee?ee.split(" ").map(ye=>ye[0]).join("").toUpperCase().slice(0,2):"L",Ee=ee=>{if(!ee)return"bg-blue-500";const ye=["bg-blue-500","bg-green-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-yellow-500","bg-red-500","bg-teal-500"],Le=ee.charCodeAt(0)%ye.length;return ye[Le]},we=()=>{g(!0)},Oe=async()=>{try{const ee=ct.getItem("token"),Le=await(await fetch(`https://ai.research-hero.com/api/leads-contacts/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${ee}`,"Content-Type":"application/json"},body:JSON.stringify(x)})).json();Le.success?(a(x),g(!1),re.success("Lead updated successfully")):re.error(Le.message||"Failed to update lead")}catch(ee){console.error("Update lead error:",ee),re.error("Failed to update lead")}},$e=()=>{y(r),g(!1)},Ue=(ee,ye)=>{y(Le=>({...Le,[ee]:ye}))},ke=()=>{r!=null&&r.phone&&window.open(`tel:${r.phone}`,"_self")},qe=()=>{r!=null&&r.email&&(C("email"),h("conversation"))},De=()=>{r!=null&&r.phone&&(C("sms"),h("conversation"))},ft=()=>{r!=null&&r.website&&window.open(r.website.startsWith("http")?r.website:`https://${r.website}`,"_blank")},at=async()=>{if(_.trim())if(T==="sms")try{P(!0);const ee=ct.getItem("token"),Le=await(await fetch(`https://ai.research-hero.com/api/leads-contacts/${e}/sms`,{method:"POST",headers:{Authorization:`Bearer ${ee}`,"Content-Type":"application/json"},body:JSON.stringify({message:_.trim()})})).json();if(Le.success){const ie={id:Date.now(),text:_,type:"sms",timestamp:new Date,sent:!0,status:"sent"};w(Ne=>[...Ne,ie]),N(""),re.success("SMS sent successfully")}else re.error(Le.message||"Failed to send SMS")}catch(ee){console.error("Send SMS error:",ee),re.error("Failed to send SMS")}finally{P(!1)}else{const ee={id:Date.now(),text:_,type:T,timestamp:new Date,sent:!0};w(ye=>[...ye,ee]),N(""),re.success(`${T.toUpperCase()} sent successfully`)}},nt=async()=>{var ee,ye;if(!M.trim()){re.error("Please enter email subject");return}if(!he.trim()){re.error("Please enter email message");return}if(!V){re.error("Please connect your Gmail account in Integrations first");return}if(!(r!=null&&r.email)){re.error("This lead does not have an email address");return}try{se(!0);const Le=await Se.post("/api/integration-gmail/send",{to:r.email,subject:M.trim(),body:he.trim()});if(Le.data.success){const ie={id:Date.now(),text:`Subject: ${M}

${he}`,type:"email",timestamp:new Date,sent:!0,from:V,to:r.email};w(Ne=>[...Ne,ie]),te(""),Q(""),re.success("Email sent successfully!")}else re.error(Le.data.message||"Failed to send email")}catch(Le){console.error("Send email error:",Le),re.error(((ye=(ee=Le.response)==null?void 0:ee.data)==null?void 0:ye.message)||"Failed to send email")}finally{se(!1)}},rt=async ee=>{try{const ye=ct.getItem("token"),ie=await(await fetch(`https://ai.research-hero.com/api/leads-contacts/${e}/status`,{method:"PUT",headers:{Authorization:`Bearer ${ye}`,"Content-Type":"application/json"},body:JSON.stringify({status:ee})})).json();ie.success?(a(Ne=>({...Ne,status:ee})),re.success("Status updated successfully")):re.error(ie.message||"Failed to update status")}catch(ye){console.error("Update status error:",ye),re.error("Failed to update status")}};return c?i.jsx("div",{className:"h-screen app-shell-bg flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500"})}):r?i.jsxs("div",{className:"max-h-screen app-shell-bg flex flex-col overflow-hidden",children:[i.jsx("div",{className:"bg-[#0b0f2e]/90 backdrop-blur-sm border-b border-white/10 px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(je,{variant:"ghost",size:"sm",onClick:()=>t("/leads-contacts"),className:"flex items-center space-x-2 text-white hover:bg-white/10",children:[i.jsx(TT,{className:"h-4 w-4"}),i.jsx("span",{children:"Back to Leads"})]}),i.jsx("div",{className:"h-6 w-px bg-white/20"}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium ${Ee(r==null?void 0:r.business_name)}`,children:ce(r==null?void 0:r.business_name)}),i.jsx("h1",{className:"text-xl font-bold text-white",children:(r==null?void 0:r.business_name)||"Lead Details"}),i.jsx(Yt,{className:`${oe(r==null?void 0:r.status)} px-2 py-1 text-xs font-medium`,children:((Tt=r==null?void 0:r.status)==null?void 0:Tt.replace("_"," ").toUpperCase())||"NEW"})]})]}),i.jsx("div",{className:"flex items-center space-x-2",children:m?i.jsxs(i.Fragment,{children:[i.jsxs(je,{variant:"outline",size:"sm",onClick:$e,className:"flex items-center space-x-2 border-white/20 text-white hover:bg-white/10",children:[i.jsx(sh,{className:"h-4 w-4"}),i.jsx("span",{children:"Cancel"})]}),i.jsxs(je,{size:"sm",onClick:Oe,className:"flex items-center space-x-2 bg-gradient-to-r from-indigo-600 to-purple-600",children:[i.jsx(AT,{className:"h-4 w-4"}),i.jsx("span",{children:"Save"})]})]}):i.jsxs(je,{variant:"outline",size:"sm",onClick:we,className:"flex items-center space-x-2 border-white/20 text-white hover:bg-white/10",children:[i.jsx(Qa,{className:"h-4 w-4"}),i.jsx("span",{children:"Edit"})]})})]})}),i.jsxs("div",{className:"flex flex-1 min-h-0",children:[i.jsxs("div",{className:"w-80 bg-[#0b0f2e]/90 backdrop-blur-sm border-r border-white/10 flex flex-col min-h-0",children:[i.jsx("div",{className:"p-4 border-b border-white/10",children:i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("button",{variant:"outline",size:"sm",onClick:ke,disabled:!(r!=null&&r.phone),className:"flex items-center rounded-lg  bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))] justify-center space-x-2 h-10 border-white/20 text-white hover:bg-white/10",children:[i.jsx(Nr,{className:"h-4 w-4 stroke-2"}),i.jsx("span",{children:"Call"})]}),i.jsxs("button",{variant:"outline",size:"sm",onClick:De,disabled:!(r!=null&&r.phone),className:"flex items-center rounded-lg  bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))] justify-center space-x-2 h-10 border-white/20 text-white hover:bg-white/10",children:[i.jsx(pr,{className:"h-4 w-4 stroke-2"}),i.jsx("span",{children:"SMS"})]}),i.jsxs("button",{variant:"outline",size:"sm",onClick:qe,disabled:!(r!=null&&r.email),className:"flex items-center rounded-lg  bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))] justify-center space-x-2 h-10 border-white/20 text-white hover:bg-white/10",children:[i.jsx(Wr,{className:"h-4 w-4 stroke-2 "}),i.jsx("span",{children:"Email"})]}),i.jsxs("button",{variant:"outline",size:"sm",onClick:ft,disabled:!(r!=null&&r.website),className:"flex items-center rounded-lg  bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))] justify-center space-x-2 h-10 border-white/20 text-white hover:bg-white/10",children:[i.jsx(Ja,{className:"h-4 w-4 stroke-2"}),i.jsx("span",{children:"Website"})]})]})}),i.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:i.jsxs("div",{className:"space-y-4",children:[m&&i.jsxs("div",{className:"border border-indigo-500/30 rounded-lg p-3 bg-indigo-500/10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"text-sm font-medium text-white",children:"Tags"}),i.jsx("button",{onClick:Pe,className:"text-xs bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-2 py-1 rounded hover:opacity-90",children:"Save Tags"})]}),i.jsxs("div",{className:"space-y-2",children:[z?i.jsxs("div",{className:"flex items-center justify-center py-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-500"}),i.jsx("span",{className:"ml-2 text-sm text-white/50",children:"Loading tags..."})]}):i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:E.map(ee=>i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-white/5 p-1 rounded",children:[i.jsx("input",{type:"checkbox",checked:F.includes(ee.tag_id),onChange:()=>de(ee.tag_id),className:"h-4 w-4 text-indigo-500 focus:ring-indigo-500 border-white/30 bg-white/5 rounded"}),i.jsx("span",{className:"text-sm text-white",children:ee.tag_name})]},ee.tag_id))}),E.length===0&&!z&&i.jsxs("div",{className:"text-xs text-white/70 mt-1 p-2 bg-yellow-500/10 border border-yellow-500/30 rounded",children:[i.jsx("p",{className:"font-medium",children:"No tags available."}),i.jsx("p",{children:"Go to Settings  Tags to create tags first, then come back here."})]}),F.length>0&&i.jsxs("div",{className:"mt-2 pt-2 border-t border-white/10",children:[i.jsx("p",{className:"text-xs text-white/50 mb-1",children:"Selected tags:"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:F.map(ee=>{const ye=E.find(Le=>Le.tag_id===ee);return ye?i.jsx(Yt,{variant:"secondary",className:"text-xs bg-indigo-500/20 text-indigo-300 border border-indigo-500/30",children:ye.tag_name},ee):null})})]})]})]}),!m&&J.length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Tags"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:J.map(ee=>i.jsx("div",{className:"flex items-center space-x-1",children:i.jsxs(Yt,{variant:"secondary",className:"text-sm flex items-center space-x-1 bg-indigo-500/20 text-indigo-300 border border-indigo-500/30",children:[i.jsx(Vg,{className:"h-3 w-3"}),i.jsx("span",{children:ee.tag_name}),i.jsx("button",{onClick:()=>Be(ee.tag_id),className:"ml-1 rounded-lg  bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))] rounded-full p-0.5",children:i.jsx(sh,{className:"h-3 w-3"})})]})},ee.tag_id))})]}),i.jsx("div",{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-white/50 mb-1",children:"Business Name"}),m?i.jsx(ot,{value:x.business_name||"",onChange:ee=>Ue("business_name",ee.target.value),className:"text-sm bg-white/5 border-white/20 text-white placeholder:text-white/40"}):i.jsx("div",{className:"text-sm text-white",children:r.business_name||"N/A"})]}),(r.phone||m)&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-white/50 mb-1",children:"Phone"}),m?i.jsx(ot,{value:x.phone||"",onChange:ee=>Ue("phone",ee.target.value),className:"text-sm bg-white/5 border-white/20 text-white placeholder:text-white/40"}):i.jsx("div",{className:"text-sm text-white",children:r.phone||"N/A"})]}),(r.email||m)&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-white/50 mb-1",children:"Email"}),m?i.jsx(ot,{value:x.email||"",onChange:ee=>Ue("email",ee.target.value),className:"text-sm bg-white/5 border-white/20 text-white placeholder:text-white/40"}):i.jsx("div",{className:"text-sm text-white",children:r.email||"N/A"})]}),(r.website||m)&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-white/50 mb-1",children:"Website"}),m?i.jsx(ot,{value:x.website||"",onChange:ee=>Ue("website",ee.target.value),className:"text-sm bg-white/5 border-white/20 text-white placeholder:text-white/40"}):i.jsx("div",{className:"text-sm text-white",children:r.website||"N/A"})]}),(r.address||m)&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-white/50 mb-1",children:"Address"}),m?i.jsx(ot,{value:x.address||"",onChange:ee=>Ue("address",ee.target.value),className:"text-sm bg-white/5 border-white/20 text-white placeholder:text-white/40"}):i.jsx("div",{className:"text-sm text-white",children:r.address||"N/A"})]})]})}),(r.business_type||r.rating||r.total_ratings||m)&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Business Details"}),i.jsxs("div",{className:"space-y-3",children:[(r.business_type||m)&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-white/50 mb-1",children:"Business Type"}),m?i.jsx(ot,{value:x.business_type||"",onChange:ee=>Ue("business_type",ee.target.value),className:"text-sm bg-white/5 border-white/20 text-white placeholder:text-white/40"}):i.jsx("div",{className:"text-sm text-white",children:r.business_type||"N/A"})]}),(r.rating||m)&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-white/50 mb-1",children:"Rating"}),i.jsxs("div",{className:"text-sm text-white",children:[r.rating?`${r.rating}/5`:"N/A",r.total_ratings&&` (${r.total_ratings} reviews)`]})]})]})]}),(r.search_query||r.search_location||m)&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Lead Source"}),i.jsxs("div",{className:"space-y-3",children:[(r.search_query||m)&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-white/50 mb-1",children:"Search Query"}),i.jsx("div",{className:"text-sm text-white",children:r.search_query||"N/A"})]}),(r.search_location||m)&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-white/50 mb-1",children:"Search Location"}),i.jsx("div",{className:"text-sm text-white",children:r.search_location||"N/A"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Timeline"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-white/50 mb-1",children:"Created"}),i.jsx("div",{className:"text-sm text-white",children:G(r.created_at)})]}),r.updated_at&&r.updated_at!==r.created_at&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-white/50 mb-1",children:"Last Updated"}),i.jsx("div",{className:"text-sm text-white",children:G(r.updated_at)})]})]})]})]})})]}),i.jsxs("div",{className:"flex-1 bg-[#0b0f2e]/90 backdrop-blur-sm flex flex-col min-h-0",children:[i.jsx("div",{className:"border-b border-white/10 px-6 py-3",children:i.jsxs("div",{className:"flex space-x-6",children:[i.jsx("button",{onClick:()=>{h("sms"),C("sms")},className:`pb-2 text-sm font-medium border-b-2 transition-colors ${u==="sms"?"border-indigo-500 text-indigo-400":"border-transparent text-white/50 hover:text-white/70"}`,children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(pr,{className:"h-4 w-4 stroke-2"}),i.jsx("span",{children:"SMS"})]})}),i.jsx("button",{onClick:()=>{h("email"),C("email")},className:`pb-2 text-sm font-medium border-b-2 transition-colors ${u==="email"?"border-indigo-500 text-indigo-400":"border-transparent text-white/50 hover:text-white/70"}`,children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Wr,{className:"h-4 w-4 stroke-2"}),i.jsx("span",{children:"Email"})]})}),i.jsx("button",{onClick:()=>h("activity"),className:`pb-2 text-sm font-medium border-b-2 transition-colors ${u==="activity"?"border-indigo-500 text-indigo-400":"border-transparent text-white/50 hover:text-white/70"}`,children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(DT,{className:"h-4 w-4 stroke-2"}),i.jsx("span",{children:"Activity"})]})})]})}),i.jsx("div",{className:"flex-1 flex flex-col min-h-0 overflow-y-auto",children:u==="sms"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1 p-6 ",children:[i.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(pr,{className:"h-5 w-5 text-indigo-400"}),i.jsxs("span",{className:"font-medium text-white",children:["SMS to ",r==null?void 0:r.phone]})]}),i.jsx("p",{className:"text-sm text-white/60",children:"Send SMS message to this lead via Twilio"}),i.jsxs("p",{className:"text-xs text-white/40 mt-1",children:["From: ","+13465940138"]})]}),i.jsx("div",{className:"space-y-3",children:b.filter(ee=>ee.type==="sms").length===0?i.jsxs("div",{className:"text-center text-white/50 mt-8",children:[i.jsx(pr,{className:"h-12 w-12 mx-auto mb-4 text-white/30"}),i.jsx("p",{children:"No SMS messages yet. Send your first message!"})]}):b.filter(ee=>ee.type==="sms").map(ee=>i.jsx("div",{className:`flex ${ee.sent?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-xs px-3 py-2 rounded-2xl ${ee.sent?"bg-indigo-600 text-white":"bg-white/10 text-white border border-white/10"}`,children:[i.jsx("p",{className:"text-sm",children:ee.text}),i.jsx("p",{className:"text-xs mt-1 opacity-75",children:G(ee.timestamp)})]})},ee.id))})]}),i.jsxs("div",{className:"border-t border-white/10 p-8",children:[i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(ot,{value:_,onChange:ee=>N(ee.target.value),placeholder:"Type SMS message...",className:"flex-1 h-20 bg-white/5 border-white/20 text-white placeholder:text-white/40 focus:border-indigo-500 focus:ring-indigo-500",disabled:j||!(r!=null&&r.phone),onKeyDown:ee=>{ee.key==="Enter"&&!ee.shiftKey&&(ee.preventDefault(),at())}}),i.jsx(je,{onClick:at,disabled:!_.trim()||j||!(r!=null&&r.phone),className:"bg-gradient-to-r from-indigo-600 to-purple-600 h-20",children:j?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):i.jsx(th,{className:"h-4 w-4"})})]}),!(r!=null&&r.phone)&&i.jsx("p",{className:"text-xs text-red-400 mt-2",children:"This lead does not have a phone number"})]})]}):u==="email"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1 p-6",children:[i.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 mb-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm font-medium text-white/50 w-12",children:"From:"}),I?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-500"}),i.jsx("span",{className:"text-sm text-white/50",children:"Loading..."})]}):V?i.jsx("span",{className:"text-sm text-white",children:V}):i.jsxs("span",{className:"text-sm text-red-400",children:["Gmail not connected. ",i.jsx("a",{href:"/integrations",className:"text-indigo-400 hover:underline",children:"Connect in Integrations"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm font-medium text-white/50 w-12",children:"To:"}),i.jsx("span",{className:"text-sm text-white",children:(r==null?void 0:r.email)||"No email address"})]})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-white/50 mb-1",children:"Subject"}),i.jsx(ot,{placeholder:"Email subject...",className:"w-full bg-white/5 border-white/20 text-white placeholder:text-white/40",value:M,onChange:ee=>te(ee.target.value),disabled:fe||!V})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-white/50 mb-1",children:"Message"}),i.jsx("textarea",{rows:8,placeholder:"Type your email message...",className:"w-full px-3 py-2 bg-white/5 border border-white/20 text-white placeholder:text-white/40 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",value:he,onChange:ee=>Q(ee.target.value),disabled:fe||!V})]})]}),b.filter(ee=>ee.type==="email").length>0&&i.jsxs("div",{className:"mt-6",children:[i.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Sent Emails"}),i.jsx("div",{className:"space-y-3",children:b.filter(ee=>ee.type==="email").map(ee=>i.jsxs("div",{className:"bg-indigo-500/10 rounded-lg p-3 border border-indigo-500/30",children:[i.jsx("p",{className:"text-sm text-white whitespace-pre-wrap",children:ee.text}),i.jsx("p",{className:"text-xs text-white/50 mt-2",children:G(ee.timestamp)})]},ee.id))})]})]}),i.jsxs("div",{className:"border-t border-white/10 p-4",children:[i.jsx("div",{className:"flex justify-end space-x-2",children:i.jsxs(je,{onClick:nt,disabled:!M.trim()||!he.trim()||fe||!V||!(r!=null&&r.email),className:"bg-gradient-to-r from-indigo-600 to-purple-600 flex items-center space-x-2",children:[fe?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):i.jsx(th,{className:"h-4 w-4"}),i.jsx("span",{children:fe?"Sending...":"Send Email"})]})}),!V&&!I&&i.jsx("p",{className:"text-xs text-red-400 mt-2 text-right",children:"Please connect Gmail in Integrations to send emails"}),!(r!=null&&r.email)&&i.jsx("p",{className:"text-xs text-red-400 mt-2 text-right",children:"This lead does not have an email address"})]})]}):i.jsx("div",{className:"flex-1 p-2",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-green-500/20 rounded-full flex items-center justify-center",children:i.jsx(cP,{className:"h-4 w-4 text-green-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-white",children:"Lead created"}),i.jsx("p",{className:"text-xs text-white/50",children:G(r.created_at)})]})]}),r.updated_at&&r.updated_at!==r.created_at&&i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-indigo-500/20 rounded-full flex items-center justify-center",children:i.jsx(Qa,{className:"h-4 w-4 text-indigo-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-white",children:"Lead updated"}),i.jsx("p",{className:"text-xs text-white/50",children:G(r.updated_at)})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Update Status"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:O.map(ee=>i.jsx(je,{variant:"outline",size:"sm",onClick:()=>rt(ee.value),className:`text-xs border-white/20 text-white hover:bg-white/10 ${r.status===ee.value?ee.color:""}`,children:ee.label},ee.value))})]})]})})})]})]})]}):i.jsx("div",{className:"h-screen app-shell-bg flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Lead not found"}),i.jsx(je,{onClick:()=>t("/leads-contacts"),className:"bg-gradient-to-r from-indigo-600 to-purple-600",children:"Back to Leads"})]})})},TP=6,PP=({study:e})=>{var x;const[t,s]=f.useState(0),[r,a]=f.useState({}),[c,l]=f.useState(!1);if(!e)return null;const u=y=>new Promise(b=>setTimeout(b,y)),h=(y,b,w,_)=>({nctId:e.protocolSection.identificationModule.nctId,phase:y.phase,studyType:y.studyType,conditionCount:y.conditionCount,eligibilityLength:y.eligibilityLength,durationMonths:y.durationMonths,complexityLabel:y.complexityLabel,difficultyLabel:b.label,enrollment:y.enrollment,cpe:w.cpe,estimatedTotalCost:w.estimatedTotalCost,confidence:_.confidence,geo:"US",siteCount:10}),m=async()=>{try{l(!0),a({}),s(1);const y=await Se.post("/api/studies/analyze-protocol",{study:e});a(y.data),await u(500),s(2);const b=await Se.post("/api/studies/difficulty",y.data);a(T=>({...T,...b.data})),await u(500),s(3);const w=await Se.post("/api/studies/cost",{difficultyLabel:b.data.label,enrollment:y.data.enrollment});a(T=>({...T,...w.data})),await u(500),s(4);const _=await Se.post("/api/studies/confidence",y.data);a(T=>({...T,..._.data})),await u(500);const N=h(y.data,b.data,w.data,_.data);a(T=>({...T,finalPayload:N})),s(6)}catch(y){console.error(y),s(0)}finally{l(!1)}},g=({label:y,value:b,color:w})=>{const _={cyan:"from-cyan-400/30 to-cyan-600/10 shadow-[0_0_18px_rgba(34,211,238,0.35)]",blue:"from-blue-400/30 to-blue-600/10 shadow-[0_0_18px_rgba(59,130,246,0.35)]",emerald:"from-emerald-400/30 to-emerald-600/10 shadow-[0_0_18px_rgba(16,185,129,0.35)]",pink:"from-pink-400/30 to-pink-600/10 shadow-[0_0_18px_rgba(250,24,96,0.35)]"};return i.jsxs("div",{className:`
          flex items-center justify-between
          px-4 py-2.5
          rounded-lg
          bg-gradient-to-r ${_[w]}
          border border-white/10
          backdrop-blur-md
        `,children:[i.jsx("span",{className:"text-sm tracking-wide text-white/60",children:y}),i.jsx("span",{className:"text-sm font-semibold text-white",children:b})]})};return i.jsxs("div",{className:`
    p-6 rounded-2xl space-y-6
    bg-[linear-gradient(180deg,#0b0f2e_0%,#090c26_100%)]
    border border-white/10
    shadow-[0_30px_80px_rgba(0,0,0,0.7)]
  `,children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Predictive Enrollment Engineering"}),i.jsx("button",{onClick:m,disabled:c,className:`
      px-4 py-2 rounded-lg font-semibold
      text-white
      bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))]
      shadow-[0_0_8px_rgba(34,211,238,0.7)]
      disabled:opacity-50
      transition
    `,children:c?"Processing":"Calculate"})]}),i.jsx("div",{className:"h-2 rounded bg-black/30 overflow-hidden",children:i.jsx("div",{className:`
      h-full
      bg-gradient-to-r from-cyan-400 to-blue-500
      shadow-[0_0_15px_rgba(34,211,238,0.8)]
      transition-all
    `,style:{width:`${t/TP*100}%`}})}),t>=5&&i.jsxs("div",{className:`
        p-5 rounded-xl space-y-3
       bg-[linear-gradient(180deg,#0b0f2e_0%,#090c26_100%)]
        
        text-white
        border border-cyan-400/20
      `,children:[i.jsx(g,{label:"Confidence",value:`${r.confidence}%`,color:"cyan"}),i.jsx(g,{label:"Difficulty",value:r.label,color:"blue"}),i.jsx(g,{label:"CPE",value:`$${r.cpe}`,color:"emerald"}),i.jsx(g,{label:"Total Cost",value:`$${(x=r.estimatedTotalCost)==null?void 0:x.toLocaleString()}`,color:"pink"})]})]})},EP=()=>{var De,ft,at,nt,rt,Tt,ee,ye,Le;const[e,t]=f.useState([]),[s,r]=f.useState(""),[a,c]=f.useState(1),[l,u]=f.useState(1),[h,m]=f.useState(0),[g,x]=f.useState(!1),[y,b]=f.useState(null),[w,_]=f.useState(!1),[N,T]=f.useState("list"),[C,j]=f.useState(!1),[P,E]=f.useState(!1),[D,z]=f.useState(null),$=Ci(),[J,R]=f.useState({phases:[],conditions:[],locations:[],enrollmentStats:{min:0,max:1e4}}),[F,U]=f.useState([]),[M,te]=f.useState([]),[he,Q]=f.useState(!1),[fe,se]=f.useState(!1),[V,k]=f.useState({phase:[],condition:"",location:"",enrollmentMin:"",enrollmentMax:""}),[I,H]=f.useState(""),[O,W]=f.useState(null),[ge,xe]=f.useState(!1),[de,Pe]=f.useState(""),Be=10,G=async ie=>{try{_(!0),b(null),z(ie);const Ne=await Se.get(`/api/studies/db/${ie}`);b(Ne.data.study.raw_json)}catch(Ne){console.error(Ne)}finally{_(!1)}},oe=async()=>{try{const ie=await Se.get("https://ai.research-hero.com/api/studies/clinical-trails-gov/filter-options");R({phases:ie.data.phases||[],conditions:ie.data.conditions||[],locations:ie.data.locations||[],enrollmentStats:ie.data.enrollmentStats||{min:0,max:1e4}}),ie.data.enrollmentStats&&k(Ne=>({...Ne,enrollmentMin:ie.data.enrollmentStats.min,enrollmentMax:ie.data.enrollmentStats.max}))}catch(ie){console.error("Error fetching filter options:",ie)}},ce=async()=>{try{const ie=await Se.get("https://ai.research-hero.com/api/studies/clinical-trails-gov/available-locations");R(Ne=>({...Ne,locations:ie.data.locations||[]}))}catch(ie){console.error("Error fetching locations:",ie)}},Ee=async ie=>{if(!ie||ie.length<2){U([]),Q(!1);return}try{const Ne=await Se.get("https://ai.research-hero.com/api/studies/clinical-trails-gov/search-conditions",{params:{query:ie}});U(Ne.data.results||[]),Q(!0)}catch(Ne){console.error("Error searching conditions:",Ne)}},we=async(ie=1)=>{try{x(!0);const Ne={page:ie,limit:Be,search:s,...V},Qe=await Se.post("/api/studies/clinical-trails-gov/studies",{page:ie,limit:Be,expertQuery:{text:s,logic:"AND",phase:V.phase,locations:V.location?{city:V.location}:null,enrollment:{min:V.enrollmentMin||null,max:V.enrollmentMax||null}}});console.log("++++++++++++++++++++++++++++"),console.log("API Response:",Qe.data),t(Qe.data.studies||[]),m(Qe.data.total||0),u(Qe.data.totalPages||1),c(ie)}catch(Ne){console.error("Error fetching studies:",Ne),t([])}finally{x(!1)}},Oe=async()=>{try{j(!0);const ie=await Se.get("https://ai.research-hero.com/api/studies/clinical-trails-gov/all-studies");alert(` Synced successfully!
${ie.data.message}
Total studies synced: ${ie.data.total}`),await oe(),await ce(),we(1)}catch(ie){console.error("Error syncing studies:",ie),alert(" Failed to sync studies. Check console for details.")}finally{j(!1)}},$e=(ie,Ne,Qe=!1)=>{k(Qe?et=>({...et,[ie]:et[ie].includes(Ne)?et[ie].filter(xt=>xt!==Ne):[...et[ie],Ne]}):et=>({...et,[ie]:Ne}))},Ue=ie=>{k(Ne=>({...Ne,condition:ie})),Q(!1)},ke=()=>{k({phase:[],condition:"",location:"",enrollmentMin:J.enrollmentStats.min,enrollmentMax:J.enrollmentStats.max}),c(1)};f.useEffect(()=>{oe(),ce()},[]),f.useEffect(()=>{we(1)},[s,V]);const qe=(ie,Ne)=>{if(!ie||!Ne)return"-";const Qe=new Date(ie),et=new Date(Ne);if(isNaN(Qe)||isNaN(et))return"-";const xt=et.getFullYear()-Qe.getFullYear(),K=et.getMonth()-Qe.getMonth();return xt*12+K};return i.jsxs("div",{className:`min-h-screen  py-10 bg-gradient-to-r
        from-[#0b0f2e]
        via-[#0e1340]
        to-[#0b0f2e]
  text-slate-100`,children:[i.jsxs("div",{className:"max-w-auto mx-auto px-6",children:[i.jsxs("div",{className:"mb-6 flex gap-3 border-b border-white/10 pb-3",children:[i.jsx("button",{onClick:()=>T("list"),className:`
      relative px-6 py-2 text-sm font-semibold transition-all
      ${N==="list"?`
            text-white
            bg-gradient-to-r from-cyan-500/30 to-blue-600/30
            
            shadow-[0_0_30px_rgba(34,211,238,0.6)]
            flag-tab
          `:`
            text-white/50
            hover:text-white
            hover:bg-white/5
            rounded-md
          `}
    `,children:"All Studies"}),i.jsx("button",{onClick:()=>T("calculate"),className:`
      relative px-6 py-2 text-sm font-semibold transition-all
      ${N==="calculate"?`
            text-white
            bg-gradient-to-r from-blue-500/30 to-indigo-600/30
            
            shadow-[0_0_30px_rgba(59,130,246,0.6)]
            flag-tab
          `:`
            text-white/50
            hover:text-white
            hover:bg-white/5
            rounded-md
          `}
    `,children:"Calculate Study"})]}),N==="list"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h1",{className:"text-xl font-bold",children:"Clinical Trials Analysis"}),i.jsx("p",{className:"text-white/70 mt-1",children:"Search and analyze studies"})]}),i.jsxs("div",{className:"mb-4 flex gap-3 items-center",children:[i.jsx("input",{type:"text",placeholder:"Search: 'cancer in Houston' or NCT ID, Title, Condition, or Location",value:s,onChange:ie=>r(ie.target.value),className:`flex-1 px-4 py-2 rounded-xl
  bg-white/5 backdrop-blur-md
  border border-white/10
  text-white placeholder:text-slate-400
  focus:outline-none focus:ring-2 focus:ring-cyan-400/60
  shadow-[inset_0_0_12px_rgba(255,255,255,0.05)]`}),i.jsx("button",{onClick:()=>E(!P),className:`
    px-4 py-2
    rounded-lg
    text-sm font-medium
    text-cyan-300
    bg-cyan-400/10
    border border-cyan-400/30
    shadow-[0_3px_5px_rgba(34,211,238,0.35)]
    hover:bg-cyan-400/20
    hover:shadow-[0_10px_10px_rgba(34,211,238,0.55)]
    transition-all
    flex items-center gap-2
  `,children:" Filters"}),i.jsx("button",{onClick:Oe,disabled:C,className:`
    px-5 py-2
    rounded-lg
    text-sm font-semibold
    text-white
    bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))]
    border border-white/15
    shadow-[0_2px_5px_rgba(90,110,255,0.45)]
    hover:shadow-[0_5px_10px_rgba(90,110,255,0.65)]
    hover:bg-[linear-gradient(180deg,rgba(90,110,255,0.6),rgba(36,46,151,0.45))]
    disabled:opacity-40
    disabled:cursor-not-allowed
    transition-all
    flex items-center gap-2
  `,children:C?"Syncing...":" Sync"})]}),P&&i.jsxs("div",{className:`mb-6 bg-white/5 backdrop-blur-xl
border border-white/10
p-6 rounded-2xl
shadow-[0_0_40px_rgba(255,255,255,0.05)] space-y-4`,children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Advanced Filters"}),i.jsx("button",{onClick:ke,className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded hover:bg-red-200",children:"Clear All"})]}),J.phases.length>0&&i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Study Phase (",J.phases.length,")"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:J.phases.map(ie=>i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:V.phase.includes(ie),onChange:()=>$e("phase",ie,!0),className:"mr-2"}),i.jsx("span",{className:"text-sm",children:ie})]},ie))})]}),J.conditions.length>0&&i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Condition (",J.conditions.length,")"]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Search condition (e.g., diabetes, cancer)",value:V.condition,onChange:ie=>{$e("condition",ie.target.value),Ee(ie.target.value)},onFocus:()=>V.condition&&Q(!0),className:"w-full px-4 py-2 border rounded-lg"}),he&&F.length>0&&i.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border rounded-lg shadow-lg z-10 max-h-48 overflow-y-auto",children:F.map(ie=>i.jsx("div",{onClick:()=>Ue(ie),className:"px-4 py-2 hover:bg-blue-50 cursor-pointer border-b last:border-b-0",children:ie},ie))})]})]}),J.enrollmentStats&&i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Min Enrollment (0 - ",J.enrollmentStats.max,")"]}),i.jsx("input",{type:"number",placeholder:"0",value:V.enrollmentMin,onChange:ie=>$e("enrollmentMin",ie.target.value),min:J.enrollmentStats.min,max:J.enrollmentStats.max,className:"w-full px-4 py-2 border rounded-lg"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Max Enrollment (0 - ",J.enrollmentStats.max,")"]}),i.jsx("input",{type:"number",placeholder:J.enrollmentStats.max,value:V.enrollmentMax,onChange:ie=>$e("enrollmentMax",ie.target.value),min:J.enrollmentStats.min,max:J.enrollmentStats.max,className:"w-full px-4 py-2 border rounded-lg"})]})]})]}),i.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Total Studies: ",i.jsx("strong",{children:h}),s&&i.jsxs("span",{className:"ml-2",children:["| Search: ",i.jsxs("strong",{children:['"',s,'"']})]})]}),i.jsx("div",{className:`bg-white/5 backdrop-blur-xl
border border-white/10
rounded-2xl overflow-x-auto
shadow-[0_0_40px_rgba(255,255,255,0.05)]`,children:i.jsxs("table",{className:"min-w-full text-sm",children:[i.jsx("thead",{className:"bg-white/10 backdrop-blur-md text-cyan-300",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3 text-left",children:"NCT ID"}),i.jsx("th",{className:"p-3 text-left",children:"Title"}),i.jsx("th",{className:"p-3 text-left",children:"Phase"}),i.jsx("th",{className:"p-3 text-left",children:"Condition"}),i.jsx("th",{className:"p-3 text-left",children:"Location"}),i.jsx("th",{className:"p-3 text-left",children:"Enrollment"}),i.jsx("th",{className:"p-3 text-left",children:"Actions"})]})}),i.jsx("tbody",{children:g?i.jsx("tr",{children:i.jsx("td",{colSpan:"6",className:"p-4 text-center",children:"Loading..."})}):e.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:"6",className:"p-4 text-center",children:'No studies found. Click "Sync" to fetch studies.'})}):e.map(ie=>{var Ne,Qe,et,xt;return i.jsxs("tr",{className:`
  border-t border-white/5
  cursor-pointer
  hover:bg-white/5
  hover:shadow-[inset_0_0_20px_rgba(56,189,248,0.15)]
  transition
`,children:[i.jsx("td",{className:"p-3 font-medium",children:ie.nct_id}),i.jsx("td",{className:"p-3 text-blue-600 hover:underline",onClick:()=>G(ie.id),children:ie.title}),i.jsx("td",{className:"p-3",children:ie.phase||"-"}),i.jsx("td",{className:"p-3",children:ie.condition_name||"-"}),i.jsx("td",{className:"p-3 text-sm",children:(xt=(et=(Qe=(Ne=ie.raw_json)==null?void 0:Ne.protocolSection)==null?void 0:Qe.contactsLocationsModule)==null?void 0:et.locations)!=null&&xt.length?i.jsxs("span",{className:`
        inline-flex items-center gap-1
        px-3 py-1
        rounded-full
        text-xs font-medium
        text-cyan-300
        bg-cyan-400/10
        border border-cyan-400/25
        shadow-[0_0_10px_rgba(34,211,238,0.35)]
        backdrop-blur-sm
      `,children:["",ie.raw_json.protocolSection.contactsLocationsModule.locations[0].city,","," ",ie.raw_json.protocolSection.contactsLocationsModule.locations[0].country]}):i.jsx("span",{className:"text-white/40",children:""})}),i.jsx("td",{className:"p-3",children:ie.enrollment||"-"}),i.jsx("td",{className:"p-3",children:i.jsx("button",{onClick:()=>$(`/studies/db/${ie.id}`),className:"neo-btn",children:"Details"})})]},ie.nct_id)})})]})}),i.jsxs("div",{className:"flex justify-between items-center mt-6",children:[i.jsx("button",{disabled:a===1||g,onClick:()=>we(a-1),className:`
      px-4 py-2
      rounded-lg
      text-sm font-medium
      text-white
      bg-white/5
      border border-white/10
      shadow-[0_6px_20px_rgba(0,0,0,0.6)]
      hover:bg-white/10
      hover:shadow-[0_10px_30px_rgba(90,110,255,0.35)]
      disabled:opacity-40
      disabled:cursor-not-allowed
      transition-all
    `,children:" Previous"}),i.jsxs("span",{className:`
      text-sm font-medium
      text-white/70
      px-4 py-1.5
      rounded-full
      bg-white/5
      border border-white/10
    `,children:["Page ",i.jsx("span",{className:"text-white",children:a})," of"," ",i.jsx("span",{className:"text-white",children:l})]}),i.jsx("button",{disabled:a===l||g,onClick:()=>we(a+1),className:`
      px-4 py-2
      rounded-lg
      text-sm font-medium
      text-white
      bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))]
      border border-white/15
      shadow-[0_8px_26px_rgba(90,110,255,0.45)]
      hover:shadow-[0_12px_38px_rgba(90,110,255,0.65)]
      hover:bg-[linear-gradient(180deg,rgba(90,110,255,0.6),rgba(36,46,151,0.45))]
      disabled:opacity-40
      disabled:cursor-not-allowed
      transition-all
    `,children:"Next "})]})]}),N==="calculate"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:`
    flex gap-4 items-center
    p-5 rounded-2xl
    bg-[linear-gradient(180deg,#0b0f2e_0%,#090c26_100%)]
    border border-white/10
    shadow-[0_30px_80px_rgba(0,0,0,0.7)]
  `,children:[i.jsx("input",{type:"text",placeholder:"Enter NCT ID (e.g. NCT04838808)",value:I,onChange:ie=>H(ie.target.value.toUpperCase()),className:`
    px-4 py-2 w-80 rounded-lg
    bg-black/30
    border border-cyan-400/20
    text-white placeholder-white/40
    focus:outline-none focus:ring-2 focus:ring-cyan-400/50
  `}),i.jsx("button",{onClick:async()=>{if(I)try{xe(!0),Pe(""),W(null);const ie=await Se.get(`https://ai.research-hero.com/api/studies/clinical-trails-gov/live/${I}`);W(ie.data.study)}catch{Pe("Study not found on ClinicalTrials.gov")}finally{xe(!1)}},className:`
    px-5 py-2 rounded-lg font-medium
    text-white
    bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))]
    shadow-[0_0_5px_rgba(34,211,238,0.7)]
    hover:shadow-[0_0_8px_rgba(34,211,238,1)]
    transition-all
    disabled:opacity-50
    disabled:cursor-not-allowed
  `,children:"Load Study"})]}),ge&&i.jsx("p",{className:"text-gray-600",children:"Loading study"}),de&&i.jsx("p",{className:"text-red-600",children:de}),O&&i.jsxs("div",{className:`
                p-6 rounded-2xl space-y-6
                bg-[linear-gradient(180deg,#0b0f2e_0%,#090c26_100%)]
                border border-white/10
                shadow-[0_30px_80px_rgba(0,0,0,0.7)]
              `,children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-white",children:O.protocolSection.identificationModule.nctId}),i.jsx("p",{className:"text-white/60 mt-1",children:O.protocolSection.identificationModule.briefTitle})]}),i.jsxs("div",{className:`
    grid grid-cols-2 gap-4 p-4 rounded-xl text-sm
    bg-black/30
    border border-white/10
  `,children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Phase:"})," ",(ft=(De=O.protocolSection.designModule)==null?void 0:De.phases)==null?void 0:ft.join(", ")]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Status:"})," ",(at=O.protocolSection.statusModule)==null?void 0:at.overallStatus]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Enrollment:"})," ",((rt=(nt=O.protocolSection.designModule)==null?void 0:nt.enrollmentInfo)==null?void 0:rt.count)||"-"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Conditions:"})," ",(ee=(Tt=O.protocolSection.conditionsModule)==null?void 0:Tt.conditions)==null?void 0:ee.join(", ")]})]})]}),O&&i.jsx(PP,{study:O})]})]}),(w||y)&&i.jsxs("div",{className:`
      fixed top-0 right-0 h-full w-1/2
      bg-gradient-to-r
        from-[#0b0f2e]
        via-[#0e1340]
        to-[#0b0f2e]
      backdrop-blur-xl
      border-l border-white/10
      shadow-[0_0_80px_rgba(36,46,151,0.35)]
      z-50 flex flex-col
    `,children:[i.jsxs("div",{className:`
        px-6 py-4
        flex justify-between items-center
        border-b border-white/10
        bg-[linear-gradient(180deg,rgba(63,78,255,0.18),rgba(9,12,38,0.9))]
      `,children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-white",children:((Le=(ye=y==null?void 0:y.protocolSection)==null?void 0:ye.identificationModule)==null?void 0:Le.nctId)||"Loading..."}),i.jsx("p",{className:"text-sm text-white/60",children:"ClinicalTrials.gov  Live Protocol"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>$(`/studies/db/${D}`),className:"neo-btn",children:"View Full Details"}),i.jsx("button",{onClick:()=>b(null),className:`
            w-8 h-8 flex items-center justify-center
            rounded-full
            text-white/60
            hover:text-white
            hover:bg-white/10
            transition
          `,"aria-label":"Close sidebar",children:""})]})]}),i.jsx("div",{className:"p-6 overflow-y-auto text-sm space-y-8",children:w?i.jsx("p",{className:"text-white/60",children:"Fetching live data"}):y?(()=>{var xt,K,ne,Re,Xe,B,ae,ue,X,ve,Te,Ke,tt,Jt,cs,Bi,ds,zi,Fi,Vi,$i,Dt,Ce,zs,Fs,Vs,$s,us,Us,vn,Hs,Ui,Hi,Wi,Zi,Ws;const ie=(xt=y==null?void 0:y.protocolSection)==null?void 0:xt.statusModule,Ne=((K=ie==null?void 0:ie.startDateStruct)==null?void 0:K.date)||"-",Qe=((ne=ie==null?void 0:ie.completionDateStruct)==null?void 0:ne.date)||((Re=ie==null?void 0:ie.primaryCompletionDateStruct)==null?void 0:Re.date)||"-",et=Ne!=="-"&&Qe!=="-"?`${qe(Ne,Qe)} months`:"-";return i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-base font-semibold text-white",children:y.protocolSection.identificationModule.briefTitle}),i.jsx("p",{className:"text-white/60 mt-1",children:(Xe=y.protocolSection.descriptionModule)==null?void 0:Xe.briefSummary})]}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:[["Phase",((ae=(B=y.protocolSection.designModule)==null?void 0:B.phases)==null?void 0:ae.join(", "))||"-"],["Study Type",((ue=y.protocolSection.designModule)==null?void 0:ue.studyType)||"-"],["Enrollment",((ve=(X=y.protocolSection.designModule)==null?void 0:X.enrollmentInfo)==null?void 0:ve.count)||"-"],["Status",((Te=y.protocolSection.statusModule)==null?void 0:Te.overallStatus)||"-"]].map(([yn,$t],Un)=>i.jsxs("div",{className:`
                      rounded-lg
                      bg-white/5
                      border border-white/10
                      p-4
                    `,children:[i.jsx("p",{className:"text-white/50",children:yn}),i.jsx("p",{className:"font-medium text-white",children:$t})]},Un))}),i.jsx("div",{className:"grid grid-cols-3 gap-4",children:[["Study Start",Ne],["Study End",Qe],["Duration",et]].map(([yn,$t],Un)=>i.jsxs("div",{className:`
                      rounded-lg
                      bg-white/5
                      border border-white/10
                      p-4
                    `,children:[i.jsx("p",{className:"text-white/50",children:yn}),i.jsx("p",{className:"font-medium text-white",children:$t})]},Un))}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-white mb-2",children:"Conditions"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:(Jt=(tt=(Ke=y==null?void 0:y.protocolSection)==null?void 0:Ke.conditionsModule)==null?void 0:tt.conditions)==null?void 0:Jt.map((yn,$t)=>i.jsx("span",{className:`
                          px-3 py-1 text-xs
                          rounded-full
                          bg-cyan-400/10
                          text-cyan-300
                          border border-cyan-400/20
                          shadow-[0_0_12px_rgba(34,211,238,0.35)]
                        `,children:yn},$t))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-white mb-2",children:"Eligibility Criteria"}),i.jsx("div",{className:`
                    bg-white/5
                    border border-white/10
                    rounded-lg
                    p-4
                    text-xs
                    text-white/70
                    whitespace-pre-wrap
                  `,children:((Bi=(cs=y==null?void 0:y.protocolSection)==null?void 0:cs.eligibilityModule)==null?void 0:Bi.eligibilityCriteria)||"Not specified"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-white mb-2",children:"Study Design"}),i.jsxs("ul",{className:"space-y-1 text-white/70",children:[i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Allocation:"})," ",((Fi=(zi=(ds=y==null?void 0:y.protocolSection)==null?void 0:ds.designModule)==null?void 0:zi.designInfo)==null?void 0:Fi.allocation)||"-"]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Intervention Model:"})," ",((Dt=($i=(Vi=y==null?void 0:y.protocolSection)==null?void 0:Vi.designModule)==null?void 0:$i.designInfo)==null?void 0:Dt.interventionModel)||"-"]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:"Masking:"})," ",((Vs=(Fs=(zs=(Ce=y==null?void 0:y.protocolSection)==null?void 0:Ce.designModule)==null?void 0:zs.designInfo)==null?void 0:Fs.maskingInfo)==null?void 0:Vs.masking)||"-"]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-white mb-2",children:"Lead Sponsor"}),i.jsx("p",{className:"text-white/70",children:((us=($s=y.protocolSection.sponsorCollaboratorsModule)==null?void 0:$s.leadSponsor)==null?void 0:us.name)||"-"})]}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:[["Type",(vn=(Us=y.protocolSection.sponsorCollaboratorsModule)==null?void 0:Us.responsibleParty)==null?void 0:vn.type],["Investigator Name",(Ui=(Hs=y.protocolSection.sponsorCollaboratorsModule)==null?void 0:Hs.responsibleParty)==null?void 0:Ui.investigatorFullName],["Investigator Title",(Wi=(Hi=y.protocolSection.sponsorCollaboratorsModule)==null?void 0:Hi.responsibleParty)==null?void 0:Wi.investigatorTitle],["Affiliation",(Ws=(Zi=y.protocolSection.sponsorCollaboratorsModule)==null?void 0:Zi.responsibleParty)==null?void 0:Ws.investigatorAffiliation]].map(([yn,$t],Un)=>i.jsxs("div",{className:`
                      rounded-lg
                      bg-white/5
                      border border-white/10
                      p-4
                    `,children:[i.jsx("p",{className:"text-white/50",children:yn}),i.jsx("p",{className:"font-medium text-white",children:$t||"-"})]},Un))})]})})():null})]})]})};function Hg(e,t){const s=f.useRef(t);f.useEffect(function(){t!==s.current&&e.attributionControl!=null&&(s.current!=null&&e.attributionControl.removeAttribution(s.current),t!=null&&e.attributionControl.addAttribution(t)),s.current=t},[e,t])}const LP=1;function AP(e){return Object.freeze({__version:LP,map:e})}function kP(e,t){return Object.freeze({...e,...t})}const Wg=f.createContext(null),Zg=Wg.Provider;function Gg(){const e=f.useContext(Wg);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function RP(e){function t(s,r){const{instance:a,context:c}=e(s).current;return f.useImperativeHandle(r,()=>a),s.children==null?null:me.createElement(Zg,{value:c},s.children)}return f.forwardRef(t)}function MP(e){function t(s,r){const[a,c]=f.useState(!1),{instance:l}=e(s,c).current;f.useImperativeHandle(r,()=>l),f.useEffect(function(){a&&l.update()},[l,a,s.children]);const u=l._contentNode;return u?Ls.createPortal(s.children,u):null}return f.forwardRef(t)}function IP(e){function t(s,r){const{instance:a}=e(s).current;return f.useImperativeHandle(r,()=>a),null}return f.forwardRef(t)}function qg(e,t){const s=f.useRef();f.useEffect(function(){return t!=null&&e.instance.on(t),s.current=t,function(){s.current!=null&&e.instance.off(s.current),s.current=null}},[e,t])}function ec(e,t){const s=e.pane??t.pane;return s?{...e,pane:s}:e}function OP(e,t){return function(r,a){const c=Gg(),l=e(ec(r,c),c);return Hg(c.map,r.attribution),qg(l.current,r.eventHandlers),t(l.current,c,r,a),l}}var tl={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(s,r){r(t)})(xn,function(s){var r="1.9.4";function a(n){var o,d,p,v;for(d=1,p=arguments.length;d<p;d++){v=arguments[d];for(o in v)n[o]=v[o]}return n}var c=Object.create||function(){function n(){}return function(o){return n.prototype=o,new n}}();function l(n,o){var d=Array.prototype.slice;if(n.bind)return n.bind.apply(n,d.call(arguments,1));var p=d.call(arguments,2);return function(){return n.apply(o,p.length?p.concat(d.call(arguments)):arguments)}}var u=0;function h(n){return"_leaflet_id"in n||(n._leaflet_id=++u),n._leaflet_id}function m(n,o,d){var p,v,S,A;return A=function(){p=!1,v&&(S.apply(d,v),v=!1)},S=function(){p?v=arguments:(n.apply(d,arguments),setTimeout(A,o),p=!0)},S}function g(n,o,d){var p=o[1],v=o[0],S=p-v;return n===p&&d?n:((n-v)%S+S)%S+v}function x(){return!1}function y(n,o){if(o===!1)return n;var d=Math.pow(10,o===void 0?6:o);return Math.round(n*d)/d}function b(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function w(n){return b(n).split(/\s+/)}function _(n,o){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?c(n.options):{});for(var d in o)n.options[d]=o[d];return n.options}function N(n,o,d){var p=[];for(var v in n)p.push(encodeURIComponent(d?v.toUpperCase():v)+"="+encodeURIComponent(n[v]));return(!o||o.indexOf("?")===-1?"?":"&")+p.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function C(n,o){return n.replace(T,function(d,p){var v=o[p];if(v===void 0)throw new Error("No value provided for variable "+d);return typeof v=="function"&&(v=v(o)),v})}var j=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function P(n,o){for(var d=0;d<n.length;d++)if(n[d]===o)return d;return-1}var E="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var z=0;function $(n){var o=+new Date,d=Math.max(0,16-(o-z));return z=o+d,window.setTimeout(n,d)}var J=window.requestAnimationFrame||D("RequestAnimationFrame")||$,R=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function F(n,o,d){if(d&&J===$)n.call(o);else return J.call(window,l(n,o))}function U(n){n&&R.call(window,n)}var M={__proto__:null,extend:a,create:c,bind:l,get lastId(){return u},stamp:h,throttle:m,wrapNum:g,falseFn:x,formatNum:y,trim:b,splitWords:w,setOptions:_,getParamString:N,template:C,isArray:j,indexOf:P,emptyImageUrl:E,requestFn:J,cancelFn:R,requestAnimFrame:F,cancelAnimFrame:U};function te(){}te.extend=function(n){var o=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=o.__super__=this.prototype,p=c(d);p.constructor=o,o.prototype=p;for(var v in this)Object.prototype.hasOwnProperty.call(this,v)&&v!=="prototype"&&v!=="__super__"&&(o[v]=this[v]);return n.statics&&a(o,n.statics),n.includes&&(he(n.includes),a.apply(null,[p].concat(n.includes))),a(p,n),delete p.statics,delete p.includes,p.options&&(p.options=d.options?c(d.options):{},a(p.options,n.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var S=0,A=p._initHooks.length;S<A;S++)p._initHooks[S].call(this)}},o},te.include=function(n){var o=this.prototype.options;return a(this.prototype,n),n.options&&(this.prototype.options=o,this.mergeOptions(n.options)),this},te.mergeOptions=function(n){return a(this.prototype.options,n),this},te.addInitHook=function(n){var o=Array.prototype.slice.call(arguments,1),d=typeof n=="function"?n:function(){this[n].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function he(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=j(n)?n:[n];for(var o=0;o<n.length;o++)n[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Q={on:function(n,o,d){if(typeof n=="object")for(var p in n)this._on(p,n[p],o);else{n=w(n);for(var v=0,S=n.length;v<S;v++)this._on(n[v],o,d)}return this},off:function(n,o,d){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var p in n)this._off(p,n[p],o);else{n=w(n);for(var v=arguments.length===1,S=0,A=n.length;S<A;S++)v?this._off(n[S]):this._off(n[S],o,d)}return this},_on:function(n,o,d,p){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(n,o,d)===!1){d===this&&(d=void 0);var v={fn:o,ctx:d};p&&(v.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(v)}},_off:function(n,o,d){var p,v,S;if(this._events&&(p=this._events[n],!!p)){if(arguments.length===1){if(this._firingCount)for(v=0,S=p.length;v<S;v++)p[v].fn=x;delete this._events[n];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var A=this._listens(n,o,d);if(A!==!1){var Z=p[A];this._firingCount&&(Z.fn=x,this._events[n]=p=p.slice()),p.splice(A,1)}}},fire:function(n,o,d){if(!this.listens(n,d))return this;var p=a({},o,{type:n,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var v=this._events[n];if(v){this._firingCount=this._firingCount+1||1;for(var S=0,A=v.length;S<A;S++){var Z=v[S],q=Z.fn;Z.once&&this.off(n,q,Z.ctx),q.call(Z.ctx||this,p)}this._firingCount--}}return d&&this._propagateEvent(p),this},listens:function(n,o,d,p){typeof n!="string"&&console.warn('"string" type argument expected');var v=o;typeof o!="function"&&(p=!!o,v=void 0,d=void 0);var S=this._events&&this._events[n];if(S&&S.length&&this._listens(n,v,d)!==!1)return!0;if(p){for(var A in this._eventParents)if(this._eventParents[A].listens(n,o,d,p))return!0}return!1},_listens:function(n,o,d){if(!this._events)return!1;var p=this._events[n]||[];if(!o)return!!p.length;d===this&&(d=void 0);for(var v=0,S=p.length;v<S;v++)if(p[v].fn===o&&p[v].ctx===d)return v;return!1},once:function(n,o,d){if(typeof n=="object")for(var p in n)this._on(p,n[p],o,!0);else{n=w(n);for(var v=0,S=n.length;v<S;v++)this._on(n[v],o,d,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[h(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[h(n)],this},_propagateEvent:function(n){for(var o in this._eventParents)this._eventParents[o].fire(n.type,a({layer:n.target,propagatedFrom:n.target},n),!0)}};Q.addEventListener=Q.on,Q.removeEventListener=Q.clearAllEventListeners=Q.off,Q.addOneTimeEventListener=Q.once,Q.fireEvent=Q.fire,Q.hasEventListeners=Q.listens;var fe=te.extend(Q);function se(n,o,d){this.x=d?Math.round(n):n,this.y=d?Math.round(o):o}var V=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};se.prototype={clone:function(){return new se(this.x,this.y)},add:function(n){return this.clone()._add(k(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(k(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new se(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new se(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=V(this.x),this.y=V(this.y),this},distanceTo:function(n){n=k(n);var o=n.x-this.x,d=n.y-this.y;return Math.sqrt(o*o+d*d)},equals:function(n){return n=k(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=k(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function k(n,o,d){return n instanceof se?n:j(n)?new se(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new se(n.x,n.y):new se(n,o,d)}function I(n,o){if(n)for(var d=o?[n,o]:n,p=0,v=d.length;p<v;p++)this.extend(d[p])}I.prototype={extend:function(n){var o,d;if(!n)return this;if(n instanceof se||typeof n[0]=="number"||"x"in n)o=d=k(n);else if(n=H(n),o=n.min,d=n.max,!o||!d)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=d.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(n){return k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return k(this.min.x,this.max.y)},getTopRight:function(){return k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var o,d;return typeof n[0]=="number"||n instanceof se?n=k(n):n=H(n),n instanceof I?(o=n.min,d=n.max):o=d=n,o.x>=this.min.x&&d.x<=this.max.x&&o.y>=this.min.y&&d.y<=this.max.y},intersects:function(n){n=H(n);var o=this.min,d=this.max,p=n.min,v=n.max,S=v.x>=o.x&&p.x<=d.x,A=v.y>=o.y&&p.y<=d.y;return S&&A},overlaps:function(n){n=H(n);var o=this.min,d=this.max,p=n.min,v=n.max,S=v.x>o.x&&p.x<d.x,A=v.y>o.y&&p.y<d.y;return S&&A},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var o=this.min,d=this.max,p=Math.abs(o.x-d.x)*n,v=Math.abs(o.y-d.y)*n;return H(k(o.x-p,o.y-v),k(d.x+p,d.y+v))},equals:function(n){return n?(n=H(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function H(n,o){return!n||n instanceof I?n:new I(n,o)}function O(n,o){if(n)for(var d=o?[n,o]:n,p=0,v=d.length;p<v;p++)this.extend(d[p])}O.prototype={extend:function(n){var o=this._southWest,d=this._northEast,p,v;if(n instanceof ge)p=n,v=n;else if(n instanceof O){if(p=n._southWest,v=n._northEast,!p||!v)return this}else return n?this.extend(xe(n)||W(n)):this;return!o&&!d?(this._southWest=new ge(p.lat,p.lng),this._northEast=new ge(v.lat,v.lng)):(o.lat=Math.min(p.lat,o.lat),o.lng=Math.min(p.lng,o.lng),d.lat=Math.max(v.lat,d.lat),d.lng=Math.max(v.lng,d.lng)),this},pad:function(n){var o=this._southWest,d=this._northEast,p=Math.abs(o.lat-d.lat)*n,v=Math.abs(o.lng-d.lng)*n;return new O(new ge(o.lat-p,o.lng-v),new ge(d.lat+p,d.lng+v))},getCenter:function(){return new ge((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ge(this.getNorth(),this.getWest())},getSouthEast:function(){return new ge(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof ge||"lat"in n?n=xe(n):n=W(n);var o=this._southWest,d=this._northEast,p,v;return n instanceof O?(p=n.getSouthWest(),v=n.getNorthEast()):p=v=n,p.lat>=o.lat&&v.lat<=d.lat&&p.lng>=o.lng&&v.lng<=d.lng},intersects:function(n){n=W(n);var o=this._southWest,d=this._northEast,p=n.getSouthWest(),v=n.getNorthEast(),S=v.lat>=o.lat&&p.lat<=d.lat,A=v.lng>=o.lng&&p.lng<=d.lng;return S&&A},overlaps:function(n){n=W(n);var o=this._southWest,d=this._northEast,p=n.getSouthWest(),v=n.getNorthEast(),S=v.lat>o.lat&&p.lat<d.lat,A=v.lng>o.lng&&p.lng<d.lng;return S&&A},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,o){return n?(n=W(n),this._southWest.equals(n.getSouthWest(),o)&&this._northEast.equals(n.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function W(n,o){return n instanceof O?n:new O(n,o)}function ge(n,o,d){if(isNaN(n)||isNaN(o))throw new Error("Invalid LatLng object: ("+n+", "+o+")");this.lat=+n,this.lng=+o,d!==void 0&&(this.alt=+d)}ge.prototype={equals:function(n,o){if(!n)return!1;n=xe(n);var d=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return d<=(o===void 0?1e-9:o)},toString:function(n){return"LatLng("+y(this.lat,n)+", "+y(this.lng,n)+")"},distanceTo:function(n){return Pe.distance(this,xe(n))},wrap:function(){return Pe.wrapLatLng(this)},toBounds:function(n){var o=180*n/40075017,d=o/Math.cos(Math.PI/180*this.lat);return W([this.lat-o,this.lng-d],[this.lat+o,this.lng+d])},clone:function(){return new ge(this.lat,this.lng,this.alt)}};function xe(n,o,d){return n instanceof ge?n:j(n)&&typeof n[0]!="object"?n.length===3?new ge(n[0],n[1],n[2]):n.length===2?new ge(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new ge(n.lat,"lng"in n?n.lng:n.lon,n.alt):o===void 0?null:new ge(n,o,d)}var de={latLngToPoint:function(n,o){var d=this.projection.project(n),p=this.scale(o);return this.transformation._transform(d,p)},pointToLatLng:function(n,o){var d=this.scale(o),p=this.transformation.untransform(n,d);return this.projection.unproject(p)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var o=this.projection.bounds,d=this.scale(n),p=this.transformation.transform(o.min,d),v=this.transformation.transform(o.max,d);return new I(p,v)},infinite:!1,wrapLatLng:function(n){var o=this.wrapLng?g(n.lng,this.wrapLng,!0):n.lng,d=this.wrapLat?g(n.lat,this.wrapLat,!0):n.lat,p=n.alt;return new ge(d,o,p)},wrapLatLngBounds:function(n){var o=n.getCenter(),d=this.wrapLatLng(o),p=o.lat-d.lat,v=o.lng-d.lng;if(p===0&&v===0)return n;var S=n.getSouthWest(),A=n.getNorthEast(),Z=new ge(S.lat-p,S.lng-v),q=new ge(A.lat-p,A.lng-v);return new O(Z,q)}},Pe=a({},de,{wrapLng:[-180,180],R:6371e3,distance:function(n,o){var d=Math.PI/180,p=n.lat*d,v=o.lat*d,S=Math.sin((o.lat-n.lat)*d/2),A=Math.sin((o.lng-n.lng)*d/2),Z=S*S+Math.cos(p)*Math.cos(v)*A*A,q=2*Math.atan2(Math.sqrt(Z),Math.sqrt(1-Z));return this.R*q}}),Be=6378137,G={R:Be,MAX_LATITUDE:85.0511287798,project:function(n){var o=Math.PI/180,d=this.MAX_LATITUDE,p=Math.max(Math.min(d,n.lat),-d),v=Math.sin(p*o);return new se(this.R*n.lng*o,this.R*Math.log((1+v)/(1-v))/2)},unproject:function(n){var o=180/Math.PI;return new ge((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*o,n.x*o/this.R)},bounds:function(){var n=Be*Math.PI;return new I([-n,-n],[n,n])}()};function oe(n,o,d,p){if(j(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=o,this._c=d,this._d=p}oe.prototype={transform:function(n,o){return this._transform(n.clone(),o)},_transform:function(n,o){return o=o||1,n.x=o*(this._a*n.x+this._b),n.y=o*(this._c*n.y+this._d),n},untransform:function(n,o){return o=o||1,new se((n.x/o-this._b)/this._a,(n.y/o-this._d)/this._c)}};function ce(n,o,d,p){return new oe(n,o,d,p)}var Ee=a({},Pe,{code:"EPSG:3857",projection:G,transformation:function(){var n=.5/(Math.PI*G.R);return ce(n,.5,-n,.5)}()}),we=a({},Ee,{code:"EPSG:900913"});function Oe(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function $e(n,o){var d="",p,v,S,A,Z,q;for(p=0,S=n.length;p<S;p++){for(Z=n[p],v=0,A=Z.length;v<A;v++)q=Z[v],d+=(v?"L":"M")+q.x+" "+q.y;d+=o?Ce.svg?"z":"x":""}return d||"M0 0"}var Ue=document.documentElement.style,ke="ActiveXObject"in window,qe=ke&&!document.addEventListener,De="msLaunchUri"in navigator&&!("documentMode"in document),ft=Dt("webkit"),at=Dt("android"),nt=Dt("android 2")||Dt("android 3"),rt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Tt=at&&Dt("Google")&&rt<537&&!("AudioNode"in window),ee=!!window.opera,ye=!De&&Dt("chrome"),Le=Dt("gecko")&&!ft&&!ee&&!ke,ie=!ye&&Dt("safari"),Ne=Dt("phantom"),Qe="OTransition"in Ue,et=navigator.platform.indexOf("Win")===0,xt=ke&&"transition"in Ue,K="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!nt,ne="MozPerspective"in Ue,Re=!window.L_DISABLE_3D&&(xt||K||ne)&&!Qe&&!Ne,Xe=typeof orientation<"u"||Dt("mobile"),B=Xe&&ft,ae=Xe&&K,ue=!window.PointerEvent&&window.MSPointerEvent,X=!!(window.PointerEvent||ue),ve="ontouchstart"in window||!!window.TouchEvent,Te=!window.L_NO_TOUCH&&(ve||X),Ke=Xe&&ee,tt=Xe&&Le,Jt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,cs=function(){var n=!1;try{var o=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",x,o),window.removeEventListener("testPassiveEventSupport",x,o)}catch{}return n}(),Bi=function(){return!!document.createElement("canvas").getContext}(),ds=!!(document.createElementNS&&Oe("svg").createSVGRect),zi=!!ds&&function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Fi=!ds&&function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var o=n.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}}(),Vi=navigator.platform.indexOf("Mac")===0,$i=navigator.platform.indexOf("Linux")===0;function Dt(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var Ce={ie:ke,ielt9:qe,edge:De,webkit:ft,android:at,android23:nt,androidStock:Tt,opera:ee,chrome:ye,gecko:Le,safari:ie,phantom:Ne,opera12:Qe,win:et,ie3d:xt,webkit3d:K,gecko3d:ne,any3d:Re,mobile:Xe,mobileWebkit:B,mobileWebkit3d:ae,msPointer:ue,pointer:X,touch:Te,touchNative:ve,mobileOpera:Ke,mobileGecko:tt,retina:Jt,passiveEvents:cs,canvas:Bi,svg:ds,vml:Fi,inlineSvg:zi,mac:Vi,linux:$i},zs=Ce.msPointer?"MSPointerDown":"pointerdown",Fs=Ce.msPointer?"MSPointerMove":"pointermove",Vs=Ce.msPointer?"MSPointerUp":"pointerup",$s=Ce.msPointer?"MSPointerCancel":"pointercancel",us={touchstart:zs,touchmove:Fs,touchend:Vs,touchcancel:$s},Us={touchstart:Un,touchmove:$t,touchend:$t,touchcancel:$t},vn={},Hs=!1;function Ui(n,o,d){return o==="touchstart"&&yn(),Us[o]?(d=Us[o].bind(this,d),n.addEventListener(us[o],d,!1),d):(console.warn("wrong event specified:",o),x)}function Hi(n,o,d){if(!us[o]){console.warn("wrong event specified:",o);return}n.removeEventListener(us[o],d,!1)}function Wi(n){vn[n.pointerId]=n}function Zi(n){vn[n.pointerId]&&(vn[n.pointerId]=n)}function Ws(n){delete vn[n.pointerId]}function yn(){Hs||(document.addEventListener(zs,Wi,!0),document.addEventListener(Fs,Zi,!0),document.addEventListener(Vs,Ws,!0),document.addEventListener($s,Ws,!0),Hs=!0)}function $t(n,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var d in vn)o.touches.push(vn[d]);o.changedTouches=[o],n(o)}}function Un(n,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&jt(o),$t(n,o)}function Xg(n){var o={},d,p;for(p in n)d=n[p],o[p]=d&&d.bind?d.bind(n):d;return n=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var Jg=200;function Qg(n,o){n.addEventListener("dblclick",o);var d=0,p;function v(S){if(S.detail!==1){p=S.detail;return}if(!(S.pointerType==="mouse"||S.sourceCapabilities&&!S.sourceCapabilities.firesTouchEvents)){var A=ac(S);if(!(A.some(function(q){return q instanceof HTMLLabelElement&&q.attributes.for})&&!A.some(function(q){return q instanceof HTMLInputElement||q instanceof HTMLSelectElement}))){var Z=Date.now();Z-d<=Jg?(p++,p===2&&o(Xg(S))):p=1,d=Z}}}return n.addEventListener("click",v),{dblclick:o,simDblclick:v}}function ex(n,o){n.removeEventListener("dblclick",o.dblclick),n.removeEventListener("click",o.simDblclick)}var co=Ki(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Zs=Ki(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),sc=Zs==="webkitTransition"||Zs==="OTransition"?Zs+"End":"transitionend";function ic(n){return typeof n=="string"?document.getElementById(n):n}function Gs(n,o){var d=n.style[o]||n.currentStyle&&n.currentStyle[o];if((!d||d==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(n,null);d=p?p[o]:null}return d==="auto"?null:d}function Je(n,o,d){var p=document.createElement(n);return p.className=o||"",d&&d.appendChild(p),p}function lt(n){var o=n.parentNode;o&&o.removeChild(n)}function Gi(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function hs(n){var o=n.parentNode;o&&o.lastChild!==n&&o.appendChild(n)}function fs(n){var o=n.parentNode;o&&o.firstChild!==n&&o.insertBefore(n,o.firstChild)}function uo(n,o){if(n.classList!==void 0)return n.classList.contains(o);var d=qi(n);return d.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(d)}function He(n,o){if(n.classList!==void 0)for(var d=w(o),p=0,v=d.length;p<v;p++)n.classList.add(d[p]);else if(!uo(n,o)){var S=qi(n);ho(n,(S?S+" ":"")+o)}}function mt(n,o){n.classList!==void 0?n.classList.remove(o):ho(n,b((" "+qi(n)+" ").replace(" "+o+" "," ")))}function ho(n,o){n.className.baseVal===void 0?n.className=o:n.className.baseVal=o}function qi(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function Ut(n,o){"opacity"in n.style?n.style.opacity=o:"filter"in n.style&&tx(n,o)}function tx(n,o){var d=!1,p="DXImageTransform.Microsoft.Alpha";try{d=n.filters.item(p)}catch{if(o===1)return}o=Math.round(o*100),d?(d.Enabled=o!==100,d.Opacity=o):n.style.filter+=" progid:"+p+"(opacity="+o+")"}function Ki(n){for(var o=document.documentElement.style,d=0;d<n.length;d++)if(n[d]in o)return n[d];return!1}function Hn(n,o,d){var p=o||new se(0,0);n.style[co]=(Ce.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(d?" scale("+d+")":"")}function vt(n,o){n._leaflet_pos=o,Ce.any3d?Hn(n,o):(n.style.left=o.x+"px",n.style.top=o.y+"px")}function Wn(n){return n._leaflet_pos||new se(0,0)}var qs,Ks,fo;if("onselectstart"in document)qs=function(){ze(window,"selectstart",jt)},Ks=function(){st(window,"selectstart",jt)};else{var Ys=Ki(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);qs=function(){if(Ys){var n=document.documentElement.style;fo=n[Ys],n[Ys]="none"}},Ks=function(){Ys&&(document.documentElement.style[Ys]=fo,fo=void 0)}}function mo(){ze(window,"dragstart",jt)}function po(){st(window,"dragstart",jt)}var Yi,go;function xo(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&(Xi(),Yi=n,go=n.style.outlineStyle,n.style.outlineStyle="none",ze(window,"keydown",Xi))}function Xi(){Yi&&(Yi.style.outlineStyle=go,Yi=void 0,go=void 0,st(window,"keydown",Xi))}function rc(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function vo(n){var o=n.getBoundingClientRect();return{x:o.width/n.offsetWidth||1,y:o.height/n.offsetHeight||1,boundingClientRect:o}}var nx={__proto__:null,TRANSFORM:co,TRANSITION:Zs,TRANSITION_END:sc,get:ic,getStyle:Gs,create:Je,remove:lt,empty:Gi,toFront:hs,toBack:fs,hasClass:uo,addClass:He,removeClass:mt,setClass:ho,getClass:qi,setOpacity:Ut,testProp:Ki,setTransform:Hn,setPosition:vt,getPosition:Wn,get disableTextSelection(){return qs},get enableTextSelection(){return Ks},disableImageDrag:mo,enableImageDrag:po,preventOutline:xo,restoreOutline:Xi,getSizedParentNode:rc,getScale:vo};function ze(n,o,d,p){if(o&&typeof o=="object")for(var v in o)bo(n,v,o[v],d);else{o=w(o);for(var S=0,A=o.length;S<A;S++)bo(n,o[S],d,p)}return this}var an="_leaflet_events";function st(n,o,d,p){if(arguments.length===1)oc(n),delete n[an];else if(o&&typeof o=="object")for(var v in o)_o(n,v,o[v],d);else if(o=w(o),arguments.length===2)oc(n,function(Z){return P(o,Z)!==-1});else for(var S=0,A=o.length;S<A;S++)_o(n,o[S],d,p);return this}function oc(n,o){for(var d in n[an]){var p=d.split(/\d/)[0];(!o||o(p))&&_o(n,p,null,null,d)}}var yo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function bo(n,o,d,p){var v=o+h(d)+(p?"_"+h(p):"");if(n[an]&&n[an][v])return this;var S=function(Z){return d.call(p||n,Z||window.event)},A=S;!Ce.touchNative&&Ce.pointer&&o.indexOf("touch")===0?S=Ui(n,o,S):Ce.touch&&o==="dblclick"?S=Qg(n,S):"addEventListener"in n?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?n.addEventListener(yo[o]||o,S,Ce.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(S=function(Z){Z=Z||window.event,jo(n,Z)&&A(Z)},n.addEventListener(yo[o],S,!1)):n.addEventListener(o,A,!1):n.attachEvent("on"+o,S),n[an]=n[an]||{},n[an][v]=S}function _o(n,o,d,p,v){v=v||o+h(d)+(p?"_"+h(p):"");var S=n[an]&&n[an][v];if(!S)return this;!Ce.touchNative&&Ce.pointer&&o.indexOf("touch")===0?Hi(n,o,S):Ce.touch&&o==="dblclick"?ex(n,S):"removeEventListener"in n?n.removeEventListener(yo[o]||o,S,!1):n.detachEvent("on"+o,S),n[an][v]=null}function Zn(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function wo(n){return bo(n,"wheel",Zn),this}function Xs(n){return ze(n,"mousedown touchstart dblclick contextmenu",Zn),n._leaflet_disable_click=!0,this}function jt(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function Gn(n){return jt(n),Zn(n),this}function ac(n){if(n.composedPath)return n.composedPath();for(var o=[],d=n.target;d;)o.push(d),d=d.parentNode;return o}function lc(n,o){if(!o)return new se(n.clientX,n.clientY);var d=vo(o),p=d.boundingClientRect;return new se((n.clientX-p.left)/d.x-o.clientLeft,(n.clientY-p.top)/d.y-o.clientTop)}var sx=Ce.linux&&Ce.chrome?window.devicePixelRatio:Ce.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function cc(n){return Ce.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/sx:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function jo(n,o){var d=o.relatedTarget;if(!d)return!0;try{for(;d&&d!==n;)d=d.parentNode}catch{return!1}return d!==n}var ix={__proto__:null,on:ze,off:st,stopPropagation:Zn,disableScrollPropagation:wo,disableClickPropagation:Xs,preventDefault:jt,stop:Gn,getPropagationPath:ac,getMousePosition:lc,getWheelDelta:cc,isExternalTarget:jo,addListener:ze,removeListener:st},dc=fe.extend({run:function(n,o,d,p){this.stop(),this._el=n,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=Wn(n),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=F(this._animate,this),this._step()},_step:function(n){var o=+new Date-this._startTime,d=this._duration*1e3;o<d?this._runFrame(this._easeOut(o/d),n):(this._runFrame(1),this._complete())},_runFrame:function(n,o){var d=this._startPos.add(this._offset.multiplyBy(n));o&&d._round(),vt(this._el,d),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Ye=fe.extend({options:{crs:Ee,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,o){o=_(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(xe(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Zs&&Ce.any3d&&!Ce.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ze(this._proxy,sc,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,o,d){if(o=o===void 0?this._zoom:this._limitZoom(o),n=this._limitCenter(xe(n),o,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=a({animate:d.animate},d.zoom),d.pan=a({animate:d.animate,duration:d.duration},d.pan));var p=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,o,d.zoom):this._tryAnimatedPan(n,d.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(n,o,d.pan&&d.pan.noMoveStart),this},setZoom:function(n,o){return this._loaded?this.setView(this.getCenter(),n,{zoom:o}):(this._zoom=n,this)},zoomIn:function(n,o){return n=n||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,o)},zoomOut:function(n,o){return n=n||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,o)},setZoomAround:function(n,o,d){var p=this.getZoomScale(o),v=this.getSize().divideBy(2),S=n instanceof se?n:this.latLngToContainerPoint(n),A=S.subtract(v).multiplyBy(1-1/p),Z=this.containerPointToLatLng(v.add(A));return this.setView(Z,o,{zoom:d})},_getBoundsCenterZoom:function(n,o){o=o||{},n=n.getBounds?n.getBounds():W(n);var d=k(o.paddingTopLeft||o.padding||[0,0]),p=k(o.paddingBottomRight||o.padding||[0,0]),v=this.getBoundsZoom(n,!1,d.add(p));if(v=typeof o.maxZoom=="number"?Math.min(o.maxZoom,v):v,v===1/0)return{center:n.getCenter(),zoom:v};var S=p.subtract(d).divideBy(2),A=this.project(n.getSouthWest(),v),Z=this.project(n.getNorthEast(),v),q=this.unproject(A.add(Z).divideBy(2).add(S),v);return{center:q,zoom:v}},fitBounds:function(n,o){if(n=W(n),!n.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(n,o);return this.setView(d.center,d.zoom,o)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,o){return this.setView(n,this._zoom,{pan:o})},panBy:function(n,o){if(n=k(n).round(),o=o||{},!n.x&&!n.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new dc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){He(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,d,o.duration||.25,o.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,o,d){if(d=d||{},d.animate===!1||!Ce.any3d)return this.setView(n,o,d);this._stop();var p=this.project(this.getCenter()),v=this.project(n),S=this.getSize(),A=this._zoom;n=xe(n),o=o===void 0?A:o;var Z=Math.max(S.x,S.y),q=Z*this.getZoomScale(A,o),le=v.distanceTo(p)||1,be=1.42,Ae=be*be;function Ge(yt){var cr=yt?-1:1,Zx=yt?q:Z,Gx=q*q-Z*Z+cr*Ae*Ae*le*le,qx=2*Zx*Ae*le,Mo=Gx/qx,Hc=Math.sqrt(Mo*Mo+1)-Mo,Kx=Hc<1e-9?-18:Math.log(Hc);return Kx}function Pt(yt){return(Math.exp(yt)-Math.exp(-yt))/2}function wt(yt){return(Math.exp(yt)+Math.exp(-yt))/2}function Wt(yt){return Pt(yt)/wt(yt)}var kt=Ge(0);function ys(yt){return Z*(wt(kt)/wt(kt+be*yt))}function $x(yt){return Z*(wt(kt)*Wt(kt+be*yt)-Pt(kt))/Ae}function Ux(yt){return 1-Math.pow(1-yt,1.5)}var Hx=Date.now(),$c=(Ge(1)-kt)/be,Wx=d.duration?1e3*d.duration:1e3*$c*.8;function Uc(){var yt=(Date.now()-Hx)/Wx,cr=Ux(yt)*$c;yt<=1?(this._flyToFrame=F(Uc,this),this._move(this.unproject(p.add(v.subtract(p).multiplyBy($x(cr)/le)),A),this.getScaleZoom(Z/ys(cr),A),{flyTo:!0})):this._move(n,o)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),Uc.call(this),this},flyToBounds:function(n,o){var d=this._getBoundsCenterZoom(n,o);return this.flyTo(d.center,d.zoom,o)},setMaxBounds:function(n){return n=W(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var o=this.options.minZoom;return this.options.minZoom=n,this._loaded&&o!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var o=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&o!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,o){this._enforcingBounds=!0;var d=this.getCenter(),p=this._limitCenter(d,this._zoom,W(n));return d.equals(p)||this.panTo(p,o),this._enforcingBounds=!1,this},panInside:function(n,o){o=o||{};var d=k(o.paddingTopLeft||o.padding||[0,0]),p=k(o.paddingBottomRight||o.padding||[0,0]),v=this.project(this.getCenter()),S=this.project(n),A=this.getPixelBounds(),Z=H([A.min.add(d),A.max.subtract(p)]),q=Z.getSize();if(!Z.contains(S)){this._enforcingBounds=!0;var le=S.subtract(Z.getCenter()),be=Z.extend(S).getSize().subtract(q);v.x+=le.x<0?-be.x:be.x,v.y+=le.y<0?-be.y:be.y,this.panTo(this.unproject(v),o),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=a({animate:!1,pan:!0},n===!0?{animate:!0}:n);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),p=o.divideBy(2).round(),v=d.divideBy(2).round(),S=p.subtract(v);return!S.x&&!S.y?this:(n.animate&&n.pan?this.panBy(S):(n.pan&&this._rawPanBy(S),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=a({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=l(this._handleGeolocationResponse,this),d=l(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,d,n):navigator.geolocation.getCurrentPosition(o,d,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var o=n.code,d=n.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var o=n.coords.latitude,d=n.coords.longitude,p=new ge(o,d),v=p.toBounds(n.coords.accuracy*2),S=this._locateOptions;if(S.setView){var A=this.getBoundsZoom(v);this.setView(p,S.maxZoom?Math.min(A,S.maxZoom):A)}var Z={latlng:p,bounds:v,timestamp:n.timestamp};for(var q in n.coords)typeof n.coords[q]=="number"&&(Z[q]=n.coords[q]);this.fire("locationfound",Z)}},addHandler:function(n,o){if(!o)return this;var d=this[n]=new o(this);return this._handlers.push(d),this.options[n]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),lt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)lt(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,o){var d="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),p=Je("div",d,o||this._mapPane);return n&&(this._panes[n]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),o=this.unproject(n.getBottomLeft()),d=this.unproject(n.getTopRight());return new O(o,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,o,d){n=W(n),d=k(d||[0,0]);var p=this.getZoom()||0,v=this.getMinZoom(),S=this.getMaxZoom(),A=n.getNorthWest(),Z=n.getSouthEast(),q=this.getSize().subtract(d),le=H(this.project(Z,p),this.project(A,p)).getSize(),be=Ce.any3d?this.options.zoomSnap:1,Ae=q.x/le.x,Ge=q.y/le.y,Pt=o?Math.max(Ae,Ge):Math.min(Ae,Ge);return p=this.getScaleZoom(Pt,p),be&&(p=Math.round(p/(be/100))*(be/100),p=o?Math.ceil(p/be)*be:Math.floor(p/be)*be),Math.max(v,Math.min(S,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new se(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,o){var d=this._getTopLeftPoint(n,o);return new I(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,o){var d=this.options.crs;return o=o===void 0?this._zoom:o,d.scale(n)/d.scale(o)},getScaleZoom:function(n,o){var d=this.options.crs;o=o===void 0?this._zoom:o;var p=d.zoom(n*d.scale(o));return isNaN(p)?1/0:p},project:function(n,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(xe(n),o)},unproject:function(n,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(k(n),o)},layerPointToLatLng:function(n){var o=k(n).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(n){var o=this.project(xe(n))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(xe(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(W(n))},distance:function(n,o){return this.options.crs.distance(xe(n),xe(o))},containerPointToLayerPoint:function(n){return k(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return k(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var o=this.containerPointToLayerPoint(k(n));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(xe(n)))},mouseEventToContainerPoint:function(n){return lc(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var o=this._container=ic(n);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ze(o,"scroll",this._onScroll,this),this._containerId=h(o)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ce.any3d,He(n,"leaflet-container"+(Ce.touch?" leaflet-touch":"")+(Ce.retina?" leaflet-retina":"")+(Ce.ielt9?" leaflet-oldie":"")+(Ce.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=Gs(n,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),vt(this._mapPane,new se(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(He(n.markerPane,"leaflet-zoom-hide"),He(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,o,d){vt(this._mapPane,new se(0,0));var p=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var v=this._zoom!==o;this._moveStart(v,d)._move(n,o)._moveEnd(v),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(n,o){return n&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(n,o,d,p){o===void 0&&(o=this._zoom);var v=this._zoom!==o;return this._zoom=o,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),p?d&&d.pinch&&this.fire("zoom",d):((v||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){vt(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[h(this._container)]=this;var o=n?st:ze;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),Ce.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=F(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,o){for(var d=[],p,v=o==="mouseout"||o==="mouseover",S=n.target||n.srcElement,A=!1;S;){if(p=this._targets[h(S)],p&&(o==="click"||o==="preclick")&&this._draggableMoved(p)){A=!0;break}if(p&&p.listens(o,!0)&&(v&&!jo(S,n)||(d.push(p),v))||S===this._container)break;S=S.parentNode}return!d.length&&!A&&!v&&this.listens(o,!0)&&(d=[this]),d},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var o=n.target||n.srcElement;if(!(!this._loaded||o._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(o))){var d=n.type;d==="mousedown"&&xo(o),this._fireDOMEvent(n,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,o,d){if(n.type==="click"){var p=a({},n);p.type="preclick",this._fireDOMEvent(p,p.type,d)}var v=this._findEventTargets(n,o);if(d){for(var S=[],A=0;A<d.length;A++)d[A].listens(o,!0)&&S.push(d[A]);v=S.concat(v)}if(v.length){o==="contextmenu"&&jt(n);var Z=v[0],q={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var le=Z.getLatLng&&(!Z._radius||Z._radius<=10);q.containerPoint=le?this.latLngToContainerPoint(Z.getLatLng()):this.mouseEventToContainerPoint(n),q.layerPoint=this.containerPointToLayerPoint(q.containerPoint),q.latlng=le?Z.getLatLng():this.layerPointToLatLng(q.layerPoint)}for(A=0;A<v.length;A++)if(v[A].fire(o,q,!0),q.originalEvent._stopped||v[A].options.bubblingMouseEvents===!1&&P(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,o=this._handlers.length;n<o;n++)this._handlers[n].disable()},whenReady:function(n,o){return this._loaded?n.call(o||this,{target:this}):this.on("load",n,o),this},_getMapPanePos:function(){return Wn(this._mapPane)||new se(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,o){var d=n&&o!==void 0?this._getNewPixelOrigin(n,o):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,o){var d=this.getSize()._divideBy(2);return this.project(n,o)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,o,d){var p=this._getNewPixelOrigin(d,o);return this.project(n,o)._subtract(p)},_latLngBoundsToNewLayerBounds:function(n,o,d){var p=this._getNewPixelOrigin(d,o);return H([this.project(n.getSouthWest(),o)._subtract(p),this.project(n.getNorthWest(),o)._subtract(p),this.project(n.getSouthEast(),o)._subtract(p),this.project(n.getNorthEast(),o)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,o,d){if(!d)return n;var p=this.project(n,o),v=this.getSize().divideBy(2),S=new I(p.subtract(v),p.add(v)),A=this._getBoundsOffset(S,d,o);return Math.abs(A.x)<=1&&Math.abs(A.y)<=1?n:this.unproject(p.add(A),o)},_limitOffset:function(n,o){if(!o)return n;var d=this.getPixelBounds(),p=new I(d.min.add(n),d.max.add(n));return n.add(this._getBoundsOffset(p,o))},_getBoundsOffset:function(n,o,d){var p=H(this.project(o.getNorthEast(),d),this.project(o.getSouthWest(),d)),v=p.min.subtract(n.min),S=p.max.subtract(n.max),A=this._rebound(v.x,-S.x),Z=this._rebound(v.y,-S.y);return new se(A,Z)},_rebound:function(n,o){return n+o>0?Math.round(n-o)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(o))},_limitZoom:function(n){var o=this.getMinZoom(),d=this.getMaxZoom(),p=Ce.any3d?this.options.zoomSnap:1;return p&&(n=Math.round(n/p)*p),Math.max(o,Math.min(d,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){mt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,o){var d=this._getCenterOffset(n)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,o),!0)},_createAnimProxy:function(){var n=this._proxy=Je("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(o){var d=co,p=this._proxy.style[d];Hn(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),p===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){lt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),o=this.getZoom();Hn(this._proxy,this.project(n,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,o,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(o),v=this._getCenterOffset(n)._divideBy(1-1/p);return d.animate!==!0&&!this.getSize().contains(v)?!1:(F(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(n,o,!0)},this),!0)},_animateZoom:function(n,o,d,p){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=o,He(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:o,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&mt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rx(n,o){return new Ye(n,o)}var Qt=te.extend({options:{position:"topright"},initialize:function(n){_(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var o=this._map;return o&&o.removeControl(this),this.options.position=n,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var o=this._container=this.onAdd(n),d=this.getPosition(),p=n._controlCorners[d];return He(o,"leaflet-control"),d.indexOf("bottom")!==-1?p.insertBefore(o,p.firstChild):p.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(lt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),Js=function(n){return new Qt(n)};Ye.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},o="leaflet-",d=this._controlContainer=Je("div",o+"control-container",this._container);function p(v,S){var A=o+v+" "+o+S;n[v+S]=Je("div",A,d)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)lt(this._controlCorners[n]);lt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var uc=Qt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,o,d,p){return d<p?-1:p<d?1:0}},initialize:function(n,o,d){_(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in n)this._addLayer(n[p],p);for(p in o)this._addLayer(o[p],p,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return Qt.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,o){return this._addLayer(n,o),this._map?this._update():this},addOverlay:function(n,o){return this._addLayer(n,o,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var o=this._getLayer(h(n));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){He(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(He(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):mt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return mt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",o=this._container=Je("div",n),d=this.options.collapsed;o.setAttribute("aria-haspopup",!0),Xs(o),wo(o);var p=this._section=Je("section",n+"-list");d&&(this._map.on("click",this.collapse,this),ze(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var v=this._layersLink=Je("a",n+"-toggle",o);v.href="#",v.title="Layers",v.setAttribute("role","button"),ze(v,{keydown:function(S){S.keyCode===13&&this._expandSafely()},click:function(S){jt(S),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Je("div",n+"-base",p),this._separator=Je("div",n+"-separator",p),this._overlaysList=Je("div",n+"-overlays",p),o.appendChild(p)},_getLayer:function(n){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&h(this._layers[o].layer)===n)return this._layers[o]},_addLayer:function(n,o,d){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:o,overlay:d}),this.options.sortLayers&&this._layers.sort(l(function(p,v){return this.options.sortFunction(p.layer,v.layer,p.name,v.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Gi(this._baseLayersList),Gi(this._overlaysList),this._layerControlInputs=[];var n,o,d,p,v=0;for(d=0;d<this._layers.length;d++)p=this._layers[d],this._addItem(p),o=o||p.overlay,n=n||!p.overlay,v+=p.overlay?0:1;return this.options.hideSingleBase&&(n=n&&v>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=o&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var o=this._getLayer(h(n.target)),d=o.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;d&&this._map.fire(d,o)},_createRadioElement:function(n,o){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(o?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=d,p.firstChild},_addItem:function(n){var o=document.createElement("label"),d=this._map.hasLayer(n.layer),p;n.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=d):p=this._createRadioElement("leaflet-base-layers_"+h(this),d),this._layerControlInputs.push(p),p.layerId=h(n.layer),ze(p,"click",this._onInputClick,this);var v=document.createElement("span");v.innerHTML=" "+n.name;var S=document.createElement("span");o.appendChild(S),S.appendChild(p),S.appendChild(v);var A=n.overlay?this._overlaysList:this._baseLayersList;return A.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,o,d,p=[],v=[];this._handlingClick=!0;for(var S=n.length-1;S>=0;S--)o=n[S],d=this._getLayer(o.layerId).layer,o.checked?p.push(d):o.checked||v.push(d);for(S=0;S<v.length;S++)this._map.hasLayer(v[S])&&this._map.removeLayer(v[S]);for(S=0;S<p.length;S++)this._map.hasLayer(p[S])||this._map.addLayer(p[S]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,o,d,p=this._map.getZoom(),v=n.length-1;v>=0;v--)o=n[v],d=this._getLayer(o.layerId).layer,o.disabled=d.options.minZoom!==void 0&&p<d.options.minZoom||d.options.maxZoom!==void 0&&p>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,ze(n,"click",jt),this.expand();var o=this;setTimeout(function(){st(n,"click",jt),o._preventClick=!1})}}),ox=function(n,o,d){return new uc(n,o,d)},So=Qt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var o="leaflet-control-zoom",d=Je("div",o+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,o+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,o+"-out",d,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,o,d,p,v){var S=Je("a",d,p);return S.innerHTML=n,S.href="#",S.title=o,S.setAttribute("role","button"),S.setAttribute("aria-label",o),Xs(S),ze(S,"click",Gn),ze(S,"click",v,this),ze(S,"click",this._refocusOnMap,this),S},_updateDisabled:function(){var n=this._map,o="leaflet-disabled";mt(this._zoomInButton,o),mt(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(He(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(He(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ye.mergeOptions({zoomControl:!0}),Ye.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new So,this.addControl(this.zoomControl))});var ax=function(n){return new So(n)},hc=Qt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var o="leaflet-control-scale",d=Je("div",o),p=this.options;return this._addScales(p,o+"-line",d),n.on(p.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),d},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,o,d){n.metric&&(this._mScale=Je("div",o,d)),n.imperial&&(this._iScale=Je("div",o,d))},_update:function(){var n=this._map,o=n.getSize().y/2,d=n.distance(n.containerPointToLatLng([0,o]),n.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(d)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var o=this._getRoundNum(n),d=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,d,o/n)},_updateImperial:function(n){var o=n*3.2808399,d,p,v;o>5280?(d=o/5280,p=this._getRoundNum(d),this._updateScale(this._iScale,p+" mi",p/d)):(v=this._getRoundNum(o),this._updateScale(this._iScale,v+" ft",v/o))},_updateScale:function(n,o,d){n.style.width=Math.round(this.options.maxWidth*d)+"px",n.innerHTML=o},_getRoundNum:function(n){var o=Math.pow(10,(Math.floor(n)+"").length-1),d=n/o;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,o*d}}),lx=function(n){return new hc(n)},cx='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',No=Qt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ce.inlineSvg?cx+" ":"")+"Leaflet</a>"},initialize:function(n){_(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=Je("div","leaflet-control-attribution"),Xs(this._container);for(var o in n._layers)n._layers[o].getAttribution&&this.addAttribution(n._layers[o].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var o in this._attributions)this._attributions[o]&&n.push(o);var d=[];this.options.prefix&&d.push(this.options.prefix),n.length&&d.push(n.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Ye.mergeOptions({attributionControl:!0}),Ye.addInitHook(function(){this.options.attributionControl&&new No().addTo(this)});var dx=function(n){return new No(n)};Qt.Layers=uc,Qt.Zoom=So,Qt.Scale=hc,Qt.Attribution=No,Js.layers=ox,Js.zoom=ax,Js.scale=lx,Js.attribution=dx;var ln=te.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ln.addTo=function(n,o){return n.addHandler(o,this),this};var ux={Events:Q},fc=Ce.touch?"touchstart mousedown":"mousedown",Pn=fe.extend({options:{clickTolerance:3},initialize:function(n,o,d,p){_(this,p),this._element=n,this._dragStartTarget=o||n,this._preventOutline=d},enable:function(){this._enabled||(ze(this._dragStartTarget,fc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Pn._dragging===this&&this.finishDrag(!0),st(this._dragStartTarget,fc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!uo(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){Pn._dragging===this&&this.finishDrag();return}if(!(Pn._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(Pn._dragging=this,this._preventOutline&&xo(this._element),mo(),qs(),!this._moving)){this.fire("down");var o=n.touches?n.touches[0]:n,d=rc(this._element);this._startPoint=new se(o.clientX,o.clientY),this._startPos=Wn(this._element),this._parentScale=vo(d);var p=n.type==="mousedown";ze(document,p?"mousemove":"touchmove",this._onMove,this),ze(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var o=n.touches&&n.touches.length===1?n.touches[0]:n,d=new se(o.clientX,o.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,jt(n),this._moved||(this.fire("dragstart"),this._moved=!0,He(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),He(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),vt(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){mt(document.body,"leaflet-dragging"),this._lastTarget&&(mt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),st(document,"mousemove touchmove",this._onMove,this),st(document,"mouseup touchend touchcancel",this._onUp,this),po(),Ks();var o=this._moved&&this._moving;this._moving=!1,Pn._dragging=!1,o&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function mc(n,o,d){var p,v=[1,4,2,8],S,A,Z,q,le,be,Ae,Ge;for(S=0,be=n.length;S<be;S++)n[S]._code=qn(n[S],o);for(Z=0;Z<4;Z++){for(Ae=v[Z],p=[],S=0,be=n.length,A=be-1;S<be;A=S++)q=n[S],le=n[A],q._code&Ae?le._code&Ae||(Ge=Ji(le,q,Ae,o,d),Ge._code=qn(Ge,o),p.push(Ge)):(le._code&Ae&&(Ge=Ji(le,q,Ae,o,d),Ge._code=qn(Ge,o),p.push(Ge)),p.push(q));n=p}return n}function pc(n,o){var d,p,v,S,A,Z,q,le,be;if(!n||n.length===0)throw new Error("latlngs not passed");Ht(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var Ae=xe([0,0]),Ge=W(n),Pt=Ge.getNorthWest().distanceTo(Ge.getSouthWest())*Ge.getNorthEast().distanceTo(Ge.getNorthWest());Pt<1700&&(Ae=Co(n));var wt=n.length,Wt=[];for(d=0;d<wt;d++){var kt=xe(n[d]);Wt.push(o.project(xe([kt.lat-Ae.lat,kt.lng-Ae.lng])))}for(Z=q=le=0,d=0,p=wt-1;d<wt;p=d++)v=Wt[d],S=Wt[p],A=v.y*S.x-S.y*v.x,q+=(v.x+S.x)*A,le+=(v.y+S.y)*A,Z+=A*3;Z===0?be=Wt[0]:be=[q/Z,le/Z];var ys=o.unproject(k(be));return xe([ys.lat+Ae.lat,ys.lng+Ae.lng])}function Co(n){for(var o=0,d=0,p=0,v=0;v<n.length;v++){var S=xe(n[v]);o+=S.lat,d+=S.lng,p++}return xe([o/p,d/p])}var hx={__proto__:null,clipPolygon:mc,polygonCenter:pc,centroid:Co};function gc(n,o){if(!o||!n.length)return n.slice();var d=o*o;return n=px(n,d),n=mx(n,d),n}function xc(n,o,d){return Math.sqrt(Qs(n,o,d,!0))}function fx(n,o,d){return Qs(n,o,d)}function mx(n,o){var d=n.length,p=typeof Uint8Array<"u"?Uint8Array:Array,v=new p(d);v[0]=v[d-1]=1,To(n,v,o,0,d-1);var S,A=[];for(S=0;S<d;S++)v[S]&&A.push(n[S]);return A}function To(n,o,d,p,v){var S=0,A,Z,q;for(Z=p+1;Z<=v-1;Z++)q=Qs(n[Z],n[p],n[v],!0),q>S&&(A=Z,S=q);S>d&&(o[A]=1,To(n,o,d,p,A),To(n,o,d,A,v))}function px(n,o){for(var d=[n[0]],p=1,v=0,S=n.length;p<S;p++)gx(n[p],n[v])>o&&(d.push(n[p]),v=p);return v<S-1&&d.push(n[S-1]),d}var vc;function yc(n,o,d,p,v){var S=p?vc:qn(n,d),A=qn(o,d),Z,q,le;for(vc=A;;){if(!(S|A))return[n,o];if(S&A)return!1;Z=S||A,q=Ji(n,o,Z,d,v),le=qn(q,d),Z===S?(n=q,S=le):(o=q,A=le)}}function Ji(n,o,d,p,v){var S=o.x-n.x,A=o.y-n.y,Z=p.min,q=p.max,le,be;return d&8?(le=n.x+S*(q.y-n.y)/A,be=q.y):d&4?(le=n.x+S*(Z.y-n.y)/A,be=Z.y):d&2?(le=q.x,be=n.y+A*(q.x-n.x)/S):d&1&&(le=Z.x,be=n.y+A*(Z.x-n.x)/S),new se(le,be,v)}function qn(n,o){var d=0;return n.x<o.min.x?d|=1:n.x>o.max.x&&(d|=2),n.y<o.min.y?d|=4:n.y>o.max.y&&(d|=8),d}function gx(n,o){var d=o.x-n.x,p=o.y-n.y;return d*d+p*p}function Qs(n,o,d,p){var v=o.x,S=o.y,A=d.x-v,Z=d.y-S,q=A*A+Z*Z,le;return q>0&&(le=((n.x-v)*A+(n.y-S)*Z)/q,le>1?(v=d.x,S=d.y):le>0&&(v+=A*le,S+=Z*le)),A=n.x-v,Z=n.y-S,p?A*A+Z*Z:new se(v,S)}function Ht(n){return!j(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function bc(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ht(n)}function _c(n,o){var d,p,v,S,A,Z,q,le;if(!n||n.length===0)throw new Error("latlngs not passed");Ht(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var be=xe([0,0]),Ae=W(n),Ge=Ae.getNorthWest().distanceTo(Ae.getSouthWest())*Ae.getNorthEast().distanceTo(Ae.getNorthWest());Ge<1700&&(be=Co(n));var Pt=n.length,wt=[];for(d=0;d<Pt;d++){var Wt=xe(n[d]);wt.push(o.project(xe([Wt.lat-be.lat,Wt.lng-be.lng])))}for(d=0,p=0;d<Pt-1;d++)p+=wt[d].distanceTo(wt[d+1])/2;if(p===0)le=wt[0];else for(d=0,S=0;d<Pt-1;d++)if(A=wt[d],Z=wt[d+1],v=A.distanceTo(Z),S+=v,S>p){q=(S-p)/v,le=[Z.x-q*(Z.x-A.x),Z.y-q*(Z.y-A.y)];break}var kt=o.unproject(k(le));return xe([kt.lat+be.lat,kt.lng+be.lng])}var xx={__proto__:null,simplify:gc,pointToSegmentDistance:xc,closestPointOnSegment:fx,clipSegment:yc,_getEdgeIntersection:Ji,_getBitCode:qn,_sqClosestPointOnSegment:Qs,isFlat:Ht,_flat:bc,polylineCenter:_c},Po={project:function(n){return new se(n.lng,n.lat)},unproject:function(n){return new ge(n.y,n.x)},bounds:new I([-180,-90],[180,90])},Eo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new I([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var o=Math.PI/180,d=this.R,p=n.lat*o,v=this.R_MINOR/d,S=Math.sqrt(1-v*v),A=S*Math.sin(p),Z=Math.tan(Math.PI/4-p/2)/Math.pow((1-A)/(1+A),S/2);return p=-d*Math.log(Math.max(Z,1e-10)),new se(n.lng*o*d,p)},unproject:function(n){for(var o=180/Math.PI,d=this.R,p=this.R_MINOR/d,v=Math.sqrt(1-p*p),S=Math.exp(-n.y/d),A=Math.PI/2-2*Math.atan(S),Z=0,q=.1,le;Z<15&&Math.abs(q)>1e-7;Z++)le=v*Math.sin(A),le=Math.pow((1-le)/(1+le),v/2),q=Math.PI/2-2*Math.atan(S*le)-A,A+=q;return new ge(A*o,n.x*o/d)}},vx={__proto__:null,LonLat:Po,Mercator:Eo,SphericalMercator:G},yx=a({},Pe,{code:"EPSG:3395",projection:Eo,transformation:function(){var n=.5/(Math.PI*Eo.R);return ce(n,.5,-n,.5)}()}),wc=a({},Pe,{code:"EPSG:4326",projection:Po,transformation:ce(1/180,1,-1/180,.5)}),bx=a({},de,{projection:Po,transformation:ce(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,o){var d=o.lng-n.lng,p=o.lat-n.lat;return Math.sqrt(d*d+p*p)},infinite:!0});de.Earth=Pe,de.EPSG3395=yx,de.EPSG3857=Ee,de.EPSG900913=we,de.EPSG4326=wc,de.Simple=bx;var en=fe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[h(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[h(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var o=n.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var d=this.getEvents();o.on(d,this),this.once("remove",function(){o.off(d,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});Ye.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var o=h(n);return this._layers[o]?this:(this._layers[o]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var o=h(n);return this._layers[o]?(this._loaded&&n.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return h(n)in this._layers},eachLayer:function(n,o){for(var d in this._layers)n.call(o,this._layers[d]);return this},_addLayers:function(n){n=n?j(n)?n:[n]:[];for(var o=0,d=n.length;o<d;o++)this.addLayer(n[o])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[h(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var o=h(n);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,o=-1/0,d=this._getZoomSpan();for(var p in this._zoomBoundLayers){var v=this._zoomBoundLayers[p].options;n=v.minZoom===void 0?n:Math.min(n,v.minZoom),o=v.maxZoom===void 0?o:Math.max(o,v.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=n===1/0?void 0:n,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ms=en.extend({initialize:function(n,o){_(this,o),this._layers={};var d,p;if(n)for(d=0,p=n.length;d<p;d++)this.addLayer(n[d])},addLayer:function(n){var o=this.getLayerId(n);return this._layers[o]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var o=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(n){var o=typeof n=="number"?n:this.getLayerId(n);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var o=Array.prototype.slice.call(arguments,1),d,p;for(d in this._layers)p=this._layers[d],p[n]&&p[n].apply(p,o);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,o){for(var d in this._layers)n.call(o,this._layers[d]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return h(n)}}),_x=function(n,o){return new ms(n,o)},bn=ms.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),ms.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),ms.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new O;for(var o in this._layers){var d=this._layers[o];n.extend(d.getBounds?d.getBounds():d.getLatLng())}return n}}),wx=function(n,o){return new bn(n,o)},ps=te.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){_(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,o){var d=this._getIconUrl(n);if(!d){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(d,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(p,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(n,o){var d=this.options,p=d[o+"Size"];typeof p=="number"&&(p=[p,p]);var v=k(p),S=k(o==="shadow"&&d.shadowAnchor||d.iconAnchor||v&&v.divideBy(2,!0));n.className="leaflet-marker-"+o+" "+(d.className||""),S&&(n.style.marginLeft=-S.x+"px",n.style.marginTop=-S.y+"px"),v&&(n.style.width=v.x+"px",n.style.height=v.y+"px")},_createImg:function(n,o){return o=o||document.createElement("img"),o.src=n,o},_getIconUrl:function(n){return Ce.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function jx(n){return new ps(n)}var ei=ps.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof ei.imagePath!="string"&&(ei.imagePath=this._detectIconPath()),(this.options.imagePath||ei.imagePath)+ps.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var o=function(d,p,v){var S=p.exec(d);return S&&S[v]};return n=o(n,/^url\((['"])?(.+)\1\)$/,2),n&&o(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=Je("div","leaflet-default-icon-path",document.body),o=Gs(n,"background-image")||Gs(n,"backgroundImage");if(document.body.removeChild(n),o=this._stripUrl(o),o)return o;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),jc=ln.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Pn(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),He(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&mt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var o=this._marker,d=o._map,p=this._marker.options.autoPanSpeed,v=this._marker.options.autoPanPadding,S=Wn(o._icon),A=d.getPixelBounds(),Z=d.getPixelOrigin(),q=H(A.min._subtract(Z).add(v),A.max._subtract(Z).subtract(v));if(!q.contains(S)){var le=k((Math.max(q.max.x,S.x)-q.max.x)/(A.max.x-q.max.x)-(Math.min(q.min.x,S.x)-q.min.x)/(A.min.x-q.min.x),(Math.max(q.max.y,S.y)-q.max.y)/(A.max.y-q.max.y)-(Math.min(q.min.y,S.y)-q.min.y)/(A.min.y-q.min.y)).multiplyBy(p);d.panBy(le,{animate:!1}),this._draggable._newPos._add(le),this._draggable._startPos._add(le),vt(o._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=F(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=F(this._adjustPan.bind(this,n)))},_onDrag:function(n){var o=this._marker,d=o._shadow,p=Wn(o._icon),v=o._map.layerPointToLatLng(p);d&&vt(d,p),o._latlng=v,n.latlng=v,n.oldLatLng=this._oldLatLng,o.fire("move",n).fire("drag",n)},_onDragEnd:function(n){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),Qi=en.extend({options:{icon:new ei,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,o){_(this,o),this._latlng=xe(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var o=this._latlng;return this._latlng=xe(n),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=n.icon.createIcon(this._icon),p=!1;d!==this._icon&&(this._icon&&this._removeIcon(),p=!0,n.title&&(d.title=n.title),d.tagName==="IMG"&&(d.alt=n.alt||"")),He(d,o),n.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ze(d,"focus",this._panOnFocus,this);var v=n.icon.createShadow(this._shadow),S=!1;v!==this._shadow&&(this._removeShadow(),S=!0),v&&(He(v,o),v.alt=""),this._shadow=v,n.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),v&&S&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&st(this._icon,"focus",this._panOnFocus,this),lt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&lt(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&vt(this._icon,n),this._shadow&&vt(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var o=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(He(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),jc)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new jc(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&Ut(this._icon,n),this._shadow&&Ut(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var o=this.options.icon.options,d=o.iconSize?k(o.iconSize):k(0,0),p=o.iconAnchor?k(o.iconAnchor):k(0,0);n.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:d.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Sx(n,o){return new Qi(n,o)}var En=en.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return _(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),er=En.extend({options:{fill:!0,radius:10},initialize:function(n,o){_(this,o),this._latlng=xe(n),this._radius=this.options.radius},setLatLng:function(n){var o=this._latlng;return this._latlng=xe(n),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var o=n&&n.radius||this._radius;return En.prototype.setStyle.call(this,n),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,o=this._radiusY||n,d=this._clickTolerance(),p=[n+d,o+d];this._pxBounds=new I(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Nx(n,o){return new er(n,o)}var Lo=er.extend({initialize:function(n,o,d){if(typeof o=="number"&&(o=a({},d,{radius:o})),_(this,o),this._latlng=xe(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new O(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:En.prototype.setStyle,_project:function(){var n=this._latlng.lng,o=this._latlng.lat,d=this._map,p=d.options.crs;if(p.distance===Pe.distance){var v=Math.PI/180,S=this._mRadius/Pe.R/v,A=d.project([o+S,n]),Z=d.project([o-S,n]),q=A.add(Z).divideBy(2),le=d.unproject(q).lat,be=Math.acos((Math.cos(S*v)-Math.sin(o*v)*Math.sin(le*v))/(Math.cos(o*v)*Math.cos(le*v)))/v;(isNaN(be)||be===0)&&(be=S/Math.cos(Math.PI/180*o)),this._point=q.subtract(d.getPixelOrigin()),this._radius=isNaN(be)?0:q.x-d.project([le,n-be]).x,this._radiusY=q.y-A.y}else{var Ae=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Ae).x}this._updateBounds()}});function Cx(n,o,d){return new Lo(n,o,d)}var _n=En.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,o){_(this,o),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var o=1/0,d=null,p=Qs,v,S,A=0,Z=this._parts.length;A<Z;A++)for(var q=this._parts[A],le=1,be=q.length;le<be;le++){v=q[le-1],S=q[le];var Ae=p(n,v,S,!0);Ae<o&&(o=Ae,d=p(n,v,S))}return d&&(d.distance=Math.sqrt(o)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _c(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,o){return o=o||this._defaultShape(),n=xe(n),o.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new O,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return Ht(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var o=[],d=Ht(n),p=0,v=n.length;p<v;p++)d?(o[p]=xe(n[p]),this._bounds.extend(o[p])):o[p]=this._convertLatLngs(n[p]);return o},_project:function(){var n=new I;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),o=new se(n,n);this._rawPxBounds&&(this._pxBounds=new I([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(n,o,d){var p=n[0]instanceof ge,v=n.length,S,A;if(p){for(A=[],S=0;S<v;S++)A[S]=this._map.latLngToLayerPoint(n[S]),d.extend(A[S]);o.push(A)}else for(S=0;S<v;S++)this._projectLatlngs(n[S],o,d)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,d,p,v,S,A,Z,q;for(d=0,v=0,S=this._rings.length;d<S;d++)for(q=this._rings[d],p=0,A=q.length;p<A-1;p++)Z=yc(q[p],q[p+1],n,p,!0),Z&&(o[v]=o[v]||[],o[v].push(Z[0]),(Z[1]!==q[p+1]||p===A-2)&&(o[v].push(Z[1]),v++))}},_simplifyPoints:function(){for(var n=this._parts,o=this.options.smoothFactor,d=0,p=n.length;d<p;d++)n[d]=gc(n[d],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,o){var d,p,v,S,A,Z,q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(d=0,S=this._parts.length;d<S;d++)for(Z=this._parts[d],p=0,A=Z.length,v=A-1;p<A;v=p++)if(!(!o&&p===0)&&xc(n,Z[v],Z[p])<=q)return!0;return!1}});function Tx(n,o){return new _n(n,o)}_n._flat=bc;var gs=_n.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return pc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var o=_n.prototype._convertLatLngs.call(this,n),d=o.length;return d>=2&&o[0]instanceof ge&&o[0].equals(o[d-1])&&o.pop(),o},_setLatLngs:function(n){_n.prototype._setLatLngs.call(this,n),Ht(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ht(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,o=this.options.weight,d=new se(o,o);if(n=new I(n.min.subtract(d),n.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,v=this._rings.length,S;p<v;p++)S=mc(this._rings[p],n,!0),S.length&&this._parts.push(S)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var o=!1,d,p,v,S,A,Z,q,le;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(S=0,q=this._parts.length;S<q;S++)for(d=this._parts[S],A=0,le=d.length,Z=le-1;A<le;Z=A++)p=d[A],v=d[Z],p.y>n.y!=v.y>n.y&&n.x<(v.x-p.x)*(n.y-p.y)/(v.y-p.y)+p.x&&(o=!o);return o||_n.prototype._containsPoint.call(this,n,!0)}});function Px(n,o){return new gs(n,o)}var wn=bn.extend({initialize:function(n,o){_(this,o),this._layers={},n&&this.addData(n)},addData:function(n){var o=j(n)?n:n.features,d,p,v;if(o){for(d=0,p=o.length;d<p;d++)v=o[d],(v.geometries||v.geometry||v.features||v.coordinates)&&this.addData(v);return this}var S=this.options;if(S.filter&&!S.filter(n))return this;var A=tr(n,S);return A?(A.feature=ir(n),A.defaultOptions=A.options,this.resetStyle(A),S.onEachFeature&&S.onEachFeature(n,A),this.addLayer(A)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=a({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(o){this._setLayerStyle(o,n)},this)},_setLayerStyle:function(n,o){n.setStyle&&(typeof o=="function"&&(o=o(n.feature)),n.setStyle(o))}});function tr(n,o){var d=n.type==="Feature"?n.geometry:n,p=d?d.coordinates:null,v=[],S=o&&o.pointToLayer,A=o&&o.coordsToLatLng||Ao,Z,q,le,be;if(!p&&!d)return null;switch(d.type){case"Point":return Z=A(p),Sc(S,n,Z,o);case"MultiPoint":for(le=0,be=p.length;le<be;le++)Z=A(p[le]),v.push(Sc(S,n,Z,o));return new bn(v);case"LineString":case"MultiLineString":return q=nr(p,d.type==="LineString"?0:1,A),new _n(q,o);case"Polygon":case"MultiPolygon":return q=nr(p,d.type==="Polygon"?1:2,A),new gs(q,o);case"GeometryCollection":for(le=0,be=d.geometries.length;le<be;le++){var Ae=tr({geometry:d.geometries[le],type:"Feature",properties:n.properties},o);Ae&&v.push(Ae)}return new bn(v);case"FeatureCollection":for(le=0,be=d.features.length;le<be;le++){var Ge=tr(d.features[le],o);Ge&&v.push(Ge)}return new bn(v);default:throw new Error("Invalid GeoJSON object.")}}function Sc(n,o,d,p){return n?n(o,d):new Qi(d,p&&p.markersInheritOptions&&p)}function Ao(n){return new ge(n[1],n[0],n[2])}function nr(n,o,d){for(var p=[],v=0,S=n.length,A;v<S;v++)A=o?nr(n[v],o-1,d):(d||Ao)(n[v]),p.push(A);return p}function ko(n,o){return n=xe(n),n.alt!==void 0?[y(n.lng,o),y(n.lat,o),y(n.alt,o)]:[y(n.lng,o),y(n.lat,o)]}function sr(n,o,d,p){for(var v=[],S=0,A=n.length;S<A;S++)v.push(o?sr(n[S],Ht(n[S])?0:o-1,d,p):ko(n[S],p));return!o&&d&&v.length>0&&v.push(v[0].slice()),v}function xs(n,o){return n.feature?a({},n.feature,{geometry:o}):ir(o)}function ir(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var Ro={toGeoJSON:function(n){return xs(this,{type:"Point",coordinates:ko(this.getLatLng(),n)})}};Qi.include(Ro),Lo.include(Ro),er.include(Ro),_n.include({toGeoJSON:function(n){var o=!Ht(this._latlngs),d=sr(this._latlngs,o?1:0,!1,n);return xs(this,{type:(o?"Multi":"")+"LineString",coordinates:d})}}),gs.include({toGeoJSON:function(n){var o=!Ht(this._latlngs),d=o&&!Ht(this._latlngs[0]),p=sr(this._latlngs,d?2:o?1:0,!0,n);return o||(p=[p]),xs(this,{type:(d?"Multi":"")+"Polygon",coordinates:p})}}),ms.include({toMultiPoint:function(n){var o=[];return this.eachLayer(function(d){o.push(d.toGeoJSON(n).geometry.coordinates)}),xs(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(n){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(n);var d=o==="GeometryCollection",p=[];return this.eachLayer(function(v){if(v.toGeoJSON){var S=v.toGeoJSON(n);if(d)p.push(S.geometry);else{var A=ir(S);A.type==="FeatureCollection"?p.push.apply(p,A.features):p.push(A)}}}),d?xs(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function Nc(n,o){return new wn(n,o)}var Ex=Nc,rr=en.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,o,d){this._url=n,this._bounds=W(o),_(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(He(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){lt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&hs(this._image),this},bringToBack:function(){return this._map&&fs(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=W(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",o=this._image=n?this._url:Je("img");if(He(o,"leaflet-image-layer"),this._zoomAnimated&&He(o,"leaflet-zoom-animated"),this.options.className&&He(o,this.options.className),o.onselectstart=x,o.onmousemove=x,o.onload=l(this.fire,this,"load"),o.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(n){var o=this._map.getZoomScale(n.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Hn(this._image,d,o)},_reset:function(){var n=this._image,o=new I(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=o.getSize();vt(n,o.min),n.style.width=d.x+"px",n.style.height=d.y+"px"},_updateOpacity:function(){Ut(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),Lx=function(n,o,d){return new rr(n,o,d)},Cc=rr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",o=this._image=n?this._url:Je("video");if(He(o,"leaflet-image-layer"),this._zoomAnimated&&He(o,"leaflet-zoom-animated"),this.options.className&&He(o,this.options.className),o.onselectstart=x,o.onmousemove=x,o.onloadeddata=l(this.fire,this,"load"),n){for(var d=o.getElementsByTagName("source"),p=[],v=0;v<d.length;v++)p.push(d[v].src);this._url=d.length>0?p:[o.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var S=0;S<this._url.length;S++){var A=Je("source");A.src=this._url[S],o.appendChild(A)}}});function Ax(n,o,d){return new Cc(n,o,d)}var Tc=rr.extend({_initImage:function(){var n=this._image=this._url;He(n,"leaflet-image-layer"),this._zoomAnimated&&He(n,"leaflet-zoom-animated"),this.options.className&&He(n,this.options.className),n.onselectstart=x,n.onmousemove=x}});function kx(n,o,d){return new Tc(n,o,d)}var cn=en.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,o){n&&(n instanceof ge||j(n))?(this._latlng=xe(n),_(this,o)):(_(this,n),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&Ut(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&Ut(this._container,1),this.bringToFront(),this.options.interactive&&(He(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(Ut(this._container,0),this._removeTimeout=setTimeout(l(lt,void 0,this._container),200)):lt(this._container),this.options.interactive&&(mt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=xe(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&hs(this._container),this},bringToBack:function(){return this._map&&fs(this._container),this},_prepareOpen:function(n){var o=this._source;if(!o._map)return!1;if(o instanceof bn){o=null;var d=this._source._layers;for(var p in d)if(d[p]._map){o=d[p];break}if(!o)return!1;this._source=o}if(!n)if(o.getCenter)n=o.getCenter();else if(o.getLatLng)n=o.getLatLng();else if(o.getBounds)n=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")n.innerHTML=o;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),o=k(this.options.offset),d=this._getAnchor();this._zoomAnimated?vt(this._container,n.add(d)):o=o.add(n).add(d);var p=this._containerBottom=-o.y,v=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=p+"px",this._container.style.left=v+"px"}},_getAnchor:function(){return[0,0]}});Ye.include({_initOverlay:function(n,o,d,p){var v=o;return v instanceof n||(v=new n(p).setContent(o)),d&&v.setLatLng(d),v}}),en.include({_initOverlay:function(n,o,d,p){var v=d;return v instanceof n?(_(v,p),v._source=this):(v=o&&!p?o:new n(p,this),v.setContent(d)),v}});var or=cn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,cn.prototype.openOn.call(this,n)},onAdd:function(n){cn.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof En||this._source.on("preclick",Zn))},onRemove:function(n){cn.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof En||this._source.off("preclick",Zn))},getEvents:function(){var n=cn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",o=this._container=Je("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Je("div",n+"-content-wrapper",o);if(this._contentNode=Je("div",n+"-content",d),Xs(o),wo(this._contentNode),ze(o,"contextmenu",Zn),this._tipContainer=Je("div",n+"-tip-container",o),this._tip=Je("div",n+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=Je("a",n+"-close-button",o);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',ze(p,"click",function(v){jt(v),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,o=n.style;o.width="",o.whiteSpace="nowrap";var d=n.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),o.width=d+1+"px",o.whiteSpace="",o.height="";var p=n.offsetHeight,v=this.options.maxHeight,S="leaflet-popup-scrolled";v&&p>v?(o.height=v+"px",He(n,S)):mt(n,S),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var o=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),d=this._getAnchor();vt(this._container,o.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,o=parseInt(Gs(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+o,p=this._containerWidth,v=new se(this._containerLeft,-d-this._containerBottom);v._add(Wn(this._container));var S=n.layerPointToContainerPoint(v),A=k(this.options.autoPanPadding),Z=k(this.options.autoPanPaddingTopLeft||A),q=k(this.options.autoPanPaddingBottomRight||A),le=n.getSize(),be=0,Ae=0;S.x+p+q.x>le.x&&(be=S.x+p-le.x+q.x),S.x-be-Z.x<0&&(be=S.x-Z.x),S.y+d+q.y>le.y&&(Ae=S.y+d-le.y+q.y),S.y-Ae-Z.y<0&&(Ae=S.y-Z.y),(be||Ae)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([be,Ae]))}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Rx=function(n,o){return new or(n,o)};Ye.mergeOptions({closePopupOnClick:!0}),Ye.include({openPopup:function(n,o,d){return this._initOverlay(or,n,o,d).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),en.include({bindPopup:function(n,o){return this._popup=this._initOverlay(or,this._popup,n,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof bn||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){Gn(n);var o=n.layer||n.target;if(this._popup._source===o&&!(o instanceof En)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=o,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var ar=cn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){cn.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){cn.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=cn.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",o=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Je("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var o,d,p=this._map,v=this._container,S=p.latLngToContainerPoint(p.getCenter()),A=p.layerPointToContainerPoint(n),Z=this.options.direction,q=v.offsetWidth,le=v.offsetHeight,be=k(this.options.offset),Ae=this._getAnchor();Z==="top"?(o=q/2,d=le):Z==="bottom"?(o=q/2,d=0):Z==="center"?(o=q/2,d=le/2):Z==="right"?(o=0,d=le/2):Z==="left"?(o=q,d=le/2):A.x<S.x?(Z="right",o=0,d=le/2):(Z="left",o=q+(be.x+Ae.x)*2,d=le/2),n=n.subtract(k(o,d,!0)).add(be).add(Ae),mt(v,"leaflet-tooltip-right"),mt(v,"leaflet-tooltip-left"),mt(v,"leaflet-tooltip-top"),mt(v,"leaflet-tooltip-bottom"),He(v,"leaflet-tooltip-"+Z),vt(v,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&Ut(this._container,n)},_animateZoom:function(n){var o=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(o)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Mx=function(n,o){return new ar(n,o)};Ye.include({openTooltip:function(n,o,d){return this._initOverlay(ar,n,o,d).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),en.include({bindTooltip:function(n,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ar,this._tooltip,n,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var o=n?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[o](d),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof bn||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var o=typeof n.getElement=="function"&&n.getElement();o&&(ze(o,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),ze(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var o=typeof n.getElement=="function"&&n.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var o=n.latlng,d,p;this._tooltip.options.sticky&&n.originalEvent&&(d=this._map.mouseEventToContainerPoint(n.originalEvent),p=this._map.containerPointToLayerPoint(d),o=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(o)}});var Pc=ps.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var o=n&&n.tagName==="DIV"?n:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Gi(o),o.appendChild(d.html)):o.innerHTML=d.html!==!1?d.html:"",d.bgPos){var p=k(d.bgPos);o.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function Ix(n){return new Pc(n)}ps.Default=ei;var ti=en.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ce.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){_(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),lt(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(hs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(fs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof se?n:new se(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var o=this.getPane().children,d=-n(-1/0,1/0),p=0,v=o.length,S;p<v;p++)S=o[p].style.zIndex,o[p]!==this._container&&S&&(d=n(d,+S));isFinite(d)&&(this.options.zIndex=d+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ce.ielt9){Ut(this._container,this.options.opacity);var n=+new Date,o=!1,d=!1;for(var p in this._tiles){var v=this._tiles[p];if(!(!v.current||!v.loaded)){var S=Math.min(1,(n-v.loaded)/200);Ut(v.el,S),S<1?o=!0:(v.active?d=!0:this._onOpaqueTile(v),v.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),o&&(U(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=Je("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,o=this.options.maxZoom;if(n!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===n?(this._levels[d].el.style.zIndex=o-Math.abs(n-d),this._onUpdateLevel(d)):(lt(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var p=this._levels[n],v=this._map;return p||(p=this._levels[n]={},p.el=Je("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=o,p.origin=v.project(v.unproject(v.getPixelOrigin()),n).round(),p.zoom=n,this._setZoomTransform(p,v.getCenter(),v.getZoom()),x(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var n,o,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)o=this._tiles[n],o.retain=o.current;for(n in this._tiles)if(o=this._tiles[n],o.current&&!o.active){var p=o.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var o in this._tiles)this._tiles[o].coords.z===n&&this._removeTile(o)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)lt(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,o,d,p){var v=Math.floor(n/2),S=Math.floor(o/2),A=d-1,Z=new se(+v,+S);Z.z=+A;var q=this._tileCoordsToKey(Z),le=this._tiles[q];return le&&le.active?(le.retain=!0,!0):(le&&le.loaded&&(le.retain=!0),A>p?this._retainParent(v,S,A,p):!1)},_retainChildren:function(n,o,d,p){for(var v=2*n;v<2*n+2;v++)for(var S=2*o;S<2*o+2;S++){var A=new se(v,S);A.z=d+1;var Z=this._tileCoordsToKey(A),q=this._tiles[Z];if(q&&q.active){q.retain=!0;continue}else q&&q.loaded&&(q.retain=!0);d+1<p&&this._retainChildren(v,S,d+1,p)}},_resetView:function(n){var o=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var o=this.options;return o.minNativeZoom!==void 0&&n<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<n?o.maxNativeZoom:n},_setView:function(n,o,d,p){var v=Math.round(o);this.options.maxZoom!==void 0&&v>this.options.maxZoom||this.options.minZoom!==void 0&&v<this.options.minZoom?v=void 0:v=this._clampZoom(v);var S=this.options.updateWhenZooming&&v!==this._tileZoom;(!p||S)&&(this._tileZoom=v,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),v!==void 0&&this._update(n),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(n,o)},_setZoomTransforms:function(n,o){for(var d in this._levels)this._setZoomTransform(this._levels[d],n,o)},_setZoomTransform:function(n,o,d){var p=this._map.getZoomScale(d,n.zoom),v=n.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(o,d)).round();Ce.any3d?Hn(n.el,v,p):vt(n.el,v)},_resetGrid:function(){var n=this._map,o=n.options.crs,d=this._tileSize=this.getTileSize(),p=this._tileZoom,v=this._map.getPixelWorldBounds(this._tileZoom);v&&(this._globalTileRange=this._pxBoundsToTileRange(v)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,o.wrapLng[0]],p).x/d.x),Math.ceil(n.project([0,o.wrapLng[1]],p).x/d.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([o.wrapLat[0],0],p).y/d.x),Math.ceil(n.project([o.wrapLat[1],0],p).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var o=this._map,d=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),p=o.getZoomScale(d,this._tileZoom),v=o.project(n,this._tileZoom).floor(),S=o.getSize().divideBy(p*2);return new I(v.subtract(S),v.add(S))},_update:function(n){var o=this._map;if(o){var d=this._clampZoom(o.getZoom());if(n===void 0&&(n=o.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(n),v=this._pxBoundsToTileRange(p),S=v.getCenter(),A=[],Z=this.options.keepBuffer,q=new I(v.getBottomLeft().subtract([Z,-Z]),v.getTopRight().add([Z,-Z]));if(!(isFinite(v.min.x)&&isFinite(v.min.y)&&isFinite(v.max.x)&&isFinite(v.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var le in this._tiles){var be=this._tiles[le].coords;(be.z!==this._tileZoom||!q.contains(new se(be.x,be.y)))&&(this._tiles[le].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(n,d);return}for(var Ae=v.min.y;Ae<=v.max.y;Ae++)for(var Ge=v.min.x;Ge<=v.max.x;Ge++){var Pt=new se(Ge,Ae);if(Pt.z=this._tileZoom,!!this._isValidTile(Pt)){var wt=this._tiles[this._tileCoordsToKey(Pt)];wt?wt.current=!0:A.push(Pt)}}if(A.sort(function(kt,ys){return kt.distanceTo(S)-ys.distanceTo(S)}),A.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Wt=document.createDocumentFragment();for(Ge=0;Ge<A.length;Ge++)this._addTile(A[Ge],Wt);this._level.el.appendChild(Wt)}}}},_isValidTile:function(n){var o=this._map.options.crs;if(!o.infinite){var d=this._globalTileRange;if(!o.wrapLng&&(n.x<d.min.x||n.x>d.max.x)||!o.wrapLat&&(n.y<d.min.y||n.y>d.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(n);return W(this.options.bounds).overlaps(p)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var o=this._map,d=this.getTileSize(),p=n.scaleBy(d),v=p.add(d),S=o.unproject(p,n.z),A=o.unproject(v,n.z);return[S,A]},_tileCoordsToBounds:function(n){var o=this._tileCoordsToNwSe(n),d=new O(o[0],o[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var o=n.split(":"),d=new se(+o[0],+o[1]);return d.z=+o[2],d},_removeTile:function(n){var o=this._tiles[n];o&&(lt(o.el),delete this._tiles[n],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){He(n,"leaflet-tile");var o=this.getTileSize();n.style.width=o.x+"px",n.style.height=o.y+"px",n.onselectstart=x,n.onmousemove=x,Ce.ielt9&&this.options.opacity<1&&Ut(n,this.options.opacity)},_addTile:function(n,o){var d=this._getTilePos(n),p=this._tileCoordsToKey(n),v=this.createTile(this._wrapCoords(n),l(this._tileReady,this,n));this._initTile(v),this.createTile.length<2&&F(l(this._tileReady,this,n,null,v)),vt(v,d),this._tiles[p]={el:v,coords:n,current:!0},o.appendChild(v),this.fire("tileloadstart",{tile:v,coords:n})},_tileReady:function(n,o,d){o&&this.fire("tileerror",{error:o,tile:d,coords:n});var p=this._tileCoordsToKey(n);d=this._tiles[p],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Ut(d.el,0),U(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),o||(He(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ce.ielt9||!this._map._fadeAnimated?F(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var o=new se(this._wrapX?g(n.x,this._wrapX):n.x,this._wrapY?g(n.y,this._wrapY):n.y);return o.z=n.z,o},_pxBoundsToTileRange:function(n){var o=this.getTileSize();return new I(n.min.unscaleBy(o).floor(),n.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function Ox(n){return new ti(n)}var vs=ti.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,o){this._url=n,o=_(this,o),o.detectRetina&&Ce.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,o){return this._url===n&&o===void 0&&(o=!0),this._url=n,o||this.redraw(),this},createTile:function(n,o){var d=document.createElement("img");return ze(d,"load",l(this._tileOnLoad,this,o,d)),ze(d,"error",l(this._tileOnError,this,o,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(n),d},getTileUrl:function(n){var o={r:Ce.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-n.y;this.options.tms&&(o.y=d),o["-y"]=d}return C(this._url,a(o,this.options))},_tileOnLoad:function(n,o){Ce.ielt9?setTimeout(l(n,this,null,o),0):n(null,o)},_tileOnError:function(n,o,d){var p=this.options.errorTileUrl;p&&o.getAttribute("src")!==p&&(o.src=p),n(d,o)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,o=this.options.maxZoom,d=this.options.zoomReverse,p=this.options.zoomOffset;return d&&(n=o-n),n+p},_getSubdomain:function(n){var o=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var n,o;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(o=this._tiles[n].el,o.onload=x,o.onerror=x,!o.complete)){o.src=E;var d=this._tiles[n].coords;lt(o),delete this._tiles[n],this.fire("tileabort",{tile:o,coords:d})}},_removeTile:function(n){var o=this._tiles[n];if(o)return o.el.setAttribute("src",E),ti.prototype._removeTile.call(this,n)},_tileReady:function(n,o,d){if(!(!this._map||d&&d.getAttribute("src")===E))return ti.prototype._tileReady.call(this,n,o,d)}});function Ec(n,o){return new vs(n,o)}var Lc=vs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,o){this._url=n;var d=a({},this.defaultWmsParams);for(var p in o)p in this.options||(d[p]=o[p]);o=_(this,o);var v=o.detectRetina&&Ce.retina?2:1,S=this.getTileSize();d.width=S.x*v,d.height=S.y*v,this.wmsParams=d},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,vs.prototype.onAdd.call(this,n)},getTileUrl:function(n){var o=this._tileCoordsToNwSe(n),d=this._crs,p=H(d.project(o[0]),d.project(o[1])),v=p.min,S=p.max,A=(this._wmsVersion>=1.3&&this._crs===wc?[v.y,v.x,S.y,S.x]:[v.x,v.y,S.x,S.y]).join(","),Z=vs.prototype.getTileUrl.call(this,n);return Z+N(this.wmsParams,Z,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+A},setParams:function(n,o){return a(this.wmsParams,n),o||this.redraw(),this}});function Dx(n,o){return new Lc(n,o)}vs.WMS=Lc,Ec.wms=Dx;var jn=en.extend({options:{padding:.1},initialize:function(n){_(this,n),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),He(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,o){var d=this._map.getZoomScale(o,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,o),S=p.multiplyBy(-d).add(v).subtract(this._map._getNewPixelOrigin(n,o));Ce.any3d?Hn(this._container,S,d):vt(this._container,S)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,o=this._map.getSize(),d=this._map.containerPointToLayerPoint(o.multiplyBy(-n)).round();this._bounds=new I(d,d.add(o.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ac=jn.extend({options:{tolerance:0},getEvents:function(){var n=jn.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){jn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");ze(n,"mousemove",this._onMouseMove,this),ze(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ze(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,lt(this._container),st(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var o in this._layers)n=this._layers[o],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){jn.prototype._update.call(this);var n=this._bounds,o=this._container,d=n.getSize(),p=Ce.retina?2:1;vt(o,n.min),o.width=p*d.x,o.height=p*d.y,o.style.width=d.x+"px",o.style.height=d.y+"px",Ce.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){jn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[h(n)]=n;var o=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var o=n._order,d=o.next,p=o.prev;d?d.prev=p:this._drawLast=p,p?p.next=d:this._drawFirst=d,delete n._order,delete this._layers[h(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var o=n.options.dashArray.split(/[, ]+/),d=[],p,v;for(v=0;v<o.length;v++){if(p=Number(o[v]),isNaN(p))return;d.push(p)}n.options._dashArray=d}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||F(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var o=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new I,this._redrawBounds.extend(n._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(n._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var o=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,o=this._redrawBounds;if(this._ctx.save(),o){var d=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)n=p.layer,(!o||n._pxBounds&&n._pxBounds.intersects(o))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,o){if(this._drawing){var d,p,v,S,A=n._parts,Z=A.length,q=this._ctx;if(Z){for(q.beginPath(),d=0;d<Z;d++){for(p=0,v=A[d].length;p<v;p++)S=A[d][p],q[p?"lineTo":"moveTo"](S.x,S.y);o&&q.closePath()}this._fillStroke(q,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var o=n._point,d=this._ctx,p=Math.max(Math.round(n._radius),1),v=(Math.max(Math.round(n._radiusY),1)||p)/p;v!==1&&(d.save(),d.scale(1,v)),d.beginPath(),d.arc(o.x,o.y/v,p,0,Math.PI*2,!1),v!==1&&d.restore(),this._fillStroke(d,n)}},_fillStroke:function(n,o){var d=o.options;d.fill&&(n.globalAlpha=d.fillOpacity,n.fillStyle=d.fillColor||d.color,n.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(n.setLineDash&&n.setLineDash(o.options&&o.options._dashArray||[]),n.globalAlpha=d.opacity,n.lineWidth=d.weight,n.strokeStyle=d.color,n.lineCap=d.lineCap,n.lineJoin=d.lineJoin,n.stroke())},_onClick:function(n){for(var o=this._map.mouseEventToLayerPoint(n),d,p,v=this._drawFirst;v;v=v.next)d=v.layer,d.options.interactive&&d._containsPoint(o)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(d))&&(p=d);this._fireEvent(p?[p]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,o)}},_handleMouseOut:function(n){var o=this._hoveredLayer;o&&(mt(this._container,"leaflet-interactive"),this._fireEvent([o],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,o){if(!this._mouseHoverThrottled){for(var d,p,v=this._drawFirst;v;v=v.next)d=v.layer,d.options.interactive&&d._containsPoint(o)&&(p=d);p!==this._hoveredLayer&&(this._handleMouseOut(n),p&&(He(this._container,"leaflet-interactive"),this._fireEvent([p],n,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,o,d){this._map._fireDOMEvent(o,d||o.type,n)},_bringToFront:function(n){var o=n._order;if(o){var d=o.next,p=o.prev;if(d)d.prev=p;else return;p?p.next=d:d&&(this._drawFirst=d),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(n)}},_bringToBack:function(n){var o=n._order;if(o){var d=o.next,p=o.prev;if(p)p.next=d;else return;d?d.prev=p:p&&(this._drawLast=p),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(n)}}});function kc(n){return Ce.canvas?new Ac(n):null}var ni=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Bx={_initContainer:function(){this._container=Je("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(jn.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var o=n._container=ni("shape");He(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",n._path=ni("path"),o.appendChild(n._path),this._updateStyle(n),this._layers[h(n)]=n},_addPath:function(n){var o=n._container;this._container.appendChild(o),n.options.interactive&&n.addInteractiveTarget(o)},_removePath:function(n){var o=n._container;lt(o),n.removeInteractiveTarget(o),delete this._layers[h(n)]},_updateStyle:function(n){var o=n._stroke,d=n._fill,p=n.options,v=n._container;v.stroked=!!p.stroke,v.filled=!!p.fill,p.stroke?(o||(o=n._stroke=ni("stroke")),v.appendChild(o),o.weight=p.weight+"px",o.color=p.color,o.opacity=p.opacity,p.dashArray?o.dashStyle=j(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=p.lineCap.replace("butt","flat"),o.joinstyle=p.lineJoin):o&&(v.removeChild(o),n._stroke=null),p.fill?(d||(d=n._fill=ni("fill")),v.appendChild(d),d.color=p.fillColor||p.color,d.opacity=p.fillOpacity):d&&(v.removeChild(d),n._fill=null)},_updateCircle:function(n){var o=n._point.round(),d=Math.round(n._radius),p=Math.round(n._radiusY||d);this._setPath(n,n._empty()?"M0 0":"AL "+o.x+","+o.y+" "+d+","+p+" 0,"+65535*360)},_setPath:function(n,o){n._path.v=o},_bringToFront:function(n){hs(n._container)},_bringToBack:function(n){fs(n._container)}},lr=Ce.vml?ni:Oe,si=jn.extend({_initContainer:function(){this._container=lr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=lr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){lt(this._container),st(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){jn.prototype._update.call(this);var n=this._bounds,o=n.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,d.setAttribute("width",o.x),d.setAttribute("height",o.y)),vt(d,n.min),d.setAttribute("viewBox",[n.min.x,n.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(n){var o=n._path=lr("path");n.options.className&&He(o,n.options.className),n.options.interactive&&He(o,"leaflet-interactive"),this._updateStyle(n),this._layers[h(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){lt(n._path),n.removeInteractiveTarget(n._path),delete this._layers[h(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var o=n._path,d=n.options;o&&(d.stroke?(o.setAttribute("stroke",d.color),o.setAttribute("stroke-opacity",d.opacity),o.setAttribute("stroke-width",d.weight),o.setAttribute("stroke-linecap",d.lineCap),o.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?o.setAttribute("stroke-dasharray",d.dashArray):o.removeAttribute("stroke-dasharray"),d.dashOffset?o.setAttribute("stroke-dashoffset",d.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),d.fill?(o.setAttribute("fill",d.fillColor||d.color),o.setAttribute("fill-opacity",d.fillOpacity),o.setAttribute("fill-rule",d.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(n,o){this._setPath(n,$e(n._parts,o))},_updateCircle:function(n){var o=n._point,d=Math.max(Math.round(n._radius),1),p=Math.max(Math.round(n._radiusY),1)||d,v="a"+d+","+p+" 0 1,0 ",S=n._empty()?"M0 0":"M"+(o.x-d)+","+o.y+v+d*2+",0 "+v+-d*2+",0 ";this._setPath(n,S)},_setPath:function(n,o){n._path.setAttribute("d",o)},_bringToFront:function(n){hs(n._path)},_bringToBack:function(n){fs(n._path)}});Ce.vml&&si.include(Bx);function Rc(n){return Ce.svg||Ce.vml?new si(n):null}Ye.include({getRenderer:function(n){var o=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var o=this._paneRenderers[n];return o===void 0&&(o=this._createRenderer({pane:n}),this._paneRenderers[n]=o),o},_createRenderer:function(n){return this.options.preferCanvas&&kc(n)||Rc(n)}});var Mc=gs.extend({initialize:function(n,o){gs.prototype.initialize.call(this,this._boundsToLatLngs(n),o)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=W(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function zx(n,o){return new Mc(n,o)}si.create=lr,si.pointsToPath=$e,wn.geometryToLayer=tr,wn.coordsToLatLng=Ao,wn.coordsToLatLngs=nr,wn.latLngToCoords=ko,wn.latLngsToCoords=sr,wn.getFeature=xs,wn.asFeature=ir,Ye.mergeOptions({boxZoom:!0});var Ic=ln.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){st(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){lt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),qs(),mo(),this._startPoint=this._map.mouseEventToContainerPoint(n),ze(document,{contextmenu:Gn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=Je("div","leaflet-zoom-box",this._container),He(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var o=new I(this._point,this._startPoint),d=o.getSize();vt(this._box,o.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(lt(this._box),mt(this._container,"leaflet-crosshair")),Ks(),po(),st(document,{contextmenu:Gn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var o=new O(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ye.addInitHook("addHandler","boxZoom",Ic),Ye.mergeOptions({doubleClickZoom:!0});var Oc=ln.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var o=this._map,d=o.getZoom(),p=o.options.zoomDelta,v=n.originalEvent.shiftKey?d-p:d+p;o.options.doubleClickZoom==="center"?o.setZoom(v):o.setZoomAround(n.containerPoint,v)}});Ye.addInitHook("addHandler","doubleClickZoom",Oc),Ye.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Dc=ln.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Pn(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}He(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){mt(this._map._container,"leaflet-grab"),mt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=W(this._map.options.maxBounds);this._offsetLimit=H(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var o=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(o),this._prunePositions(o)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,o){return n-(n-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;n.x<o.min.x&&(n.x=this._viscousLimit(n.x,o.min.x)),n.y<o.min.y&&(n.y=this._viscousLimit(n.y,o.min.y)),n.x>o.max.x&&(n.x=this._viscousLimit(n.x,o.max.x)),n.y>o.max.y&&(n.y=this._viscousLimit(n.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,o=Math.round(n/2),d=this._initialWorldOffset,p=this._draggable._newPos.x,v=(p-o+d)%n+o-d,S=(p+o+d)%n-o-d,A=Math.abs(v+d)<Math.abs(S+d)?v:S;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=A},_onDragEnd:function(n){var o=this._map,d=o.options,p=!d.inertia||n.noInertia||this._times.length<2;if(o.fire("dragend",n),p)o.fire("moveend");else{this._prunePositions(+new Date);var v=this._lastPos.subtract(this._positions[0]),S=(this._lastTime-this._times[0])/1e3,A=d.easeLinearity,Z=v.multiplyBy(A/S),q=Z.distanceTo([0,0]),le=Math.min(d.inertiaMaxSpeed,q),be=Z.multiplyBy(le/q),Ae=le/(d.inertiaDeceleration*A),Ge=be.multiplyBy(-Ae/2).round();!Ge.x&&!Ge.y?o.fire("moveend"):(Ge=o._limitOffset(Ge,o.options.maxBounds),F(function(){o.panBy(Ge,{duration:Ae,easeLinearity:A,noMoveStart:!0,animate:!0})}))}}});Ye.addInitHook("addHandler","dragging",Dc),Ye.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Bc=ln.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),ze(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),st(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,o=document.documentElement,d=n.scrollTop||o.scrollTop,p=n.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(p,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var o=this._panKeys={},d=this.keyCodes,p,v;for(p=0,v=d.left.length;p<v;p++)o[d.left[p]]=[-1*n,0];for(p=0,v=d.right.length;p<v;p++)o[d.right[p]]=[n,0];for(p=0,v=d.down.length;p<v;p++)o[d.down[p]]=[0,n];for(p=0,v=d.up.length;p<v;p++)o[d.up[p]]=[0,-1*n]},_setZoomDelta:function(n){var o=this._zoomKeys={},d=this.keyCodes,p,v;for(p=0,v=d.zoomIn.length;p<v;p++)o[d.zoomIn[p]]=n;for(p=0,v=d.zoomOut.length;p<v;p++)o[d.zoomOut[p]]=-n},_addHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){st(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var o=n.keyCode,d=this._map,p;if(o in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(p=this._panKeys[o],n.shiftKey&&(p=k(p).multiplyBy(3)),d.options.maxBounds&&(p=d._limitOffset(k(p),d.options.maxBounds)),d.options.worldCopyJump){var v=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(p)));d.panTo(v)}else d.panBy(p)}else if(o in this._zoomKeys)d.setZoom(d.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Gn(n)}}});Ye.addInitHook("addHandler","keyboard",Bc),Ye.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var zc=ln.extend({addHooks:function(){ze(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){st(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var o=cc(n),d=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var p=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),p),Gn(n)},_performZoom:function(){var n=this._map,o=n.getZoom(),d=this._map.options.zoomSnap||0;n._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),v=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,S=d?Math.ceil(v/d)*d:v,A=n._limitZoom(o+(this._delta>0?S:-S))-o;this._delta=0,this._startTime=null,A&&(n.options.scrollWheelZoom==="center"?n.setZoom(o+A):n.setZoomAround(this._lastMousePos,o+A))}});Ye.addInitHook("addHandler","scrollWheelZoom",zc);var Fx=600;Ye.mergeOptions({tapHold:Ce.touchNative&&Ce.safari&&Ce.mobile,tapTolerance:15});var Fc=ln.extend({addHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){st(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var o=n.touches[0];this._startPos=this._newPos=new se(o.clientX,o.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(ze(document,"touchend",jt),ze(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),Fx),ze(document,"touchend touchcancel contextmenu",this._cancel,this),ze(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){st(document,"touchend",jt),st(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),st(document,"touchend touchcancel contextmenu",this._cancel,this),st(document,"touchmove",this._onMove,this)},_onMove:function(n){var o=n.touches[0];this._newPos=new se(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,o){var d=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});d._simulated=!0,o.target.dispatchEvent(d)}});Ye.addInitHook("addHandler","tapHold",Fc),Ye.mergeOptions({touchZoom:Ce.touch,bounceAtZoomLimits:!0});var Vc=ln.extend({addHooks:function(){He(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){mt(this._map._container,"leaflet-touch-zoom"),st(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var o=this._map;if(!(!n.touches||n.touches.length!==2||o._animatingZoom||this._zooming)){var d=o.mouseEventToContainerPoint(n.touches[0]),p=o.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(d.add(p)._divideBy(2))),this._startDist=d.distanceTo(p),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),ze(document,"touchmove",this._onTouchMove,this),ze(document,"touchend touchcancel",this._onTouchEnd,this),jt(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var o=this._map,d=o.mouseEventToContainerPoint(n.touches[0]),p=o.mouseEventToContainerPoint(n.touches[1]),v=d.distanceTo(p)/this._startDist;if(this._zoom=o.getScaleZoom(v,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&v<1||this._zoom>o.getMaxZoom()&&v>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,v===1)return}else{var S=d._add(p)._divideBy(2)._subtract(this._centerPoint);if(v===1&&S.x===0&&S.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(S),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var A=l(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=F(A,this,!0),jt(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),st(document,"touchmove",this._onTouchMove,this),st(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ye.addInitHook("addHandler","touchZoom",Vc),Ye.BoxZoom=Ic,Ye.DoubleClickZoom=Oc,Ye.Drag=Dc,Ye.Keyboard=Bc,Ye.ScrollWheelZoom=zc,Ye.TapHold=Fc,Ye.TouchZoom=Vc,s.Bounds=I,s.Browser=Ce,s.CRS=de,s.Canvas=Ac,s.Circle=Lo,s.CircleMarker=er,s.Class=te,s.Control=Qt,s.DivIcon=Pc,s.DivOverlay=cn,s.DomEvent=ix,s.DomUtil=nx,s.Draggable=Pn,s.Evented=fe,s.FeatureGroup=bn,s.GeoJSON=wn,s.GridLayer=ti,s.Handler=ln,s.Icon=ps,s.ImageOverlay=rr,s.LatLng=ge,s.LatLngBounds=O,s.Layer=en,s.LayerGroup=ms,s.LineUtil=xx,s.Map=Ye,s.Marker=Qi,s.Mixin=ux,s.Path=En,s.Point=se,s.PolyUtil=hx,s.Polygon=gs,s.Polyline=_n,s.Popup=or,s.PosAnimation=dc,s.Projection=vx,s.Rectangle=Mc,s.Renderer=jn,s.SVG=si,s.SVGOverlay=Tc,s.TileLayer=vs,s.Tooltip=ar,s.Transformation=oe,s.Util=M,s.VideoOverlay=Cc,s.bind=l,s.bounds=H,s.canvas=kc,s.circle=Cx,s.circleMarker=Nx,s.control=Js,s.divIcon=Ix,s.extend=a,s.featureGroup=wx,s.geoJSON=Nc,s.geoJson=Ex,s.gridLayer=Ox,s.icon=jx,s.imageOverlay=Lx,s.latLng=xe,s.latLngBounds=W,s.layerGroup=_x,s.map=rx,s.marker=Sx,s.point=k,s.polygon=Px,s.polyline=Tx,s.popup=Rx,s.rectangle=zx,s.setOptions=_,s.stamp=h,s.svg=Rc,s.svgOverlay=kx,s.tileLayer=Ec,s.tooltip=Mx,s.transformation=ce,s.version=r,s.videoOverlay=Ax;var Vx=window.L;s.noConflict=function(){return window.L=Vx,this},window.L=s})})(tl,tl.exports);var Di=tl.exports;const Kg=L0(Di);function tc(e,t,s){return Object.freeze({instance:e,context:t,container:s})}function nc(e,t){return t==null?function(r,a){const c=f.useRef();return c.current||(c.current=e(r,a)),c}:function(r,a){const c=f.useRef();c.current||(c.current=e(r,a));const l=f.useRef(r),{instance:u}=c.current;return f.useEffect(function(){l.current!==r&&(t(u,r,l.current),l.current=r)},[u,r,a]),c}}function DP(e,t){f.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var c;(c=t.layerContainer)==null||c.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Yg(e){return function(s){const r=Gg(),a=e(ec(s,r),r);return Hg(r.map,s.attribution),qg(a.current,s.eventHandlers),DP(a.current,r),a}}function BP(e,t){const s=nc(e,t),r=Yg(s);return RP(r)}function zP(e,t){const s=nc(e),r=OP(s,t);return MP(r)}function FP(e,t){const s=nc(e,t),r=Yg(s);return IP(r)}function VP(e,t,s){const{opacity:r,zIndex:a}=t;r!=null&&r!==s.opacity&&e.setOpacity(r),a!=null&&a!==s.zIndex&&e.setZIndex(a)}function nl(){return nl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},nl.apply(this,arguments)}function $P({bounds:e,boundsOptions:t,center:s,children:r,className:a,id:c,placeholder:l,style:u,whenReady:h,zoom:m,...g},x){const[y]=f.useState({className:a,id:c,style:u}),[b,w]=f.useState(null);f.useImperativeHandle(x,()=>(b==null?void 0:b.map)??null,[b]);const _=f.useCallback(T=>{if(T!==null&&b===null){const C=new Di.Map(T,g);s!=null&&m!=null?C.setView(s,m):e!=null&&C.fitBounds(e,t),h!=null&&C.whenReady(h),w(AP(C))}},[]);f.useEffect(()=>()=>{b==null||b.map.remove()},[b]);const N=b?me.createElement(Zg,{value:b},r):l??null;return me.createElement("div",nl({},y,{ref:_}),N)}const UP=f.forwardRef($P),HP=BP(function({position:t,...s},r){const a=new Di.Marker(t,s);return tc(a,kP(r,{overlayContainer:a}))},function(t,s,r){s.position!==r.position&&t.setLatLng(s.position),s.icon!=null&&s.icon!==r.icon&&t.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==r.opacity&&t.setOpacity(s.opacity),t.dragging!=null&&s.draggable!==r.draggable&&(s.draggable===!0?t.dragging.enable():t.dragging.disable())}),WP=zP(function(t,s){const r=new Di.Popup(t,s.overlayContainer);return tc(r,s)},function(t,s,{position:r},a){f.useEffect(function(){const{instance:l}=t;function u(m){m.popup===l&&(l.update(),a(!0))}function h(m){m.popup===l&&a(!1)}return s.map.on({popupopen:u,popupclose:h}),s.overlayContainer==null?(r!=null&&l.setLatLng(r),l.openOn(s.map)):s.overlayContainer.bindPopup(l),function(){var g;s.map.off({popupopen:u,popupclose:h}),(g=s.overlayContainer)==null||g.unbindPopup(),s.map.removeLayer(l)}},[t,s,a,r])}),ZP=FP(function({url:t,...s},r){const a=new Di.TileLayer(t,ec(s,r));return tc(a,r)},function(t,s,r){VP(t,s,r);const{url:a}=s;a!=null&&a!==r.url&&t.setUrl(a)}),GP=(e,t=", ")=>Array.isArray(e)&&e.length?e.join(t):"",Rn=({title:e,children:t})=>t?i.jsxs("div",{className:`
        relative
        rounded-2xl
        border
        overflow-hidden
        shadow-[0_30px_80px_rgba(0,0,0,0.7)]
      `,style:{background:`
          radial-gradient(120% 120% at 0% 0%, rgba(63,78,255,0.18), transparent 40%),
          radial-gradient(120% 120% at 100% 100%, rgba(255,68,150,0.16), transparent 40%),
          linear-gradient(180deg, #0b0f2e 0%, #090c26 100%)
        `,borderColor:"rgba(255,255,255,0.06)"},children:[i.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-2xl shadow-[inset_0_0_0_1px_rgba(255,255,255,0.03)]"}),i.jsxs("div",{className:"px-6 py-4",children:[i.jsx("h2",{className:"text-base font-semibold text-white",children:e}),i.jsx("div",{className:"mt-3 h-px w-full bg-gradient-to-r from-transparent via-white/20 to-transparent"})]}),i.jsx("div",{className:"px-6 pb-6 text-[rgba(255,255,255,0.65)]",children:t})]}):null;delete Kg.Icon.Default.prototype._getIconUrl;Kg.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});const qP=(e=[])=>e.reduce((t,s)=>{const r=s.country||"Unknown";return t[r]||(t[r]=[]),t[r].push(s),t},{}),KP=({locations:e})=>{var r;if(!Array.isArray(e)||e.length===0)return null;const t=qP(e),s=(r=e.find(a=>a.geoPoint))==null?void 0:r.geoPoint;return i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[500px]",children:[i.jsx("div",{className:"space-y-10 overflow-y-auto pr-2",children:Object.entries(t).map(([a,c])=>i.jsxs("div",{className:"space-y-5",children:[i.jsx("h3",{className:"text-base font-semibold text-white border-b border-white/10 pb-2",children:a}),i.jsx("div",{className:"space-y-4",children:c.map((l,u)=>i.jsxs("div",{className:`
                      relative
                      rounded-xl
                      bg-white/5 backdrop-blur-md
                      border border-white/10
                      p-4
                      shadow-[0_10px_30px_rgba(0,0,0,0.6)]
                      hover:shadow-[0_20px_50px_rgba(0,0,0,0.8)]
                      transition
                    `,children:[i.jsx("span",{className:`
                        absolute left-0 top-0 h-full w-1 rounded-l-xl
                        bg-gradient-to-b
                        from-[#242E97]
                        via-[#FA1860]
                        to-[#00DAA6]
                        opacity-80
                      `}),i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsxs("span",{className:"text-sm font-semibold text-white",children:[" ",l.city||""]}),l.status&&i.jsx("span",{className:`
                            px-2 py-0.5 text-xs rounded-full
                            bg-white/10
                            border border-white/20
                            text-white
                          `,children:l.status})]}),i.jsx("p",{className:"text-sm text-white/80 font-medium",children:l.facility||""}),Array.isArray(l.contacts)&&l.contacts.length>0&&i.jsx("div",{className:"mt-2 space-y-1 text-xs text-white/60",children:l.contacts.map((h,m)=>i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-white/80",children:h.name||"Contact"}),h.phone&&i.jsxs(i.Fragment,{children:["  ",h.phone]}),h.email&&i.jsxs(i.Fragment,{children:[" ",""," ",i.jsx("a",{href:`mailto:${h.email}`,className:"text-[#03A2DC] hover:underline",children:h.email})]})]},m))})]},u))})]},a))}),i.jsxs("div",{className:`
            relative
            h-[500px]
            rounded-2xl
            overflow-hidden
            border border-white/10
            shadow-[0_30px_80px_rgba(0,0,0,0.7)]
          `,children:[i.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-2xl",style:{boxShadow:"inset 0 0 0 1px rgba(255,255,255,0.04)"}}),s?i.jsxs(UP,{center:[s.lat,s.lon],zoom:4,style:{height:"100%",width:"100%"},children:[i.jsx(ZP,{attribution:" OpenStreetMap",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.filter(a=>a.geoPoint).map((a,c)=>i.jsx(HP,{position:[a.geoPoint.lat,a.geoPoint.lon],children:i.jsxs(WP,{children:[i.jsx("strong",{children:a.facility}),i.jsx("br",{}),a.city,", ",a.country,i.jsx("br",{}),"Status: ",a.status]})},c))]}):i.jsx("div",{className:"flex items-center justify-center h-full text-white/50",children:"No map data available"})]})]})},YP=({centralContacts:e})=>!Array.isArray(e)||e.length===0?null:i.jsx("div",{className:"space-y-4",children:e.map((t,s)=>i.jsxs("div",{className:`
            relative
            rounded-xl
            p-5
            bg-[linear-gradient(180deg,#0b0f2e_0%,#090c26_100%)]
            border border-white/10
            shadow-[0_20px_60px_rgba(0,0,0,0.7)]
          `,children:[i.jsx("span",{className:`
              absolute left-0 top-0 h-full w-[3px]
              rounded-l-xl
              bg-gradient-to-b
              from-cyan-400/80
              via-blue-500/70
              to-transparent
              shadow-[0_0_12px_rgba(34,211,238,0.6)]
            `}),i.jsx("p",{className:"font-semibold text-white",children:t.name||""}),i.jsx("p",{className:"text-sm text-white/60 mt-1",children:t.role||""}),i.jsxs("div",{className:"mt-3 space-y-1 text-sm",children:[t.email&&i.jsxs("div",{className:"text-white/80",children:[i.jsx("span",{className:"text-white/50",children:"Email:"})," ",i.jsx("a",{href:`mailto:${t.email}`,className:"text-cyan-300 hover:text-cyan-200 transition",children:t.email})]}),t.phone&&i.jsxs("div",{className:"text-white/80",children:[i.jsx("span",{className:"text-white/50",children:"Phone:"})," ",t.phone]})]})]},s))}),XP=({sponsorModule:e})=>{var a;if(!e)return null;const t=(a=e.leadSponsor)==null?void 0:a.name,s=e.collaborators||[],r=e.responsibleParty||null;return i.jsxs("div",{className:"space-y-4 text-sm",children:[t?i.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[i.jsx("p",{className:"text-white",children:"Lead Sponsor"}),i.jsx("p",{className:"font-semibold text-white mt-1",children:t})]}):null,Array.isArray(s)&&s.length>0?i.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[i.jsx("p",{className:"text-gray-500",children:"Collaborators"}),i.jsx("ul",{className:"mt-2 list-disc ml-5 text-gray-800 space-y-1",children:s.map((c,l)=>i.jsx("li",{children:c.name},l))})]}):null,r?i.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[i.jsx("p",{className:"text-white",children:"Responsible Party"}),i.jsxs("div",{className:"mt-2 space-y-1",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-white",children:"Type:"})," ",r.type||""]}),r.investigatorFullName?i.jsxs("div",{children:[i.jsx("span",{className:"text-white",children:"Investigator:"})," ",r.investigatorFullName]}):null,r.investigatorTitle?i.jsxs("div",{children:[i.jsx("span",{className:"text-white",children:"Title:"})," ",r.investigatorTitle]}):null,r.investigatorAffiliation?i.jsxs("div",{children:[i.jsx("span",{className:"text-white",children:"Affiliation:"})," ",r.investigatorAffiliation]}):null]})]}):null]})},ih=({title:e,outcomes:t})=>!Array.isArray(t)||t.length===0?null:i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-white pb-2 border-b border-white/10",children:e}),i.jsx("div",{className:`
          overflow-x-auto
          rounded-xl
          border border-white/10
          bg-white/5 backdrop-blur-md
          shadow-[0_20px_60px_rgba(0,0,0,0.7)]
        `,children:i.jsxs("table",{className:"w-full text-sm border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:`
                neon-login
              `,children:[i.jsx("th",{className:"px-4 py-3 text-left font-semibold text-white w-1/4",children:"Outcome Measure"}),i.jsx("th",{className:"px-4 py-3 text-left font-semibold text-white",children:"Measure Description"}),i.jsx("th",{className:"px-4 py-3 text-left font-semibold text-white w-1/4",children:"Time Frame"})]})}),i.jsx("tbody",{children:t.map((s,r)=>i.jsxs("tr",{className:`
                  border-t border-white/10
                  hover:bg-white/5
                  transition
                `,children:[i.jsx("td",{className:"px-4 py-4 align-top font-medium text-white whitespace-pre-wrap",children:s.measure||""}),i.jsx("td",{className:"px-4 py-4 align-top text-white/70 whitespace-pre-wrap",children:s.description||""}),i.jsx("td",{className:"px-4 py-4 align-top text-white/70 whitespace-pre-wrap",children:s.timeFrame||""})]},r))})]})})]}),JP=({armsModule:e})=>{var a;if(!((a=e==null?void 0:e.armGroups)!=null&&a.length))return null;const t=e.armGroups||[],s=e.interventions||[],r={};return s.forEach(c=>{Array.isArray(c.armGroupLabels)&&c.armGroupLabels.forEach(l=>{r[l]||(r[l]=[]),r[l].push(c)})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-white border-b border-white/10 pb-2",children:"Arms and Interventions"}),i.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-white/5 backdrop-blur-md shadow-[0_20px_60px_rgba(0,0,0,0.7)]",children:i.jsxs("table",{className:"w-full text-sm border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:` bg-[linear-gradient(180deg,#0b0f2e_0%,#090c26_100%)]
    shadow-[0_25px_70px_rgba(0,0,0,0.75)]`,children:[i.jsx("th",{className:"px-4 py-3 text-left font-semibold text-white w-1/3",children:"Participant Group / Arm"}),i.jsx("th",{className:"px-4 py-3 text-left font-semibold text-white",children:"Intervention / Treatment"})]})}),i.jsx("tbody",{children:t.map((c,l)=>i.jsxs("tr",{className:`border-t  bg-[linear-gradient(180deg,#0b0f2e_0%,#090c26_100%)]
    shadow-[0_25px_70px_rgba(0,0,0,0.75)] border-white/10 hover:bg-white/5 transition`,children:[i.jsxs("td",{className:"px-4 py-4 align-top",children:[i.jsxs("p",{className:"font-semibold text-white/70",children:[c.type==="EXPERIMENTAL"?"Experimental:":"Comparator:"," ",c.label]}),c.description&&i.jsx("p",{className:"mt-2 text-white/65 whitespace-pre-line",children:c.description})]}),i.jsx("td",{className:"px-4 py-4 align-top space-y-3",children:(r[c.label]||[]).map((u,h)=>i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold text-white/70",children:[u.type.replace(/_/g," "),":"," ",i.jsx("span",{className:"px-1 rounded bg-white/10 border border-white/20",children:u.name})]}),u.description&&i.jsxs("p",{className:"mt-1 text-white/65 ml-4",children:[" ",u.description]})]},h))})]},l))})]})})]})},QP=()=>{var T,C,j,P,E,D,z,$,J,R,F,U,M,te,he,Q,fe,se,V;const{id:e}=Ch(),[t,s]=f.useState(null);if(f.useEffect(()=>{Se.get(`/api/studies/db/${e}`).then(k=>s(k.data.study.raw_json)).catch(()=>s(null))},[e]),!t)return i.jsx("p",{className:"p-6 bg-[#05070c] text-white",children:"Loading "});const r=t.protocolSection||{},a=r.identificationModule||{},c=r.statusModule||{},l=r.designModule||{},u=r.descriptionModule||{},h=r.conditionsModule||{},m=r.outcomesModule||{},g=r.eligibilityModule||{},x=r.contactsLocationsModule||{},y=r.sponsorCollaboratorsModule||{},b=((T=c.completionDateStruct)==null?void 0:T.date)||((C=c.primaryCompletionDateStruct)==null?void 0:C.date)||"",w=({label:k,value:I})=>i.jsxs("div",{className:"border-b pb-2",children:[i.jsx("p",{className:"text-xs font-semibold text-white",children:k}),i.jsx("p",{className:"text-sm text-white mt-1",children:I||""})]}),_=({status:k})=>{var I,H;return k?i.jsxs("div",{className:"neo-card",children:[i.jsxs("div",{className:"px-6 py-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-white",children:"Study Record Dates"}),i.jsx("p",{className:"text-sm text-white/60 mt-1",children:"These dates track study record and results submission progress."}),i.jsx("div",{className:"neo-divider mt-4"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 px-6 pb-6 text-sm",children:[{title:"Study Registration Dates",items:[["First Submitted",k.studyFirstSubmitDate],["First Submitted that Met QC Criteria",k.studyFirstSubmitQcDate],["First Posted (Estimated)",(I=k.studyFirstPostDateStruct)==null?void 0:I.date]]},{title:"Study Record Updates",items:[["Last Update Submitted that Met QC Criteria",k.lastUpdateSubmitDate],["Last Update Posted (Estimated)",(H=k.lastUpdatePostDateStruct)==null?void 0:H.date],["Last Verified",k.statusVerifiedDate]]}].map((O,W)=>i.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 backdrop-blur-md p-4",children:[i.jsx("p",{className:"font-semibold text-white mb-3",children:O.title}),i.jsx("div",{className:"space-y-3",children:O.items.map(([ge,xe],de)=>i.jsxs("div",{children:[i.jsx("p",{className:"text-white/60",children:ge}),i.jsx("p",{className:"text-white",children:xe||""})]},de))})]},W))})]}):null},N=({conditionsModule:k,conditionBrowseModule:I})=>{const H=(k==null?void 0:k.keywords)||[],O=(I==null?void 0:I.meshes)||[],W=(I==null?void 0:I.ancestors)||[];return!H.length&&!O.length&&!W.length?null:i.jsxs("div",{className:"neo-card",children:[i.jsxs("div",{className:"px-6 py-4",children:[i.jsx("h2",{className:"text-base font-semibold text-white",children:"Terms related to this study"}),i.jsx("div",{className:"neo-divider mt-3"})]}),i.jsxs("div",{className:"px-6 pb-6 grid grid-cols-1 md:grid-cols-2 gap-10 text-sm",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-white mb-3",children:"Keywords Provided by Study Sponsor"}),H.length?i.jsx("ul",{className:"space-y-1 text-white/70",children:H.map((ge,xe)=>i.jsxs("li",{children:[" ",ge]},xe))}):i.jsx("p",{className:"text-white/40",children:""})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-white mb-3",children:"Additional Relevant MeSH Terms"}),[...O,...W].length?i.jsx("ul",{className:"space-y-1 text-white/70",children:[...O,...W].map((ge,xe)=>i.jsxs("li",{children:[" ",ge.term]},xe))}):i.jsx("p",{className:"text-white/40",children:""})]})]})]})};return i.jsxs("div",{className:`
    min-h-screen p-6 space-y-6
    bg-[#05070c]
    relative overflow-hidden
  `,children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("div",{className:`
    absolute -top-48 -left-48
    w-[720px] h-[520px]
    rounded-full blur-[180px]
    opacity-70
  `,style:{background:"rgba(36,46,151,0.30)"}}),i.jsx("div",{className:`
    absolute -top-40 -right-40
    w-[620px] h-[480px]
    rounded-full blur-[160px]
    opacity-60
  `,style:{background:"rgba(250,24,96,0.22)"}}),i.jsx("div",{className:`
    absolute bottom-[-20%] right-[20%]
    w-[680px] h-[520px]
    rounded-full blur-[200px]
    opacity-55
  `,style:{background:"rgba(0,218,166,0.20)"}})]}),i.jsxs("div",{className:"relative z-10 space-y-6",children:[i.jsxs("div",{className:".neo-login px-6 py-5 border-b space-y-4",children:[c.overallStatus&&i.jsx("div",{children:i.jsx("span",{className:`inline-flex items-center px-4 py-1 rounded-full text-xs font-bold
    ${c.overallStatus==="RECRUITING"?"bg-gradient-to-r from-amber-400 via-orange-500 to-red-500 text-black shadow-[0_0_22px_rgba(255,140,0,0.9)]":"bg-white/10 text-slate-200 border border-white/20"}
    backdrop-blur-md
  `,children:c.overallStatus})}),i.jsx("h1",{className:"text-xl font-bold text-gray-900 leading-snug",children:i.jsx("span",{className:`
 
  text-white px-2 py-0.5 rounded
 
`,children:a.briefTitle||""})}),i.jsxs("div",{className:`
    space-y-3 text-sm
    bg-white/5 backdrop-blur-md
    border border-orange-400/20
    rounded-xl
    p-4
    shadow-[0_0_25px_rgba(255,140,0,0.25)]
  `,children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("span",{className:`
        px-2 py-0.5 text-xs font-semibold rounded
        bg-blue-500/20 text-blue-300
        border border-blue-400/30
        shadow-[0_0_8px_rgba(59,130,246,0.6)]
      `,children:"NCT ID"}),i.jsx("span",{className:"text-slate-100 font-medium",children:a.nctId||""})]}),((j=y.leadSponsor)==null?void 0:j.name)&&i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("span",{className:`
          px-2 py-0.5 text-xs font-semibold rounded
          bg-emerald-500/20 text-emerald-300
          border border-emerald-400/30
          shadow-[0_0_8px_rgba(16,185,129,0.6)]
        `,children:"Sponsor"}),i.jsx("span",{className:"text-slate-200",children:y.leadSponsor.name})]}),((P=y.responsibleParty)==null?void 0:P.organization)&&i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("span",{className:`
          px-2 py-0.5 text-xs font-semibold rounded
          bg-purple-500/20 text-purple-300
          border border-purple-400/30
          shadow-[0_0_8px_rgba(168,85,247,0.6)]
        `,children:"Information provided by"}),i.jsx("span",{className:"text-slate-200",children:y.responsibleParty.organization})]}),((E=c.lastUpdatePostDateStruct)==null?void 0:E.date)&&i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("span",{className:`
          px-2 py-0.5 text-xs font-semibold rounded
          bg-orange-500/20 text-orange-300
          border border-orange-400/30
          shadow-[0_0_8px_rgba(255,140,0,0.7)]
        `,children:"Last Update Posted"}),i.jsx("span",{className:"text-slate-200",children:c.lastUpdatePostDateStruct.date})]})]})]}),i.jsx(Rn,{title:"Study Overview",children:i.jsx("div",{className:".neo-login  px-6 py-4",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[i.jsxs("div",{className:"lg:col-span-2 text-sm text-gray-800 space-y-6",children:[u.briefSummary&&i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-white border-b pb-1 mb-2",children:"Brief Summary"}),i.jsx("p",{className:"leading-relaxed text-white whitespace-pre-line",children:u.briefSummary})]}),a.officialTitle&&i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-white border-b pb-1 mb-2",children:"Official Title"}),i.jsx("p",{className:"leading-relaxed text-white whitespace-pre-line",children:a.officialTitle})]}),Array.isArray(h.conditions)&&h.conditions.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-white border-b pb-1 mb-2",children:"Conditions"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:h.conditions.map((k,I)=>i.jsx("span",{className:`px-2 py-0.5 text-xs rounded bg-orange-400/20 text-orange-300
border border-orange-400/30
shadow-[0_0_10px_rgba(255,140,0,0.6)]
`,children:k},I))})]}),((z=(D=r.armsInterventionsModule)==null?void 0:D.interventions)==null?void 0:z.length)>0&&i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-white border-b pb-1 mb-2",children:"Intervention / Treatment"}),i.jsx("ul",{className:"list-disc ml-5 text-white space-y-1",children:r.armsInterventionsModule.interventions.map((k,I)=>i.jsxs("li",{children:[k.type,": ",i.jsx("strong",{children:k.name})]},I))})]})]}),i.jsxs("div",{className:"text-sm text-white  space-y-4",children:[i.jsx(w,{label:"Study Start (Actual)",value:($=c.startDateStruct)==null?void 0:$.date}),i.jsx(w,{label:"Primary Completion (Estimated)",value:(J=c.primaryCompletionDateStruct)==null?void 0:J.date}),i.jsx(w,{label:"Study Completion (Estimated)",value:b}),i.jsx(w,{label:"Enrollment (Estimated)",value:(R=l.enrollmentInfo)==null?void 0:R.count}),i.jsx(w,{label:"Study Type",value:l.studyType}),i.jsx(w,{label:"Phase",value:GP(l.phases)})]})]})})}),i.jsx(Rn,{title:"Study Description",children:i.jsxs("div",{className:"space-y-4",children:[u.briefSummary?i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Brief Summary"}),i.jsx("p",{className:"text-sm text-white mt-1 whitespace-pre-line",children:u.briefSummary})]}):null,u.detailedDescription?i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Detailed Description"}),i.jsx("p",{className:"text-sm text-white mt-1 whitespace-pre-line",children:u.detailedDescription})]}):null,!u.briefSummary&&!u.detailedDescription?i.jsx("p",{className:"text-sm text-gray-500",children:""}):null]})}),i.jsx(Rn,{title:"Conditions and Keywords",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-white",children:"Conditions"}),i.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:Array.isArray(h.conditions)&&h.conditions.length?h.conditions.map((k,I)=>i.jsx("span",{className:`px-3 py-1 rounded-full text-xs bg-orange-400/20 text-orange-300
border border-orange-400/30`,children:k},I)):i.jsx("span",{className:"text-sm text-white",children:""})})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-white",children:"Keywords"}),i.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:Array.isArray(h.keywords)&&h.keywords.length?h.keywords.map((k,I)=>i.jsx("span",{className:`px-3 py-1 rounded-full text-xs bg-orange-400/20 text-orange-300
border border-orange-400/30`,children:k},I)):i.jsx("span",{className:"text-sm text-white",children:""})})]})]})}),(((F=m.primaryOutcomes)==null?void 0:F.length)||((U=m.secondaryOutcomes)==null?void 0:U.length))&&i.jsx(Rn,{title:"What is the study measuring?",children:i.jsxs("div",{className:"space-y-10",children:[i.jsx(ih,{title:"Primary Outcome Measures",outcomes:m.primaryOutcomes}),i.jsx(ih,{title:"Secondary Outcome Measures",outcomes:m.secondaryOutcomes})]})}),Array.isArray(x.locations)&&x.locations.length?i.jsx(Rn,{title:"Locations",children:i.jsx(KP,{locations:x.locations})}):null,Array.isArray(x.centralContacts)&&x.centralContacts.length?i.jsx(Rn,{title:"Central Contacts",children:i.jsx(YP,{centralContacts:x.centralContacts})}):null,i.jsx(Rn,{title:"Eligibility Criteria",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[i.jsx("h3",{className:"text-sm font-semibold text-white/70 border-b pb-2",children:"Description"}),g.eligibilityCriteria?i.jsx("div",{className:"text-sm text-white/70 leading-relaxed whitespace-pre-wrap",children:g.eligibilityCriteria}):i.jsx("p",{className:"text-sm text-gray-500",children:""})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:`bg-white/5 backdrop-blur-md
border border-orange-400/20
rounded-xl
shadow-[inset_0_0_20px_rgba(255,140,0,0.08)]
 p-4`,children:[i.jsxs("p",{className:"text-xs text-white/70 flex items-center gap-1",children:["Ages Eligible for Study",i.jsx("span",{className:"cursor-help",children:""})]}),i.jsxs("p",{className:"text-sm font-semibold text-white/70 mt-1",children:[g.minimumAge||"",g.maximumAge?` to ${g.maximumAge}`:"",g.minimumAge?" (Adult)":""]})]}),i.jsxs("div",{className:`bg-white/5 backdrop-blur-md
border border-orange-400/20
rounded-xl
shadow-[inset_0_0_20px_rgba(255,140,0,0.08)]
 p-4`,children:[i.jsxs("p",{className:"text-xs text-white/70 flex items-center gap-1",children:["Sexes Eligible for Study",i.jsx("span",{className:"cursor-help",children:""})]}),i.jsx("p",{className:"text-sm font-semibold text-white/70 mt-1",children:g.sex||""})]}),i.jsxs("div",{className:`bg-white/5 backdrop-blur-md
border border-orange-400/20
rounded-xl
shadow-[inset_0_0_20px_rgba(255,140,0,0.08)]
 p-4`,children:[i.jsxs("p",{className:"text-xs text-white/70 flex items-center gap-1",children:["Accepts Healthy Volunteers",i.jsx("span",{className:"cursor-help",children:""})]}),i.jsx("p",{className:"text-sm font-semibold text-white/70 mt-1",children:g.healthyVolunteers===!0?"Yes":g.healthyVolunteers===!1?"No":""})]})]})]})}),r.armsInterventionsModule&&i.jsxs("div",{className:"neon-card",children:[i.jsxs("div",{className:"px-6 py-4 border-b",children:[i.jsx("h2",{className:"text-lg font-semibold text-white",children:"Study Plan"}),i.jsx("p",{className:"text-sm text-white mt-1",children:"This section provides details of the study plan, including how the study is designed and what the study is measuring."})]}),i.jsx("div",{className:"neo-divider my-4"}),i.jsxs("div",{className:"neo-login px-6 py-3 flex items-center justify-between",children:[i.jsx("h3",{className:"text-base font-semibold text-white",children:"How is the study designed?"}),i.jsx("span",{className:"text-xl font-semibold text-white/70",children:""})]}),i.jsxs("div",{className:"px-6 py-5 space-y-4",children:[i.jsxs("div",{className:`
    rounded-xl
    bg-[linear-gradient(180deg,#0b0f2e_0%,#090c26_100%)]
    shadow-[0_25px_70px_rgba(0,0,0,0.75)]
    backdrop-blur-md
    border border-white/10
    px-6 py-5
  `,children:[i.jsx("h4",{className:"text-sm font-semibold text-white mb-4",children:"Design Details"}),i.jsxs("div",{className:"space-y-3 text-sm text-white/80",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-white",children:"Primary Purpose:"})," ",(M=l.designInfo)!=null&&M.primaryPurpose?l.designInfo.primaryPurpose.replace(/_/g," "):""]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-white",children:"Allocation:"})," ",((te=l.designInfo)==null?void 0:te.allocation)||"N/A"]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-white",children:"Interventional Model:"})," ",(he=l.designInfo)!=null&&he.interventionModel?l.designInfo.interventionModel.replace(/_/g," "):""]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-white",children:"Masking:"})," ",(fe=(Q=l.designInfo)==null?void 0:Q.maskingInfo)!=null&&fe.masking?l.designInfo.maskingInfo.masking.replace(/_/g," "):""]})]})]}),i.jsx("hr",{className:"border-t border-blue-200"}),i.jsx(JP,{armsModule:r.armsInterventionsModule})]})]}),i.jsx(_,{status:c}),(h||((se=t.derivedSection)==null?void 0:se.conditionBrowseModule))&&i.jsx(N,{conditionsModule:h,conditionBrowseModule:(V=t.derivedSection)==null?void 0:V.conditionBrowseModule}),y&&Object.keys(y).length?i.jsx(Rn,{title:"Sponsors and Collaborators",children:i.jsx(XP,{sponsorModule:y})}):null]})]})},eE=()=>{const[e,t]=f.useState([]),[s,r]=f.useState([]),[a,c]=f.useState([]),[l,u]=f.useState([]),[h,m]=f.useState(null),[g,x]=f.useState(""),[y,b]=f.useState(!1),[w,_]=f.useState(null),[N,T]=f.useState([]),[C,j]=f.useState([]),[P,E]=f.useState([]),[D,z]=f.useState([]),[$,J]=f.useState(null),[R,F]=f.useState({rule_name:"",location_text:"",condition_text:"",frequency_code:""});f.useEffect(()=>{Se.get("/api/email-management/email-types").then(k=>t(k.data.data)),Se.get("/api/email-management/frequencies").then(k=>r(k.data.data)),Se.get("/api/email-management/users").then(k=>c(k.data.data)),Se.get("/api/email-management/study-phases").then(k=>T(k.data.data)),Se.get("/api/email-management/study-conditions").then(k=>j(k.data.data))},[]);const U=k=>{k.code==="STUDY"&&(m(k),b(!0))},M=k=>{Se.get(`/api/email-management/rules/${k}`).then(I=>u(I.data.data))},te=async()=>{if(!g){alert("Please select a user first");return}$?await Se.put(`/api/email-management/rules/${$.id}`,{location_text:R.location_text||null,phase:P,condition_text:D,frequency_code:R.frequency_code,timezone:"America/Chicago",schedule_day_of_week:R.schedule_day_of_week,schedule_day_of_month:R.schedule_day_of_month,schedule_time:R.schedule_time,is_enabled:1}):await Se.post("/api/email-management/rules",{email_type_code:"STUDY",target_user_id:g,...R}),J(null),F({location_text:"",condition_text:"",frequency_code:""}),E([]),z([]),M(g)},he=async k=>{confirm("Are you sure you want to delete this rule?")&&(await Se.delete(`/api/email-management/rules/${k}`),M(g))},Q=k=>{try{return k?JSON.parse(k):[]}catch{return[]}},fe=k=>k.frequency_code==="DAILY"?"Daily":k.frequency_code==="WEEKLY"?`Weekly (Day ${k.schedule_day_of_week})`:k.frequency_code==="MONTHLY"?`Monthly (Day ${k.schedule_day_of_month})`:k.frequency_code,se=k=>{if(k>3&&k<21)return"th";switch(k%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}};f.useEffect(()=>{const k=()=>setOpen(!1);return document.addEventListener("click",k),()=>document.removeEventListener("click",k)},[]);const V=({label:k,options:I=[],value:H=[],onChange:O,placeholder:W="Select..."})=>{const[ge,xe]=f.useState(!1),[de,Pe]=f.useState(""),Be=f.useRef(null),G=ce=>{H.includes(ce)?O(H.filter(Ee=>Ee!==ce)):O([...H,ce])},oe=I.filter(ce=>ce.toLowerCase().includes(de.toLowerCase()));return f.useEffect(()=>{const ce=Ee=>{Be.current&&!Be.current.contains(Ee.target)&&xe(!1)};return document.addEventListener("mousedown",ce),()=>document.removeEventListener("mousedown",ce)},[]),i.jsxs("div",{ref:Be,className:"relative mb-6",children:[i.jsx("label",{className:"block text-sm font-semibold mb-1 text-white",children:k}),i.jsxs("div",{className:"border border-white/20 rounded-md p-3 flex justify-between items-center cursor-pointer bg-white/5",onClick:()=>xe(!0),children:[i.jsx("span",{className:"text-sm text-white/60",children:H.length?`${H.length} selected`:W}),i.jsx("span",{className:"text-white/40",children:""})]}),ge&&i.jsxs("div",{className:"absolute z-50 w-full bg-[#0e1340] border border-white/10 rounded-lg shadow-lg mt-2",children:[i.jsx("div",{className:"p-2 border-b border-white/10",children:i.jsx("input",{type:"text",className:"w-full bg-white/5 border border-white/20 rounded p-2 text-sm text-white placeholder:text-white/40",placeholder:"Search...",value:de,onChange:ce=>Pe(ce.target.value)})}),i.jsxs("div",{className:"max-h-60 overflow-y-auto p-2",children:[oe.length===0&&i.jsx("p",{className:"text-xs text-white/40 p-2",children:"No results found"}),oe.map(ce=>i.jsxs("div",{className:"flex items-center gap-2 p-2 rounded hover:bg-white/5 cursor-pointer text-white",onClick:()=>G(ce),children:[i.jsx("input",{type:"checkbox",checked:H.includes(ce),readOnly:!0,className:"bg-white/5 border-white/30"}),i.jsx("span",{className:"text-sm",children:ce})]},ce))]})]}),H.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:H.map(ce=>i.jsxs("span",{className:"bg-indigo-500/20 border border-indigo-500/30 text-indigo-300 rounded-full px-3 py-1 text-xs flex items-center gap-2",children:[ce,i.jsx("button",{className:"text-indigo-300 hover:text-white",onClick:()=>G(ce),children:""})]},ce))})]})};return i.jsxs("div",{className:"min-h-screen app-shell-bg p-6",children:[i.jsxs("div",{className:"pointer-events-none fixed inset-0 z-0",children:[i.jsx("div",{className:"absolute left-1/4 top-0 h-[500px] w-[500px] rounded-full bg-indigo-600/20 blur-[120px]"}),i.jsx("div",{className:"absolute right-1/4 bottom-0 h-[400px] w-[400px] rounded-full bg-purple-600/20 blur-[100px]"})]}),i.jsxs("div",{className:"relative z-10 bg-[#0b0f2e]/90 backdrop-blur-sm rounded-lg border border-white/10 p-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Email Management"}),i.jsxs("table",{className:"w-full border border-white/10 mb-6 rounded-lg overflow-hidden",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-white/10 bg-white/5",children:[i.jsx("th",{className:"p-3 text-left text-white/70",children:"Email Type"}),i.jsx("th",{className:"p-3 text-left text-white/70",children:"Description"}),i.jsx("th",{className:"p-3 text-left text-white/70",children:"Status"})]})}),i.jsx("tbody",{children:e.map(k=>i.jsxs("tr",{className:"border-b border-white/5 cursor-pointer hover:bg-white/5 text-white",onClick:()=>U(k),children:[i.jsx("td",{className:"p-3",children:k.name}),i.jsx("td",{className:"p-3 text-white/70",children:k.description}),i.jsx("td",{className:"p-3",children:i.jsx("span",{className:k.is_active?"text-green-400":"text-red-400",children:k.is_active?"Enabled":"Disabled"})})]},k.id))})]})]}),y&&i.jsx("div",{className:"fixed inset-0 bg-black/80 z-[60]",onClick:()=>b(!1),children:i.jsxs("div",{className:"absolute right-0 top-0 h-full w-[1200px] bg-[#0b0f2e] border-l border-white/10 p-6 overflow-auto shadow-2xl",onClick:k=>k.stopPropagation(),children:[i.jsxs("div",{className:"flex justify-between mb-4",children:[i.jsx("h3",{className:"font-bold text-white",children:w==null?void 0:w.name}),i.jsx("button",{onClick:()=>b(!1),className:"text-white/70 hover:text-white px-3 py-1 border border-white/20 rounded hover:bg-white/10",children:"Close"})]}),i.jsxs("select",{className:"w-full bg-white/5 border border-white/20 text-white p-2 mb-4 rounded",onChange:k=>{const I=k.target.value;x(I),u([]),M(I)},children:[i.jsx("option",{className:"bg-[#0e1340] text-white",children:"Select user"}),a.map(k=>i.jsx("option",{value:k.id,className:"bg-[#0e1340] text-white",children:k.name},k.id))]}),i.jsx(V,{label:"ClinicalTrials.gov Study Phase",options:N,value:P,placeholder:"Select study phase(s)",onChange:k=>{E(k),F(I=>({...I,phase:k}))}}),i.jsx(V,{label:"ClinicalTrials.gov Condition",options:C,value:D,placeholder:"Select condition(s)",onChange:k=>{z(k),F(I=>({...I,condition_text:k}))}}),i.jsxs("select",{className:"w-full bg-white/5 border border-white/20 text-white p-2 mb-4 rounded",onChange:k=>F({...R,frequency_code:k.target.value}),children:[i.jsx("option",{className:"bg-[#0e1340] text-white",children:"Select frequency"}),s.map(k=>i.jsx("option",{value:k.code,className:"bg-[#0e1340] text-white",children:k.label},k.code))]}),["DAILY","WEEKLY","MONTHLY"].includes(R.frequency_code)&&i.jsx("input",{type:"time",className:"w-full bg-white/5 border border-white/20 text-white p-2 mb-4 rounded",onChange:k=>F({...R,schedule_time:k.target.value})}),R.frequency_code==="WEEKLY"&&i.jsxs("select",{className:"w-full bg-white/5 border border-white/20 text-white p-2 mb-4 rounded",onChange:k=>F({...R,schedule_day_of_week:k.target.value}),children:[i.jsx("option",{value:"",className:"bg-[#0e1340] text-white",children:"Select weekday"}),i.jsx("option",{value:"1",className:"bg-[#0e1340] text-white",children:"Monday"}),i.jsx("option",{value:"2",className:"bg-[#0e1340] text-white",children:"Tuesday"}),i.jsx("option",{value:"3",className:"bg-[#0e1340] text-white",children:"Wednesday"}),i.jsx("option",{value:"4",className:"bg-[#0e1340] text-white",children:"Thursday"}),i.jsx("option",{value:"5",className:"bg-[#0e1340] text-white",children:"Friday"})]}),R.frequency_code==="MONTHLY"&&i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"text-sm text-white/50 block mb-1",children:"Select day of month"}),i.jsx("input",{type:"date",className:"w-full bg-white/5 border border-white/20 text-white p-2 rounded",onChange:k=>{if(!k.target.value)return;const H=new Date(k.target.value).getDate();F({...R,schedule_day_of_month:H})}}),R.schedule_day_of_month&&i.jsxs("p",{className:"text-xs text-white/50 mt-1",children:["Email will be sent on the"," ",i.jsx("b",{className:"text-white",children:R.schedule_day_of_month}),se(R.schedule_day_of_month)," of every month"]})]}),i.jsx("button",{className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-2 rounded mb-2",onClick:te,children:$?"Update Rule":"Save Rule"}),$&&i.jsx("button",{className:"w-full mt-2 border border-white/20 text-white p-2 rounded hover:bg-white/10",onClick:()=>{J(null),F({location_text:"",condition_text:"",frequency_code:""}),E([]),z([])},children:"Cancel Edit"}),i.jsx("div",{className:"mt-4",children:g&&l.length>0&&l.map(k=>{var O;const I=Q(k.phase),H=Q(k.condition_text);return i.jsxs("div",{className:"border border-white/10 rounded-lg p-4 mb-4 bg-white/5",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-lg text-white",children:"User"}),i.jsx("p",{className:"text-sm text-white/50",children:(O=a.find(W=>W.id===k.target_user_id))==null?void 0:O.name})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-lg text-white",children:k.rule_name}),i.jsx("p",{className:"text-sm text-white/50",children:fe(k)})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{className:"px-3 py-1 text-sm border border-white/20 text-white rounded hover:bg-white/10",onClick:()=>{J(k),F({rule_name:k.rule_name,location_text:k.location_text||"",frequency_code:k.frequency_code,schedule_day_of_week:k.schedule_day_of_week,schedule_day_of_month:k.schedule_day_of_month,schedule_time:k.schedule_time,phase:Q(k.phase),condition_text:Q(k.condition_text)}),E(Q(k.phase)),z(Q(k.condition_text))},children:"Edit"}),i.jsx("button",{className:"px-3 py-1 text-sm border border-red-500/30 text-red-400 rounded hover:bg-red-500/10",onClick:()=>he(k.id),children:"Delete"})]})]}),I.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsx("p",{className:"text-sm font-medium mb-1 text-white",children:"Study Phases"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:I.map(W=>i.jsx("span",{className:"bg-indigo-500/20 text-indigo-300 border border-indigo-500/30 px-2 py-1 rounded text-xs",children:W},W))})]}),H.length>0&&i.jsxs("div",{className:"mb-2",children:[i.jsx("p",{className:"text-sm font-medium mb-1 text-white",children:"Conditions"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:H.map(W=>i.jsx("span",{className:"bg-green-500/20 text-green-300 border border-green-500/30 px-2 py-1 rounded text-xs",children:W},W))})]}),i.jsxs("div",{className:"mt-2 text-sm text-white/50",children:["Status:"," ",i.jsx("span",{className:k.is_enabled?"text-green-400 font-medium":"text-red-400",children:k.is_enabled?"Enabled":"Disabled"})]})]},k.id)})})]})})]})},tE=f.lazy(()=>_e(()=>import("./DashboardLayout-DX9WPRHJ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]))),nE=f.lazy(()=>_e(()=>import("./Login-Dd3PRa9X.js"),__vite__mapDeps([15,1,2,16,17,18,3,14]))),sE=f.lazy(()=>_e(()=>import("./Register-BY1AkXcs.js"),__vite__mapDeps([19,1,2,16,17,18,3,14]))),iE=f.lazy(()=>_e(()=>import("./GmailCallback-BnksdgTt.js"),__vite__mapDeps([20,1,2,3,14]))),rE=f.lazy(()=>_e(()=>import("./GmailPopupCallback-vD5Fywk5.js"),__vite__mapDeps([21,1,2,3]))),oE=f.lazy(()=>_e(()=>import("./FacebookPopupCallback-mMpnSNWn.js"),__vite__mapDeps([22,1,2,3]))),aE=f.lazy(()=>_e(()=>import("./FacebookCallback-D1CbYK16.js"),__vite__mapDeps([23,1,2,3]))),rh=f.lazy(()=>_e(()=>import("./Dashboard-I6XVJ0Cf.js"),__vite__mapDeps([24,1,2,14,25,5,6,26,27,28,13,29,30,3]))),lE=f.lazy(()=>_e(()=>import("./KnowledgeBases-CSz1k-l9.js"),__vite__mapDeps([31,1,2,32,33,34,26,27,5,6,25,3,35,36,37,38,39,14]))),cE=f.lazy(()=>_e(()=>import("./Action-DGy8Konf.js"),__vite__mapDeps([40,1,2,32,33,34,26,27,5,6,25,3,35,36,38,39,14]))),dE=f.lazy(()=>_e(()=>import("./Contacts-zj0p6DR5.js"),__vite__mapDeps([41,1,2,33,34,26,27,5,6,25,42,17,43,44,45,46,47,48,14,49,50,51,3,35,36,38]))),uE=f.lazy(()=>_e(()=>import("./Messages-Dr_pEF4Y.js"),__vite__mapDeps([52,1,2,25,5,6,26,27,45,46,48,14,47,49,50,3]))),hE=f.lazy(()=>_e(()=>import("./Patients-BXoFzytC.js"),__vite__mapDeps([53,1,2,14,3,45,34,25,5,6,26,27,39]))),fE=f.lazy(()=>_e(()=>import("./ClinicalRoles-CSWjWyyZ.js"),__vite__mapDeps([54,1,2,14,55,34,3]))),mE=f.lazy(()=>_e(()=>import("./ClinicalDashboard-DFGoNPTi.js"),__vite__mapDeps([56,1,2,14,57,58,59,60,3]))),pE=f.lazy(()=>_e(()=>import("./ClinicalSites-wAmy8-Jh.js"),__vite__mapDeps([61,1,2,14,57,3]))),gE=f.lazy(()=>_e(()=>import("./ClinicalStudies-By4WlsBG.js"),__vite__mapDeps([62,1,2,14,58,57,59,55,3]))),xE=f.lazy(()=>_e(()=>import("./ClinicalUsers-BllAW16K.js"),__vite__mapDeps([63,1,2,14,59,55,57,3]))),vE=f.lazy(()=>_e(()=>import("./StudyParticipants-DqNBD3Hc.js"),__vite__mapDeps([64,1,2,14,60,58,3]))),yE=f.lazy(()=>_e(()=>import("./Lists-BG40q89e.js"),__vite__mapDeps([65,1,2,25,5,6,66,3,14,49,47,67,37,17,43,44,45,46,48,50,51,27,68,69]))),bE=f.lazy(()=>_e(()=>import("./ListDetails-BLp987_e.js"),__vite__mapDeps([70,1,2,33,34,25,5,6,27,68,17,43,3,14]))),_E=f.lazy(()=>_e(()=>import("./Campaigns-DNjvUmi_.js"),__vite__mapDeps([71,1,2,33,34,26,27,5,6,25,72,73,35,3,38,39,14]))),wE=f.lazy(()=>_e(()=>import("./Recordings-3N6pJlN4.js"),__vite__mapDeps([74,1,2,33,34,26,27,5,6,25,3,39,72,73,35,37,8,75,14]))),jE=f.lazy(()=>_e(()=>import("./RecordingDetail-CuepXmuu.js"),__vite__mapDeps([76,1,2,14,38,75,37,25,5,6,3]))),SE=f.lazy(()=>_e(()=>import("./Support-DABwN6uv.js"),__vite__mapDeps([77,1,2,3,33,34,26,27,5,6,25,17,43,14,78,79,45,35,69]))),NE=f.lazy(()=>_e(()=>import("./SupportTicketDetail-CGmzDV_g.js"),__vite__mapDeps([80,1,2,14,45,78,79,3])).then(e=>({default:e.SupportTicketDetail}))),CE=f.lazy(()=>_e(()=>import("./AdminSupport-DzKNE37r.js"),__vite__mapDeps([81,1,2,33,34,26,27,5,6,25,42,14,79,39,3,17,43,28,13,29]))),TE=f.lazy(()=>_e(()=>import("./Agents-BLu3gU7S.js"),__vite__mapDeps([82,1,2,33,34,26,27,5,6,45,35,36,37,38,14,49,39,3,42]))),PE=f.lazy(()=>_e(()=>import("./VapiStyleAgents-dgwzzg77.js"),__vite__mapDeps([83,1,2,14,49,45,84,85,86,3]))),EE=f.lazy(()=>_e(()=>import("./AddAgent-B3NF_GK7.js"),__vite__mapDeps([87,1,2,25,5,6,3,14])).then(e=>({default:e.AddAgent}))),LE=f.lazy(()=>_e(()=>import("./Models-vquaUvwO.js"),__vite__mapDeps([88,1,2,14,25,5,6,3]))),AE=f.lazy(()=>_e(()=>import("./Voices-C8Q_Y4s3.js"),__vite__mapDeps([89,1,2,14,25,5,6,3]))),kE=f.lazy(()=>_e(()=>import("./VoicePreviewTest-CxWQuvo6.js"),__vite__mapDeps([90,1,2,86,3,14]))),RE=f.lazy(()=>_e(()=>import("./PhoneNumbers-BqysTQM7.js"),__vite__mapDeps([91,1,2,14,34,48,47,49,50,92,68,3]))),ME=f.lazy(()=>_e(()=>import("./OutboundCalls-DJjP2MyE.js"),__vite__mapDeps([93,1,2,14,34,75,37,25,5,6,66,3,49,47]))),IE=f.lazy(()=>_e(()=>import("./Outbound-Cu6P1FO0.js"),__vite__mapDeps([94,1,2,14,34,95,47,49,67,37,3]))),OE=f.lazy(()=>_e(()=>import("./CreateCampaignPage-tVSORqbG.js"),__vite__mapDeps([96,1,2,14,36,95,49,47,3])).then(e=>({default:e.CreateCampaignPage}))),oh=f.lazy(()=>_e(()=>import("./Workflows-m7FG5Mdd.js"),__vite__mapDeps([97,1,2,14,25,5,6,26,27,34,69,98,99,100,17,16,49,50,3]))),gr=f.lazy(()=>_e(()=>import("./WorkflowBuilder-4andImXU.js"),__vite__mapDeps([101,1,2,14,84,7,6,8,99,100,3]))),DE=f.lazy(()=>_e(()=>import("./Webhooks-DMV8GnZ2.js"),__vite__mapDeps([102,1,2,3,25,5,6,34,68,27,103,47,49,99,36,14]))),BE=f.lazy(()=>_e(()=>import("./AuditLogs-BQP5gkIg.js"),__vite__mapDeps([104,1,2,14,72,73,35,34,3]))),zE=f.lazy(()=>_e(()=>import("./Integrations-Bf3Mi35d.js"),__vite__mapDeps([105,1,2,25,5,6,27,103,3,14]))),FE=f.lazy(()=>_e(()=>import("./SuperAdminDashboard-CPvItet8.js"),__vite__mapDeps([106,1,2,25,5,6,26,27,3,14]))),VE=f.lazy(()=>_e(()=>import("./Roles-L1F9DlnK.js"),__vite__mapDeps([107,1,2,14,25,5,6,26,27,108,109,68,3]))),$E=f.lazy(()=>_e(()=>import("./RolePermissionManagement-B5CN9zqE.js"),__vite__mapDeps([110,1,2,14,25,5,6,26,27,98,108,109,68,3]))),UE=f.lazy(()=>_e(()=>import("./Permissions-CJTaRd9m.js"),__vite__mapDeps([111,1,2,14,25,5,6,26,27,98,34,3]))),HE=f.lazy(()=>_e(()=>import("./DefaultAssistants-D_1_XwwG.js"),__vite__mapDeps([112,1,2,14,85,38,3]))),WE=f.lazy(()=>_e(()=>import("./UserManagement-CKiwfzaA.js"),__vite__mapDeps([113,1,2,25,5,6,26,27,45,98,92,109,68,3,69,73,14]))),ZE=f.lazy(()=>_e(()=>import("./CreditManagement-7H3bHpMB.js"),__vite__mapDeps([114,1,2,34,3,14]))),GE=f.lazy(()=>_e(()=>import("./UserCreditPortal-B0v5SJrD.js"),__vite__mapDeps([115,1,2,10,11,12,13,3,28,30,14]))),qE=f.lazy(()=>_e(()=>import("./TestCreditsPage-Czf-B2e_.js"),__vite__mapDeps([116,1,2,3,14]))),KE=f.lazy(()=>_e(()=>import("./CreditPurchasePage-Bt0UJTf6.js"),__vite__mapDeps([117,1,2,12,13,3,14]))),xr=f.lazy(()=>_e(()=>import("./TestPurchasePage-BORha3Sg.js"),__vite__mapDeps([118,1,2]))),YE=f.lazy(()=>_e(()=>import("./CreditDebug-B5IjTeve.js"),__vite__mapDeps([119,1,2,3,14]))),XE=f.lazy(()=>_e(()=>import("./SimpleCreditTest-DMbRMSkJ.js"),__vite__mapDeps([120,1,2,3,14]))),JE=f.lazy(()=>_e(()=>import("./GmailDebug-CgqnkiHt.js"),__vite__mapDeps([121,1,2,3,14]))),QE=f.lazy(()=>_e(()=>import("./ModalTestPage-BAAc1Hgg.js"),__vite__mapDeps([122,1,2,11,12,13,3,14]))),e5=f.lazy(()=>_e(()=>import("./Settings-D1Q2vCk2.js"),__vite__mapDeps([123,1,2,92,45,10,11,12,13,3,14])));f.lazy(()=>_e(()=>import("./TestLogout-DnADxKlt.js"),__vite__mapDeps([124,1,2,9,3,14])));const t5=f.lazy(()=>_e(()=>import("./Privacy-D8CmafUi.js"),__vite__mapDeps([125,1,2]))),n5=f.lazy(()=>_e(()=>import("./Terms-ptdb4EeW.js"),__vite__mapDeps([126,1,2]))),s5=f.lazy(()=>_e(()=>import("./NotFound-B_HjlALb.js"),__vite__mapDeps([127,1,2,4,3,14])));function i5(){const e=k0(),[t,s]=f.useState(!0),{isRefresh:r}=GS(),a=new O0({defaultOptions:{queries:{staleTime:30*1e3,gcTime:2*60*1e3,retry:1,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchInterval:5*60*1e3,refetchIntervalInBackground:!1},mutations:{onSuccess:()=>{a.invalidateQueries()}}}});return f.useEffect(()=>{Da.setQueryClient(a),Da.setupAutoCacheManagement(),ZS.setupAutoMonitoring(),console.log(" Cache management and performance monitoring initialized");const c=setTimeout(()=>{s(!1)},100);return()=>clearTimeout(c)},[a]),f.useEffect(()=>{!t&&!r&&(console.log(" Route changed, clearing cache for fresh data..."),_e(async()=>{const{cacheManager:c}=await Promise.resolve().then(()=>Cs);return{cacheManager:c}},void 0).then(({cacheManager:c})=>{c.clearCacheForNavigation(),c.invalidateQueriesByPage(e.pathname)}).catch(c=>{console.warn("Could not clear cache for navigation:",c)}))},[e.pathname,t,r]),i.jsx(i.Fragment,{children:i.jsxs(D0,{client:a,children:[i.jsx(HS,{children:i.jsx(zS,{children:i.jsx(FS,{children:i.jsx(WS,{children:i.jsx(f.Suspense,{fallback:null,children:i.jsxs(R0,{children:[i.jsx(pe,{path:"privacy",element:i.jsx(t5,{})}),i.jsx(pe,{path:"terms",element:i.jsx(n5,{})}),i.jsxs(pe,{element:i.jsx(Jw,{}),children:[i.jsx(pe,{path:"login",element:i.jsx(nE,{})}),i.jsx(pe,{path:"register",element:i.jsx(sE,{})}),i.jsx(pe,{path:"gmail/callback",element:i.jsx(iE,{})}),i.jsx(pe,{path:"gmail/popup-callback",element:i.jsx(rE,{})}),i.jsx(pe,{path:"facebook/popup-callback",element:i.jsx(oE,{})}),i.jsx(pe,{path:"integration/facebook/callback",element:i.jsx(aE,{})})]}),i.jsx(pe,{element:i.jsx($S,{}),children:i.jsxs(pe,{path:"/",element:i.jsx(tE,{}),children:[i.jsx(pe,{index:!0,element:i.jsx(rh,{})}),i.jsx(pe,{path:"dashboard",element:i.jsx(rh,{})}),i.jsx(pe,{path:"agents",element:i.jsx(PE,{})}),i.jsx(pe,{path:"agents/list",element:i.jsx(TE,{})}),i.jsx(pe,{path:"agents/add",element:i.jsx(EE,{})}),i.jsx(pe,{path:"models",element:i.jsx(LE,{})}),i.jsx(pe,{path:"voices",element:i.jsx(AE,{})}),i.jsx(pe,{path:"voice-test",element:i.jsx(kE,{})}),i.jsx(pe,{path:"phone-numbers",element:i.jsx(RE,{})}),i.jsx(pe,{path:"outbound-calls",element:i.jsx(ME,{})}),i.jsx(pe,{path:"outbound",element:i.jsx(IE,{})}),i.jsx(pe,{path:"outbound/create-campaign",element:i.jsx(OE,{})}),i.jsx(pe,{path:"workflows",element:i.jsx(oh,{})}),i.jsx(pe,{path:"workflows/:id",element:i.jsx(gr,{})}),i.jsx(pe,{path:"workflows/:id/edit",element:i.jsx(gr,{})}),i.jsx(pe,{path:"dashboard/workflows",element:i.jsx(oh,{})}),i.jsx(pe,{path:"dashboard/workflows/:id",element:i.jsx(gr,{})}),i.jsx(pe,{path:"dashboard/workflows/:id/edit",element:i.jsx(gr,{})}),i.jsx(pe,{path:"webhooks",element:i.jsx(DE,{})}),i.jsx(pe,{path:"credits",element:i.jsx(GE,{})}),i.jsx(pe,{path:"credits/purchase",element:i.jsx(KE,{})}),i.jsx(pe,{path:"purchase-credits",element:i.jsx(xr,{})}),i.jsx(pe,{path:"buy-credits",element:i.jsx(xr,{})}),i.jsx(pe,{path:"test-purchase",element:i.jsx(xr,{})}),i.jsx(pe,{path:"test-credits",element:i.jsx(qE,{})}),i.jsx(pe,{path:"debug-credits",element:i.jsx(YE,{})}),i.jsx(pe,{path:"simple-credit-test",element:i.jsx(XE,{})}),i.jsx(pe,{path:"debug-gmail",element:i.jsx(JE,{})}),i.jsx(pe,{path:"modal-test",element:i.jsx(QE,{})}),i.jsx(pe,{path:"audit-logs",element:i.jsx(BE,{})}),i.jsx(pe,{path:"knowledge-bases",element:i.jsx(lE,{})}),i.jsx(pe,{path:"actions",element:i.jsx(cE,{})}),i.jsx(pe,{path:"contacts",element:i.jsx(dE,{})}),i.jsx(pe,{path:"messages",element:i.jsx(uE,{})}),i.jsx(pe,{path:"patients",element:i.jsx(hE,{})}),i.jsx(pe,{path:"clinical-roles",element:i.jsx(fE,{})}),i.jsx(pe,{path:"clinical-dashboard",element:i.jsx(mE,{})}),i.jsx(pe,{path:"clinical-users",element:i.jsx(xE,{})}),i.jsx(pe,{path:"clinical-sites",element:i.jsx(pE,{})}),i.jsx(pe,{path:"clinical-studies",element:i.jsx(gE,{})}),i.jsx(pe,{path:"study-participants",element:i.jsx(vE,{})}),i.jsx(pe,{path:"lists",element:i.jsx(yE,{})}),i.jsx(pe,{path:"lists/:id",element:i.jsx(bE,{})}),i.jsx(pe,{path:"campaigns",element:i.jsx(_E,{})}),i.jsx(pe,{path:"recordings",element:i.jsx(wE,{})}),i.jsx(pe,{path:"recordings/:id",element:i.jsx(jE,{})}),i.jsx(pe,{path:"support",element:i.jsx(SE,{})}),i.jsx(pe,{path:"support/ticket/:ticketId",element:i.jsx(NE,{})}),i.jsx(pe,{path:"admin-support",element:i.jsx(CE,{})}),i.jsx(pe,{path:"users",element:i.jsx(WE,{})}),i.jsx(pe,{path:"marketing-ads",element:i.jsx(z2,{})}),i.jsx(pe,{path:"leads-scraper",element:i.jsx(hP,{})}),i.jsx(pe,{path:"leads-contacts",element:i.jsx(SP,{})}),i.jsx(pe,{path:"leads-contacts/import",element:i.jsx(NP,{})}),i.jsx(pe,{path:"leads/:id",element:i.jsx(CP,{})}),i.jsx(pe,{path:"integration",element:i.jsx(zE,{})}),i.jsx(pe,{path:"super-admin",element:i.jsx(FE,{})}),i.jsx(pe,{path:"roles",element:i.jsx($E,{})}),i.jsx(pe,{path:"roles/old",element:i.jsx(VE,{})}),i.jsx(pe,{path:"permissions",element:i.jsx(UE,{})}),i.jsx(pe,{path:"default-assistants",element:i.jsx(HE,{})}),i.jsx(pe,{path:"admin/credits",element:i.jsx(ZE,{})}),i.jsx(pe,{path:"settings",element:i.jsx(e5,{})}),i.jsx(pe,{path:"studies_calculator",element:i.jsx(EP,{})}),i.jsx(pe,{path:"/studies/db/:id",element:i.jsx(QP,{})}),i.jsx(pe,{path:"email_management",element:i.jsx(eE,{})})]})}),i.jsx(pe,{path:"/test-route-direct",element:i.jsx(xr,{})}),i.jsx(pe,{path:"*",element:i.jsx(s5,{})})]})})})})})}),i.jsx(mv,{richColors:!0,position:"top-right"}),i.jsx(Fm,{})]})})}Th(document.getElementById("root")).render(i.jsx(f.StrictMode,{children:i.jsx(M0,{children:i.jsx(i5,{})})}));export{$5 as $,Vr as A,je as B,qt as C,fP as D,$r as E,V2 as F,Z5 as G,O5 as H,ot as I,ct as J,Nu as K,We as L,wP as M,z5 as N,_P as O,H5 as P,jP as Q,V5 as R,un as S,Hl as T,B5 as U,_T as V,wT as W,jT as X,W5 as Y,Ka as Z,U5 as _,VS as a,xP as a0,A5 as a1,MN as a2,k5 as a3,PN as a4,Eh as a5,pv as a6,il as a7,xv as a8,gv as a9,Ph as aa,$l as ab,Ul as ac,Um as ad,gp as ae,kN as af,_e as ag,L5 as b,Ze as c,E5 as d,mP as e,$g as f,yP as g,bP as h,Ug as i,Se as j,Kt as k,In as l,dn as m,On as n,Km as o,sn as p,hn as q,rn as r,Ie as s,re as t,Fl as u,Yt as v,B2 as w,F5 as x,qa as y,Fr as z};
//# sourceMappingURL=index-CnGOntes.js.map
