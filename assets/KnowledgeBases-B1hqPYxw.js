import{j as e,a_ as K,F as S,U as $,aj as k,a$ as W,b as G,b0 as L,al as I,b1 as q,aN as H,D as Q,y as _,H as J,b2 as X}from"./ui-S570Xcny.js";import{k as T}from"./dynamicdata-DBD5QZ1_.js";import{M as Y}from"./ModernTable-CXVr2xJv.js";import{H as Z}from"./Header-C33LtvqU.js";import{P as ee}from"./Page-BJWqKr2O.js";import{B as u}from"./button-BSd9MMPp.js";import{I as V}from"./input-jxB46izN.js";import{L as p}from"./label-C1-UM1F-.js";import{T as R}from"./textarea-Cw4zrZDH.js";import{S as se,a as ae,b as A}from"./sheet-BBd0x1Q8.js";import{S as re,a as te,b as le,c as ie,d as b}from"./select-D0_OqHwT.js";import{B as y}from"./badge-ij7fArnn.js";import{r as o}from"./vendor-DG599jyl.js";import{c as ne}from"./router-BavLd_S0.js";import{C as ce}from"./card-DMfGhRm1.js";import{D as oe,a as de,b as me,e as xe}from"./dropdown-menu-Bxst4dXB.js";import{P as he,a as ge,b as pe}from"./popover-51UZHq0a.js";import{R as ue,a as je}from"./radio-group-DT_qJUyQ.js";import{S as fe}from"./slider-DHO3HMwz.js";import{S as be}from"./separator-Wr5jI2gW.js";import{C as we}from"./CustomPagination-BvK-v0_h.js";import"./table-Beiyegzh.js";import"./scroll-area-C-pzVjaj.js";import"./index-BHBJ6RT-.js";import"./index-CWMUKvWL.js";import"./index-HDeFwIcs.js";function ye(){return e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"text-xl font-semibold jakarta bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent mb-1",children:"Create Knowledge Base"}),e.jsx(ae,{className:"text-muted-foreground mb-6",children:"Add a new knowledge base to your library for your voice AI agents."}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(K,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-sm font-medium",children:"Basic Information"})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"title",className:"text-sm font-medium text-foreground mb-1.5 block",children:"Title"}),e.jsx(V,{id:"title",placeholder:"Enter knowledge base title",className:"w-full border-border/50 bg-card focus:border-primary/50 focus:ring-primary/20"})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"category",className:"text-sm font-medium text-foreground mb-1.5 block",children:"Category"}),e.jsxs(re,{children:[e.jsx(te,{className:"w-full border-border/50 bg-card focus:border-primary/50 focus:ring-primary/20",children:e.jsx(le,{placeholder:"Select a category"})}),e.jsxs(ie,{children:[e.jsx(b,{value:"onboarding",children:"Onboarding"}),e.jsx(b,{value:"features",children:"Features"}),e.jsx(b,{value:"support",children:"Support"}),e.jsx(b,{value:"faq",children:"FAQ"}),e.jsx(b,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"description",className:"text-sm font-medium text-foreground mb-1.5 block",children:"Description"}),e.jsx(R,{id:"description",placeholder:"Provide a brief description of this knowledge base...",className:"w-full min-h-[80px] border-border/50 bg-card focus:border-primary/50 focus:ring-primary/20"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(S,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-sm font-medium",children:"Content"})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"content",className:"text-sm font-medium text-foreground mb-1.5 block",children:"Knowledge Base Content"}),e.jsx(R,{id:"content",placeholder:"Enter the content for your knowledge base...",className:"w-full min-h-[200px] border-border/50 bg-card focus:border-primary/50 focus:ring-primary/20"})]}),e.jsx("div",{className:"border-2 border-dashed border-border/50 rounded-lg p-6 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx($,{className:"h-8 w-8 text-muted-foreground mb-2"}),e.jsx("h3",{className:"text-sm font-medium mb-1",children:"Upload Files"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Drag and drop files here or click to browse"}),e.jsx(u,{variant:"outline",className:"text-xs border-border/50",children:"Browse Files"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(k,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-sm font-medium",children:"Tags"})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"tags",className:"text-sm font-medium text-foreground mb-1.5 block",children:"Add Tags"}),e.jsx(V,{id:"tags",placeholder:"Enter tags separated by commas",className:"w-full border-border/50 bg-card focus:border-primary/50 focus:ring-primary/20"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tags help voice agents find relevant information quickly"})]})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end space-x-3",children:[e.jsx(A,{asChild:!0,children:e.jsx(u,{type:"button",variant:"outline",className:"border-border/50 text-foreground hover:bg-muted/20",children:"Cancel"})}),e.jsx(A,{asChild:!0,children:e.jsx(u,{type:"submit",className:"btn-gradient text-white",children:"Create Knowledge Base"})})]})]})}const Ne=({data:m,onItemClick:x,actions:n,getCategoryBadgeVariant:d,formatDate:h})=>e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mt-6",children:m.map(t=>e.jsx(ce,{className:"overflow-hidden border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all cursor-pointer",onClick:()=>x(t),children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-primary/20 to-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(S,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 line-clamp-1",children:String(t.title)}),e.jsxs("div",{className:"text-xs text-gray-500",children:["ID: KB-",String(t.id).padStart(4,"0")]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(u,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full hover:bg-gray-100",onClick:l=>{l.stopPropagation(),console.log("Share",t)},children:e.jsx(W,{className:"h-4 w-4 text-gray-500"})}),e.jsxs(oe,{children:[e.jsx(de,{asChild:!0,onClick:l=>l.stopPropagation(),children:e.jsx(u,{variant:"ghost",className:"h-8 w-8 p-0 rounded-full hover:bg-gray-100",children:e.jsx(G,{className:"h-4 w-4 text-gray-500"})})}),e.jsx(me,{align:"end",className:"w-[160px]",children:n.map((l,i)=>e.jsxs(xe,{onClick:c=>{c.stopPropagation(),l.onClick(t)},className:"cursor-pointer",children:[e.jsx("span",{className:"mr-2 h-4 w-4 text-gray-500",children:l.icon}),e.jsx("span",{children:l.label})]},i))})]})]})]}),e.jsx("div",{className:"mb-3",children:e.jsxs(y,{variant:d(String(t.category)),className:"capitalize",children:[e.jsx(k,{className:"h-3 w-3 mr-1"}),String(t.category)]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Views"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(L,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"font-medium text-gray-900",children:Number(t.views).toLocaleString()})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Created"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(I,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-700",children:h(String(t.created_at))})]})]})]})]})},t.id))}),ve=({onFilterChange:m})=>{const[x,n]=o.useState(!1),[d,h]=o.useState([]),[t,l]=o.useState(null),[i,c]=o.useState([0,2e3]),N=[{id:"onboarding",label:"Onboarding"},{id:"features",label:"Features"},{id:"support",label:"Support"},{id:"faq",label:"FAQ"},{id:"other",label:"Other"}],v=()=>{const a={category:t,viewsRange:i},j=[];t&&j.push(`Category: ${t}`),(i[0]>0||i[1]<2e3)&&j.push(`Views: ${i[0]} - ${i[1]}`),h(j),m(a),n(!1)},C=()=>{l(null),c([0,2e3]),h([]),m({})},f=a=>{const j=d.filter(w=>w!==a);h(j),a.startsWith("Category:")&&l(null),a.startsWith("Views:")&&c([0,2e3]),m({category:a.startsWith("Category:")?null:t,viewsRange:a.startsWith("Views:")?[0,2e3]:i})};return e.jsxs("div",{className:"relative",children:[e.jsxs(he,{open:x,onOpenChange:n,children:[e.jsx(ge,{asChild:!0,children:e.jsxs(u,{variant:"outline",size:"sm",className:`h-9 border-gray-200 text-gray-700 hover:bg-gray-50 ${d.length>0?"border-primary/50 bg-primary/5":""}`,children:[e.jsx(q,{className:"h-4 w-4 mr-1"}),"Filters",d.length>0&&e.jsx("span",{className:"ml-1 flex h-5 w-5 items-center justify-center rounded-full bg-primary text-[10px] font-medium text-white",children:d.length})]})}),e.jsx(pe,{className:"w-[280px] p-4",align:"end",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Filter Knowledge Bases"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{className:"text-xs font-medium",children:"Category"}),e.jsx(ue,{value:t||"",onValueChange:a=>l(a||null),children:N.map(a=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(je,{value:a.id,id:`category-${a.id}`}),e.jsx(p,{htmlFor:`category-${a.id}`,className:"text-sm font-normal cursor-pointer",children:a.label})]},a.id))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(p,{className:"text-xs font-medium",children:"Views Range"}),e.jsxs("span",{className:"text-xs text-gray-500",children:[i[0]," - ",i[1]]})]}),e.jsx(fe,{defaultValue:[0,2e3],value:i,max:2e3,step:100,onValueChange:c,className:"py-2"})]}),e.jsx(be,{}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(u,{variant:"outline",size:"sm",onClick:C,className:"text-xs h-8",children:"Reset"}),e.jsx(u,{size:"sm",onClick:v,className:"text-xs h-8 bg-primary",children:"Apply Filters"})]})]})})]}),d.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:d.map(a=>e.jsxs(y,{variant:"outline",className:"px-2 py-1 text-xs bg-primary/5 border-primary/20 text-primary flex items-center gap-1",children:[a,e.jsx("button",{className:"ml-1 text-primary hover:text-primary/80",onClick:()=>f(a),children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},a))})]})},Je=()=>{const[m,x]=ne(),[n,d]=o.useState(m.get("search")||""),[h,t]=o.useState(n),[l,i]=o.useState(m.get("view")==="grid"?"grid":"list"),[c,N]=o.useState({}),[v,C]=o.useState(!1),f=parseInt(m.get("page")||"1"),a=10,j=Math.ceil(T.length/a);o.useEffect(()=>{const s=setTimeout(()=>{t(n),x(r=>{const g=new URLSearchParams(r);return n?g.set("search",n):g.delete("search"),g})},500);return()=>clearTimeout(s)},[n,x]),o.useEffect(()=>{x(s=>{const r=new URLSearchParams(s);return l==="grid"?r.set("view","grid"):r.delete("view"),r})},[l,x]);const w=s=>{const r=new Date(s);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(r)},F=s=>{switch(s.toLowerCase()){case"onboarding":return"success";case"features":return"purple";case"support":return"info";default:return"secondary"}},B=T.filter(s=>{const r=h?s.title.toLowerCase().includes(h.toLowerCase()):!0,g=c.category?s.category.toLowerCase()===c.category.toLowerCase():!0,U=c.viewsRange?s.views>=c.viewsRange[0]&&s.views<=c.viewsRange[1]:!0;return r&&g&&U}),P=B.slice((f-1)*a,f*a),M=s=>{x(r=>{const g=new URLSearchParams(r);return g.set("page",s.toString()),g})},E=s=>{d(s)},O=s=>{i(s)},z=s=>{N(s),C(Object.keys(s).some(r=>s[r]!==null&&(typeof s[r]!="object"||Array.isArray(s[r])&&(s[r][0]>0||s[r][1]<2e3))))},D=[{label:"View Details",icon:e.jsx(_,{className:"h-4 w-4"}),onClick:s=>console.log("Viewing",s)},{label:"Edit Knowledge Base",icon:e.jsx(J,{className:"h-4 w-4"}),onClick:s=>console.log("Editing",s)},{label:"Delete Knowledge Base",icon:e.jsx(X,{className:"h-4 w-4"}),onClick:s=>console.log("Deleting",s)}];return e.jsxs(ee,{children:[e.jsx(Z,{title:"Knowledge Library",buttonText:"Knowledge Base",action:()=>console.log("Adding..."),filterByName:!0,filterWord:n,onFilterChange:E,useSheet:!0,sheetContent:e.jsx(ye,{}),viewMode:l,onViewModeChange:O,showViewToggle:!0,showFilters:!1}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-3",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(y,{variant:"secondary",className:"px-3 py-1",children:[e.jsx(K,{className:"h-3 w-3 mr-1"}),e.jsxs("span",{children:[B.length," Knowledge Bases"]})]})}),e.jsx(ve,{onFilterChange:z})]}),v&&e.jsx("div",{className:"mb-4"}),l==="list"?e.jsx(Y,{data:P,isSelectable:!0,showColumnSelection:!0,onRowClick:s=>console.log("Row clicked",s),columns:[{header:"Knowledge Base",accessor:"title",className:"min-w-[250px]",cell:(s,r)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-9 w-9 bg-gradient-to-br from-primary/20 to-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(S,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:String(s)}),e.jsxs("div",{className:"text-xs text-gray-500",children:["ID: KB-",String(r.id).padStart(4,"0")]})]})]}),sortable:!0},{header:"Category",accessor:"category",className:"min-w-[150px]",cell:s=>e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(y,{variant:F(String(s)),className:"capitalize",children:[e.jsx(k,{className:"h-3 w-3 mr-1"}),String(s)]})}),sortable:!0},{header:"Views",accessor:"views",className:"min-w-[120px]",cell:s=>e.jsxs("div",{className:"flex items-center space-x-2 justify-start",children:[e.jsx(L,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"font-medium text-gray-900",children:Number(s).toLocaleString()})]}),sortable:!0},{header:"Created",accessor:"created_at",className:"min-w-[150px]",cell:s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-700",children:w(String(s))})]}),sortable:!0}],actions:D,emptyState:e.jsxs("div",{className:"text-center p-8",children:[e.jsx("div",{className:"h-16 w-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(H,{className:"h-8 w-8 text-primary"})}),e.jsx("h3",{className:"text-lg font-medium mb-1",children:"No knowledge bases found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by creating your first knowledge base"}),e.jsxs("button",{className:"bg-primary px-4 py-2 rounded-md text-white flex items-center justify-center mx-auto",onClick:()=>console.log("Create knowledge base"),children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Create Knowledge Base"]})]})}):e.jsx(Ne,{data:P,onItemClick:s=>console.log("Grid item clicked",s),actions:D,getCategoryBadgeVariant:F,formatDate:w}),e.jsx("div",{className:"mt-8 border-t border-gray-200 pt-4",children:e.jsx(we,{currentPage:f,totalPages:j,onPageChange:M})})]})};export{Je as default};
//# sourceMappingURL=KnowledgeBases-B1hqPYxw.js.map
