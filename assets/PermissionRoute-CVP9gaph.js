import{j as e,aQ as P}from"./ui-CZ40mCLE.js";import{u as R,C as w,c as k,d as L,e as T,b as F}from"./index-BXZmpi2n.js";import{u as q}from"./usePermissions-DWQDkmV9.js";import{a as B,N as D}from"./router-BnJytTjr.js";const J=({children:i,permission:t,permissions:s,requireAll:d=!1,role:c,roles:a,requireAllRoles:l=!1,page:n,requireSuperAdmin:h=!1,redirectTo:E="/dashboard",loginRedirect:f="/login",accessDeniedComponent:o})=>{const{isLoggedIn:g,loading:x}=R(),j=B(),{hasPermission:y,hasAnyPermission:N,hasAllPermissions:b,hasRole:u,hasAnyRole:p,isSuperAdmin:m,canAccessPage:A,loading:v}=q();return!x&&!g?e.jsx(D,{to:f,state:{from:j},replace:!0}):x||v?e.jsx(e.Fragment,{children:i}):(h?m:m&&!t&&!s&&!c&&!a&&!n?!0:!(t&&!y(t)||s&&s.length>0&&!(d?b(s):N(s))||c&&!u(c)||a&&a.length>0&&!(l?a.every(C=>u(C)):p(a))||n&&!A(n)))?e.jsx(e.Fragment,{children:i}):o?e.jsx(e.Fragment,{children:o}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs(w,{className:"w-full max-w-md",children:[e.jsxs(k,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-red-100",children:e.jsx(P,{className:"h-6 w-6 text-red-600"})}),e.jsx(L,{className:"text-xl font-semibold text-gray-900",children:"Access Denied"}),e.jsx(T,{className:"text-gray-600",children:"You don't have permission to access this page."})]}),e.jsxs(F,{className:"text-center",children:[e.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[h&&e.jsx("p",{children:"This page requires super administrator privileges."}),t&&e.jsxs("p",{children:["Required permission: ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:t})]}),s&&s.length>0&&e.jsxs("p",{children:["Required permissions (",d?"all":"any","): "," ",s.map(r=>e.jsx("code",{className:"bg-gray-100 px-1 rounded mr-1",children:r},r))]}),c&&e.jsxs("p",{children:["Required role: ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:c})]}),a&&a.length>0&&e.jsxs("p",{children:["Required roles (",l?"all":"any","): "," ",a.map(r=>e.jsx("code",{className:"bg-gray-100 px-1 rounded mr-1",children:r},r))]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>window.history.back(),className:"text-blue-600 hover:text-blue-500 font-medium",children:"Go Back"})})]})]})})};export{J as P};
//# sourceMappingURL=PermissionRoute-CVP9gaph.js.map
