import{j as e,at as F,aq as y,bS as ae,Y as te,bH as Y,bD as J,bC as re,d as le,bE as ne,aP as ie,K as ce,aI as de,N as $,bF as oe,b$ as me,C as xe,bx as he}from"./ui-Bw4PqZaR.js";import{M as ue}from"./ModernTable-C077ToNY.js";import{H as ge}from"./Header-B6YOjVS4.js";import{P as pe}from"./Page-LgOymczk.js";import{L as o,I as je,T as fe,B as h,w as Q,S,f as D,g as P,h as k,i as t,o as I,C as Ne,D as be,j as we,k as ve,l as ye,n as T}from"./index-CrtuxIoh.js";import{S as Ce,a as Se,b as W}from"./sheet-DF5Wvjy5.js";import{r as x}from"./vendor-DG599jyl.js";import{C as K}from"./calendar-BNK3y8ex.js";import{P as R,a as B,b as z}from"./popover-RL8n2ZMW.js";import{f as X}from"./format-C-QuTXqM.js";import{d as De}from"./router-BnJytTjr.js";import{S as Pe}from"./separator-BNWKZ-Cr.js";import{C as ke}from"./CustomPagination-D5rt0t33.js";import"./table-B6hOvFB1.js";import"./query-ejyxdTEH.js";function Fe(){const[d,i]=x.useState(),[l,u]=x.useState();return e.jsxs(e.Fragment,{children:[e.jsx(Ce,{className:"text-xl font-semibold jakarta bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent mb-1",children:"Create Voice Campaign"}),e.jsx(Se,{className:"text-muted-foreground mb-6",children:"Set up a new voice AI campaign to engage with your contacts."}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(F,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-sm font-medium",children:"Campaign Information"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"name",className:"text-sm font-medium text-foreground mb-1.5 block",children:"Campaign Name"}),e.jsx(je,{id:"name",placeholder:"Enter campaign name",className:"w-full border-border/50 bg-card focus:border-primary/50 focus:ring-primary/20"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"description",className:"text-sm font-medium text-foreground mb-1.5 block",children:"Description"}),e.jsx(fe,{id:"description",placeholder:"Describe the purpose of this campaign...",className:"w-full min-h-[80px] border-border/50 bg-card focus:border-primary/50 focus:ring-primary/20"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"startDate",className:"text-sm font-medium text-foreground mb-1.5 block",children:"Start Date"}),e.jsxs(R,{children:[e.jsx(B,{asChild:!0,children:e.jsxs(h,{variant:"outline",className:Q("w-full justify-start text-left font-normal border-border/50 bg-card focus:border-primary/50 focus:ring-primary/20",!d&&"text-muted-foreground"),children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),d?X(d,"PPP"):e.jsx("span",{children:"Select date"})]})}),e.jsx(z,{className:"w-auto p-0",align:"start",children:e.jsx(K,{mode:"single",selected:d,onSelect:i,initialFocus:!0})})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"endDate",className:"text-sm font-medium text-foreground mb-1.5 block",children:"End Date"}),e.jsxs(R,{children:[e.jsx(B,{asChild:!0,children:e.jsxs(h,{variant:"outline",className:Q("w-full justify-start text-left font-normal border-border/50 bg-card focus:border-primary/50 focus:ring-primary/20",!l&&"text-muted-foreground"),children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),l?X(l,"PPP"):e.jsx("span",{children:"Select date"})]})}),e.jsx(z,{className:"w-auto p-0",align:"start",children:e.jsx(K,{mode:"single",selected:l,onSelect:u,initialFocus:!0})})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(ae,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-sm font-medium",children:"Target Audience"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"list",className:"text-sm font-medium text-foreground mb-1.5 block",children:"Contact List"}),e.jsxs(S,{children:[e.jsx(D,{className:"w-full border-border/50 bg-card focus:border-primary/50 focus:ring-primary/20",children:e.jsx(P,{placeholder:"Select a contact list"})}),e.jsxs(k,{children:[e.jsx(t,{value:"newsletter",children:"Newsletter Subscribers"}),e.jsx(t,{value:"event",children:"Event Attendees"}),e.jsx(t,{value:"sales",children:"Sales Leads"}),e.jsx(t,{value:"vip",children:"VIP Customers"}),e.jsx(t,{value:"marketing",children:"Marketing Campaign"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Select the contact list this campaign will target"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(o,{className:"text-sm font-medium",children:"Filter by Activity"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Only target contacts who have been active in the last 30 days"})]}),e.jsx(I,{})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(te,{className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"text-sm font-medium",children:"Campaign Settings"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"type",className:"text-sm font-medium text-foreground mb-1.5 block",children:"Campaign Type"}),e.jsxs(S,{children:[e.jsx(D,{className:"w-full border-border/50 bg-card focus:border-primary/50 focus:ring-primary/20",children:e.jsx(P,{placeholder:"Select campaign type"})}),e.jsxs(k,{children:[e.jsx(t,{value:"outreach",children:"Outreach"}),e.jsx(t,{value:"followup",children:"Follow-up"}),e.jsx(t,{value:"promotional",children:"Promotional"}),e.jsx(t,{value:"informational",children:"Informational"}),e.jsx(t,{value:"survey",children:"Survey"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"frequency",className:"text-sm font-medium text-foreground mb-1.5 block",children:"Call Frequency"}),e.jsxs(S,{children:[e.jsx(D,{className:"w-full border-border/50 bg-card focus:border-primary/50 focus:ring-primary/20",children:e.jsx(P,{placeholder:"Select frequency"})}),e.jsxs(k,{children:[e.jsx(t,{value:"once",children:"Once"}),e.jsx(t,{value:"daily",children:"Daily"}),e.jsx(t,{value:"weekly",children:"Weekly"}),e.jsx(t,{value:"biweekly",children:"Bi-weekly"}),e.jsx(t,{value:"monthly",children:"Monthly"})]})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"priority",className:"text-sm font-medium text-foreground mb-1.5 block",children:"Priority"}),e.jsxs(S,{children:[e.jsx(D,{className:"w-full border-border/50 bg-card focus:border-primary/50 focus:ring-primary/20",children:e.jsx(P,{placeholder:"Select priority"})}),e.jsxs(k,{children:[e.jsx(t,{value:"high",children:"High"}),e.jsx(t,{value:"medium",children:"Medium"}),e.jsx(t,{value:"low",children:"Low"})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(o,{className:"text-sm font-medium",children:"Enable Analytics"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Track detailed metrics for this campaign"})]}),e.jsx(I,{defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(o,{className:"text-sm font-medium",children:"Auto-pause on Low Engagement"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically pause campaign if engagement drops below threshold"})]}),e.jsx(I,{})]})]})]})]}),e.jsxs("div",{className:"mt-8 flex justify-end space-x-3",children:[e.jsxs(h,{type:"button",variant:"outline",className:"border-border/50 text-foreground hover:bg-muted/20 flex items-center",onClick:()=>console.log("Testing campaign"),children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Test Campaign"]}),e.jsx(W,{asChild:!0,children:e.jsx(h,{type:"button",variant:"outline",className:"border-border/50 text-foreground hover:bg-muted/20",children:"Cancel"})}),e.jsx(W,{asChild:!0,children:e.jsx(h,{type:"submit",className:"btn-gradient text-white",children:"Create Campaign"})})]})]})}const Te=[{id:1,campaignName:"Summer Sale Promotion",status:"Active",startDate:"2024-06-01",endDate:"2024-08-31"},{id:2,campaignName:"Product Launch",status:"Completed",startDate:"2024-05-15",endDate:"2024-05-30"}],Ae=({data:d,onItemClick:i,actions:l,formatDate:u,getStatusBadgeVariant:w,getStatusIcon:C,getCampaignType:p})=>e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mt-6",children:d.map(r=>{const j=p(r.campaignName),f=String(r.status).toLowerCase();let m=0;if(f==="completed")m=100;else if(f==="active"){const n=new Date(String(r.startDate)),v=new Date(String(r.endDate)),N=new Date;if(N<n)m=0;else if(N>v)m=100;else{const A=v.getTime()-n.getTime(),L=N.getTime()-n.getTime();m=Math.round(L/A*100)}}else f==="paused"?m=Math.round(Number(r.id)*17)%100:(f==="scheduled"||f==="draft")&&(m=0);return e.jsx(Ne,{className:"overflow-hidden border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all cursor-pointer",onClick:()=>i(r),children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-primary/20 to-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(F,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 line-clamp-1",children:r.campaignName}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Type: ",j]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(h,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full hover:bg-gray-100",onClick:n=>{n.stopPropagation(),console.log("View Analytics",r)},children:e.jsx(J,{className:"h-4 w-4 text-gray-500"})}),e.jsx(h,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full hover:bg-gray-100",onClick:n=>{n.stopPropagation(),console.log("Share",r)},children:e.jsx(re,{className:"h-4 w-4 text-gray-500"})}),e.jsxs(be,{children:[e.jsx(we,{asChild:!0,onClick:n=>n.stopPropagation(),children:e.jsx(h,{variant:"ghost",className:"h-8 w-8 p-0 rounded-full hover:bg-gray-100",children:e.jsx(le,{className:"h-4 w-4 text-gray-500"})})}),e.jsx(ve,{align:"end",className:"w-[160px]",children:l.map((n,v)=>e.jsxs(ye,{onClick:N=>{N.stopPropagation(),n.onClick(r)},className:"cursor-pointer",children:[e.jsx("span",{className:"mr-2 h-4 w-4 text-gray-500",children:n.icon}),e.jsx("span",{children:n.label})]},v))})]})]})]}),e.jsx("div",{className:"mb-3",children:e.jsxs(T,{variant:w(r.status),className:"capitalize",children:[C(r.status),r.status]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Start Date"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(y,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-700",children:u(r.startDate)})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"End Date"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(y,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-700",children:u(r.endDate)})]})]})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"flex justify-between text-xs mb-1",children:e.jsxs("span",{children:[m,"% Complete"]})}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${m}%`}})})]})]})},r.id)})}),Le=({onFilterChange:d})=>{const[i,l]=x.useState(null),[u,w]=x.useState([0,100]),C=()=>{d({status:i,dateRange:u})},p=()=>{l(null),w([0,100]),d({})},r=[i!==null&&i!=="all",u[0]>0||u[1]<100].filter(Boolean).length;return e.jsxs(R,{children:[e.jsx(B,{asChild:!0,children:e.jsxs(h,{variant:"outline",size:"sm",className:"h-9 border-gray-200 text-gray-700 hover:bg-gray-50 relative",children:[e.jsx(ne,{className:"h-4 w-4 mr-2"}),"Filters",r>0&&e.jsx(T,{variant:"purple",className:"ml-2 h-5 w-5 p-0 flex items-center justify-center",children:r})]})}),e.jsxs(z,{className:"w-[280px] p-4",align:"end",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-medium text-sm",children:"Filter Campaigns"}),e.jsxs(h,{variant:"ghost",size:"sm",className:"h-8 px-2 text-gray-500",onClick:p,children:["Reset",e.jsx(ie,{className:"h-3 w-3 ml-1"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"status",className:"text-xs font-medium mb-1.5 block",children:"Campaign Status"}),e.jsxs(S,{value:i||"all",onValueChange:j=>l(j==="all"?null:j),children:[e.jsx(D,{id:"status",className:"w-full h-9 text-sm",children:e.jsx(P,{placeholder:"All Statuses"})}),e.jsxs(k,{children:[e.jsx(t,{value:"all",children:"All Statuses"}),e.jsx(t,{value:"active",children:"Active"}),e.jsx(t,{value:"completed",children:"Completed"}),e.jsx(t,{value:"scheduled",children:"Scheduled"}),e.jsx(t,{value:"paused",children:"Paused"}),e.jsx(t,{value:"draft",children:"Draft"})]})]})]}),e.jsx(Pe,{}),e.jsx("div",{className:"pt-2",children:e.jsx(h,{className:"w-full bg-primary hover:bg-primary/90",onClick:C,children:"Apply Filters"})})]})]})]})},Ke=()=>{const[d,i]=De(),[l,u]=x.useState(d.get("search")||""),[w,C]=x.useState(l),[p,r]=x.useState(d.get("view")==="grid"?"grid":"list"),[j,f]=x.useState({}),[m,n]=x.useState(!1),v=parseInt(d.get("page")||"1");x.useEffect(()=>{const s=setTimeout(()=>{C(l),i(a=>{const c=new URLSearchParams(a);return l?c.set("search",l):c.delete("search"),c})},500);return()=>clearTimeout(s)},[l,i]),x.useEffect(()=>{i(s=>{const a=new URLSearchParams(s);return p==="grid"?a.set("view","grid"):a.delete("view"),a})},[p,i]);const N=s=>{i(a=>{const c=new URLSearchParams(a);return c.set("page",s.toString()),c})},A=s=>{u(s)},L=s=>{r(s)},Z=s=>{f(s),n(Object.keys(s).some(a=>s[a]!==null&&(typeof s[a]!="object"||Array.isArray(s[a])&&(s[a][0]>0||s[a][1]<100))))},M=s=>{const a=new Date(s);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(a)},_=[...Te,{id:3,campaignName:"Holiday Special",status:"Scheduled",startDate:"2024-12-01",endDate:"2024-12-25"},{id:4,campaignName:"Customer Feedback",status:"Paused",startDate:"2024-09-15",endDate:"2024-10-15"},{id:5,campaignName:"New Feature Announcement",status:"Draft",startDate:"2024-11-10",endDate:"2024-11-20"}],H=s=>{const a=s.toLowerCase();return a.includes("sale")||a.includes("special")||a.includes("holiday")?"Promotional":a.includes("launch")||a.includes("announcement")?"Announcement":a.includes("feedback")?"Survey":"General"},q=s=>{switch(s.toLowerCase()){case"active":return"success";case"completed":return"secondary";case"scheduled":return"info";case"paused":return"warning";case"draft":return"outline";default:return"secondary"}},U=s=>{switch(s.toLowerCase()){case"active":return e.jsx(Y,{className:"h-3 w-3 mr-1"});case"completed":return e.jsx(he,{className:"h-3 w-3 mr-1"});case"scheduled":return e.jsx(xe,{className:"h-3 w-3 mr-1"});case"paused":return e.jsx(me,{className:"h-3 w-3 mr-1"});case"draft":return e.jsx($,{className:"h-3 w-3 mr-1"});default:return null}};let b=[..._];w&&(b=b.filter(s=>s.campaignName.toLowerCase().includes(w.toLowerCase()))),j.status&&(b=b.filter(s=>s.status.toLowerCase()===j.status.toLowerCase()));const G=[{label:"View Analytics",icon:e.jsx(J,{className:"h-4 w-4"}),onClick:s=>console.log("Viewing analytics",s)},{label:"View Contacts",icon:e.jsx(de,{className:"h-4 w-4"}),onClick:s=>console.log("Viewing contacts",s)},{label:"Edit Campaign",icon:e.jsx($,{className:"h-4 w-4"}),onClick:s=>console.log("Editing",s)},{label:"Delete Campaign",icon:e.jsx(oe,{className:"h-4 w-4"}),onClick:s=>console.log("Deleting",s)}];return e.jsxs(pe,{children:[e.jsx(ge,{title:"Voice Campaigns",buttonText:"Campaign",action:()=>console.log("Adding..."),filterByName:!0,filterWord:l,onFilterChange:A,useSheet:!0,sheetContent:e.jsx(Fe,{}),viewMode:p,onViewModeChange:L,showViewToggle:!0,showFilters:!1}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-3",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(T,{variant:"secondary",className:"px-3 py-1",children:[e.jsx(F,{className:"h-3 w-3 mr-1"}),e.jsxs("span",{children:[b.length," Campaigns"]})]})}),e.jsx(Le,{onFilterChange:Z})]}),m&&e.jsx("div",{className:"mb-4"}),p==="list"?e.jsx(ue,{data:b,isSelectable:!0,showColumnSelection:!0,onRowClick:s=>console.log("Row clicked",s),columns:[{header:"Campaign",accessor:"campaignName",className:"min-w-[250px]",cell:(s,a)=>{const c=H(String(s));return e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-9 w-9 bg-gradient-to-br from-primary/20 to-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(F,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-foreground",children:String(s)}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Type: ",c]})]})]})},sortable:!0},{header:"Status",accessor:"status",className:"min-w-[120px]",cell:s=>e.jsxs(T,{variant:q(String(s)),className:"capitalize",children:[U(String(s)),String(s)]}),sortable:!0},{header:"Start Date",accessor:"startDate",className:"min-w-[150px]",cell:s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(y,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:M(String(s))})]}),sortable:!0},{header:"End Date",accessor:"endDate",className:"min-w-[150px]",cell:s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(y,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:M(String(s))})]}),sortable:!0},{header:"Progress",accessor:"id",className:"min-w-[150px]",cell:(s,a)=>{const c=String(a.status).toLowerCase();let g=0;if(c==="completed")g=100;else if(c==="active"){const E=new Date(String(a.startDate)),O=new Date(String(a.endDate)),V=new Date;if(V<E)g=0;else if(V>O)g=100;else{const ee=O.getTime()-E.getTime(),se=V.getTime()-E.getTime();g=Math.round(se/ee*100)}}else c==="paused"?g=Math.round(Number(s)*17)%100:(c==="scheduled"||c==="draft")&&(g=0);return e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"flex justify-between text-xs mb-1",children:e.jsxs("span",{children:[g,"% Complete"]})}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${g}%`}})})]})}}],actions:G,emptyState:e.jsxs("div",{className:"text-center p-8",children:[e.jsx("div",{className:"h-16 w-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(F,{className:"h-8 w-8 text-primary"})}),e.jsx("h3",{className:"text-lg font-medium mb-1",children:"No campaigns found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Get started by creating your first voice campaign"}),e.jsxs("button",{className:"btn-gradient px-4 py-2 rounded-md text-white flex items-center justify-center mx-auto",onClick:()=>console.log("Create campaign"),children:[e.jsx(ce,{className:"h-4 w-4 mr-2"}),"Create Campaign"]})]})}):e.jsx(Ae,{data:b,onItemClick:s=>console.log("Grid item clicked",s),actions:G,formatDate:M,getStatusBadgeVariant:q,getStatusIcon:U,getCampaignType:H}),e.jsx("div",{className:"mt-8 border-t border-gray-200 pt-4",children:e.jsx(ke,{currentPage:v,totalPages:5,onPageChange:N})})]})};export{Ke as default};
//# sourceMappingURL=Campaigns-BRf-KbXA.js.map
