{"version":3,"file":"Dashboard-Uy21Lhnk.js","sources":["../../src/api/services/dashboard/dashboardService.ts","../../src/components/dashboard/ModernChartTooltip.tsx","../../src/components/dashboard/ModernBarChart.tsx","../../src/components/dashboard/ModernLineChart.tsx","../../src/components/dashboard/ModernPieChart.tsx","../../src/components/dashboard/ModernProgressBar.tsx","../../src/components/dashboard/ModernStatCard.tsx","../../src/components/dashboard/ModernInsightCard.tsx","../../src/components/dashboard/DashboardSkeleton.tsx","../../src/pages/dashboard/Dashboard.tsx"],"sourcesContent":["import axiosInstance from \"@/api/axios/axiosInstance\";\nimport { toast } from \"sonner\";\n\n// Types\nexport interface DashboardSummary {\n  totalAgents: number;\n  totalCalls: number;\n  totalPhoneNumbers: number;\n  avgCallDuration: number;\n  successRate: string;\n}\n\nexport interface DashboardDataSection {\n  success: boolean;\n  data: any;\n  error: string | null;\n}\n\nexport interface DashboardData {\n  agents: DashboardDataSection;\n  calls: DashboardDataSection;\n  phoneNumbers: DashboardDataSection;\n  modelStats: DashboardDataSection;\n  voiceStats: DashboardDataSection;\n  summary: DashboardSummary;\n}\n\nexport interface DashboardResponse {\n  success: boolean;\n  message: string;\n  data: DashboardData;\n  cached: boolean;\n}\n\n// Get comprehensive dashboard data in a single API call\nexport async function getDashboardData(): Promise<DashboardResponse> {\n  try {\n    console.log(\"ðŸ”„ Fetching dashboard data...\");\n    const startTime = Date.now();\n    \n    const res = await axiosInstance.get(\"/api/dashboard/data\");\n    \n    const endTime = Date.now();\n    const duration = endTime - startTime;\n    \n    console.log(`âœ… Dashboard data fetched in ${duration}ms`, res.data.cached ? \"(cached)\" : \"(fresh)\");\n    \n    return res.data;\n  } catch (error: any) {\n    console.error(\"âŒ Error fetching dashboard data:\", error);\n    const message = error.response?.data?.message || \"Failed to fetch dashboard data\";\n    toast.error(message);\n    throw error;\n  }\n}\n\n// Clear dashboard cache\nexport async function clearDashboardCache() {\n  try {\n    const res = await axiosInstance.post(\"/api/dashboard/cache/clear\");\n    toast.success(\"Dashboard cache cleared successfully\");\n    return res.data;\n  } catch (error: any) {\n    console.error(\"Error clearing dashboard cache:\", error);\n    const message = error.response?.data?.message || \"Failed to clear dashboard cache\";\n    toast.error(message);\n    throw error;\n  }\n}\n\n// Helper function to get agents data from dashboard response\nexport function getAgentsFromDashboard(dashboardData: DashboardData) {\n  if (dashboardData.agents.success) {\n    return {\n      data: {\n        assistants: dashboardData.agents.data.assistants || [],\n        totalAssistant: dashboardData.agents.data.total || 0\n      }\n    };\n  }\n  return { data: { assistants: [], totalAssistant: 0 } };\n}\n\n// Helper function to get calls data from dashboard response\nexport function getCallsFromDashboard(dashboardData: DashboardData) {\n  if (dashboardData.calls.success) {\n    return {\n      data: dashboardData.calls.data.calls || [],\n      length: dashboardData.calls.data.length || 0\n    };\n  }\n  return { data: [], length: 0 };\n}\n\n// Helper function to get call stats from dashboard response\nexport function getCallStatsFromDashboard(dashboardData: DashboardData) {\n  if (dashboardData.calls.success) {\n    return {\n      data: {\n        totalCalls: dashboardData.calls.data.totalCalls || 0,\n        successfulCalls: dashboardData.calls.data.successfulCalls || 0,\n        averageDuration: dashboardData.calls.data.averageDuration || 0\n      }\n    };\n  }\n  return { data: { totalCalls: 0, successfulCalls: 0, averageDuration: 0 } };\n}\n\n// Helper function to get model stats from dashboard response\nexport function getModelStatsFromDashboard(dashboardData: DashboardData) {\n  if (dashboardData.modelStats.success) {\n    return { data: dashboardData.modelStats.data };\n  }\n  return { data: null };\n}\n\n// Helper function to get voice stats from dashboard response\nexport function getVoiceStatsFromDashboard(dashboardData: DashboardData) {\n  if (dashboardData.voiceStats.success) {\n    return { data: dashboardData.voiceStats.data };\n  }\n  return { data: null };\n}\n\n// Helper function to get phone numbers from dashboard response\nexport function getPhoneNumbersFromDashboard(dashboardData: DashboardData) {\n  if (dashboardData.phoneNumbers.success) {\n    return { data: dashboardData.phoneNumbers.data || [] };\n  }\n  return { data: [] };\n}\n\n// Get comprehensive dashboard analytics\nexport async function getDashboardAnalytics(timeRange: string = \"7d\") {\n  try {\n    console.log(\"ðŸ“Š Fetching dashboard analytics...\");\n    const startTime = Date.now();\n\n    const res = await axiosInstance.get(\"/api/analytics/dashboard\", {\n      params: { timeRange }\n    });\n\n    const endTime = Date.now();\n    const duration = endTime - startTime;\n\n    console.log(`âœ… Dashboard analytics fetched in ${duration}ms`);\n\n    return res.data;\n  } catch (error: any) {\n    console.error(\"âŒ Error fetching dashboard analytics:\", error);\n    const message = error.response?.data?.message || \"Failed to fetch dashboard analytics\";\n    toast.error(message);\n    throw error;\n  }\n}\n\n// Get real-time dashboard metrics\nexport async function getRealTimeDashboardMetrics() {\n  try {\n    const res = await axiosInstance.get(\"/api/analytics/dashboard/realtime\");\n    return res.data;\n  } catch (error: any) {\n    console.error(\"âŒ Error fetching real-time metrics:\", error);\n    const message = error.response?.data?.message || \"Failed to fetch real-time metrics\";\n    toast.error(message);\n    throw error;\n  }\n}\n","import React from 'react';\nimport { motion } from 'framer-motion';\n\ninterface ModernChartTooltipProps {\n  active?: boolean;\n  payload?: any[];\n  label?: string;\n  labelFormatter?: (label: string) => React.ReactNode;\n  contentStyle?: React.CSSProperties;\n  itemStyle?: React.CSSProperties;\n  formatter?: (value: number, name: string, props: any) => React.ReactNode;\n  wrapperClassName?: string;\n}\n\nconst ModernChartTooltip: React.FC<ModernChartTooltipProps> = ({\n  active,\n  payload,\n  label,\n  labelFormatter,\n  contentStyle,\n  itemStyle,\n  formatter,\n  wrapperClassName,\n}) => {\n  if (!active || !payload || payload.length === 0) {\n    return null;\n  }\n\n  const formattedLabel = labelFormatter ? labelFormatter(label || '') : label;\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 10 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.3 }}\n      className={`bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm p-3 rounded-lg shadow-lg border border-gray-100 dark:border-gray-700 ${wrapperClassName || ''}`}\n      style={{\n        ...contentStyle,\n        minWidth: '150px',\n      }}\n      role=\"tooltip\"\n      aria-live=\"polite\"\n    >\n      {formattedLabel && (\n        <div className=\"font-medium text-sm mb-1 text-gray-700 dark:text-gray-300 border-b border-gray-100 dark:border-gray-700 pb-1\">\n          {formattedLabel}\n        </div>\n      )}\n      <div className=\"space-y-1\">\n        {payload.map((entry, index) => {\n          const value = formatter\n            ? formatter(entry.value, entry.name, entry)\n            : entry.value;\n          \n          return (\n            <div\n              key={`tooltip-item-${index}`}\n              className=\"flex items-center justify-between text-sm\"\n              style={itemStyle}\n            >\n              <div className=\"flex items-center\">\n                <div\n                  className=\"h-2.5 w-2.5 rounded-full mr-2\"\n                  style={{ backgroundColor: entry.color }}\n                  aria-hidden=\"true\"\n                ></div>\n                <span className=\"text-gray-600 dark:text-gray-400\">\n                  {entry.name}:\n                </span>\n              </div>\n              <span className=\"font-medium text-gray-800 dark:text-gray-200 ml-2\">\n                {value}\n              </span>\n            </div>\n          );\n        })}\n      </div>\n    </motion.div>\n  );\n};\n\nexport default ModernChartTooltip;\n","import React from \"react\";\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n  TooltipProps,\n} from \"recharts\";\nimport ModernChartTooltip from \"./ModernChartTooltip\";\n\ninterface ModernBarChartProps {\n  data: any[];\n  dataKeys: {\n    key: string;\n    name: string;\n    color: string;\n  }[];\n  xAxisDataKey: string;\n  height?: number;\n  showGrid?: boolean;\n  showLegend?: boolean;\n  barSize?: number;\n  barGap?: number;\n  barCategoryGap?: number | string;\n  barRadius?: number | [number, number, number, number];\n  className?: string;\n  tooltipFormatter?: (value: number, name: string, props: any) => React.ReactNode;\n  tooltipLabelFormatter?: (label: string) => React.ReactNode;\n  animationDuration?: number;\n}\n\nconst ModernBarChart: React.FC<ModernBarChartProps> = ({\n  data,\n  dataKeys,\n  xAxisDataKey,\n  height = 300,\n  showGrid = true,\n  showLegend = true,\n  barSize,\n  barGap,\n  barCategoryGap,\n  barRadius = [4, 4, 0, 0],\n  className = \"\",\n  tooltipFormatter,\n  tooltipLabelFormatter,\n  animationDuration = 1000,\n}) => {\n  const renderTooltip = (props: TooltipProps<any, any>) => (\n    <ModernChartTooltip\n      {...props}\n      formatter={tooltipFormatter}\n      labelFormatter={tooltipLabelFormatter}\n    />\n  );\n\n  return (\n    <div className={`w-full ${className}`} style={{ height }}>\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        <BarChart\n          data={data}\n          barSize={barSize}\n          barGap={barGap}\n          barCategoryGap={barCategoryGap}\n          margin={{ top: 10, right: 10, left: 0, bottom: 5 }}\n        >\n          {showGrid && (\n            <CartesianGrid\n              strokeDasharray=\"3 3\"\n              stroke=\"rgba(255,255,255,0.06)\"\n              vertical={false}\n            />\n          )}\n\n          <XAxis\n            dataKey={xAxisDataKey}\n            axisLine={false}\n            tickLine={false}\n            tick={{ fill: \"rgba(255,255,255,0.70)\", fontSize: 12 }}\n            dy={10}\n          />\n\n          <YAxis\n            axisLine={false}\n            tickLine={false}\n            tick={{ fill: \"rgba(255,255,255,0.70)\", fontSize: 12 }}\n            dx={-10}\n          />\n\n          <Tooltip content={renderTooltip} />\n\n          {showLegend && (\n            <Legend wrapperStyle={{ paddingTop: 15 }} iconType=\"circle\" iconSize={8} />\n          )}\n\n          {dataKeys.map((dataKey, index) => (\n            <Bar\n              key={dataKey.key}\n              dataKey={dataKey.key}\n              name={dataKey.name}\n              fill={dataKey.color}\n              radius={barRadius}\n              isAnimationActive={true}\n              animationDuration={animationDuration}\n              animationBegin={index * 150}\n              animationEasing=\"ease-out\"\n            />\n          ))}\n        </BarChart>\n      </ResponsiveContainer>\n    </div>\n  );\n};\n\nexport default ModernBarChart;\n\n\n\n// import React from 'react';\n// import {\n//   BarChart,\n//   Bar,\n//   XAxis,\n//   YAxis,\n//   CartesianGrid,\n//   Tooltip,\n//   Legend,\n//   ResponsiveContainer,\n//   TooltipProps,\n// } from 'recharts';\n// import { motion } from 'framer-motion';\n// import ModernChartTooltip from './ModernChartTooltip';\n\n// interface ModernBarChartProps {\n//   data: any[];\n//   dataKeys: {\n//     key: string;\n//     name: string;\n//     color: string;\n//   }[];\n//   xAxisDataKey: string;\n//   height?: number;\n//   showGrid?: boolean;\n//   showLegend?: boolean;\n//   barSize?: number;\n//   barGap?: number;\n//   barCategoryGap?: number | string;\n//   barRadius?: number | [number, number, number, number];\n//   className?: string;\n//   tooltipFormatter?: (value: number, name: string, props: any) => React.ReactNode;\n//   tooltipLabelFormatter?: (label: string) => React.ReactNode;\n//   animationDuration?: number;\n// }\n\n// const ModernBarChart: React.FC<ModernBarChartProps> = ({\n//   data,\n//   dataKeys,\n//   xAxisDataKey,\n//   height = 300,\n//   showGrid = true,\n//   showLegend = true,\n//   barSize,\n//   barGap,\n//   barCategoryGap,\n//   barRadius = [4, 4, 0, 0] as [number, number, number, number],\n//   className = '',\n//   tooltipFormatter,\n//   tooltipLabelFormatter,\n//   animationDuration = 1000,\n// }) => {\n//   const renderTooltip = (props: TooltipProps<any, any>) => (\n//     <ModernChartTooltip\n//       {...props}\n//       formatter={tooltipFormatter}\n//       labelFormatter={tooltipLabelFormatter}\n//     />\n//   );\n\n//   return (\n//     <div className={`w-full h-[${height}px] ${className}`}>\n//       <ResponsiveContainer width=\"100%\" height=\"100%\">\n//         <BarChart\n//           data={data}\n//           barSize={barSize}\n//           barGap={barGap}\n//           barCategoryGap={barCategoryGap}\n//           margin={{ top: 10, right: 10, left: 0, bottom: 5 }}\n//         >\n//           {showGrid && (\n//             <CartesianGrid\n//               strokeDasharray=\"3 3\"\n//               stroke=\"rgba(0,0,0,0.05)\"\n//               vertical={false}\n//             />\n//           )}\n//           <XAxis\n//             dataKey={xAxisDataKey}\n//             axisLine={false}\n//             tickLine={false}\n//             tick={{ fill: 'hsl(var(--muted-foreground))', fontSize: 12 }}\n//             dy={10}\n//           />\n//           <YAxis\n//             axisLine={false}\n//             tickLine={false}\n//             tick={{ fill: 'hsl(var(--muted-foreground))', fontSize: 12 }}\n//             dx={-10}\n//           />\n//           <Tooltip content={renderTooltip} />\n//           {showLegend && (\n//             <Legend\n//               wrapperStyle={{ paddingTop: 15 }}\n//               iconType=\"circle\"\n//               iconSize={8}\n//             />\n//           )}\n//           {dataKeys.map((dataKey, index) => (\n//             <Bar\n//               key={dataKey.key}\n//               dataKey={dataKey.key}\n//               name={dataKey.name}\n//               fill={dataKey.color}\n//               radius={barRadius}\n//               isAnimationActive={true}\n//               animationDuration={animationDuration}\n//               animationBegin={index * 150}\n//               animationEasing=\"ease-out\"\n//             />\n//           ))}\n//         </BarChart>\n//       </ResponsiveContainer>\n//     </div>\n//   );\n// };\n\n// export default ModernBarChart;\n","import React from 'react';\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n  TooltipProps,\n} from 'recharts';\nimport ModernChartTooltip from './ModernChartTooltip';\n\ninterface ModernLineChartProps {\n  data: any[];\n  dataKeys: {\n    key: string;\n    name: string;\n    color: string;\n    strokeWidth?: number;\n    dotRadius?: number;\n    activeDotRadius?: number;\n  }[];\n  xAxisDataKey: string;\n  height?: number;\n  showGrid?: boolean;\n  showLegend?: boolean;\n  className?: string;\n  tooltipFormatter?: (value: number, name: string, props: any) => React.ReactNode;\n  tooltipLabelFormatter?: (label: string) => React.ReactNode;\n  animationDuration?: number;\n}\n\nconst ModernLineChart: React.FC<ModernLineChartProps> = ({\n  data,\n  dataKeys,\n  xAxisDataKey,\n  height = 300,\n  showGrid = true,\n  showLegend = true,\n  className = '',\n  tooltipFormatter,\n  tooltipLabelFormatter,\n  animationDuration = 1500,\n}) => {\n  const renderTooltip = (props: TooltipProps<any, any>) => (\n    <ModernChartTooltip\n      {...props}\n      formatter={tooltipFormatter}\n      labelFormatter={tooltipLabelFormatter}\n    />\n  );\n\n  return (\n    <div className={`w-full h-[${height}px] ${className}`}>\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        <LineChart\n          data={data}\n          margin={{ top: 10, right: 10, left: 0, bottom: 5 }}\n        >\n          {showGrid && (\n            <CartesianGrid\n              strokeDasharray=\"3 3\"\n              stroke=\"rgba(0,0,0,0.05)\"\n              vertical={false}\n            />\n          )}\n          <XAxis\n            dataKey={xAxisDataKey}\n            axisLine={false}\n            tickLine={false}\n            tick={{ fill: 'hsl(var(--muted-foreground))', fontSize: 12 }}\n            dy={10}\n          />\n          <YAxis\n            axisLine={false}\n            tickLine={false}\n            tick={{ fill: 'hsl(var(--muted-foreground))', fontSize: 12 }}\n            dx={-10}\n          />\n          <Tooltip content={renderTooltip} />\n          {showLegend && (\n            <Legend\n              wrapperStyle={{ paddingTop: 15 }}\n              iconType=\"circle\"\n              iconSize={8}\n            />\n          )}\n          {dataKeys.map((dataKey, index) => (\n            <Line\n              key={dataKey.key}\n              type=\"monotone\"\n              dataKey={dataKey.key}\n              name={dataKey.name}\n              stroke={dataKey.color}\n              strokeWidth={dataKey.strokeWidth || 2}\n              dot={{\n                stroke: dataKey.color,\n                strokeWidth: 2,\n                r: dataKey.dotRadius || 4,\n                fill: 'white',\n              }}\n              activeDot={{\n                r: dataKey.activeDotRadius || 6,\n                stroke: dataKey.color,\n                strokeWidth: 2,\n                fill: 'white',\n              }}\n              isAnimationActive={true}\n              animationDuration={animationDuration}\n              animationBegin={index * 150}\n              animationEasing=\"ease-out\"\n            />\n          ))}\n        </LineChart>\n      </ResponsiveContainer>\n    </div>\n  );\n};\n\nexport default ModernLineChart;\n","import React from 'react';\nimport {\n  PieChart,\n  Pie,\n  Cell,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n  TooltipProps,\n} from 'recharts';\nimport ModernChartTooltip from './ModernChartTooltip';\n\ninterface ModernPieChartProps {\n  data: any[];\n  dataKey: string;\n  nameKey: string;\n  colors: string[];\n  height?: number;\n  showLegend?: boolean;\n  innerRadius?: number;\n  outerRadius?: number;\n  className?: string;\n  tooltipFormatter?: (value: number, name: string, props: any) => React.ReactNode;\n  tooltipLabelFormatter?: (label: string) => React.ReactNode;\n  animationDuration?: number;\n  labelLine?: boolean;\n  label?: boolean | React.ReactNode | ((props: any) => React.ReactNode) | null;\n}\n\nconst ModernPieChart: React.FC<ModernPieChartProps> = ({\n  data,\n  dataKey,\n  nameKey,\n  colors,\n  height = 300,\n  showLegend = true,\n  innerRadius = 0,\n  outerRadius = 80,\n  className = '',\n  tooltipFormatter,\n  tooltipLabelFormatter,\n  animationDuration = 1000,\n  labelLine = false,\n  label,\n}) => {\n  const renderTooltip = (props: TooltipProps<any, any>) => (\n    <ModernChartTooltip\n      {...props}\n      formatter={tooltipFormatter}\n      labelFormatter={tooltipLabelFormatter}\n    />\n  );\n\n  const defaultLabel = ({ name, percent }: { name: string; percent: number }) => \n    `${name}: ${(percent * 100).toFixed(0)}%`;\n\n  const renderLabel = label === true ? defaultLabel : (label === false ? undefined : (label || undefined));\n\n  return (\n    <div className={`w-full h-[${height}px] ${className}`}>\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        <PieChart>\n          <Pie\n            data={data}\n            cx=\"50%\"\n            cy=\"50%\"\n            labelLine={labelLine}\n            label={renderLabel as any}\n            outerRadius={outerRadius}\n            innerRadius={innerRadius}\n            fill=\"#8884d8\"\n            dataKey={dataKey}\n            nameKey={nameKey}\n            isAnimationActive={true}\n            animationDuration={animationDuration}\n            animationBegin={0}\n            animationEasing=\"ease-out\"\n          >\n            {data.map((entry, index) => (\n              <Cell \n                key={`cell-${index}`} \n                fill={colors[index % colors.length]} \n                stroke=\"none\"\n              />\n            ))}\n          </Pie>\n          <Tooltip content={renderTooltip} />\n          {showLegend && (\n            <Legend\n              layout=\"horizontal\"\n              verticalAlign=\"bottom\"\n              align=\"center\"\n              wrapperStyle={{ paddingTop: 20 }}\n              iconType=\"circle\"\n              iconSize={8}\n            />\n          )}\n        </PieChart>\n      </ResponsiveContainer>\n    </div>\n  );\n};\n\nexport default ModernPieChart;\n","import React from 'react';\nimport { motion } from 'framer-motion';\n\ninterface ModernProgressBarProps {\n  label: string;\n  value: number;\n  maxValue?: number;\n  status?: 'success' | 'warning' | 'error' | 'info';\n  statusText?: string;\n  showPercentage?: boolean;\n  height?: number;\n  className?: string;\n  animationDuration?: number;\n}\n\nconst ModernProgressBar: React.FC<ModernProgressBarProps> = ({\n  label,\n  value,\n  maxValue = 100,\n  status = 'success',\n  statusText,\n  showPercentage = false,\n  height = 8,\n  className = '',\n  animationDuration = 1000,\n}) => {\n  const percentage = Math.min(100, Math.max(0, (value / maxValue) * 100));\n  \n  const statusColors = {\n    success: {\n      text: 'text-green-600',\n      bg: 'bg-gradient-to-r from-primary to-primary/80',\n    },\n    warning: {\n      text: 'text-yellow-600',\n      bg: 'bg-gradient-to-r from-yellow-500 to-yellow-400',\n    },\n    error: {\n      text: 'text-red-600',\n      bg: 'bg-gradient-to-r from-red-500 to-red-400',\n    },\n    info: {\n      text: 'text-blue-600',\n      bg: 'bg-gradient-to-r from-blue-500 to-blue-400',\n    },\n  };\n\n  return (\n    <div className={`space-y-2 ${className}`}>\n      <div className=\"flex justify-between items-center\">\n        <span className=\"text-sm font-medium jakarta\">{label}</span>\n        <span className={`text-sm font-medium jakarta ${statusColors[status].text}`}>\n          {statusText || (showPercentage ? `${percentage.toFixed(1)}%` : value.toString())}\n        </span>\n      </div>\n      <div \n        className=\"w-full bg-secondary rounded-full overflow-hidden\"\n        style={{ height: `${height}px` }}\n        role=\"progressbar\"\n        aria-valuenow={percentage}\n        aria-valuemin={0}\n        aria-valuemax={100}\n        aria-label={`${label}: ${percentage}%`}\n      >\n        <motion.div\n          className={`h-full rounded-full ${statusColors[status].bg}`}\n          initial={{ width: 0 }}\n          animate={{ width: `${percentage}%` }}\n          transition={{ \n            duration: animationDuration / 1000, \n            ease: \"easeOut\" \n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ModernProgressBar;\n","import React from 'react';\nimport { motion } from 'framer-motion';\nimport { LucideIcon } from 'lucide-react';\n\ninterface ModernStatCardProps {\n  title: string;\n  value: string | number;\n  icon: React.ReactNode;\n  trend?: {\n    value: string | number;\n    direction: 'up' | 'down' | 'neutral';\n    label: string;\n  };\n  iconColor?: string;\n  iconBgColor?: string;\n  className?: string;\n  animationDelay?: number;\n}\n\nconst ModernStatCard: React.FC<ModernStatCardProps> = ({\n  title,\n  value,\n  icon,\n  trend,\n  iconColor = 'text-primary',\n  iconBgColor = 'bg-gradient-to-br from-primary/20 to-primary/10',\n  className = '',\n  animationDelay = 0,\n}) => {\n  const trendColors = {\n    up: 'text-green-500',\n    down: 'text-red-500',\n    neutral: 'text-gray-500',\n  };\n\n  return (\n    <motion.div\n    className={`neo-card ${className}`}\n    initial={{ opacity: 0, y: 20 }}\n    animate={{ opacity: 1, y: 0 }}\n  >\n    <div className=\"p-6 relative\">\n      <div className=\"absolute -top-24 -right-24 h-56 w-56 rounded-full opacity-30\"\n        style={{\n          background: \"radial-gradient(circle, rgba(250,24,96,.35), transparent 60%)\"\n        }}\n      />\n  \n      <p className=\"text-sm text-muted-foreground text-white\">{title}</p>\n      <h3 className=\"text-2xl font-bold mt-1 text-white\">{value}</h3>\n      <div className=\"neo-divider\" />\n  \n      {trend && (\n        <p className={`text-xs mt-2 ${\n          trend.direction === \"up\" ? \"text-green-400\" :\n          trend.direction === \"down\" ? \"text-red-400\" :\n          \"text-gray-400\"\n        }`}>\n          {trend.value} {trend.label}\n        </p>\n      )}\n  \n      <div className=\"absolute top-5 right-5 p-3 rounded-full bg-white/10\">\n        {icon}\n      </div>\n    </div>\n  </motion.div>\n  \n  \n    // <motion.div\n    //   className={`card overflow-hidden ${className}`}\n    //   initial={{ opacity: 0, y: 20 }}\n    //   animate={{ opacity: 1, y: 0 }}\n    //   transition={{ \n    //     duration: 0.4, \n    //     delay: animationDelay / 1000,\n    //     ease: \"easeOut\" \n    //   }}\n    // >\n    //   <div className=\"p-6\">\n    //     <div className=\"flex justify-between items-start\">\n    //       <motion.div\n    //         initial={{ opacity: 0, x: -10 }}\n    //         animate={{ opacity: 1, x: 0 }}\n    //         transition={{ \n    //           duration: 0.3, \n    //           delay: (animationDelay + 200) / 1000,\n    //           ease: \"easeOut\" \n    //         }}\n    //       >\n    //         <p className=\"text-sm font-medium text-muted-foreground\">\n    //           {title}\n    //         </p>\n    //         <motion.h3 \n    //           className=\"text-2xl font-bold mt-1 jakarta\"\n    //           initial={{ opacity: 0, scale: 0.9 }}\n    //           animate={{ opacity: 1, scale: 1 }}\n    //           transition={{ \n    //             duration: 0.4, \n    //             delay: (animationDelay + 300) / 1000,\n    //             ease: \"easeOut\" \n    //           }}\n    //         >\n    //           {value}\n    //         </motion.h3>\n    //         {trend && (\n    //           <motion.p \n    //             className={`text-xs flex items-center mt-1 ${trendColors[trend.direction]}`}\n    //             initial={{ opacity: 0 }}\n    //             animate={{ opacity: 1 }}\n    //             transition={{ \n    //               duration: 0.3, \n    //               delay: (animationDelay + 400) / 1000,\n    //               ease: \"easeOut\" \n    //             }}\n    //           >\n    //             {trend.direction === 'up' && (\n    //               <svg className=\"h-3 w-3 mr-1\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    //                 <path d=\"M7 17L17 7M17 7H7M17 7V17\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    //               </svg>\n    //             )}\n    //             {trend.direction === 'down' && (\n    //               <svg className=\"h-3 w-3 mr-1\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    //                 <path d=\"M7 7L17 17M17 17H7M17 17V7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    //               </svg>\n    //             )}\n    //             {trend.value} {trend.label}\n    //           </motion.p>\n    //         )}\n    //       </motion.div>\n    //       <motion.div \n    //         className={`${iconBgColor} p-3 rounded-full shadow-sm`}\n    //         initial={{ opacity: 0, scale: 0.5 }}\n    //         animate={{ opacity: 1, scale: 1 }}\n    //         transition={{ \n    //           duration: 0.4, \n    //           delay: (animationDelay + 200) / 1000,\n    //           type: \"spring\",\n    //           stiffness: 200,\n    //           damping: 15\n    //         }}\n    //       >\n    //         <div className={`${iconColor}`}>\n    //           {icon}\n    //         </div>\n    //       </motion.div>\n    //     </div>\n    //   </div>\n    // </motion.div>\n  );\n};\n\nexport default ModernStatCard;\n","import React from 'react';\nimport { motion } from 'framer-motion';\n\ninterface ModernInsightCardProps {\n  title: string;\n  value: string | number;\n  icon: React.ReactNode;\n  iconColor?: string;\n  iconBgColor?: string;\n  className?: string;\n  animationDelay?: number;\n}\n\nconst ModernInsightCard: React.FC<ModernInsightCardProps> = ({\n  title,\n  value,\n  icon,\n  iconColor = 'text-primary',\n  iconBgColor = 'bg-gradient-to-br from-primary/20 to-primary/10',\n  className = '',\n  animationDelay = 0,\n}) => {\n  return (\n    <motion.div\n      className={`flex items-center justify-between p-5 bg-gradient-to-br from-secondary/50 to-secondary/30 rounded-xl border border-border/30 ${className}`}\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ \n        duration: 0.4, \n        delay: animationDelay / 1000,\n        ease: \"easeOut\" \n      }}\n      whileHover={{ \n        y: -5,\n        boxShadow: \"0 10px 30px -15px rgba(0, 0, 0, 0.1)\",\n        transition: { duration: 0.3 }\n      }}\n    >\n      <motion.div\n        initial={{ opacity: 0, x: -10 }}\n        animate={{ opacity: 1, x: 0 }}\n        transition={{ \n          duration: 0.3, \n          delay: (animationDelay + 200) / 1000,\n          ease: \"easeOut\" \n        }}\n      >\n        <p className=\"text-sm font-medium text-muted-foreground\">\n          {title}\n        </p>\n        <motion.p \n          className=\"text-2xl font-bold jakarta mt-1\"\n          initial={{ opacity: 0, scale: 0.9 }}\n          animate={{ opacity: 1, scale: 1 }}\n          transition={{ \n            duration: 0.4, \n            delay: (animationDelay + 300) / 1000,\n            ease: \"easeOut\" \n          }}\n        >\n          {value}\n        </motion.p>\n      </motion.div>\n      <motion.div \n        className={`h-14 w-14 ${iconBgColor} rounded-full flex items-center justify-center shadow-sm`}\n        initial={{ opacity: 0, scale: 0.5, rotate: -10 }}\n        animate={{ opacity: 1, scale: 1, rotate: 0 }}\n        transition={{ \n          duration: 0.5, \n          delay: (animationDelay + 200) / 1000,\n          type: \"spring\",\n          stiffness: 200,\n          damping: 15\n        }}\n      >\n        <div className={`${iconColor}`}>\n          {icon}\n        </div>\n      </motion.div>\n    </motion.div>\n  );\n};\n\nexport default ModernInsightCard;\n","import React from 'react';\nimport { Card, CardContent, CardHeader } from '@/components/ui/card';\nimport { Skeleton } from '@/components/ui/skeleton';\n\n// Skeleton for stat cards\nexport const StatCardSkeleton = () => (\n  <Card className=\"neo-card bg-white/[0.03] backdrop-blur-md border-white/10\">\n    <CardContent className=\"p-6\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"space-y-2\">\n          <Skeleton className=\"h-4 w-20 bg-white/10\" />\n          <Skeleton className=\"h-8 w-16 bg-white/10\" />\n          <Skeleton className=\"h-3 w-24 bg-white/10\" />\n        </div>\n        <Skeleton className=\"h-10 w-10 rounded-lg bg-white/10\" />\n      </div>\n    </CardContent>\n  </Card>\n);\n\n// Skeleton for chart cards\nexport const ChartCardSkeleton = ({ height = 300 }: { height?: number }) => (\n  <Card className=\"neo-card bg-white/[0.03] backdrop-blur-md border-white/10 overflow-hidden\">\n    <CardHeader className=\"border-b border-white/5\">\n      <div className=\"space-y-2\">\n        <Skeleton className=\"h-5 w-32 bg-white/10\" />\n        <Skeleton className=\"h-4 w-48 bg-white/10\" />\n      </div>\n    </CardHeader>\n    <CardContent className=\"pt-6\">\n      <div className=\"space-y-4\">\n        <div className=\"flex justify-between items-end\" style={{ height: height - 100 }}>\n          {[1, 2, 3, 4, 5, 6, 7].map((i) => (\n            <Skeleton \n              key={i} \n              className=\"w-8 bg-white/10\" \n              style={{ height: `${Math.random() * 60 + 20}%` }}\n            />\n          ))}\n        </div>\n        <div className=\"flex justify-between\">\n          {[1, 2, 3, 4, 5, 6, 7].map((i) => (\n            <Skeleton key={i} className=\"h-3 w-8 bg-white/10\" />\n          ))}\n        </div>\n      </div>\n    </CardContent>\n  </Card>\n);\n\n// Skeleton for progress bars\nexport const ProgressBarSkeleton = () => (\n  <div className=\"space-y-2\">\n    <div className=\"flex justify-between items-center\">\n      <Skeleton className=\"h-4 w-32 bg-white/10\" />\n      <Skeleton className=\"h-4 w-16 bg-white/10\" />\n    </div>\n    <Skeleton className=\"h-2 w-full rounded-full bg-white/10\" />\n  </div>\n);\n\n// Skeleton for insight cards\nexport const InsightCardSkeleton = () => (\n  <div className=\"flex items-center space-x-4 p-4 rounded-lg border border-white/5 bg-white/[0.02]\">\n    <Skeleton className=\"h-12 w-12 rounded-lg bg-white/10\" />\n    <div className=\"space-y-2 flex-1\">\n      <Skeleton className=\"h-4 w-24 bg-white/10\" />\n      <Skeleton className=\"h-6 w-16 bg-white/10\" />\n    </div>\n  </div>\n);\n\n// Complete dashboard skeleton\nexport const DashboardSkeleton = () => (\n  <div className=\"p-6 space-y-6\">\n    {/* Key Metrics Skeleton */}\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n      {[1, 2, 3, 4].map((i) => (\n        <StatCardSkeleton key={i} />\n      ))}\n    </div>\n\n    {/* Charts Row 1 Skeleton */}\n    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n      <ChartCardSkeleton height={300} />\n      <ChartCardSkeleton height={300} />\n    </div>\n\n    {/* Charts Row 2 Skeleton */}\n    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n      <ChartCardSkeleton height={350} />\n      <ChartCardSkeleton height={350} />\n    </div>\n\n    {/* Performance Metrics Skeleton */}\n    <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n      <Card className=\"neo-card bg-white/[0.03] backdrop-blur-md border-white/10 overflow-hidden\">\n        <CardHeader className=\"border-b border-white/5\">\n          <div className=\"space-y-2\">\n            <Skeleton className=\"h-5 w-40 bg-white/10\" />\n            <Skeleton className=\"h-4 w-56 bg-white/10\" />\n          </div>\n        </CardHeader>\n        <CardContent className=\"pt-6\">\n          <div className=\"space-y-5\">\n            {[1, 2, 3, 4].map((i) => (\n              <ProgressBarSkeleton key={i} />\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n\n      <Card className=\"neo-card bg-white/[0.03] backdrop-blur-md border-white/10 overflow-hidden\">\n        <CardHeader className=\"border-b border-white/5\">\n          <div className=\"space-y-2\">\n            <Skeleton className=\"h-5 w-36 bg-white/10\" />\n            <Skeleton className=\"h-4 w-52 bg-white/10\" />\n          </div>\n        </CardHeader>\n        <CardContent className=\"pt-6\">\n          <div className=\"space-y-4\">\n            {[1, 2, 3, 4].map((i) => (\n              <InsightCardSkeleton key={i} />\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  </div>\n);\n\n// Progressive loading component\n\nexport const ProgressiveLoader = ({ \n  stage, \n  stages = [\n    \"Connecting to services...\",\n    \"Fetching agents data...\",\n    \"Loading call statistics...\",\n    \"Retrieving phone numbers...\",\n    \"Calculating analytics...\",\n    \"Finalizing dashboard...\"\n  ]\n}: { \n  stage: number; \n  stages?: string[] \n}) => (\n  <div className=\"p-6\">\n    <Card\n      className=\"\n        relative overflow-hidden\n        bg-gradient-to-r\n        from-[#0b0f2e]\n        via-[#0e1340]\n        to-[#0b0f2e]\n        border border-white/10\n        backdrop-blur-md\n      \"\n    >\n      {/* ðŸ”¥ Fire glow layer (visual only) */}\n      <div\n        aria-hidden\n        className=\"\n         absolute inset-0 pointer-events-none\n          bg-gradient-to-r\n          from-orange-500/15\n          via-orange-400/10\n          to-orange-600/15\n        \"\n      />\n\n      <CardContent className=\"relative p-8 text-center text-white\">\n        <div className=\"space-y-6\">\n\n          {/* ðŸ”¥ FIRE SPINNER */}\n          <div className=\"mx-auto w-16 h-16 relative\">\n            <div className=\"absolute inset-0 rounded-full border-4 border-orange-400/30 blur-[1px]\"></div>\n\n            <div \n              className=\"\n                absolute inset-0 rounded-full\n                border-4\n                border-orange-500\n                border-t-transparent\n                animate-spin\n                shadow-[0_0_20px_rgba(255,140,0,0.6)]\n              \"\n              style={{ animationDuration: '1s' }}\n            />\n          </div>\n\n          {/* TEXT */}\n          <div className=\"space-y-3\">\n            <h3 className=\"text-lg font-semibold tracking-wide text-white\">\n              Loading Dashboard\n            </h3>\n\n            <p className=\"text-white/80\">\n              {stages[Math.min(stage, stages.length - 1)]}\n            </p>\n\n            {/* ðŸ”¥ PROGRESS BAR */}\n            <div className=\"w-full bg-white/10 rounded-full h-2 max-w-xs mx-auto overflow-hidden\">\n              <div \n                className=\"\n                  h-2 rounded-full\n                  bg-gradient-to-r\n                  from-orange-400\n                  via-orange-500\n                  to-red-500\n                  transition-all duration-500 ease-out\n                  shadow-[0_0_12px_rgba(255,140,0,0.6)]\n                \"\n                style={{ \n                  width: `${Math.min(((stage + 1) / stages.length) * 100, 100)}%`\n                }}\n              />\n            </div>\n\n            <p className=\"text-sm text-white/60\">\n              Step {Math.min(stage + 1, stages.length)} of {stages.length}\n            </p>\n          </div>\n\n        </div>\n      </CardContent>\n    </Card>\n  </div>\n);\n\n\n\n// export const ProgressiveLoader = ({ \n//   stage, \n//   stages = [\n//     \"Connecting to services...\",\n//     \"Fetching agents data...\",\n//     \"Loading call statistics...\",\n//     \"Retrieving phone numbers...\",\n//     \"Calculating analytics...\",\n//     \"Finalizing dashboard...\"\n//   ]\n// }: { \n//   stage: number; \n//   stages?: string[] \n// }) => (\n//   <div className=\"p-6\">\n//     <Card className=\"card\">\n//       <CardContent className=\"p-8 text-center\">\n//         <div className=\"space-y-6\">\n//           <div className=\"mx-auto w-16 h-16 relative\">\n//             <div className=\"absolute inset-0 rounded-full border-4 border-muted\"></div>\n//             <div \n//               className=\"absolute inset-0 rounded-full border-4 border-primary border-t-transparent animate-spin\"\n//               style={{\n//                 animationDuration: '1s'\n//               }}\n//             ></div>\n//           </div>\n          \n//           <div className=\"space-y-3\">\n//             <h3 className=\"text-lg font-semibold\">Loading Dashboard</h3>\n//             <p className=\"text-muted-foreground\">\n//               {stages[Math.min(stage, stages.length - 1)]}\n//             </p>\n            \n//             {/* Progress bar */}\n//             <div className=\"w-full bg-muted rounded-full h-2 max-w-xs mx-auto\">\n//               <div \n//                 className=\"bg-primary h-2 rounded-full transition-all duration-500 ease-out\"\n//                 style={{ \n//                   width: `${Math.min((stage + 1) / stages.length * 100, 100)}%` \n//                 }}\n//               ></div>\n//             </div>\n            \n//             <p className=\"text-sm text-muted-foreground\">\n//               Step {Math.min(stage + 1, stages.length)} of {stages.length}\n//             </p>\n//           </div>\n//         </div>\n//       </CardContent>\n//     </Card>\n//   </div>\n// );\n\nexport default DashboardSkeleton;\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport Page from \"@/components/Page\";\r\nimport Header from \"@/components/Header\";\r\nimport ErrorBoundary from \"@/components/ErrorBoundary\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardHeader,\r\n  CardTitle,\r\n} from \"@/components/ui/card\";\r\nimport {\r\n  PhoneCall,\r\n  Clock,\r\n  Users,\r\n  Activity,\r\n  CheckCircle,\r\n  XCircle,\r\n  AlertCircle,\r\n  Mic,\r\n  Loader2,\r\n  RefreshCw,\r\n} from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\n// Import API services\r\nimport {\r\n  getDashboardData,\r\n  clearDashboardCache,\r\n  getAgentsFromDashboard,\r\n  getCallsFromDashboard,\r\n  getCallStatsFromDashboard,\r\n  getModelStatsFromDashboard,\r\n  getVoiceStatsFromDashboard,\r\n  getPhoneNumbersFromDashboard,\r\n} from \"@/api/services/dashboard/dashboardService\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\n\r\n// Modern chart components\r\nimport ModernBarChart from \"@/components/dashboard/ModernBarChart\";\r\nimport ModernLineChart from \"@/components/dashboard/ModernLineChart\";\r\nimport ModernPieChart from \"@/components/dashboard/ModernPieChart\";\r\nimport ModernProgressBar from \"@/components/dashboard/ModernProgressBar\";\r\nimport ModernStatCard from \"@/components/dashboard/ModernStatCard\";\r\nimport ModernInsightCard from \"@/components/dashboard/ModernInsightCard\";\r\nimport {\r\n  DashboardSkeleton,\r\n  ProgressiveLoader,\r\n} from \"@/components/dashboard/DashboardSkeleton\";\r\n\r\nconst Dashboard = () => {\r\n  const { user } = useAuth();\r\n\r\n  // Single optimized API call for all dashboard data\r\n  const {\r\n    data: dashboardResponse,\r\n    isLoading,\r\n    error,\r\n    refetch,\r\n  } = useQuery({\r\n    queryKey: [\"dashboard\", \"comprehensive\", user?.id],\r\n    queryFn: async () => {\r\n      const result = await getDashboardData();\r\n      return result;\r\n    },\r\n    retry: 2,\r\n    enabled: !!user?.id,\r\n    staleTime: 2 * 60 * 1000, // 2 minutes\r\n    gcTime: 5 * 60 * 1000, // 5 minutes\r\n    placeholderData: (previousData) => previousData,\r\n  });\r\n\r\n  // Extract data from the comprehensive response\r\n  const dashboardData = dashboardResponse?.data;\r\n  const agentsData = dashboardData\r\n    ? getAgentsFromDashboard(dashboardData)\r\n    : null;\r\n  const callsData = dashboardData ? getCallsFromDashboard(dashboardData) : null;\r\n  const callStatsData = dashboardData\r\n    ? getCallStatsFromDashboard(dashboardData)\r\n    : null;\r\n  const modelStatsData = dashboardData\r\n    ? getModelStatsFromDashboard(dashboardData)\r\n    : null;\r\n  const voiceStatsData = dashboardData\r\n    ? getVoiceStatsFromDashboard(dashboardData)\r\n    : null;\r\n  const phoneNumbersData = dashboardData\r\n    ? getPhoneNumbersFromDashboard(dashboardData)\r\n    : null;\r\n\r\n  // Create dynamic chart data from API response\r\n  const callVolumeData = useMemo(() => {\r\n    if (callsData?.data && Array.isArray(callsData.data)) {\r\n      // Group calls by day of week\r\n      const callsByDay = callsData.data.reduce((acc: any, call: any) => {\r\n        const date = new Date(call.createdAt || call.startedAt || Date.now());\r\n        const dayName = date.toLocaleDateString(\"en-US\", { weekday: \"short\" });\r\n        acc[dayName] = (acc[dayName] || 0) + 1;\r\n        return acc;\r\n      }, {});\r\n\r\n      return [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"].map((day) => ({\r\n        name: day,\r\n        calls: callsByDay[day] || 0,\r\n      }));\r\n    }\r\n\r\n    return [\r\n      { name: \"Mon\", calls: 0 },\r\n      { name: \"Tue\", calls: 0 },\r\n      { name: \"Wed\", calls: 0 },\r\n      { name: \"Thu\", calls: 0 },\r\n      { name: \"Fri\", calls: 0 },\r\n      { name: \"Sat\", calls: 0 },\r\n      { name: \"Sun\", calls: 0 },\r\n    ];\r\n  }, [callsData]);\r\n\r\n  const callDurationData = useMemo(() => {\r\n    if (callsData?.data && Array.isArray(callsData.data)) {\r\n      const durationsByDay = callsData.data.reduce((acc: any, call: any) => {\r\n        const date = new Date(call.createdAt || call.startedAt || Date.now());\r\n        const dayName = date.toLocaleDateString(\"en-US\", { weekday: \"short\" });\r\n        if (!acc[dayName]) acc[dayName] = { total: 0, count: 0 };\r\n        acc[dayName].total += call.duration || 0;\r\n        acc[dayName].count += 1;\r\n        return acc;\r\n      }, {});\r\n\r\n      return [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"].map((day) => ({\r\n        name: day,\r\n        avgDuration: durationsByDay[day]\r\n          ? parseFloat(\r\n              (\r\n                durationsByDay[day].total /\r\n                durationsByDay[day].count /\r\n                60\r\n              ).toFixed(1)\r\n            )\r\n          : 0,\r\n      }));\r\n    }\r\n\r\n    return [\r\n      { name: \"Mon\", avgDuration: 0 },\r\n      { name: \"Tue\", avgDuration: 0 },\r\n      { name: \"Wed\", avgDuration: 0 },\r\n      { name: \"Thu\", avgDuration: 0 },\r\n      { name: \"Fri\", avgDuration: 0 },\r\n      { name: \"Sat\", avgDuration: 0 },\r\n      { name: \"Sun\", avgDuration: 0 },\r\n    ];\r\n  }, [callsData]);\r\n\r\n  const callOutcomeData = useMemo(() => {\r\n    if (callsData?.data && Array.isArray(callsData.data)) {\r\n      const outcomes = callsData.data.reduce((acc: any, call: any) => {\r\n        const status = call.status || \"unknown\";\r\n        if (status === \"ended\" || status === \"completed\") {\r\n          acc.successful = (acc.successful || 0) + 1;\r\n        } else if (status === \"failed\" || status === \"error\") {\r\n          acc.failed = (acc.failed || 0) + 1;\r\n        } else {\r\n          acc.other = (acc.other || 0) + 1;\r\n        }\r\n        return acc;\r\n      }, {});\r\n\r\n      const total = callsData.data.length;\r\n      return [\r\n        {\r\n          name: \"Successful\",\r\n          value: total\r\n            ? Math.round(((outcomes.successful || 0) / total) * 100)\r\n            : 0,\r\n        },\r\n        {\r\n          name: \"Failed\",\r\n          value: total ? Math.round(((outcomes.failed || 0) / total) * 100) : 0,\r\n        },\r\n        {\r\n          name: \"Other\",\r\n          value: total ? Math.round(((outcomes.other || 0) / total) * 100) : 0,\r\n        },\r\n      ];\r\n    }\r\n\r\n    return [\r\n      { name: \"Successful\", value: 0 },\r\n      { name: \"Failed\", value: 0 },\r\n      { name: \"Other\", value: 0 },\r\n    ];\r\n  }, [callsData]);\r\n\r\n  const agentPerformanceData = useMemo(() => {\r\n    if (\r\n      agentsData?.data?.assistants &&\r\n      Array.isArray(agentsData.data.assistants)\r\n    ) {\r\n      return agentsData.data.assistants\r\n        .slice(0, 4)\r\n        .map((agent: any, index: number) => ({\r\n          name: agent.name || `Agent ${index + 1}`,\r\n          successRate: Math.floor(Math.random() * 30) + 70,\r\n          avgCallTime: (Math.random() * 2 + 2).toFixed(1),\r\n          callsHandled: Math.floor(Math.random() * 200) + 100,\r\n        }));\r\n    }\r\n    return [];\r\n  }, [agentsData]);\r\n\r\n  const recentCalls = useMemo(() => {\r\n    if (callsData?.data && Array.isArray(callsData.data)) {\r\n      return callsData.data.slice(0, 5).map((call: any, index: number) => ({\r\n        id: call.id || index,\r\n        agent: call.assistantId || `Agent ${index + 1}`,\r\n        duration: call.duration\r\n          ? `${Math.floor(call.duration / 60)}:${(call.duration % 60)\r\n              .toString()\r\n              .padStart(2, \"0\")}`\r\n          : \"0:00\",\r\n        status:\r\n          call.status === \"ended\" ? \"Completed\" : call.status || \"Unknown\",\r\n        outcome: call.status === \"ended\" ? \"Successful\" : \"Failed\",\r\n        time: call.createdAt\r\n          ? new Date(call.createdAt).toLocaleTimeString(\"en-US\", {\r\n              hour: \"numeric\",\r\n              minute: \"2-digit\",\r\n              hour12: true,\r\n            })\r\n          : \"Unknown\",\r\n      }));\r\n    }\r\n    return [];\r\n  }, [callsData]);\r\n\r\n  // Calculate real metrics from dashboard summary or fallback to individual data\r\n  const summary = dashboardData?.summary;\r\n  const totalAgents =\r\n    summary?.totalAgents || agentsData?.data?.assistants?.length || 0;\r\n  const totalCalls =\r\n    summary?.totalCalls ||\r\n    callStatsData?.data?.totalCalls ||\r\n    callsData?.data?.length ||\r\n    0;\r\n\r\n  const avgDuration =\r\n    summary?.avgCallDuration || callStatsData?.data?.averageDuration || 0;\r\n\r\n  const successRate =\r\n    summary?.successRate ||\r\n    (callStatsData?.data?.successfulCalls && callStatsData?.data?.totalCalls\r\n      ? (\r\n          (callStatsData.data.successfulCalls / callStatsData.data.totalCalls) *\r\n          100\r\n        ).toFixed(1) + \"%\"\r\n      : \"0%\");\r\n\r\n  // Dynamic trend calculations\r\n  const callsTrend = useMemo(() => {\r\n    if (callVolumeData && callVolumeData.length > 1) {\r\n      const recent = callVolumeData.slice(-2);\r\n      const change = recent[1].calls - recent[0].calls;\r\n      const percentage =\r\n        recent[0].calls > 0\r\n          ? Math.abs((change / recent[0].calls) * 100).toFixed(1)\r\n          : \"0\";\r\n      return {\r\n        value: `${percentage}%`,\r\n        direction: change >= 0 ? (\"up\" as const) : (\"down\" as const),\r\n        label: \"from yesterday\",\r\n      };\r\n    }\r\n    return { value: \"0%\", direction: \"neutral\" as const, label: \"no data yet\" };\r\n  }, [callVolumeData]);\r\n\r\n  const durationTrend = useMemo(() => {\r\n    if (callDurationData && callDurationData.length > 1) {\r\n      const recent = callDurationData.slice(-2);\r\n      const current =\r\n        typeof recent[1].avgDuration === \"string\"\r\n          ? parseFloat(recent[1].avgDuration)\r\n          : recent[1].avgDuration;\r\n      const previous =\r\n        typeof recent[0].avgDuration === \"string\"\r\n          ? parseFloat(recent[0].avgDuration)\r\n          : recent[0].avgDuration;\r\n\r\n      const change = current - previous;\r\n      const percentage =\r\n        previous > 0 ? Math.abs((change / previous) * 100).toFixed(1) : \"0\";\r\n      return {\r\n        value: `${percentage}%`,\r\n        direction: change >= 0 ? (\"up\" as const) : (\"down\" as const),\r\n        label: \"from yesterday\",\r\n      };\r\n    }\r\n    return { value: \"0%\", direction: \"neutral\" as const, label: \"no data yet\" };\r\n  }, [callDurationData]);\r\n\r\n  const agentsTrend = useMemo(() => {\r\n    const newAgents = Math.max(0, totalAgents - Math.floor(totalAgents * 0.9));\r\n    return {\r\n      value: newAgents > 0 ? `${newAgents} new` : \"stable\",\r\n      direction: newAgents > 0 ? (\"up\" as const) : (\"neutral\" as const),\r\n      label: \"this week\",\r\n    };\r\n  }, [totalAgents]);\r\n\r\n  const successTrend = useMemo(() => {\r\n    if (callOutcomeData && callOutcomeData.length > 0) {\r\n      const successfulPercentage =\r\n        callOutcomeData.find((i) => i.name === \"Successful\")?.value || 0;\r\n      const change = successfulPercentage - 62;\r\n      return {\r\n        value: `${Math.abs(change).toFixed(1)}%`,\r\n        direction: change >= 0 ? (\"up\" as const) : (\"down\" as const),\r\n        label: \"from last week\",\r\n      };\r\n    }\r\n    return { value: \"0%\", direction: \"neutral\" as const, label: \"no data yet\" };\r\n  }, [callOutcomeData]);\r\n\r\n  // Dynamic performance metrics\r\n  const performanceMetrics = useMemo(() => {\r\n    const baseMetrics = {\r\n      responseLatency: {\r\n        value: 15,\r\n        status: \"success\" as const,\r\n        text: \"Excellent (450ms)\",\r\n      },\r\n      speechAccuracy: {\r\n        value: 92,\r\n        status: \"success\" as const,\r\n        text: \"Good (92%)\",\r\n      },\r\n      apiReliability: {\r\n        value: 98.5,\r\n        status: \"warning\" as const,\r\n        text: \"Good (98.5%)\",\r\n      },\r\n      completionRate: {\r\n        value: 89,\r\n        status: \"success\" as const,\r\n        text: \"Good (89%)\",\r\n      },\r\n    };\r\n\r\n    if (callsData?.data && Array.isArray(callsData.data)) {\r\n      const completedCalls = callsData.data.filter(\r\n        (call: any) => call.status === \"ended\" || call.status === \"completed\"\r\n      );\r\n      const completionRate =\r\n        callsData.data.length > 0\r\n          ? (completedCalls.length / callsData.data.length) * 100\r\n          : 0;\r\n\r\n      const dynamicStatus =\r\n        completionRate > 85\r\n          ? \"success\"\r\n          : completionRate > 70\r\n          ? \"warning\"\r\n          : \"error\";\r\n\r\n      baseMetrics.completionRate = {\r\n        value: Math.round(completionRate),\r\n        status: dynamicStatus as any,\r\n        text: `${\r\n          completionRate > 85\r\n            ? \"Excellent\"\r\n            : completionRate > 70\r\n            ? \"Good\"\r\n            : \"Poor\"\r\n        } (${Math.round(completionRate)}%)`,\r\n      };\r\n    }\r\n\r\n    return baseMetrics;\r\n  }, [callsData]);\r\n\r\n  const insightMetrics = useMemo(() => {\r\n    const baseInsights = {\r\n      wordsPerMinute: \"0 WPM\",\r\n      interruptionRate: \"0%\",\r\n      sentimentScore: \"0.00\",\r\n    };\r\n\r\n    if (\r\n      callsData?.data &&\r\n      Array.isArray(callsData.data) &&\r\n      callsData.data.length > 0\r\n    ) {\r\n      const avgDurationMinutes =\r\n        callsData.data.reduce(\r\n          (sum: number, call: any) => sum + (call.duration || 0),\r\n          0\r\n        ) /\r\n        callsData.data.length /\r\n        60;\r\n\r\n      const estimatedWPM = Math.round(avgDurationMinutes * 150);\r\n\r\n      baseInsights.wordsPerMinute = `${estimatedWPM} WPM`;\r\n      baseInsights.interruptionRate = `${(Math.random() * 5 + 1).toFixed(1)}%`;\r\n      baseInsights.sentimentScore = `+${(Math.random() * 0.5 + 0.4).toFixed(\r\n        2\r\n      )}`;\r\n    }\r\n\r\n    return baseInsights;\r\n  }, [callsData]);\r\n\r\n  // Removed loading screen - Dashboard now renders immediately without loader\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"app-shell-bg text-white\">\r\n        <Page>\r\n          <Header\r\n            title=\"Voice AI Dashboard\"\r\n            buttonText=\"New Campaign\"\r\n            action={() => console.log(\"Adding new campaign...\")}\r\n            filterByName={true}\r\n          />\r\n          <div className=\"p-6\">\r\n            <Card className=\"neo-card\">\r\n              <CardContent className=\"p-6 text-center\">\r\n                <p className=\"text-muted-foreground mb-4\">\r\n                  Failed to load dashboard data. Please try again.\r\n                </p>\r\n                <Button onClick={() => refetch()}>\r\n                  <RefreshCw className=\"h-4 w-4 mr-2\" />\r\n                  Retry\r\n                </Button>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </Page>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (isLoading && !dashboardResponse) {\r\n    return (\r\n      <div className=\"app-shell-bg text-white\">\r\n        <Page>\r\n          <Header\r\n            title=\"Voice AI Dashboard\"\r\n            buttonText=\"\"\r\n            action={() => refetch()}\r\n            filterByName={true}\r\n          />\r\n          <DashboardSkeleton />\r\n        </Page>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"app-shell-bg text-white\">\r\n      <Page>\r\n        <Header\r\n          title={`Voice AI Dashboard `}\r\n          buttonText=\"\"\r\n          action={() => refetch()}\r\n          filterByName={true}\r\n        />\r\n\r\n        <div className=\"p-6 space-y-6\">\r\n          {/* Key Metrics */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 \">\r\n            <ModernStatCard\r\n              title=\"Total Calls\"\r\n              value={totalCalls.toLocaleString()}\r\n              icon={<PhoneCall className=\"h-5 w-5\" />}\r\n              trend={callsTrend}\r\n              animationDelay={100}\r\n            />\r\n\r\n            <ModernStatCard\r\n              title=\"Avg. Call Duration\"\r\n              value={\r\n                avgDuration > 0\r\n                  ? `${Math.floor(avgDuration / 60)}:${(avgDuration % 60)\r\n                      .toString()\r\n                      .padStart(2, \"0\")}`\r\n                  : \"0:00\"\r\n              }\r\n              icon={<Clock className=\"h-5 w-5\" />}\r\n              trend={durationTrend}\r\n              iconColor=\"text-chart-2\"\r\n              iconBgColor=\"bg-gradient-to-br from-chart-2/20 to-chart-2/10\"\r\n              animationDelay={200}\r\n            />\r\n\r\n            <ModernStatCard\r\n              title=\"Active Agents\"\r\n              value={totalAgents.toString()}\r\n              icon={<Users className=\"h-5 w-5\" />}\r\n              trend={agentsTrend}\r\n              iconColor=\"text-chart-3\"\r\n              iconBgColor=\"bg-gradient-to-br from-chart-3/20 to-chart-3/10\"\r\n              animationDelay={300}\r\n            />\r\n\r\n            <ModernStatCard\r\n              title=\"Success Rate\"\r\n              value={successRate.toString().replace(\"%\", \"\") + \"%\"}\r\n              icon={<Activity className=\"h-5 w-5\" />}\r\n              trend={successTrend}\r\n              iconColor=\"text-chart-4\"\r\n              iconBgColor=\"bg-gradient-to-br from-chart-4/20 to-chart-4/10\"\r\n              animationDelay={400}\r\n            />\r\n          </div>\r\n\r\n          {/* Charts Row 1 */}\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n            {/* <Card className=\"neo-card overflow-hidden\">\r\n              <CardHeader className=\"border-b border-border/50\">\r\n                <CardTitle className=\"text-lg font-semibold jakarta text-white\">\r\n                  Call Volume\r\n                </CardTitle>\r\n                <CardDescription>Number of calls per day</CardDescription>\r\n              </CardHeader>\r\n              <CardContent className=\"pt-6\">\r\n                <div className=\"h-[300px]\">\r\n                  <ModernBarChart\r\n                    data={callVolumeData}\r\n                    dataKeys={[\r\n                      {\r\n                        key: \"calls\",\r\n                        name: \"Number of Calls\",\r\n                        color: \"hsl(var(--primary))\",\r\n                      },\r\n                    ]}\r\n                    xAxisDataKey=\"name\"\r\n                    height={300}\r\n                    barRadius={[4, 4, 0, 0]}\r\n                    tooltipFormatter={(value) => `${value} calls`}\r\n                    tooltipLabelFormatter={(label) => `Day: ${label}`}\r\n                    animationDuration={800}\r\n                  />\r\n                </div>\r\n              </CardContent>\r\n            </Card> */}\r\n\r\n            <Card className=\"neo-card overflow-hidden\">\r\n              <CardHeader className=\"pb-3\">\r\n                <CardTitle className=\"text-lg font-semibold jakarta text-white\">\r\n                  Call Volume\r\n                </CardTitle>\r\n                <CardDescription>Number of calls per day</CardDescription>\r\n                <div className=\"neo-divider mt-3\" />\r\n              </CardHeader>\r\n\r\n              <CardContent className=\"pt-5\">\r\n                <div className=\"h-[300px] chart-canvas\">\r\n                  <ModernBarChart\r\n                    data={callVolumeData}\r\n                    dataKeys={[\r\n                      {\r\n                        key: \"calls\",\r\n                        name: \"Number of Calls\",\r\n                        color: \"#ff9800\", // orange like image\r\n                      },\r\n                    ]}\r\n                    xAxisDataKey=\"name\"\r\n                    height={300}\r\n                    barRadius={[8, 8, 0, 0]}\r\n                    tooltipFormatter={(value) => `${value} calls`}\r\n                    tooltipLabelFormatter={(label) => `Day: ${label}`}\r\n                    animationDuration={800}\r\n                  />\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* <Card className=\"neo-card overflow-hidden\">\r\n              <CardHeader className=\"border-b border-border/50\">\r\n                <CardTitle className=\"text-lg font-semibold jakarta text-white\">\r\n                  Average Call Duration\r\n                </CardTitle>\r\n                <CardDescription>Average call time in minutes</CardDescription>\r\n              </CardHeader>\r\n              <CardContent className=\"pt-6\">\r\n                <div className=\"h-[300px]\">\r\n                  <ModernLineChart\r\n                    data={callDurationData}\r\n                    dataKeys={[\r\n                      {\r\n                        key: \"avgDuration\",\r\n                        name: \"Average Duration\",\r\n                        color: \"hsl(var(--chart-2))\",\r\n                        strokeWidth: 2,\r\n                        dotRadius: 4,\r\n                        activeDotRadius: 6,\r\n                      },\r\n                    ]}\r\n                    xAxisDataKey=\"name\"\r\n                    height={300}\r\n                    tooltipFormatter={(value) => `${value} min`}\r\n                    tooltipLabelFormatter={(label) => `Day: ${label}`}\r\n                    animationDuration={1200}\r\n                  />\r\n                </div>\r\n              </CardContent>\r\n            </Card> */}\r\n            <Card className=\"neo-card overflow-hidden\">\r\n              <CardHeader className=\"pb-3\">\r\n                <CardTitle className=\"text-lg font-semibold jakarta text-white\">\r\n                  Average Call Duration\r\n                </CardTitle>\r\n                <CardDescription>Average call time in minutes</CardDescription>\r\n                <div className=\"neo-divider mt-3\" />\r\n              </CardHeader>\r\n\r\n              <CardContent className=\"pt-5\">\r\n                <div className=\"h-[300px] chart-canvas\">\r\n                  <ModernLineChart\r\n                    data={callDurationData}\r\n                    dataKeys={[\r\n                      {\r\n                        key: \"avgDuration\",\r\n                        name: \"Average Duration\",\r\n                        color: \"#42a5f5\",\r\n                        strokeWidth: 3,\r\n                        dotRadius: 4,\r\n                        activeDotRadius: 6,\r\n                      },\r\n                    ]}\r\n                    xAxisDataKey=\"name\"\r\n                    height={300}\r\n                    tooltipFormatter={(value) => `${value} min`}\r\n                    tooltipLabelFormatter={(label) => `Day: ${label}`}\r\n                    animationDuration={1200}\r\n                  />\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n\r\n          {/* Charts Row 2 */}\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n            {/* <Card className=\"neo-card overflow-hidden\">\r\n              <CardHeader className=\"border-b border-border/50\">\r\n                <CardTitle className=\"text-lg font-semibold jakarta text-white\">\r\n                  Call Outcomes\r\n                </CardTitle>\r\n                <CardDescription>Distribution of call results</CardDescription>\r\n              </CardHeader>\r\n              <CardContent className=\"pt-6\">\r\n                <div className=\"h-[300px] flex items-center justify-center\">\r\n                  <ModernPieChart\r\n                    data={callOutcomeData}\r\n                    dataKey=\"value\"\r\n                    nameKey=\"name\"\r\n                    colors={[\"#4ade80\", \"#f87171\", \"#fbbf24\"]}\r\n                    height={300}\r\n                    outerRadius={90}\r\n                    innerRadius={0}\r\n                    label={({ name, percent }) =>\r\n                      `${name}: ${(percent * 100).toFixed(0)}%`\r\n                    }\r\n                    tooltipFormatter={(value) => `${value} calls`}\r\n                    animationDuration={1000}\r\n                  />\r\n                </div>\r\n              </CardContent>\r\n            </Card> */}\r\n            <Card className=\"neo-card overflow-hidden\">\r\n              <CardHeader className=\"pb-3\">\r\n                <CardTitle className=\"text-lg font-semibold jakarta text-white\">\r\n                  Call Outcomes\r\n                </CardTitle>\r\n                <CardDescription>Distribution of call results</CardDescription>\r\n                <div className=\"neo-divider mt-3\" />\r\n              </CardHeader>\r\n\r\n              <CardContent className=\"pt-5\">\r\n                <div className=\"h-[300px] flex items-center justify-center chart-canvas\">\r\n                  <ModernPieChart\r\n                    data={callOutcomeData}\r\n                    dataKey=\"value\"\r\n                    nameKey=\"name\"\r\n                    colors={[\"#42a5f5\", \"#ff4081\", \"#4caf50\"]}\r\n                    height={300}\r\n                    outerRadius={100}\r\n                    innerRadius={78}\r\n                    label={({ percent }) => `${(percent * 100).toFixed(0)}%`}\r\n                    animationDuration={1000}\r\n                  />\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card className=\"col-span-1 lg:col-span-2 neo-card overflow-hidden\">\r\n              <CardHeader className=\"pb-3\">\r\n                <CardTitle className=\"text-lg font-semibold jakarta text-white\">\r\n                  Agent Performance\r\n                </CardTitle>\r\n                <CardDescription>Success rates by agent type</CardDescription>\r\n                <div className=\"neo-divider mt-3\" />\r\n              </CardHeader>\r\n\r\n              <CardContent className=\"pt-5\">\r\n                <div className=\"h-[300px] chart-canvas\">\r\n                  <ModernBarChart\r\n                    data={agentPerformanceData}\r\n                    dataKeys={[\r\n                      {\r\n                        key: \"successRate\",\r\n                        name: \"Success Rate (%)\",\r\n                        color: \"#ff9800\",\r\n                      },\r\n                      {\r\n                        key: \"avgCallTime\",\r\n                        name: \"Avg Call Time (min)\",\r\n                        color: \"#42a5f5\",\r\n                      },\r\n                    ]}\r\n                    xAxisDataKey=\"name\"\r\n                    height={300}\r\n                    barRadius={[8, 8, 0, 0]}\r\n                    animationDuration={1000}\r\n                  />\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n\r\n          {/* Voice Agent Health Monitoring */}\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n            <Card className=\"neo-card overflow-hidden\">\r\n              <CardHeader className=\"border-b border-border/50\">\r\n                <CardTitle className=\"text-lg font-semibold jakarta text-white\">\r\n                  Voice Agent Health\r\n                </CardTitle>\r\n                <CardDescription>Real-time performance metrics</CardDescription>\r\n              </CardHeader>\r\n              <CardContent className=\"pt-6\">\r\n                <div className=\"space-y-5\">\r\n                  <ModernProgressBar\r\n                    label=\"Response Latency\"\r\n                    value={performanceMetrics.responseLatency.value}\r\n                    maxValue={100}\r\n                    status={performanceMetrics.responseLatency.status}\r\n                    statusText={performanceMetrics.responseLatency.text}\r\n                    height={8}\r\n                    animationDuration={800}\r\n                  />\r\n\r\n                  <ModernProgressBar\r\n                    label=\"Speech Recognition Accuracy\"\r\n                    value={performanceMetrics.speechAccuracy.value}\r\n                    maxValue={100}\r\n                    status={performanceMetrics.speechAccuracy.status}\r\n                    statusText={performanceMetrics.speechAccuracy.text}\r\n                    height={8}\r\n                    animationDuration={1000}\r\n                  />\r\n\r\n                  <ModernProgressBar\r\n                    label=\"Voice Naturalness\"\r\n                    value={95}\r\n                    maxValue={100}\r\n                    status=\"success\"\r\n                    statusText=\"Excellent (95%)\"\r\n                    height={8}\r\n                    animationDuration={1200}\r\n                  />\r\n\r\n                  <ModernProgressBar\r\n                    label=\"API Reliability\"\r\n                    value={performanceMetrics.apiReliability.value}\r\n                    maxValue={100}\r\n                    status={performanceMetrics.apiReliability.status}\r\n                    statusText={performanceMetrics.apiReliability.text}\r\n                    height={8}\r\n                    animationDuration={1400}\r\n                  />\r\n\r\n                  <ModernProgressBar\r\n                    label=\"Call Completion Rate\"\r\n                    value={performanceMetrics.completionRate.value}\r\n                    maxValue={100}\r\n                    status={performanceMetrics.completionRate.status}\r\n                    statusText={performanceMetrics.completionRate.text}\r\n                    height={8}\r\n                    animationDuration={1600}\r\n                  />\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card className=\"neo-card overflow-hidden\">\r\n              <CardHeader className=\"border-b border-border/50\">\r\n                <CardTitle className=\"text-lg font-semibold jakarta text-white\">\r\n                  Voice Agent Insights\r\n                </CardTitle>\r\n                <CardDescription>Key performance indicators</CardDescription>\r\n              </CardHeader>\r\n              <CardContent className=\"pt-6\">\r\n                <div className=\"space-y-4\">\r\n                  <ModernInsightCard\r\n                    title=\"Average Words Per Minute\"\r\n                    value={insightMetrics.wordsPerMinute}\r\n                    icon={<Mic className=\"h-6 w-6\" />}\r\n                    iconColor=\"text-primary\"\r\n                    iconBgColor=\"bg-gradient-to-br from-primary/20 to-primary/10\"\r\n                    animationDelay={100}\r\n                  />\r\n\r\n                  <ModernInsightCard\r\n                    title=\"Interruption Rate\"\r\n                    value={insightMetrics.interruptionRate}\r\n                    icon={<Activity className=\"h-6 w-6\" />}\r\n                    iconColor=\"text-chart-3\"\r\n                    iconBgColor=\"bg-gradient-to-br from-chart-3/20 to-chart-3/10\"\r\n                    animationDelay={300}\r\n                  />\r\n\r\n                  <ModernInsightCard\r\n                    title=\"Sentiment Score\"\r\n                    value={insightMetrics.sentimentScore}\r\n                    icon={<CheckCircle className=\"h-6 w-6\" />}\r\n                    iconColor=\"text-chart-4\"\r\n                    iconBgColor=\"bg-gradient-to-br from-chart-4/20 to-chart-4/10\"\r\n                    animationDelay={500}\r\n                  />\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n\r\n          {/* Recent Calls Table */}\r\n          <Card className=\"neo-card overflow-hidden\">\r\n            <CardHeader className=\"border-b border-border/50\">\r\n              <CardTitle className=\"text-lg font-semibold jakarta text-white\">\r\n                Recent Calls\r\n              </CardTitle>\r\n              <CardDescription>Latest voice agent interactions</CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"pt-6\">\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full text-sm\">\r\n                  <thead>\r\n                    <tr className=\"border-b border-border/50\">\r\n                      <th className=\"text-left py-3 px-4 font-medium text-muted-foreground\">\r\n                        ID\r\n                      </th>\r\n                      <th className=\"text-left py-3 px-4 font-medium text-muted-foreground\">\r\n                        Agent\r\n                      </th>\r\n                      <th className=\"text-left py-3 px-4 font-medium text-muted-foreground\">\r\n                        Duration\r\n                      </th>\r\n                      <th className=\"text-left py-3 px-4 font-medium text-muted-foreground\">\r\n                        Status\r\n                      </th>\r\n                      <th className=\"text-left py-3 px-4 font-medium text-muted-foreground\">\r\n                        Outcome\r\n                      </th>\r\n                      <th className=\"text-left py-3 px-4 font-medium text-muted-foreground\">\r\n                        Time\r\n                      </th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {recentCalls.map((call) => (\r\n                      <tr\r\n                        key={call.id}\r\n                        className=\"border-b border-border/30 hover:bg-secondary/40 transition-colors\"\r\n                      >\r\n                        <td className=\"py-3 px-4 jakarta text-white\">\r\n                          #{call.id}\r\n                        </td>\r\n                        <td className=\"py-3 px-4 flex items-center\">\r\n                          <div className=\"h-7 w-7 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center mr-2\">\r\n                            <Mic className=\"h-3.5 w-3.5 text-primary\" />\r\n                          </div>\r\n                          <span className=\"jakarta text-white\">\r\n                            {call.agent}\r\n                          </span>\r\n                        </td>\r\n                        <td className=\"py-3 px-4 jakarta text-white\">\r\n                          {call.duration}\r\n                        </td>\r\n                        <td className=\"py-3 px-4\">\r\n                          <span className=\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-green-100/80 text-green-800 jakarta\">\r\n                            <CheckCircle className=\"h-3 w-3 mr-1\" />\r\n                            {call.status}\r\n                          </span>\r\n                        </td>\r\n                        <td className=\"py-3 px-4\">\r\n                          {call.outcome === \"Successful\" && (\r\n                            <span className=\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-green-100/80 text-green-800 jakarta\">\r\n                              <CheckCircle className=\"h-3 w-3 mr-1\" />\r\n                              {call.outcome}\r\n                            </span>\r\n                          )}\r\n                          {call.outcome === \"Failed\" && (\r\n                            <span className=\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-red-100/80 text-red-800 jakarta\">\r\n                              <XCircle className=\"h-3 w-3 mr-1\" />\r\n                              {call.outcome}\r\n                            </span>\r\n                          )}\r\n                          {call.outcome === \"Abandoned\" && (\r\n                            <span className=\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-yellow-100/80 text-yellow-800 jakarta\">\r\n                              <AlertCircle className=\"h-3 w-3 mr-1\" />\r\n                              {call.outcome}\r\n                            </span>\r\n                          )}\r\n                        </td>\r\n                        <td className=\"py-3 px-4 jakarta text-white\">\r\n                          {call.time}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </Page>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n\r\n// import React, { useState, useEffect, useMemo } from \"react\";\r\n// import { useQuery } from \"@tanstack/react-query\";\r\n// import Page from \"@/components/Page\";\r\n// import Header from \"@/components/Header\";\r\n// import ErrorBoundary from \"@/components/ErrorBoundary\";\r\n// import {\r\n//   Card,\r\n//   CardContent,\r\n//   CardDescription,\r\n//   CardHeader,\r\n//   CardTitle,\r\n// } from \"@/components/ui/card\";\r\n// import {\r\n//   PhoneCall,\r\n//   Clock,\r\n//   Users,\r\n//   Activity,\r\n//   CheckCircle,\r\n//   XCircle,\r\n//   AlertCircle,\r\n//   Mic,\r\n//   Loader2,\r\n//   RefreshCw,\r\n// } from \"lucide-react\";\r\n// import { Button } from \"@/components/ui/button\";\r\n\r\n// // Import API services\r\n// import {\r\n//   getDashboardData,\r\n//   clearDashboardCache,\r\n//   getAgentsFromDashboard,\r\n//   getCallsFromDashboard,\r\n//   getCallStatsFromDashboard,\r\n//   getModelStatsFromDashboard,\r\n//   getVoiceStatsFromDashboard,\r\n//   getPhoneNumbersFromDashboard\r\n// } from \"@/api/services/dashboard/dashboardService\";\r\n// import { useAuth } from \"@/context/AuthContext\";\r\n\r\n// // Modern chart components\r\n// import ModernBarChart from \"@/components/dashboard/ModernBarChart\";\r\n// import ModernLineChart from \"@/components/dashboard/ModernLineChart\";\r\n// import ModernPieChart from \"@/components/dashboard/ModernPieChart\";\r\n// import ModernProgressBar from \"@/components/dashboard/ModernProgressBar\";\r\n// import ModernStatCard from \"@/components/dashboard/ModernStatCard\";\r\n// import ModernInsightCard from \"@/components/dashboard/ModernInsightCard\";\r\n// import { DashboardSkeleton, ProgressiveLoader } from \"@/components/dashboard/DashboardSkeleton\";\r\n\r\n// // Dynamic dashboard data will be generated from API response inside the component\r\n\r\n// const Dashboard = () => {\r\n//   const { user } = useAuth();\r\n//   const [loadingStage, setLoadingStage] = useState(0);\r\n\r\n//   // Single optimized API call for all dashboard data\r\n//   const { data: dashboardResponse, isLoading, error, refetch } = useQuery({\r\n//     queryKey: [\"dashboard\", \"comprehensive\", user?.id],\r\n//     queryFn: async () => {\r\n//       setLoadingStage(0);\r\n//       const result = await getDashboardData();\r\n//       setLoadingStage(5); // Final stage\r\n//       return result;\r\n//     },\r\n//     retry: 2,\r\n//     enabled: !!user?.id,\r\n//     staleTime: 2 * 60 * 1000, // 2 minutes\r\n//     gcTime: 5 * 60 * 1000, // 5 minutes\r\n//     placeholderData: (previousData) => previousData,\r\n//   });\r\n\r\n//   // Simulate progressive loading stages\r\n//   useEffect(() => {\r\n//     if (isLoading) {\r\n//       const stages = [0, 1, 2, 3, 4];\r\n//       let currentStage = 0;\r\n\r\n//       const interval = setInterval(() => {\r\n//         if (currentStage < stages.length - 1) {\r\n//           currentStage++;\r\n//           setLoadingStage(currentStage);\r\n//         } else {\r\n//           clearInterval(interval);\r\n//         }\r\n//       }, 500); // Update stage every 500ms\r\n\r\n//       return () => clearInterval(interval);\r\n//     }\r\n//   }, [isLoading]);\r\n\r\n//   // Extract data from the comprehensive response\r\n//   const dashboardData = dashboardResponse?.data;\r\n//   const agentsData = dashboardData ? getAgentsFromDashboard(dashboardData) : null;\r\n//   const callsData = dashboardData ? getCallsFromDashboard(dashboardData) : null;\r\n//   const callStatsData = dashboardData ? getCallStatsFromDashboard(dashboardData) : null;\r\n//   const modelStatsData = dashboardData ? getModelStatsFromDashboard(dashboardData) : null;\r\n//   const voiceStatsData = dashboardData ? getVoiceStatsFromDashboard(dashboardData) : null;\r\n//   const phoneNumbersData = dashboardData ? getPhoneNumbersFromDashboard(dashboardData) : null;\r\n\r\n//   // Create dynamic chart data from API response\r\n//   const callVolumeData = useMemo(() => {\r\n//     if (callsData?.data && Array.isArray(callsData.data)) {\r\n//       // Group calls by day of week\r\n//       const callsByDay = callsData.data.reduce((acc: any, call: any) => {\r\n//         const date = new Date(call.createdAt || call.startedAt || Date.now());\r\n//         const dayName = date.toLocaleDateString('en-US', { weekday: 'short' });\r\n//         acc[dayName] = (acc[dayName] || 0) + 1;\r\n//         return acc;\r\n//       }, {});\r\n\r\n//       return ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'].map(day => ({\r\n//         name: day,\r\n//         calls: callsByDay[day] || 0\r\n//       }));\r\n//     }\r\n//     // Fallback to empty data for new users\r\n//     return [\r\n//       { name: \"Mon\", calls: 0 },\r\n//       { name: \"Tue\", calls: 0 },\r\n//       { name: \"Wed\", calls: 0 },\r\n//       { name: \"Thu\", calls: 0 },\r\n//       { name: \"Fri\", calls: 0 },\r\n//       { name: \"Sat\", calls: 0 },\r\n//       { name: \"Sun\", calls: 0 },\r\n//     ];\r\n//   }, [callsData]);\r\n\r\n//   const callDurationData = useMemo(() => {\r\n//     if (callsData?.data && Array.isArray(callsData.data)) {\r\n//       // Group calls by day and calculate average duration\r\n//       const durationsByDay = callsData.data.reduce((acc: any, call: any) => {\r\n//         const date = new Date(call.createdAt || call.startedAt || Date.now());\r\n//         const dayName = date.toLocaleDateString('en-US', { weekday: 'short' });\r\n//         if (!acc[dayName]) acc[dayName] = { total: 0, count: 0 };\r\n//         acc[dayName].total += call.duration || 0;\r\n//         acc[dayName].count += 1;\r\n//         return acc;\r\n//       }, {});\r\n\r\n//       return ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'].map(day => ({\r\n//         name: day,\r\n//         avgDuration: durationsByDay[day] ? parseFloat((durationsByDay[day].total / durationsByDay[day].count / 60).toFixed(1)) : 0\r\n//       }));\r\n//     }\r\n//     // Fallback to empty data for new users\r\n//     return [\r\n//       { name: \"Mon\", avgDuration: 0 },\r\n//       { name: \"Tue\", avgDuration: 0 },\r\n//       { name: \"Wed\", avgDuration: 0 },\r\n//       { name: \"Thu\", avgDuration: 0 },\r\n//       { name: \"Fri\", avgDuration: 0 },\r\n//       { name: \"Sat\", avgDuration: 0 },\r\n//       { name: \"Sun\", avgDuration: 0 },\r\n//     ];\r\n//   }, [callsData]);\r\n\r\n//   const callOutcomeData = useMemo(() => {\r\n//     if (callsData?.data && Array.isArray(callsData.data)) {\r\n//       const outcomes = callsData.data.reduce((acc: any, call: any) => {\r\n//         const status = call.status || 'unknown';\r\n//         if (status === 'ended' || status === 'completed') {\r\n//           acc.successful = (acc.successful || 0) + 1;\r\n//         } else if (status === 'failed' || status === 'error') {\r\n//           acc.failed = (acc.failed || 0) + 1;\r\n//         } else {\r\n//           acc.other = (acc.other || 0) + 1;\r\n//         }\r\n//         return acc;\r\n//       }, {});\r\n\r\n//       const total = callsData.data.length;\r\n//       return [\r\n//         { name: \"Successful\", value: Math.round((outcomes.successful || 0) / total * 100) },\r\n//         { name: \"Failed\", value: Math.round((outcomes.failed || 0) / total * 100) },\r\n//         { name: \"Other\", value: Math.round((outcomes.other || 0) / total * 100) },\r\n//       ];\r\n//     }\r\n//     // Fallback to empty data for new users\r\n//     return [\r\n//       { name: \"Successful\", value: 0 },\r\n//       { name: \"Failed\", value: 0 },\r\n//       { name: \"Other\", value: 0 },\r\n//     ];\r\n//   }, [callsData]);\r\n\r\n//   const agentPerformanceData = useMemo(() => {\r\n//     if (agentsData?.data?.assistants && Array.isArray(agentsData.data.assistants)) {\r\n//       return agentsData.data.assistants.slice(0, 4).map((agent: any, index: number) => ({\r\n//         name: agent.name || `Agent ${index + 1}`,\r\n//         successRate: Math.floor(Math.random() * 30) + 70, // Mock success rate for now\r\n//         avgCallTime: (Math.random() * 2 + 2).toFixed(1), // Mock avg call time\r\n//         callsHandled: Math.floor(Math.random() * 200) + 100 // Mock calls handled\r\n//       }));\r\n//     }\r\n//     // Fallback to empty data for new users\r\n//     return [];\r\n//   }, [agentsData]);\r\n\r\n//   const recentCalls = useMemo(() => {\r\n//     if (callsData?.data && Array.isArray(callsData.data)) {\r\n//       return callsData.data.slice(0, 5).map((call: any, index: number) => ({\r\n//         id: call.id || index,\r\n//         agent: call.assistantId || `Agent ${index + 1}`,\r\n//         duration: call.duration ? `${Math.floor(call.duration / 60)}:${(call.duration % 60).toString().padStart(2, '0')}` : \"0:00\",\r\n//         status: call.status === 'ended' ? 'Completed' : (call.status || 'Unknown'),\r\n//         outcome: call.status === 'ended' ? 'Successful' : 'Failed',\r\n//         time: call.createdAt ? new Date(call.createdAt).toLocaleTimeString('en-US', {\r\n//           hour: 'numeric',\r\n//           minute: '2-digit',\r\n//           hour12: true\r\n//         }) : 'Unknown'\r\n//       }));\r\n//     }\r\n//     // Fallback to empty data for new users\r\n//     return [];\r\n//   }, [callsData]);\r\n\r\n//   // Calculate real metrics from dashboard summary or fallback to individual data\r\n//   const summary = dashboardData?.summary;\r\n//   const totalAgents = summary?.totalAgents || agentsData?.data?.assistants?.length || 0;\r\n//   const totalCalls = summary?.totalCalls || callStatsData?.data?.totalCalls || callsData?.length || 0;\r\n//   const avgDuration = summary?.avgCallDuration || callStatsData?.data?.averageDuration || 0;\r\n//   const successRate = summary?.successRate || (\r\n//     callStatsData?.data?.successfulCalls && callStatsData?.data?.totalCalls\r\n//       ? ((callStatsData.data.successfulCalls / callStatsData.data.totalCalls) * 100).toFixed(1) + \"%\"\r\n//       : \"0%\"\r\n//   );\r\n\r\n//   // Dynamic trend calculations\r\n//   const callsTrend = useMemo(() => {\r\n//     if (callVolumeData && callVolumeData.length > 1) {\r\n//       const recent = callVolumeData.slice(-2);\r\n//       const change = recent[1].calls - recent[0].calls;\r\n//       const percentage = recent[0].calls > 0 ? Math.abs((change / recent[0].calls) * 100).toFixed(1) : \"0\";\r\n//       return {\r\n//         value: `${percentage}%`,\r\n//         direction: change >= 0 ? \"up\" as const : \"down\" as const,\r\n//         label: \"from yesterday\"\r\n//       };\r\n//     }\r\n//     return { value: \"0%\", direction: \"neutral\" as const, label: \"no data yet\" };\r\n//   }, [callVolumeData]);\r\n\r\n//   const durationTrend = useMemo(() => {\r\n//     if (callDurationData && callDurationData.length > 1) {\r\n//       const recent = callDurationData.slice(-2);\r\n//       const current = typeof recent[1].avgDuration === 'string' ? parseFloat(recent[1].avgDuration) : recent[1].avgDuration;\r\n//       const previous = typeof recent[0].avgDuration === 'string' ? parseFloat(recent[0].avgDuration) : recent[0].avgDuration;\r\n//       const change = current - previous;\r\n//       const percentage = previous > 0 ? Math.abs((change / previous) * 100).toFixed(1) : \"0\";\r\n//       return {\r\n//         value: `${percentage}%`,\r\n//         direction: change >= 0 ? \"up\" as const : \"down\" as const,\r\n//         label: \"from yesterday\"\r\n//       };\r\n//     }\r\n//     return { value: \"0%\", direction: \"neutral\" as const, label: \"no data yet\" };\r\n//   }, [callDurationData]);\r\n\r\n//   const agentsTrend = useMemo(() => {\r\n//     // For agents, we can show how many are new\r\n//     const newAgents = Math.max(0, totalAgents - Math.floor(totalAgents * 0.9));\r\n//     return {\r\n//       value: newAgents > 0 ? `${newAgents} new` : \"stable\",\r\n//       direction: newAgents > 0 ? \"up\" as const : \"neutral\" as const,\r\n//       label: \"this week\"\r\n//     };\r\n//   }, [totalAgents]);\r\n\r\n//   const successTrend = useMemo(() => {\r\n//     if (callOutcomeData && callOutcomeData.length > 0) {\r\n//       const successfulPercentage = callOutcomeData.find(item => item.name === \"Successful\")?.value || 0;\r\n//       const change = successfulPercentage - 62; // Compare to baseline\r\n//       return {\r\n//         value: `${Math.abs(change).toFixed(1)}%`,\r\n//         direction: change >= 0 ? \"up\" as const : \"down\" as const,\r\n//         label: \"from last week\"\r\n//       };\r\n//     }\r\n//     return { value: \"0%\", direction: \"neutral\" as const, label: \"no data yet\" };\r\n//   }, [callOutcomeData]);\r\n\r\n//   // Dynamic performance metrics\r\n//   const performanceMetrics = useMemo(() => {\r\n//     const baseMetrics = {\r\n//       responseLatency: { value: 15, status: \"success\" as 'success' | 'warning' | 'error' | 'info', text: \"Excellent (450ms)\" },\r\n//       speechAccuracy: { value: 92, status: \"success\" as 'success' | 'warning' | 'error' | 'info', text: \"Good (92%)\" },\r\n//       apiReliability: { value: 98.5, status: \"warning\" as 'success' | 'warning' | 'error' | 'info', text: \"Good (98.5%)\" },\r\n//       completionRate: { value: 89, status: \"success\" as 'success' | 'warning' | 'error' | 'info', text: \"Good (89%)\" }\r\n//     };\r\n\r\n//     // If we have real data, calculate actual metrics\r\n//     if (callsData?.data && Array.isArray(callsData.data)) {\r\n//       const completedCalls = callsData.data.filter(call => call.status === 'ended' || call.status === 'completed');\r\n//       const completionRate = callsData.data.length > 0 ? (completedCalls.length / callsData.data.length) * 100 : 0;\r\n\r\n//       const dynamicStatus: 'success' | 'warning' | 'error' = completionRate > 85 ? \"success\" : completionRate > 70 ? \"warning\" : \"error\";\r\n\r\n//       baseMetrics.completionRate = {\r\n//         value: Math.round(completionRate),\r\n//         status: dynamicStatus,\r\n//         text: `${completionRate > 85 ? \"Excellent\" : completionRate > 70 ? \"Good\" : \"Poor\"} (${Math.round(completionRate)}%)`\r\n//       };\r\n//     }\r\n\r\n//     return baseMetrics;\r\n//   }, [callsData]);\r\n\r\n//   const insightMetrics = useMemo(() => {\r\n//     const baseInsights = {\r\n//       wordsPerMinute: \"0 WPM\",\r\n//       interruptionRate: \"0%\",\r\n//       sentimentScore: \"0.00\"\r\n//     };\r\n\r\n//     // Calculate dynamic insights if we have call data\r\n//     if (callsData?.data && Array.isArray(callsData.data) && callsData.data.length > 0) {\r\n//       const avgDurationMinutes = callsData.data.reduce((sum, call) => sum + (call.duration || 0), 0) / callsData.data.length / 60;\r\n//       const estimatedWPM = Math.round(avgDurationMinutes * 150); // Estimate based on average speaking rate\r\n\r\n//       baseInsights.wordsPerMinute = `${estimatedWPM} WPM`;\r\n//       baseInsights.interruptionRate = `${(Math.random() * 5 + 1).toFixed(1)}%`; // Mock for now\r\n//       baseInsights.sentimentScore = `+${(Math.random() * 0.5 + 0.4).toFixed(2)}`; // Mock positive sentiment\r\n//     }\r\n\r\n//     return baseInsights;\r\n//   }, [callsData]);\r\n\r\n//   // Update loading state to use the single API call\r\n//   const isDashboardLoading = isLoading;\r\n\r\n//   if (isDashboardLoading) {\r\n//     return (\r\n//       <Page>\r\n//         <Header\r\n//           title=\"Voice AI Dashboard\"\r\n//           buttonText=\"Loading...\"\r\n//           action={() => {}}\r\n//           filterByName={false}\r\n//         />\r\n//         <ProgressiveLoader stage={loadingStage} />\r\n//       </Page>\r\n//     );\r\n//   }\r\n\r\n//   // Handle error state\r\n//   if (error) {\r\n//     return (\r\n//       <Page>\r\n//         <Header\r\n//           title=\"Voice AI Dashboard\"\r\n//           buttonText=\"New Campaign\"\r\n//           action={() => console.log(\"Adding new campaign...\")}\r\n//           filterByName={true}\r\n//         />\r\n//         <div className=\"p-6\">\r\n//           <Card className=\"card\">\r\n//             <CardContent className=\"p-6 text-center\">\r\n//               <p className=\"text-muted-foreground mb-4\">\r\n//                 Failed to load dashboard data. Please try again.\r\n//               </p>\r\n//               <Button onClick={() => refetch()}>\r\n//                 <RefreshCw className=\"h-4 w-4 mr-2\" />\r\n//                 Retry\r\n//               </Button>\r\n//             </CardContent>\r\n//           </Card>\r\n//         </div>\r\n//       </Page>\r\n//     );\r\n//   }\r\n\r\n//   return (\r\n//     <Page>\r\n//       <Header\r\n//         title={`Voice AI Dashboard `}\r\n//         buttonText=\"\"\r\n//         action={() => refetch()}\r\n//         filterByName={true}\r\n//       />\r\n\r\n//       <div className=\"p-6 space-y-6\">\r\n//         {/* Key Metrics */}\r\n//         <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n//           <ModernStatCard\r\n//             title=\"Total Calls\"\r\n//             value={totalCalls.toLocaleString()}\r\n//             icon={<PhoneCall className=\"h-5 w-5\" />}\r\n//             trend={callsTrend}\r\n//             animationDelay={100}\r\n//           />\r\n\r\n//           <ModernStatCard\r\n//             title=\"Avg. Call Duration\"\r\n//             value={avgDuration > 0 ? `${Math.floor(avgDuration / 60)}:${(avgDuration % 60).toString().padStart(2, '0')}` : \"0:00\"}\r\n//             icon={<Clock className=\"h-5 w-5\" />}\r\n//             trend={durationTrend}\r\n//             iconColor=\"text-chart-2\"\r\n//             iconBgColor=\"bg-gradient-to-br from-chart-2/20 to-chart-2/10\"\r\n//             animationDelay={200}\r\n//           />\r\n\r\n//           <ModernStatCard\r\n//             title=\"Active Agents\"\r\n//             value={totalAgents.toString()}\r\n//             icon={<Users className=\"h-5 w-5\" />}\r\n//             trend={agentsTrend}\r\n//             iconColor=\"text-chart-3\"\r\n//             iconBgColor=\"bg-gradient-to-br from-chart-3/20 to-chart-3/10\"\r\n//             animationDelay={300}\r\n//           />\r\n\r\n//           <ModernStatCard\r\n//             title=\"Success Rate\"\r\n//             value={successRate.toString().replace('%', '') + '%'}\r\n//             icon={<Activity className=\"h-5 w-5\" />}\r\n//             trend={successTrend}\r\n//             iconColor=\"text-chart-4\"\r\n//             iconBgColor=\"bg-gradient-to-br from-chart-4/20 to-chart-4/10\"\r\n//             animationDelay={400}\r\n//           />\r\n//         </div>\r\n\r\n//         {/* Charts Row 1 */}\r\n//         <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n//           <Card className=\"card overflow-hidden\">\r\n//             <CardHeader className=\"border-b border-border/50\">\r\n//               <CardTitle className=\"text-lg font-semibold jakarta\">\r\n//                 Call Volume\r\n//               </CardTitle>\r\n//               <CardDescription>Number of calls per day</CardDescription>\r\n//             </CardHeader>\r\n//             <CardContent className=\"pt-6\">\r\n//               <div className=\"h-[300px]\">\r\n//                 <ModernBarChart\r\n//                   data={callVolumeData}\r\n//                   dataKeys={[\r\n//                     {\r\n//                       key: \"calls\",\r\n//                       name: \"Number of Calls\",\r\n//                       color: \"hsl(var(--primary))\"\r\n//                     }\r\n//                   ]}\r\n//                   xAxisDataKey=\"name\"\r\n//                   height={300}\r\n//                   barRadius={[4, 4, 0, 0]}\r\n//                   tooltipFormatter={(value) => `${value} calls`}\r\n//                   tooltipLabelFormatter={(label) => `Day: ${label}`}\r\n//                   animationDuration={800}\r\n//                 />\r\n//               </div>\r\n//             </CardContent>\r\n//           </Card>\r\n\r\n//           <Card className=\"card overflow-hidden\">\r\n//             <CardHeader className=\"border-b border-border/50\">\r\n//               <CardTitle className=\"text-lg font-semibold jakarta\">\r\n//                 Average Call Duration\r\n//               </CardTitle>\r\n//               <CardDescription>Average call time in minutes</CardDescription>\r\n//             </CardHeader>\r\n//             <CardContent className=\"pt-6\">\r\n//               <div className=\"h-[300px]\">\r\n//                 <ModernLineChart\r\n//                   data={callDurationData}\r\n//                   dataKeys={[\r\n//                     {\r\n//                       key: \"avgDuration\",\r\n//                       name: \"Average Duration\",\r\n//                       color: \"hsl(var(--chart-2))\",\r\n//                       strokeWidth: 2,\r\n//                       dotRadius: 4,\r\n//                       activeDotRadius: 6\r\n//                     }\r\n//                   ]}\r\n//                   xAxisDataKey=\"name\"\r\n//                   height={300}\r\n//                   tooltipFormatter={(value) => `${value} min`}\r\n//                   tooltipLabelFormatter={(label) => `Day: ${label}`}\r\n//                   animationDuration={1200}\r\n//                 />\r\n//               </div>\r\n//             </CardContent>\r\n//           </Card>\r\n//         </div>\r\n\r\n//         {/* Charts Row 2 */}\r\n//         <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n//           <Card className=\"card overflow-hidden\">\r\n//             <CardHeader className=\"border-b border-border/50\">\r\n//               <CardTitle className=\"text-lg font-semibold jakarta\">\r\n//                 Call Outcomes\r\n//               </CardTitle>\r\n//               <CardDescription>Distribution of call results</CardDescription>\r\n//             </CardHeader>\r\n//             <CardContent className=\"pt-6\">\r\n//               <div className=\"h-[300px] flex items-center justify-center\">\r\n//                 <ModernPieChart\r\n//                   data={callOutcomeData}\r\n//                   dataKey=\"value\"\r\n//                   nameKey=\"name\"\r\n//                   colors={[\"#4ade80\", \"#f87171\", \"#fbbf24\"]}\r\n//                   height={300}\r\n//                   outerRadius={90}\r\n//                   innerRadius={0}\r\n//                   label={({ name, percent }) => `${name}: ${(percent * 100).toFixed(0)}%`}\r\n//                   tooltipFormatter={(value) => `${value} calls`}\r\n//                   animationDuration={1000}\r\n//                 />\r\n//               </div>\r\n//             </CardContent>\r\n//           </Card>\r\n\r\n//           <Card className=\"col-span-1 lg:col-span-2 card overflow-hidden\">\r\n//             <CardHeader className=\"border-b border-border/50\">\r\n//               <CardTitle className=\"text-lg font-semibold jakarta\">\r\n//                 Agent Performance\r\n//               </CardTitle>\r\n//               <CardDescription>Success rates by agent type</CardDescription>\r\n//             </CardHeader>\r\n//             <CardContent className=\"pt-6\">\r\n//               <div className=\"h-[300px]\">\r\n//                 <ModernBarChart\r\n//                   data={agentPerformanceData}\r\n//                   dataKeys={[\r\n//                     {\r\n//                       key: \"successRate\",\r\n//                       name: \"Success Rate (%)\",\r\n//                       color: \"hsl(var(--chart-1))\"\r\n//                     },\r\n//                     {\r\n//                       key: \"avgCallTime\",\r\n//                       name: \"Avg Call Time (min)\",\r\n//                       color: \"hsl(var(--chart-3))\"\r\n//                     }\r\n//                   ]}\r\n//                   xAxisDataKey=\"name\"\r\n//                   height={300}\r\n//                   barRadius={[4, 4, 0, 0]}\r\n//                   tooltipFormatter={(value, name) =>\r\n//                     name === \"Success Rate (%)\" ? `${value}%` : `${value} min`\r\n//                   }\r\n//                   tooltipLabelFormatter={(label) => `Agent: ${label}`}\r\n//                   animationDuration={1000}\r\n//                 />\r\n//               </div>\r\n//             </CardContent>\r\n//           </Card>\r\n//         </div>\r\n\r\n//         {/* Voice Agent Health Monitoring */}\r\n//         <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n//           <Card className=\"card overflow-hidden\">\r\n//             <CardHeader className=\"border-b border-border/50\">\r\n//               <CardTitle className=\"text-lg font-semibold jakarta\">\r\n//                 Voice Agent Health\r\n//               </CardTitle>\r\n//               <CardDescription>Real-time performance metrics</CardDescription>\r\n//             </CardHeader>\r\n//             <CardContent className=\"pt-6\">\r\n//               <div className=\"space-y-5\">\r\n//                 <ModernProgressBar\r\n//                   label=\"Response Latency\"\r\n//                   value={performanceMetrics.responseLatency.value}\r\n//                   maxValue={100}\r\n//                   status={performanceMetrics.responseLatency.status}\r\n//                   statusText={performanceMetrics.responseLatency.text}\r\n//                   height={8}\r\n//                   animationDuration={800}\r\n//                 />\r\n\r\n//                 <ModernProgressBar\r\n//                   label=\"Speech Recognition Accuracy\"\r\n//                   value={performanceMetrics.speechAccuracy.value}\r\n//                   maxValue={100}\r\n//                   status={performanceMetrics.speechAccuracy.status}\r\n//                   statusText={performanceMetrics.speechAccuracy.text}\r\n//                   height={8}\r\n//                   animationDuration={1000}\r\n//                 />\r\n\r\n//                 <ModernProgressBar\r\n//                   label=\"Voice Naturalness\"\r\n//                   value={95}\r\n//                   maxValue={100}\r\n//                   status=\"success\"\r\n//                   statusText=\"Excellent (95%)\"\r\n//                   height={8}\r\n//                   animationDuration={1200}\r\n//                 />\r\n\r\n//                 <ModernProgressBar\r\n//                   label=\"API Reliability\"\r\n//                   value={performanceMetrics.apiReliability.value}\r\n//                   maxValue={100}\r\n//                   status={performanceMetrics.apiReliability.status}\r\n//                   statusText={performanceMetrics.apiReliability.text}\r\n//                   height={8}\r\n//                   animationDuration={1400}\r\n//                 />\r\n\r\n//                 <ModernProgressBar\r\n//                   label=\"Call Completion Rate\"\r\n//                   value={performanceMetrics.completionRate.value}\r\n//                   maxValue={100}\r\n//                   status={performanceMetrics.completionRate.status}\r\n//                   statusText={performanceMetrics.completionRate.text}\r\n//                   height={8}\r\n//                   animationDuration={1600}\r\n//                 />\r\n//               </div>\r\n//             </CardContent>\r\n//           </Card>\r\n\r\n//           <Card className=\"card overflow-hidden\">\r\n//             <CardHeader className=\"border-b border-border/50\">\r\n//               <CardTitle className=\"text-lg font-semibold jakarta\">\r\n//                 Voice Agent Insights\r\n//               </CardTitle>\r\n//               <CardDescription>Key performance indicators</CardDescription>\r\n//             </CardHeader>\r\n//             <CardContent className=\"pt-6\">\r\n//               <div className=\"space-y-4\">\r\n//                 <ModernInsightCard\r\n//                   title=\"Average Words Per Minute\"\r\n//                   value={insightMetrics.wordsPerMinute}\r\n//                   icon={<Mic className=\"h-6 w-6\" />}\r\n//                   iconColor=\"text-primary\"\r\n//                   iconBgColor=\"bg-gradient-to-br from-primary/20 to-primary/10\"\r\n//                   animationDelay={100}\r\n//                 />\r\n\r\n//                 <ModernInsightCard\r\n//                   title=\"Interruption Rate\"\r\n//                   value={insightMetrics.interruptionRate}\r\n//                   icon={<Activity className=\"h-6 w-6\" />}\r\n//                   iconColor=\"text-chart-3\"\r\n//                   iconBgColor=\"bg-gradient-to-br from-chart-3/20 to-chart-3/10\"\r\n//                   animationDelay={300}\r\n//                 />\r\n\r\n//                 <ModernInsightCard\r\n//                   title=\"Sentiment Score\"\r\n//                   value={insightMetrics.sentimentScore}\r\n//                   icon={<CheckCircle className=\"h-6 w-6\" />}\r\n//                   iconColor=\"text-chart-4\"\r\n//                   iconBgColor=\"bg-gradient-to-br from-chart-4/20 to-chart-4/10\"\r\n//                   animationDelay={500}\r\n//                 />\r\n//               </div>\r\n//             </CardContent>\r\n//           </Card>\r\n//         </div>\r\n\r\n//         {/* Recent Calls Table */}\r\n//         <Card className=\"card overflow-hidden\">\r\n//           <CardHeader className=\"border-b border-border/50\">\r\n//             <CardTitle className=\"text-lg font-semibold jakarta\">\r\n//               Recent Calls\r\n//             </CardTitle>\r\n//             <CardDescription>Latest voice agent interactions</CardDescription>\r\n//           </CardHeader>\r\n//           <CardContent className=\"pt-6\">\r\n//             <div className=\"overflow-x-auto\">\r\n//               <table className=\"w-full text-sm\">\r\n//                 <thead>\r\n//                   <tr className=\"border-b border-border/50\">\r\n//                     <th className=\"text-left py-3 px-4 font-medium text-muted-foreground\">\r\n//                       ID\r\n//                     </th>\r\n//                     <th className=\"text-left py-3 px-4 font-medium text-muted-foreground\">\r\n//                       Agent\r\n//                     </th>\r\n//                     <th className=\"text-left py-3 px-4 font-medium text-muted-foreground\">\r\n//                       Duration\r\n//                     </th>\r\n//                     <th className=\"text-left py-3 px-4 font-medium text-muted-foreground\">\r\n//                       Status\r\n//                     </th>\r\n//                     <th className=\"text-left py-3 px-4 font-medium text-muted-foreground\">\r\n//                       Outcome\r\n//                     </th>\r\n//                     <th className=\"text-left py-3 px-4 font-medium text-muted-foreground\">\r\n//                       Time\r\n//                     </th>\r\n//                   </tr>\r\n//                 </thead>\r\n//                 <tbody>\r\n//                   {recentCalls.map((call) => (\r\n//                     <tr\r\n//                       key={call.id}\r\n//                       className=\"border-b border-border/30 hover:bg-secondary/40 transition-colors\"\r\n//                     >\r\n//                       <td className=\"py-3 px-4 jakarta\">#{call.id}</td>\r\n//                       <td className=\"py-3 px-4 flex items-center\">\r\n//                         <div className=\"h-7 w-7 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center mr-2\">\r\n//                           <Mic className=\"h-3.5 w-3.5 text-primary\" />\r\n//                         </div>\r\n//                         <span className=\"jakarta\">{call.agent}</span>\r\n//                       </td>\r\n//                       <td className=\"py-3 px-4 jakarta\">{call.duration}</td>\r\n//                       <td className=\"py-3 px-4\">\r\n//                         <span className=\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-green-100/80 text-green-800 jakarta\">\r\n//                           <CheckCircle className=\"h-3 w-3 mr-1\" />\r\n//                           {call.status}\r\n//                         </span>\r\n//                       </td>\r\n//                       <td className=\"py-3 px-4\">\r\n//                         {call.outcome === \"Successful\" && (\r\n//                           <span className=\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-green-100/80 text-green-800 jakarta\">\r\n//                             <CheckCircle className=\"h-3 w-3 mr-1\" />\r\n//                             {call.outcome}\r\n//                           </span>\r\n//                         )}\r\n//                         {call.outcome === \"Failed\" && (\r\n//                           <span className=\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-red-100/80 text-red-800 jakarta\">\r\n//                             <XCircle className=\"h-3 w-3 mr-1\" />\r\n//                             {call.outcome}\r\n//                           </span>\r\n//                         )}\r\n//                         {call.outcome === \"Abandoned\" && (\r\n//                           <span className=\"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-yellow-100/80 text-yellow-800 jakarta\">\r\n//                             <AlertCircle className=\"h-3 w-3 mr-1\" />\r\n//                             {call.outcome}\r\n//                           </span>\r\n//                         )}\r\n//                       </td>\r\n//                       <td className=\"py-3 px-4 jakarta\">{call.time}</td>\r\n//                     </tr>\r\n//                   ))}\r\n//                 </tbody>\r\n//               </table>\r\n//             </div>\r\n//           </CardContent>\r\n//         </Card>\r\n//       </div>\r\n//     </Page>\r\n//   );\r\n// };\r\n\r\n// export default Dashboard;\r\n"],"names":["getDashboardData","startTime","res","axiosInstance","duration","error","message","_b","_a","toast","getAgentsFromDashboard","dashboardData","getCallsFromDashboard","getCallStatsFromDashboard","getModelStatsFromDashboard","getVoiceStatsFromDashboard","getPhoneNumbersFromDashboard","ModernChartTooltip","active","payload","label","labelFormatter","contentStyle","itemStyle","formatter","wrapperClassName","formattedLabel","jsxs","motion","jsx","entry","index","value","ModernBarChart","data","dataKeys","xAxisDataKey","height","showGrid","showLegend","barSize","barGap","barCategoryGap","barRadius","className","tooltipFormatter","tooltipLabelFormatter","animationDuration","renderTooltip","props","ResponsiveContainer","BarChart","CartesianGrid","XAxis","YAxis","Tooltip","Legend","dataKey","Bar","ModernLineChart","LineChart","Line","ModernPieChart","nameKey","colors","innerRadius","outerRadius","labelLine","renderLabel","name","percent","PieChart","Pie","Cell","ModernProgressBar","maxValue","status","statusText","showPercentage","percentage","statusColors","ModernStatCard","title","icon","trend","iconColor","iconBgColor","animationDelay","ModernInsightCard","StatCardSkeleton","Card","CardContent","Skeleton","ChartCardSkeleton","CardHeader","i","ProgressBarSkeleton","InsightCardSkeleton","DashboardSkeleton","Dashboard","user","useAuth","dashboardResponse","isLoading","refetch","useQuery","previousData","agentsData","callsData","callStatsData","callVolumeData","useMemo","callsByDay","acc","call","dayName","day","callDurationData","durationsByDay","callOutcomeData","outcomes","total","agentPerformanceData","agent","recentCalls","summary","totalAgents","totalCalls","_c","_d","avgDuration","_e","successRate","_f","_g","callsTrend","recent","change","durationTrend","current","previous","agentsTrend","newAgents","successTrend","performanceMetrics","baseMetrics","completedCalls","completionRate","dynamicStatus","insightMetrics","baseInsights","avgDurationMinutes","sum","estimatedWPM","Page","Header","Button","RefreshCw","PhoneCall","Clock","Users","Activity","CardTitle","CardDescription","Mic","CheckCircle","XCircle","AlertCircle"],"mappings":"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"}