import{j as e}from"./ui-BZ34e_bG.js";import{t as f,z as n,F as j,a as m,b as l,c,d,e as u}from"./index-CtPDbxtc.js";import{B as w}from"./button-Cm3qqFtR.js";import{I as p}from"./input-DmGou_SQ.js";import{A as b}from"./AuthCard-DGbQmGqv.js";import{u as y}from"./resolvers-BzctgYTE.js";import{u as F,L as N}from"./router-BavLd_S0.js";import{d as E,t as i,u as v}from"./index-glgaGrA-.js";import{r as S}from"./vendor-DG599jyl.js";import"./label-C6Ng9AKs.js";import"./index-3J7IwK8P.js";import"./query-BwaCLewj.js";const L=async o=>{try{const s=await E.post("/api/users/login",o);if(s.status===200)return i.success(s.data.message),s.data.data;throw new Error("Login failed")}catch(s){throw s.response&&s.response.data&&s.response.data.message?i.error(s.response.data.message):i.error("An unexpected error occurred."),s}},k=n.object({email:n.string().email({message:"Invalid email address"}),password:n.string().min(4,{message:"Password must be at least 6 characters"}).max(100)}),D=()=>{const[o,s]=S.useState(!1),x=F(),{login:g}=v(),t=y({resolver:f(k),defaultValues:{email:"",password:""}}),h=async r=>{s(!0);try{const a=await L(r);console.log("Token:",a),a&&(g(a),x("/"))}catch(a){console.error("Login failed:",a)}finally{s(!1)}};return e.jsx(b,{children:e.jsxs(j,{...t,children:[e.jsx("h1",{className:"text-3xl text-foreground font-bold tracking-wide mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Sign in to your account to continue"}),e.jsxs("form",{onSubmit:t.handleSubmit(h),className:"space-y-6",children:[e.jsx(m,{control:t.control,name:"email",render:({field:r})=>e.jsxs(l,{children:[e.jsx(c,{className:"text-sm font-medium",children:"Email"}),e.jsx(d,{children:e.jsx(p,{placeholder:"Enter your email",...r,className:"bg-white border-[#E4E8F0]"})}),e.jsx(u,{})]})}),e.jsx(m,{control:t.control,name:"password",render:({field:r})=>e.jsxs(l,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(c,{className:"text-sm font-medium",children:"Password"}),e.jsx(N,{to:"/forgot-password",className:"text-xs text-primary hover:underline",children:"Forgot password?"})]}),e.jsx(d,{children:e.jsx(p,{type:"password",placeholder:"Enter your password",...r,className:"bg-white border-[#E4E8F0]"})}),e.jsx(u,{})]})}),e.jsx(w,{type:"submit",className:"w-full mt-4",disabled:o,style:{background:"linear-gradient(135deg, hsl(var(--primary)), hsl(var(--primary) / 0.9))"},children:o?"Signing in...":"Sign In"})]})]})})};export{D as default};
//# sourceMappingURL=Login-CDNUHmAX.js.map
