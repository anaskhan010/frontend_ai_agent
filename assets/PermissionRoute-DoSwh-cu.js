import{j as e,br as P}from"./ui-D0JisYOU.js";import{u as R,C as k,l as w,n as L,o as T,k as q}from"./index-jnVRPwrZ.js";import{u as F}from"./usePermissions-CUjHk-Mn.js";import{L as B}from"./Loading-_we4eg7o.js";import{b as D,N as E}from"./router-jXXg-8rg.js";const O=({children:m,permission:t,permissions:s,requireAll:i=!1,role:c,roles:a,requireAllRoles:d=!1,page:n,requireSuperAdmin:l=!1,redirectTo:G="/dashboard",loginRedirect:u="/login",accessDeniedComponent:o})=>{const{isLoggedIn:f,loading:g}=R(),j=D(),{hasPermission:y,hasAnyPermission:N,hasAllPermissions:b,hasRole:h,hasAnyRole:p,isSuperAdmin:x,canAccessPage:A,loading:v}=F();return g||v?e.jsx(B,{}):f?(l?x:x&&!t&&!s&&!c&&!a&&!n?!0:!(t&&!y(t)||s&&s.length>0&&!(i?b(s):N(s))||c&&!h(c)||a&&a.length>0&&!(d?a.every(C=>h(C)):p(a))||n&&!A(n)))?e.jsx(e.Fragment,{children:m}):o?e.jsx(e.Fragment,{children:o}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs(k,{className:"w-full max-w-md",children:[e.jsxs(w,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-red-100",children:e.jsx(P,{className:"h-6 w-6 text-red-600"})}),e.jsx(L,{className:"text-xl font-semibold text-gray-900",children:"Access Denied"}),e.jsx(T,{className:"text-gray-600",children:"You don't have permission to access this page."})]}),e.jsxs(q,{className:"text-center",children:[e.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[l&&e.jsx("p",{children:"This page requires super administrator privileges."}),t&&e.jsxs("p",{children:["Required permission: ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:t})]}),s&&s.length>0&&e.jsxs("p",{children:["Required permissions (",i?"all":"any","): "," ",s.map(r=>e.jsx("code",{className:"bg-gray-100 px-1 rounded mr-1",children:r},r))]}),c&&e.jsxs("p",{children:["Required role: ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:c})]}),a&&a.length>0&&e.jsxs("p",{children:["Required roles (",d?"all":"any","): "," ",a.map(r=>e.jsx("code",{className:"bg-gray-100 px-1 rounded mr-1",children:r},r))]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>window.history.back(),className:"text-blue-600 hover:text-blue-500 font-medium",children:"Go Back"})})]})]})}):e.jsx(E,{to:u,state:{from:j},replace:!0})};export{O as P};
//# sourceMappingURL=PermissionRoute-DoSwh-cu.js.map
