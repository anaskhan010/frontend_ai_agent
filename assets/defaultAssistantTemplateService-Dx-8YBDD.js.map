{"version":3,"file":"defaultAssistantTemplateService-Dx-8YBDD.js","sources":["../../src/api/services/defaultAssistantTemplates/defaultAssistantTemplateService.ts"],"sourcesContent":["import axiosInstance from \"@/api/axios/axiosInstance\";\nimport { toast } from \"sonner\";\n\n// Types\nexport interface DefaultAssistantTemplate {\n  id?: number;\n  template_id: string;\n  name: string;\n  description: string;\n  category: string;\n  first_message?: string;\n  system_message?: string;\n  model?: any;\n  voice?: any;\n  transcriber?: any;\n  functions?: any[];\n  end_call_message?: string;\n  end_call_phrases?: string[];\n  metadata?: Record<string, any>;\n  background_sound?: string;\n  backchannel_enabled?: boolean;\n  background_denoising_enabled?: boolean;\n  model_output_in_messages_enabled?: boolean;\n  transport_configurations?: any;\n  artifact_plan?: any;\n  message_plan?: any;\n  start_speaking_plan?: any;\n  stop_speaking_plan?: any;\n  monitor_plan?: any;\n  credential_ids?: string[];\n  server_url?: string;\n  server_url_secret?: string;\n  analysis_plan?: any;\n  max_duration_seconds?: number;\n  silence_timeout_seconds?: number;\n  response_delay_seconds?: number;\n  llm_request_delay_seconds?: number;\n  num_words_to_interrupt_assistant?: number;\n  max_words_per_spoken_response?: number;\n  voice_activity_detection?: any;\n  hipaa_enabled?: boolean;\n  client_messages?: any;\n  server_messages?: any;\n  is_active?: boolean;\n  is_featured?: boolean;\n  sort_order?: number;\n  usage_count?: number;\n  created_by?: number;\n  updated_by?: number;\n  created_at?: string;\n  updated_at?: string;\n}\n\nexport interface TemplateCategory {\n  category: string;\n  count: number;\n}\n\nexport interface TemplateFilters {\n  is_active?: boolean;\n  category?: string;\n  is_featured?: boolean;\n}\n\n// Get all default assistant templates\nexport async function getAllDefaultAssistantTemplates(filters?: TemplateFilters) {\n  try {\n    const params = new URLSearchParams();\n    \n    if (filters?.is_active !== undefined) {\n      params.append('is_active', filters.is_active.toString());\n    }\n    if (filters?.category) {\n      params.append('category', filters.category);\n    }\n    if (filters?.is_featured !== undefined) {\n      params.append('is_featured', filters.is_featured.toString());\n    }\n\n    const queryString = params.toString();\n    const url = `/api/default-assistant-templates${queryString ? `?${queryString}` : ''}`;\n    \n    const res = await axiosInstance.get(url);\n    return res.data;\n  } catch (error: any) {\n    console.error(\"Error fetching default assistant templates:\", error);\n    toast.error(\"Failed to fetch default assistant templates\");\n    throw error;\n  }\n}\n\n// Get default assistant template by ID\nexport async function getDefaultAssistantTemplateById(templateId: string) {\n  try {\n    const res = await axiosInstance.get(`/api/default-assistant-templates/${templateId}`);\n    return res.data;\n  } catch (error: any) {\n    console.error(\"Error fetching default assistant template:\", error);\n    if (error.response?.status !== 404) {\n      toast.error(\"Failed to fetch default assistant template\");\n    }\n    throw error;\n  }\n}\n\n// Create new default assistant template\nexport async function createDefaultAssistantTemplate(templateData: Partial<DefaultAssistantTemplate>) {\n  try {\n    const res = await axiosInstance.post(\"/api/default-assistant-templates\", templateData);\n    toast.success(\"Default assistant template created successfully\");\n    return res.data;\n  } catch (error: any) {\n    console.error(\"Error creating default assistant template:\", error);\n    const message = error.response?.data?.message || \"Failed to create default assistant template\";\n    toast.error(message);\n    throw error;\n  }\n}\n\n// Update default assistant template\nexport async function updateDefaultAssistantTemplate(templateId: string, templateData: Partial<DefaultAssistantTemplate>) {\n  try {\n    const res = await axiosInstance.put(`/api/default-assistant-templates/${templateId}`, templateData);\n    toast.success(\"Default assistant template updated successfully\");\n    return res.data;\n  } catch (error: any) {\n    console.error(\"Error updating default assistant template:\", error);\n    const message = error.response?.data?.message || \"Failed to update default assistant template\";\n    toast.error(message);\n    throw error;\n  }\n}\n\n// Delete default assistant template\nexport async function deleteDefaultAssistantTemplate(templateId: string) {\n  try {\n    const res = await axiosInstance.delete(`/api/default-assistant-templates/${templateId}`);\n    toast.success(\"Default assistant template deleted successfully\");\n    return res.data;\n  } catch (error: any) {\n    console.error(\"Error deleting default assistant template:\", error);\n    const message = error.response?.data?.message || \"Failed to delete default assistant template\";\n    toast.error(message);\n    throw error;\n  }\n}\n\n// Get template categories\nexport async function getTemplateCategories() {\n  try {\n    const res = await axiosInstance.get(\"/api/default-assistant-templates/categories\");\n    return res.data;\n  } catch (error: any) {\n    console.error(\"Error fetching template categories:\", error);\n    toast.error(\"Failed to fetch template categories\");\n    throw error;\n  }\n}\n\n// Use template (get template data for assistant creation)\nexport async function useTemplate(templateId: string) {\n  try {\n    const res = await axiosInstance.post(`/api/default-assistant-templates/${templateId}/use`);\n    return res.data;\n  } catch (error: any) {\n    console.error(\"Error using template:\", error);\n    const message = error.response?.data?.message || \"Failed to use template\";\n    toast.error(message);\n    throw error;\n  }\n}\n\n// Get featured templates (for quick access)\nexport async function getFeaturedTemplates() {\n  return getAllDefaultAssistantTemplates({ is_active: true, is_featured: true });\n}\n\n// Get templates by category\nexport async function getTemplatesByCategory(category: string) {\n  return getAllDefaultAssistantTemplates({ is_active: true, category });\n}\n"],"names":["getAllDefaultAssistantTemplates","filters","params","queryString","url","axiosInstance","error","toast","createDefaultAssistantTemplate","templateData","res","message","_b","_a","updateDefaultAssistantTemplate","templateId","deleteDefaultAssistantTemplate","getTemplateCategories","useTemplate"],"mappings":"+CAiEA,eAAsBA,EAAgCC,EAA2B,CAC3E,GAAA,CACI,MAAAC,EAAS,IAAI,iBAEfD,GAAA,YAAAA,EAAS,aAAc,QACzBC,EAAO,OAAO,YAAaD,EAAQ,UAAU,UAAU,EAErDA,GAAA,MAAAA,EAAS,UACJC,EAAA,OAAO,WAAYD,EAAQ,QAAQ,GAExCA,GAAA,YAAAA,EAAS,eAAgB,QAC3BC,EAAO,OAAO,cAAeD,EAAQ,YAAY,UAAU,EAGvD,MAAAE,EAAcD,EAAO,SAAS,EAC9BE,EAAM,mCAAmCD,EAAc,IAAIA,CAAW,GAAK,EAAE,GAGnF,OADY,MAAME,EAAc,IAAID,CAAG,GAC5B,WACJE,EAAY,CACX,cAAA,MAAM,8CAA+CA,CAAK,EAClEC,EAAM,MAAM,6CAA6C,EACnDD,CAAA,CAEV,CAiBA,eAAsBE,EAA+BC,EAAiD,SAChG,GAAA,CACF,MAAMC,EAAM,MAAML,EAAc,KAAK,mCAAoCI,CAAY,EACrFF,OAAAA,EAAM,QAAQ,iDAAiD,EACxDG,EAAI,WACJJ,EAAY,CACX,QAAA,MAAM,6CAA8CA,CAAK,EACjE,MAAMK,IAAUC,GAAAC,EAAAP,EAAM,WAAN,YAAAO,EAAgB,OAAhB,YAAAD,EAAsB,UAAW,8CACjDL,MAAAA,EAAM,MAAMI,CAAO,EACbL,CAAA,CAEV,CAGsB,eAAAQ,EAA+BC,EAAoBN,EAAiD,SACpH,GAAA,CACF,MAAMC,EAAM,MAAML,EAAc,IAAI,oCAAoCU,CAAU,GAAIN,CAAY,EAClGF,OAAAA,EAAM,QAAQ,iDAAiD,EACxDG,EAAI,WACJJ,EAAY,CACX,QAAA,MAAM,6CAA8CA,CAAK,EACjE,MAAMK,IAAUC,GAAAC,EAAAP,EAAM,WAAN,YAAAO,EAAgB,OAAhB,YAAAD,EAAsB,UAAW,8CACjDL,MAAAA,EAAM,MAAMI,CAAO,EACbL,CAAA,CAEV,CAGA,eAAsBU,EAA+BD,EAAoB,SACnE,GAAA,CACF,MAAML,EAAM,MAAML,EAAc,OAAO,oCAAoCU,CAAU,EAAE,EACvFR,OAAAA,EAAM,QAAQ,iDAAiD,EACxDG,EAAI,WACJJ,EAAY,CACX,QAAA,MAAM,6CAA8CA,CAAK,EACjE,MAAMK,IAAUC,GAAAC,EAAAP,EAAM,WAAN,YAAAO,EAAgB,OAAhB,YAAAD,EAAsB,UAAW,8CACjDL,MAAAA,EAAM,MAAMI,CAAO,EACbL,CAAA,CAEV,CAGA,eAAsBW,GAAwB,CACxC,GAAA,CAEF,OADY,MAAMZ,EAAc,IAAI,6CAA6C,GACtE,WACJC,EAAY,CACX,cAAA,MAAM,sCAAuCA,CAAK,EAC1DC,EAAM,MAAM,qCAAqC,EAC3CD,CAAA,CAEV,CAGA,eAAsBY,EAAYH,EAAoB,SAChD,GAAA,CAEF,OADY,MAAMV,EAAc,KAAK,oCAAoCU,CAAU,MAAM,GAC9E,WACJT,EAAY,CACX,QAAA,MAAM,wBAAyBA,CAAK,EAC5C,MAAMK,IAAUC,GAAAC,EAAAP,EAAM,WAAN,YAAAO,EAAgB,OAAhB,YAAAD,EAAsB,UAAW,yBACjDL,MAAAA,EAAM,MAAMI,CAAO,EACbL,CAAA,CAEV"}