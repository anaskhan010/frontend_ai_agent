const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Login-DKH-G943.js","assets/ui-B8VyAbFl.js","assets/vendor-DG599jyl.js","assets/index-DuxIKq8m.js","assets/resolvers-BTaHPCFs.js","assets/router-BnJytTjr.js","assets/query-CWB_8EHL.js","assets/Register-CylguP7m.js","assets/GmailCallback-CCMBkJWQ.js","assets/GmailPopupCallback-CMYO3I3E.js","assets/FacebookPopupCallback-B6XbT1Ff.js","assets/LinkedinPopupCallback-Csfw_ogb.js","assets/FacebookCallback-6ZqCta1P.js","assets/Dashboard-ByNAF-Ah.js","assets/Page-DeS2--Hf.js","assets/Header-pRDXIysU.js","assets/sheet-DONoOQoo.js","assets/PieChart-DqdvEnts.js","assets/string-3NetaFjT.js","assets/BarChart-DcbRBS66.js","assets/LineChart-n5Fso3EC.js","assets/skeleton-CR7fBrXE.js","assets/KnowledgeBases-CmE1ke-D.js","assets/dynamicdata-DBD5QZ1_.js","assets/ModernTable-Cw6WYm9o.js","assets/table-D9-4Z--A.js","assets/popover-BsuNSSjs.js","assets/radio-group-CJJUxdTC.js","assets/slider-DNb3zHE4.js","assets/separator-BQiCTV29.js","assets/CustomPagination-G9hN06d7.js","assets/Action-DLTQI1mc.js","assets/Contacts-CEjarnez.js","assets/Loading-DVTRYWTU.js","assets/index.esm-Vx42pWrl.js","assets/ChatSidebar-DoV_kUhG.js","assets/avatar-CY5DU8VH.js","assets/messagingService-DLZAe3n-.js","assets/phoneNumberService-IyXe8ahK.js","assets/CreatePhoneNumberForm-D-T35Cfe.js","assets/agentService-CIaYz9sF.js","assets/ChatSidebar-Bbgo5x5y.css","assets/Messages-D9mU4bwD.js","assets/Patients-BxE3MES8.js","assets/ClinicalRoles-BrKUtqfb.js","assets/clinicalRoleService-g8LRQwDt.js","assets/ClinicalDashboard-DFGnbUEn.js","assets/clinicalSiteService-C7pAypIB.js","assets/clinicalStudyService-BiiSI9gc.js","assets/clinicalUserService-C4DKw-oy.js","assets/studyParticipantService-RAF1CUKv.js","assets/ClinicalSites-C_ngqlba.js","assets/ClinicalStudies-BxMKkY1M.js","assets/ClinicalUsers-BRbkFkck.js","assets/StudyParticipants-BRqPLi-W.js","assets/Lists-BRlTN5W-.js","assets/outboundService-CnpLgJJB.js","assets/CallRecordingPlayer-BaQCqRnX.js","assets/usePermissions-D5708ELN.js","assets/alert-dialog-CetL-0gk.js","assets/ListDetails-DZxj8H00.js","assets/Campaigns-KtUX38Ht.js","assets/calendar-DLPD2quM.js","assets/format-C-QuTXqM.js","assets/Recordings-BIV01NlC.js","assets/recordingService-CWETI_Uo.js","assets/RecordingDetail-Cs80RVho.js","assets/Support-Yydxu871.js","assets/supportService-BneJD_Cu.js","assets/client-BpmmoQGL.js","assets/SupportTicketDetail-zyRw8qet.js","assets/AdminSupport-DZjU8stC.js","assets/Agents-90ZpU-w1.js","assets/VapiStyleAgents-DQ1Bntxs.js","assets/defaultAssistantTemplateService-AysMmEVJ.js","assets/vapiProviders-Dxd86dpD.js","assets/AddAgent-DknAQ6HM.js","assets/Models-5R-wBTLY.js","assets/Voices-CLER75WU.js","assets/VoicePreviewTest-CBzbJjqT.js","assets/PhoneNumbers-D2sLtnUn.js","assets/userService-Cl6lfQjR.js","assets/OutboundCalls-BM8h8XFA.js","assets/Outbound-CPv5LOpY.js","assets/campaignService-Fdmei22c.js","assets/CreateCampaignPage-DSDJw6o4.js","assets/Webhooks-C6vBa4PZ.js","assets/gmail-uxq0CCZc.js","assets/AuditLogs-BrsehbPl.js","assets/Integrations-DaL9nzDP.js","assets/SuperAdminDashboard-Cs_q9_Zl.js","assets/Roles-asASsAZ0.js","assets/checkbox-C3ZVuZoP.js","assets/PermissionRoute-nPuwqSxi.js","assets/RolePermissionManagement-D62lIucx.js","assets/Permissions-C-0F7MJB.js","assets/DefaultAssistants-Cutcjzeh.js","assets/UserManagement-cNI9RN9L.js","assets/CreditManagement-BnpvuFAh.js","assets/UserCreditPortal-BcrfKOWB.js","assets/TestCreditsPage-C1mPohOg.js","assets/CreditPurchasePage-DdGLJqY4.js","assets/TestPurchasePage-D7fa20da.js","assets/CreditDebug-CWkJUGis.js","assets/SimpleCreditTest-BDBEHEw9.js","assets/GmailDebug-3FhewOzx.js","assets/ModalTestPage-BQF9Wsy0.js","assets/Settings-CDaZ7b4C.js","assets/TestLogout-DVTN7sye.js","assets/Privacy-AWOl4sdE.js","assets/Terms-BhDVdhIl.js","assets/NotFound-Bw1gw_ff.js","assets/EmailManagement-D3uUEimO.js","assets/WorkflowLayout-XMtkU5KR.js","assets/CreateWorkflowCanvas-gfFT-PWd.js","assets/CreateWorkflowCanvas-Fd0xVSp_.css"])))=>i.map(i=>d[i]);
var J1=Object.defineProperty;var Q1=(t,e,n)=>e in t?J1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Wr=(t,e,n)=>Q1(t,typeof e!="symbol"?e+"":e,n);import{j as r,u as Mg,o as Og,s as Ig,l as Dg,f as Bg,a as Fg,b as zg,h as $g,c as Vg,F as vo,E as ej,d as tj,W as Ug,G as nj,C as Wg,M as sj,e as Hg,S as rj,L as ij,g as oj,A as aj,i as lj,k as cj,m as Zg,n as ju,p as Gg,q as wl,r as qg,t as dj,v as uj,R as hj,w as fj,x as mj,P as pj,B as gj,y as xj,z as vj,D as Kg,H as yj,I as _j,J as bj,K as vr,N as wj,T as jj,O as Sj,U as yo,Q as Wa,V as Nj,X as Cj,Y as jl,Z as Pj,_ as Tj,$ as od,a0 as Yg,a1 as Ej,a2 as Aj,a3 as kj,a4 as Lj,a5 as Rj,a6 as Mj,a7 as Xg,a8 as Oj,a9 as Su,aa as Ij,ab as Dj,ac as Bj,ad as Fj,ae as zj,af as $j,ag as Vj,ah as Uj,ai as Jg,aj as ii,ak as Wj,al as Hj,am as Zj,an as Gj,ao as qj,ap as Kj,aq as Yj,ar as Xj,as as Nu,at as ad,au as Jj,av as Qg,aw as Qj,ax as eS,ay as tS,az as nS,aA as sS,aB as ld,aC as Ha,aD as rS,aE as iS,aF as oS,aG as Is,aH as aS,aI as eo,aJ as ex,aK as lS,aL as qf,aM as cS,aN as tx,aO as Za,aP as Sl,aQ as Zr,aR as Ga,aS as dS,aT as uS,aU as hS,aV as fS,aW as mS,aX as nx,aY as sx,aZ as rx,a_ as pS,a$ as ix,b0 as ox,b1 as ax,b2 as lx,b3 as cx,b4 as dx,b5 as ux,b6 as hx,b7 as gS,b8 as xS,b9 as Kf,ba as vS,bb as fx,bc as yS,bd as mx,be as px,bf as gx,bg as xx,bh as _S,bi as bS,bj as vx,bk as wS,bl as Yf,bm as ka,bn as cd,bo as qa,bp as jS,bq as SS,br as NS,bs as CS,bt as PS,bu as TS,bv as Xf,bw as ES,bx as Jf}from"./ui-B8VyAbFl.js";import{a as xi,r as p,b as ae,c as Cu,g as AS,d as us,R as vi,e as yx}from"./vendor-DG599jyl.js";import{u as Gs,a as Pu,L as Tu,O as Eu,N as kS,b as _x,R as LS,c as ve,H as RS}from"./router-BnJytTjr.js";import{u as MS,a as Ka,k as OS,Q as IS,b as DS}from"./query-CWB_8EHL.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var bx,Qf=xi;bx=Qf.createRoot,Qf.hydrateRoot;const BS="modulepreload",FS=function(t){return"/"+t},em={},Se=function(e,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),d=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=FS(u),u in em)return;em[u]=!0;const h=u.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":BS,h||(g.as="script"),g.crossOrigin="",g.href=u,d&&g.setAttribute("nonce",d),document.head.appendChild(g),h)return new Promise((x,v)=>{g.addEventListener("load",x),g.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return i.then(l=>{for(const d of l||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})};var zS=(t,e,n,s,i,a,l,d)=>{let u=document.documentElement,h=["light","dark"];function f(v){(Array.isArray(t)?t:[t]).forEach(b=>{let _=b==="class",w=_&&a?i.map(C=>a[C]||C):i;_?(u.classList.remove(...w),u.classList.add(v)):u.setAttribute(b,v)}),g(v)}function g(v){d&&h.includes(v)&&(u.style.colorScheme=v)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)f(s);else try{let v=localStorage.getItem(e)||n,b=l&&v==="system"?x():v;f(b)}catch{}},$S=p.createContext(void 0),VS={setTheme:t=>{},themes:[]},US=()=>{var t;return(t=p.useContext($S))!=null?t:VS};p.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:s,enableColorScheme:i,defaultTheme:a,value:l,themes:d,nonce:u,scriptProps:h})=>{let f=JSON.stringify([n,e,a,t,d,l,s,i]).slice(1,-1);return p.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(${zS.toString()})(${f})`}})});var WS=t=>{switch(t){case"success":return GS;case"info":return KS;case"warning":return qS;case"error":return YS;default:return null}},HS=Array(12).fill(0),ZS=({visible:t,className:e})=>ae.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ae.createElement("div",{className:"sonner-spinner"},HS.map((n,s)=>ae.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),GS=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),qS=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),KS=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),YS=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),XS=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ae.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ae.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),JS=()=>{let[t,e]=ae.useState(document.hidden);return ae.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},dd=1,QS=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...s}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:dd++,a=this.toasts.find(d=>d.id===i),l=t.dismissible===void 0?!0:t.dismissible;return a?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:n}),{...d,...t,id:i,dismissible:l,title:n}):d):this.addToast({title:n,...s,dismissible:l,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let s=t instanceof Promise?t:t(),i=n!==void 0,a,l=s.then(async u=>{if(a=["resolve",u],ae.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(tN(u)&&!u.ok){i=!1;let h=typeof e.error=="function"?await e.error(`HTTP error! status: ${u.status}`):e.error,f=typeof e.description=="function"?await e.description(`HTTP error! status: ${u.status}`):e.description;this.create({id:n,type:"error",message:h,description:f})}else if(e.success!==void 0){i=!1;let h=typeof e.success=="function"?await e.success(u):e.success,f=typeof e.description=="function"?await e.description(u):e.description;this.create({id:n,type:"success",message:h,description:f})}}).catch(async u=>{if(a=["reject",u],e.error!==void 0){i=!1;let h=typeof e.error=="function"?await e.error(u):e.error,f=typeof e.description=="function"?await e.description(u):e.description;this.create({id:n,type:"error",message:h,description:f})}}).finally(()=>{var u;i&&(this.dismiss(n),n=void 0),(u=e.finally)==null||u.call(e)}),d=()=>new Promise((u,h)=>l.then(()=>a[0]==="reject"?h(a[1]):u(a[1])).catch(h));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||dd++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},bn=new QS,eN=(t,e)=>{let n=(e==null?void 0:e.id)||dd++;return bn.addToast({title:t,...e,id:n}),n},tN=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",nN=eN,sN=()=>bn.toasts,ie=Object.assign(nN,{success:bn.success,info:bn.info,warning:bn.warning,error:bn.error,custom:bn.custom,message:bn.message,promise:bn.promise,dismiss:bn.dismiss,loading:bn.loading},{getHistory:sN});function rN(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}rN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function va(t){return t.label!==void 0}var iN=3,oN="32px",tm=4e3,aN=356,lN=14,cN=20,dN=200;function uN(...t){return t.filter(Boolean).join(" ")}var hN=t=>{var e,n,s,i,a,l,d,u,h,f,g;let{invert:x,toast:v,unstyled:b,interacting:_,setHeights:w,visibleToasts:C,heights:N,index:S,toasts:P,expanded:T,removeToast:A,defaultRichColors:k,closeButton:R,style:O,cancelButtonStyle:M,actionButtonStyle:z,className:F="",descriptionClassName:B="",duration:J,position:ee,gap:X,loadingIcon:oe,expandByDefault:q,classNames:re,icons:V,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:G,cn:$}=t,[U,ye]=ae.useState(!1),[_e,ne]=ae.useState(!1),[pe,Ae]=ae.useState(!1),[K,he]=ae.useState(!1),[ce,Ne]=ae.useState(!1),[xe,Re]=ae.useState(0),[Fe,We]=ae.useState(0),ke=ae.useRef(v.duration||J||tm),Ge=ae.useRef(null),Ke=ae.useRef(null),st=S===0,rn=S+1<=C,nt=v.type,dt=v.dismissible!==!1,rt=v.className||"",jt=v.descriptionClassName||"",ut=ae.useMemo(()=>N.findIndex(se=>se.toastId===v.id)||0,[N,v.id]),Ct=ae.useMemo(()=>{var se;return(se=v.closeButton)!=null?se:R},[v.closeButton,R]);ae.useMemo(()=>v.duration||J||tm,[v.duration,J]);let de=ae.useRef(0),Le=ae.useRef(0),Qe=ae.useRef(0),Xe=ae.useRef(null),[pt,ot]=ee.split("-"),ge=ae.useMemo(()=>N.reduce((se,me,D)=>D>=ut?se:se+me.height,0),[N,ut]),Q=JS(),Pe=v.invert||x,Ee=nt==="loading";Le.current=ae.useMemo(()=>ut*X+ge,[ut,ge]),ae.useEffect(()=>{ye(!0)},[]),ae.useEffect(()=>{let se=Ke.current;if(se){let me=se.getBoundingClientRect().height;return We(me),w(D=>[{toastId:v.id,height:me,position:v.position},...D]),()=>w(D=>D.filter(le=>le.toastId!==v.id))}},[w,v.id]),ae.useLayoutEffect(()=>{if(!U)return;let se=Ke.current,me=se.style.height;se.style.height="auto";let D=se.getBoundingClientRect().height;se.style.height=me,We(D),w(le=>le.find(fe=>fe.toastId===v.id)?le.map(fe=>fe.toastId===v.id?{...fe,height:D}:fe):[{toastId:v.id,height:D,position:v.position},...le])},[U,v.title,v.description,w,v.id]);let tt=ae.useCallback(()=>{ne(!0),Re(Le.current),w(se=>se.filter(me=>me.toastId!==v.id)),setTimeout(()=>{A(v)},dN)},[v,A,w,Le]);ae.useEffect(()=>{if(v.promise&&nt==="loading"||v.duration===1/0||v.type==="loading")return;let se;return T||_||G&&Q?(()=>{if(Qe.current<de.current){let me=new Date().getTime()-de.current;ke.current=ke.current-me}Qe.current=new Date().getTime()})():ke.current!==1/0&&(de.current=new Date().getTime(),se=setTimeout(()=>{var me;(me=v.onAutoClose)==null||me.call(v,v),tt()},ke.current)),()=>clearTimeout(se)},[T,_,v,nt,G,Q,tt]),ae.useEffect(()=>{v.delete&&tt()},[tt,v.delete]);function H(){var se,me,D;return V!=null&&V.loading?ae.createElement("div",{className:$(re==null?void 0:re.loader,(se=v==null?void 0:v.classNames)==null?void 0:se.loader,"sonner-loader"),"data-visible":nt==="loading"},V.loading):oe?ae.createElement("div",{className:$(re==null?void 0:re.loader,(me=v==null?void 0:v.classNames)==null?void 0:me.loader,"sonner-loader"),"data-visible":nt==="loading"},oe):ae.createElement(ZS,{className:$(re==null?void 0:re.loader,(D=v==null?void 0:v.classNames)==null?void 0:D.loader),visible:nt==="loading"})}return ae.createElement("li",{tabIndex:0,ref:Ke,className:$(F,rt,re==null?void 0:re.toast,(e=v==null?void 0:v.classNames)==null?void 0:e.toast,re==null?void 0:re.default,re==null?void 0:re[nt],(n=v==null?void 0:v.classNames)==null?void 0:n[nt]),"data-sonner-toast":"","data-rich-colors":(s=v.richColors)!=null?s:k,"data-styled":!(v.jsx||v.unstyled||b),"data-mounted":U,"data-promise":!!v.promise,"data-swiped":ce,"data-removed":_e,"data-visible":rn,"data-y-position":pt,"data-x-position":ot,"data-index":S,"data-front":st,"data-swiping":pe,"data-dismissible":dt,"data-type":nt,"data-invert":Pe,"data-swipe-out":K,"data-expanded":!!(T||q&&U),style:{"--index":S,"--toasts-before":S,"--z-index":P.length-S,"--offset":`${_e?xe:Le.current}px`,"--initial-height":q?"auto":`${Fe}px`,...O,...v.style},onPointerDown:se=>{Ee||!dt||(Ge.current=new Date,Re(Le.current),se.target.setPointerCapture(se.pointerId),se.target.tagName!=="BUTTON"&&(Ae(!0),Xe.current={x:se.clientX,y:se.clientY}))},onPointerUp:()=>{var se,me,D,le;if(K||!dt)return;Xe.current=null;let fe=Number(((se=Ke.current)==null?void 0:se.style.getPropertyValue("--swipe-amount").replace("px",""))||0),je=new Date().getTime()-((me=Ge.current)==null?void 0:me.getTime()),Be=Math.abs(fe)/je;if(Math.abs(fe)>=cN||Be>.11){Re(Le.current),(D=v.onDismiss)==null||D.call(v,v),tt(),he(!0),Ne(!1);return}(le=Ke.current)==null||le.style.setProperty("--swipe-amount","0px"),Ae(!1)},onPointerMove:se=>{var me,D,le;if(!Xe.current||!dt)return;let fe=se.clientY-Xe.current.y,je=((me=window.getSelection())==null?void 0:me.toString().length)>0;Number(((D=Ke.current)==null?void 0:D.style.getPropertyValue("--swipe-amount").replace("px",""))||0)>0&&Ne(!0),!je&&((le=Ke.current)==null||le.style.setProperty("--swipe-amount",`${Math.max(0,fe)}px`))}},Ct&&!v.jsx?ae.createElement("button",{"aria-label":W,"data-disabled":Ee,"data-close-button":!0,onClick:Ee||!dt?()=>{}:()=>{var se;tt(),(se=v.onDismiss)==null||se.call(v,v)},className:$(re==null?void 0:re.closeButton,(i=v==null?void 0:v.classNames)==null?void 0:i.closeButton)},(a=V==null?void 0:V.close)!=null?a:XS):null,v.jsx||ae.isValidElement(v.title)?v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title:ae.createElement(ae.Fragment,null,nt||v.icon||v.promise?ae.createElement("div",{"data-icon":"",className:$(re==null?void 0:re.icon,(l=v==null?void 0:v.classNames)==null?void 0:l.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||H():null,v.type!=="loading"?v.icon||(V==null?void 0:V[nt])||WS(nt):null):null,ae.createElement("div",{"data-content":"",className:$(re==null?void 0:re.content,(d=v==null?void 0:v.classNames)==null?void 0:d.content)},ae.createElement("div",{"data-title":"",className:$(re==null?void 0:re.title,(u=v==null?void 0:v.classNames)==null?void 0:u.title)},typeof v.title=="function"?v.title():v.title),v.description?ae.createElement("div",{"data-description":"",className:$(B,jt,re==null?void 0:re.description,(h=v==null?void 0:v.classNames)==null?void 0:h.description)},typeof v.description=="function"?v.description():v.description):null),ae.isValidElement(v.cancel)?v.cancel:v.cancel&&va(v.cancel)?ae.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||M,onClick:se=>{var me,D;va(v.cancel)&&dt&&((D=(me=v.cancel).onClick)==null||D.call(me,se),tt())},className:$(re==null?void 0:re.cancelButton,(f=v==null?void 0:v.classNames)==null?void 0:f.cancelButton)},v.cancel.label):null,ae.isValidElement(v.action)?v.action:v.action&&va(v.action)?ae.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||z,onClick:se=>{var me,D;va(v.action)&&((D=(me=v.action).onClick)==null||D.call(me,se),!se.defaultPrevented&&tt())},className:$(re==null?void 0:re.actionButton,(g=v==null?void 0:v.classNames)==null?void 0:g.actionButton)},v.action.label):null))};function nm(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var fN=p.forwardRef(function(t,e){let{invert:n,position:s="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:l,className:d,offset:u,theme:h="light",richColors:f,duration:g,style:x,visibleToasts:v=iN,toastOptions:b,dir:_=nm(),gap:w=lN,loadingIcon:C,icons:N,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:P,cn:T=uN}=t,[A,k]=ae.useState([]),R=ae.useMemo(()=>Array.from(new Set([s].concat(A.filter(G=>G.position).map(G=>G.position)))),[A,s]),[O,M]=ae.useState([]),[z,F]=ae.useState(!1),[B,J]=ae.useState(!1),[ee,X]=ae.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),oe=ae.useRef(null),q=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),re=ae.useRef(null),V=ae.useRef(!1),W=ae.useCallback(G=>{k($=>{var U;return(U=$.find(ye=>ye.id===G.id))!=null&&U.delete||bn.dismiss(G.id),$.filter(({id:ye})=>ye!==G.id)})},[]);return ae.useEffect(()=>bn.subscribe(G=>{if(G.dismiss){k($=>$.map(U=>U.id===G.id?{...U,delete:!0}:U));return}setTimeout(()=>{Cu.flushSync(()=>{k($=>{let U=$.findIndex(ye=>ye.id===G.id);return U!==-1?[...$.slice(0,U),{...$[U],...G},...$.slice(U+1)]:[G,...$]})})})}),[]),ae.useEffect(()=>{if(h!=="system"){X(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:$})=>{X($?"dark":"light")})}catch{G.addListener(({matches:U})=>{try{X(U?"dark":"light")}catch(ye){console.error(ye)}})}},[h]),ae.useEffect(()=>{A.length<=1&&F(!1)},[A]),ae.useEffect(()=>{let G=$=>{var U,ye;i.every(_e=>$[_e]||$.code===_e)&&(F(!0),(U=oe.current)==null||U.focus()),$.code==="Escape"&&(document.activeElement===oe.current||(ye=oe.current)!=null&&ye.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[i]),ae.useEffect(()=>{if(oe.current)return()=>{re.current&&(re.current.focus({preventScroll:!0}),re.current=null,V.current=!1)}},[oe.current]),ae.createElement("section",{"aria-label":`${S} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false"},R.map((G,$)=>{var U;let[ye,_e]=G.split("-");return A.length?ae.createElement("ol",{key:G,dir:_==="auto"?nm():_,tabIndex:-1,ref:oe,className:d,"data-sonner-toaster":!0,"data-theme":ee,"data-y-position":ye,"data-lifted":z&&A.length>1&&!a,"data-x-position":_e,style:{"--front-toast-height":`${((U=O[0])==null?void 0:U.height)||0}px`,"--offset":typeof u=="number"?`${u}px`:u||oN,"--width":`${aN}px`,"--gap":`${w}px`,...x},onBlur:ne=>{V.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(V.current=!1,re.current&&(re.current.focus({preventScroll:!0}),re.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||V.current||(V.current=!0,re.current=ne.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{B||F(!1)},onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||J(!0)},onPointerUp:()=>J(!1)},A.filter(ne=>!ne.position&&$===0||ne.position===G).map((ne,pe)=>{var Ae,K;return ae.createElement(hN,{key:ne.id,icons:N,index:pe,toast:ne,defaultRichColors:f,duration:(Ae=b==null?void 0:b.duration)!=null?Ae:g,className:b==null?void 0:b.className,descriptionClassName:b==null?void 0:b.descriptionClassName,invert:n,visibleToasts:v,closeButton:(K=b==null?void 0:b.closeButton)!=null?K:l,interacting:B,position:G,style:b==null?void 0:b.style,unstyled:b==null?void 0:b.unstyled,classNames:b==null?void 0:b.classNames,cancelButtonStyle:b==null?void 0:b.cancelButtonStyle,actionButtonStyle:b==null?void 0:b.actionButtonStyle,removeToast:W,toasts:A.filter(he=>he.position==ne.position),heights:O.filter(he=>he.position==ne.position),setHeights:M,expandByDefault:a,gap:w,loadingIcon:C,expanded:z,pauseWhenPageIsHidden:P,cn:T})})):null}))});const mN=({...t})=>{const{theme:e="system"}=US();return r.jsx(fN,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function wx(t,e){return function(){return t.apply(e,arguments)}}const{toString:pN}=Object.prototype,{getPrototypeOf:Au}=Object,Nl=(t=>e=>{const n=pN.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Kn=t=>(t=t.toLowerCase(),e=>Nl(e)===t),Cl=t=>e=>typeof e===t,{isArray:yi}=Array,_o=Cl("undefined");function gN(t){return t!==null&&!_o(t)&&t.constructor!==null&&!_o(t.constructor)&&Pn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const jx=Kn("ArrayBuffer");function xN(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&jx(t.buffer),e}const vN=Cl("string"),Pn=Cl("function"),Sx=Cl("number"),Pl=t=>t!==null&&typeof t=="object",yN=t=>t===!0||t===!1,La=t=>{if(Nl(t)!=="object")return!1;const e=Au(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},_N=Kn("Date"),bN=Kn("File"),wN=Kn("Blob"),jN=Kn("FileList"),SN=t=>Pl(t)&&Pn(t.pipe),NN=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Pn(t.append)&&((e=Nl(t))==="formdata"||e==="object"&&Pn(t.toString)&&t.toString()==="[object FormData]"))},CN=Kn("URLSearchParams"),[PN,TN,EN,AN]=["ReadableStream","Request","Response","Headers"].map(Kn),kN=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Io(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,i;if(typeof t!="object"&&(t=[t]),yi(t))for(s=0,i=t.length;s<i;s++)e.call(null,t[s],s,t);else{const a=n?Object.getOwnPropertyNames(t):Object.keys(t),l=a.length;let d;for(s=0;s<l;s++)d=a[s],e.call(null,t[d],d,t)}}function Nx(t,e){e=e.toLowerCase();const n=Object.keys(t);let s=n.length,i;for(;s-- >0;)if(i=n[s],e===i.toLowerCase())return i;return null}const mr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,Cx=t=>!_o(t)&&t!==mr;function ud(){const{caseless:t}=Cx(this)&&this||{},e={},n=(s,i)=>{const a=t&&Nx(e,i)||i;La(e[a])&&La(s)?e[a]=ud(e[a],s):La(s)?e[a]=ud({},s):yi(s)?e[a]=s.slice():e[a]=s};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Io(arguments[s],n);return e}const LN=(t,e,n,{allOwnKeys:s}={})=>(Io(e,(i,a)=>{n&&Pn(i)?t[a]=wx(i,n):t[a]=i},{allOwnKeys:s}),t),RN=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),MN=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},ON=(t,e,n,s)=>{let i,a,l;const d={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)l=i[a],(!s||s(l,t,e))&&!d[l]&&(e[l]=t[l],d[l]=!0);t=n!==!1&&Au(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},IN=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},DN=t=>{if(!t)return null;if(yi(t))return t;let e=t.length;if(!Sx(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},BN=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Au(Uint8Array)),FN=(t,e)=>{const s=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=s.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},zN=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},$N=Kn("HTMLFormElement"),VN=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),sm=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),UN=Kn("RegExp"),Px=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};Io(n,(i,a)=>{let l;(l=e(i,a,t))!==!1&&(s[a]=l||i)}),Object.defineProperties(t,s)},WN=t=>{Px(t,(e,n)=>{if(Pn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(Pn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},HN=(t,e)=>{const n={},s=i=>{i.forEach(a=>{n[a]=!0})};return yi(t)?s(t):s(String(t).split(e)),n},ZN=()=>{},GN=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,wc="abcdefghijklmnopqrstuvwxyz",rm="0123456789",Tx={DIGIT:rm,ALPHA:wc,ALPHA_DIGIT:wc+wc.toUpperCase()+rm},qN=(t=16,e=Tx.ALPHA_DIGIT)=>{let n="";const{length:s}=e;for(;t--;)n+=e[Math.random()*s|0];return n};function KN(t){return!!(t&&Pn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const YN=t=>{const e=new Array(10),n=(s,i)=>{if(Pl(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[i]=s;const a=yi(s)?[]:{};return Io(s,(l,d)=>{const u=n(l,i+1);!_o(u)&&(a[d]=u)}),e[i]=void 0,a}}return s};return n(t,0)},XN=Kn("AsyncFunction"),JN=t=>t&&(Pl(t)||Pn(t))&&Pn(t.then)&&Pn(t.catch),Ex=((t,e)=>t?setImmediate:e?((n,s)=>(mr.addEventListener("message",({source:i,data:a})=>{i===mr&&a===n&&s.length&&s.shift()()},!1),i=>{s.push(i),mr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Pn(mr.postMessage)),QN=typeof queueMicrotask<"u"?queueMicrotask.bind(mr):typeof process<"u"&&process.nextTick||Ex,te={isArray:yi,isArrayBuffer:jx,isBuffer:gN,isFormData:NN,isArrayBufferView:xN,isString:vN,isNumber:Sx,isBoolean:yN,isObject:Pl,isPlainObject:La,isReadableStream:PN,isRequest:TN,isResponse:EN,isHeaders:AN,isUndefined:_o,isDate:_N,isFile:bN,isBlob:wN,isRegExp:UN,isFunction:Pn,isStream:SN,isURLSearchParams:CN,isTypedArray:BN,isFileList:jN,forEach:Io,merge:ud,extend:LN,trim:kN,stripBOM:RN,inherits:MN,toFlatObject:ON,kindOf:Nl,kindOfTest:Kn,endsWith:IN,toArray:DN,forEachEntry:FN,matchAll:zN,isHTMLForm:$N,hasOwnProperty:sm,hasOwnProp:sm,reduceDescriptors:Px,freezeMethods:WN,toObjectSet:HN,toCamelCase:VN,noop:ZN,toFiniteNumber:GN,findKey:Nx,global:mr,isContextDefined:Cx,ALPHABET:Tx,generateString:qN,isSpecCompliantForm:KN,toJSONObject:YN,isAsyncFn:XN,isThenable:JN,setImmediate:Ex,asap:QN};function $e(t,e,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}te.inherits($e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const Ax=$e.prototype,kx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{kx[t]={value:t}});Object.defineProperties($e,kx);Object.defineProperty(Ax,"isAxiosError",{value:!0});$e.from=(t,e,n,s,i,a)=>{const l=Object.create(Ax);return te.toFlatObject(t,l,function(u){return u!==Error.prototype},d=>d!=="isAxiosError"),$e.call(l,t.message,e,n,s,i),l.cause=t,l.name=t.name,a&&Object.assign(l,a),l};const eC=null;function hd(t){return te.isPlainObject(t)||te.isArray(t)}function Lx(t){return te.endsWith(t,"[]")?t.slice(0,-2):t}function im(t,e,n){return t?t.concat(e).map(function(i,a){return i=Lx(i),!n&&a?"["+i+"]":i}).join(n?".":""):e}function tC(t){return te.isArray(t)&&!t.some(hd)}const nC=te.toFlatObject(te,{},null,function(e){return/^is[A-Z]/.test(e)});function Tl(t,e,n){if(!te.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=te.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,w){return!te.isUndefined(w[_])});const s=n.metaTokens,i=n.visitor||f,a=n.dots,l=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(e);if(!te.isFunction(i))throw new TypeError("visitor must be a function");function h(b){if(b===null)return"";if(te.isDate(b))return b.toISOString();if(!u&&te.isBlob(b))throw new $e("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(b)||te.isTypedArray(b)?u&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function f(b,_,w){let C=b;if(b&&!w&&typeof b=="object"){if(te.endsWith(_,"{}"))_=s?_:_.slice(0,-2),b=JSON.stringify(b);else if(te.isArray(b)&&tC(b)||(te.isFileList(b)||te.endsWith(_,"[]"))&&(C=te.toArray(b)))return _=Lx(_),C.forEach(function(S,P){!(te.isUndefined(S)||S===null)&&e.append(l===!0?im([_],P,a):l===null?_:_+"[]",h(S))}),!1}return hd(b)?!0:(e.append(im(w,_,a),h(b)),!1)}const g=[],x=Object.assign(nC,{defaultVisitor:f,convertValue:h,isVisitable:hd});function v(b,_){if(!te.isUndefined(b)){if(g.indexOf(b)!==-1)throw Error("Circular reference detected in "+_.join("."));g.push(b),te.forEach(b,function(C,N){(!(te.isUndefined(C)||C===null)&&i.call(e,C,te.isString(N)?N.trim():N,_,x))===!0&&v(C,_?_.concat(N):[N])}),g.pop()}}if(!te.isObject(t))throw new TypeError("data must be an object");return v(t),e}function om(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function ku(t,e){this._pairs=[],t&&Tl(t,this,e)}const Rx=ku.prototype;Rx.append=function(e,n){this._pairs.push([e,n])};Rx.toString=function(e){const n=e?function(s){return e.call(this,s,om)}:om;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function sC(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Mx(t,e,n){if(!e)return t;const s=n&&n.encode||sC,i=n&&n.serialize;let a;if(i?a=i(e,n):a=te.isURLSearchParams(e)?e.toString():new ku(e,n).toString(s),a){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class am{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){te.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Ox={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rC=typeof URLSearchParams<"u"?URLSearchParams:ku,iC=typeof FormData<"u"?FormData:null,oC=typeof Blob<"u"?Blob:null,aC={isBrowser:!0,classes:{URLSearchParams:rC,FormData:iC,Blob:oC},protocols:["http","https","file","blob","url","data"]},Lu=typeof window<"u"&&typeof document<"u",fd=typeof navigator=="object"&&navigator||void 0,lC=Lu&&(!fd||["ReactNative","NativeScript","NS"].indexOf(fd.product)<0),cC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dC=Lu&&window.location.href||"http://localhost",uC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Lu,hasStandardBrowserEnv:lC,hasStandardBrowserWebWorkerEnv:cC,navigator:fd,origin:dC},Symbol.toStringTag,{value:"Module"})),cn={...uC,...aC};function hC(t,e){return Tl(t,new cn.classes.URLSearchParams,Object.assign({visitor:function(n,s,i,a){return cn.isNode&&te.isBuffer(n)?(this.append(s,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function fC(t){return te.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function mC(t){const e={},n=Object.keys(t);let s;const i=n.length;let a;for(s=0;s<i;s++)a=n[s],e[a]=t[a];return e}function Ix(t){function e(n,s,i,a){let l=n[a++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),u=a>=n.length;return l=!l&&te.isArray(i)?i.length:l,u?(te.hasOwnProp(i,l)?i[l]=[i[l],s]:i[l]=s,!d):((!i[l]||!te.isObject(i[l]))&&(i[l]=[]),e(n,s,i[l],a)&&te.isArray(i[l])&&(i[l]=mC(i[l])),!d)}if(te.isFormData(t)&&te.isFunction(t.entries)){const n={};return te.forEachEntry(t,(s,i)=>{e(fC(s),i,n,0)}),n}return null}function pC(t,e,n){if(te.isString(t))try{return(e||JSON.parse)(t),te.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const Do={transitional:Ox,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,a=te.isObject(e);if(a&&te.isHTMLForm(e)&&(e=new FormData(e)),te.isFormData(e))return i?JSON.stringify(Ix(e)):e;if(te.isArrayBuffer(e)||te.isBuffer(e)||te.isStream(e)||te.isFile(e)||te.isBlob(e)||te.isReadableStream(e))return e;if(te.isArrayBufferView(e))return e.buffer;if(te.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return hC(e,this.formSerializer).toString();if((d=te.isFileList(e))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Tl(d?{"files[]":e}:e,u&&new u,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),pC(e)):e}],transformResponse:[function(e){const n=this.transitional||Do.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(te.isResponse(e)||te.isReadableStream(e))return e;if(e&&te.isString(e)&&(s&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(d){if(l)throw d.name==="SyntaxError"?$e.from(d,$e.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cn.classes.FormData,Blob:cn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],t=>{Do.headers[t]={}});const gC=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xC=t=>{const e={};let n,s,i;return t&&t.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),s=l.substring(i+1).trim(),!(!n||e[n]&&gC[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},lm=Symbol("internals");function Gi(t){return t&&String(t).trim().toLowerCase()}function Ra(t){return t===!1||t==null?t:te.isArray(t)?t.map(Ra):String(t)}function vC(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const yC=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function jc(t,e,n,s,i){if(te.isFunction(s))return s.call(this,e,n);if(i&&(e=n),!!te.isString(e)){if(te.isString(s))return e.indexOf(s)!==-1;if(te.isRegExp(s))return s.test(e)}}function _C(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function bC(t,e){const n=te.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(i,a,l){return this[s].call(this,e,i,a,l)},configurable:!0})})}let dn=class{constructor(e){e&&this.set(e)}set(e,n,s){const i=this;function a(d,u,h){const f=Gi(u);if(!f)throw new Error("header name must be a non-empty string");const g=te.findKey(i,f);(!g||i[g]===void 0||h===!0||h===void 0&&i[g]!==!1)&&(i[g||u]=Ra(d))}const l=(d,u)=>te.forEach(d,(h,f)=>a(h,f,u));if(te.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(te.isString(e)&&(e=e.trim())&&!yC(e))l(xC(e),n);else if(te.isHeaders(e))for(const[d,u]of e.entries())a(u,d,s);else e!=null&&a(n,e,s);return this}get(e,n){if(e=Gi(e),e){const s=te.findKey(this,e);if(s){const i=this[s];if(!n)return i;if(n===!0)return vC(i);if(te.isFunction(n))return n.call(this,i,s);if(te.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Gi(e),e){const s=te.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||jc(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let i=!1;function a(l){if(l=Gi(l),l){const d=te.findKey(s,l);d&&(!n||jc(s,s[d],d,n))&&(delete s[d],i=!0)}}return te.isArray(e)?e.forEach(a):a(e),i}clear(e){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const a=n[s];(!e||jc(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const n=this,s={};return te.forEach(this,(i,a)=>{const l=te.findKey(s,a);if(l){n[l]=Ra(i),delete n[a];return}const d=e?_C(a):String(a).trim();d!==a&&delete n[a],n[d]=Ra(i),s[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return te.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=e&&te.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(i=>s.set(i)),s}static accessor(e){const s=(this[lm]=this[lm]={accessors:{}}).accessors,i=this.prototype;function a(l){const d=Gi(l);s[d]||(bC(i,l),s[d]=!0)}return te.isArray(e)?e.forEach(a):a(e),this}};dn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(dn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});te.freezeMethods(dn);function Sc(t,e){const n=this||Do,s=e||n,i=dn.from(s.headers);let a=s.data;return te.forEach(t,function(d){a=d.call(n,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function Dx(t){return!!(t&&t.__CANCEL__)}function _i(t,e,n){$e.call(this,t??"canceled",$e.ERR_CANCELED,e,n),this.name="CanceledError"}te.inherits(_i,$e,{__CANCEL__:!0});function Bx(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new $e("Request failed with status code "+n.status,[$e.ERR_BAD_REQUEST,$e.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function wC(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function jC(t,e){t=t||10;const n=new Array(t),s=new Array(t);let i=0,a=0,l;return e=e!==void 0?e:1e3,function(u){const h=Date.now(),f=s[a];l||(l=h),n[i]=u,s[i]=h;let g=a,x=0;for(;g!==i;)x+=n[g++],g=g%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),h-l<e)return;const v=f&&h-f;return v?Math.round(x*1e3/v):void 0}}function SC(t,e){let n=0,s=1e3/e,i,a;const l=(h,f=Date.now())=>{n=f,i=null,a&&(clearTimeout(a),a=null),t.apply(null,h)};return[(...h)=>{const f=Date.now(),g=f-n;g>=s?l(h,f):(i=h,a||(a=setTimeout(()=>{a=null,l(i)},s-g)))},()=>i&&l(i)]}const Ya=(t,e,n=3)=>{let s=0;const i=jC(50,250);return SC(a=>{const l=a.loaded,d=a.lengthComputable?a.total:void 0,u=l-s,h=i(u),f=l<=d;s=l;const g={loaded:l,total:d,progress:d?l/d:void 0,bytes:u,rate:h||void 0,estimated:h&&d&&f?(d-l)/h:void 0,event:a,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(g)},n)},cm=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},dm=t=>(...e)=>te.asap(()=>t(...e)),NC=cn.hasStandardBrowserEnv?function(){const e=cn.navigator&&/(msie|trident)/i.test(cn.navigator.userAgent),n=document.createElement("a");let s;function i(a){let l=a;return e&&(n.setAttribute("href",l),l=n.href),n.setAttribute("href",l),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=i(window.location.href),function(l){const d=te.isString(l)?i(l):l;return d.protocol===s.protocol&&d.host===s.host}}():function(){return function(){return!0}}(),CC=cn.hasStandardBrowserEnv?{write(t,e,n,s,i,a){const l=[t+"="+encodeURIComponent(e)];te.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),te.isString(s)&&l.push("path="+s),te.isString(i)&&l.push("domain="+i),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function PC(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function TC(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Fx(t,e){return t&&!PC(e)?TC(t,e):e}const um=t=>t instanceof dn?{...t}:t;function Cr(t,e){e=e||{};const n={};function s(h,f,g){return te.isPlainObject(h)&&te.isPlainObject(f)?te.merge.call({caseless:g},h,f):te.isPlainObject(f)?te.merge({},f):te.isArray(f)?f.slice():f}function i(h,f,g){if(te.isUndefined(f)){if(!te.isUndefined(h))return s(void 0,h,g)}else return s(h,f,g)}function a(h,f){if(!te.isUndefined(f))return s(void 0,f)}function l(h,f){if(te.isUndefined(f)){if(!te.isUndefined(h))return s(void 0,h)}else return s(void 0,f)}function d(h,f,g){if(g in e)return s(h,f);if(g in t)return s(void 0,h)}const u={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(h,f)=>i(um(h),um(f),!0)};return te.forEach(Object.keys(Object.assign({},t,e)),function(f){const g=u[f]||i,x=g(t[f],e[f],f);te.isUndefined(x)&&g!==d||(n[f]=x)}),n}const zx=t=>{const e=Cr({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:a,headers:l,auth:d}=e;e.headers=l=dn.from(l),e.url=Mx(Fx(e.baseURL,e.url),t.params,t.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let u;if(te.isFormData(n)){if(cn.hasStandardBrowserEnv||cn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((u=l.getContentType())!==!1){const[h,...f]=u?u.split(";").map(g=>g.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...f].join("; "))}}if(cn.hasStandardBrowserEnv&&(s&&te.isFunction(s)&&(s=s(e)),s||s!==!1&&NC(e.url))){const h=i&&a&&CC.read(a);h&&l.set(i,h)}return e},EC=typeof XMLHttpRequest<"u",AC=EC&&function(t){return new Promise(function(n,s){const i=zx(t);let a=i.data;const l=dn.from(i.headers).normalize();let{responseType:d,onUploadProgress:u,onDownloadProgress:h}=i,f,g,x,v,b;function _(){v&&v(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function C(){if(!w)return;const S=dn.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),T={data:!d||d==="text"||d==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:S,config:t,request:w};Bx(function(k){n(k),_()},function(k){s(k),_()},T),w=null}"onloadend"in w?w.onloadend=C:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(C)},w.onabort=function(){w&&(s(new $e("Request aborted",$e.ECONNABORTED,t,w)),w=null)},w.onerror=function(){s(new $e("Network Error",$e.ERR_NETWORK,t,w)),w=null},w.ontimeout=function(){let P=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const T=i.transitional||Ox;i.timeoutErrorMessage&&(P=i.timeoutErrorMessage),s(new $e(P,T.clarifyTimeoutError?$e.ETIMEDOUT:$e.ECONNABORTED,t,w)),w=null},a===void 0&&l.setContentType(null),"setRequestHeader"in w&&te.forEach(l.toJSON(),function(P,T){w.setRequestHeader(T,P)}),te.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),d&&d!=="json"&&(w.responseType=i.responseType),h&&([x,b]=Ya(h,!0),w.addEventListener("progress",x)),u&&w.upload&&([g,v]=Ya(u),w.upload.addEventListener("progress",g),w.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(f=S=>{w&&(s(!S||S.type?new _i(null,t,w):S),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const N=wC(i.url);if(N&&cn.protocols.indexOf(N)===-1){s(new $e("Unsupported protocol "+N+":",$e.ERR_BAD_REQUEST,t));return}w.send(a||null)})},kC=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,i;const a=function(h){if(!i){i=!0,d();const f=h instanceof Error?h:this.reason;s.abort(f instanceof $e?f:new _i(f instanceof Error?f.message:f))}};let l=e&&setTimeout(()=>{l=null,a(new $e(`timeout ${e} of ms exceeded`,$e.ETIMEDOUT))},e);const d=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(a):h.removeEventListener("abort",a)}),t=null)};t.forEach(h=>h.addEventListener("abort",a));const{signal:u}=s;return u.unsubscribe=()=>te.asap(d),u}},LC=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,i;for(;s<n;)i=s+e,yield t.slice(s,i),s=i},RC=async function*(t,e){for await(const n of MC(t))yield*LC(n,e)},MC=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},hm=(t,e,n,s)=>{const i=RC(t,e);let a=0,l,d=u=>{l||(l=!0,s&&s(u))};return new ReadableStream({async pull(u){try{const{done:h,value:f}=await i.next();if(h){d(),u.close();return}let g=f.byteLength;if(n){let x=a+=g;n(x)}u.enqueue(new Uint8Array(f))}catch(h){throw d(h),h}},cancel(u){return d(u),i.return()}},{highWaterMark:2})},El=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$x=El&&typeof ReadableStream=="function",OC=El&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Vx=(t,...e)=>{try{return!!t(...e)}catch{return!1}},IC=$x&&Vx(()=>{let t=!1;const e=new Request(cn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),fm=64*1024,md=$x&&Vx(()=>te.isReadableStream(new Response("").body)),Xa={stream:md&&(t=>t.body)};El&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Xa[e]&&(Xa[e]=te.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new $e(`Response type '${e}' is not supported`,$e.ERR_NOT_SUPPORT,s)})})})(new Response);const DC=async t=>{if(t==null)return 0;if(te.isBlob(t))return t.size;if(te.isSpecCompliantForm(t))return(await new Request(cn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(te.isArrayBufferView(t)||te.isArrayBuffer(t))return t.byteLength;if(te.isURLSearchParams(t)&&(t=t+""),te.isString(t))return(await OC(t)).byteLength},BC=async(t,e)=>{const n=te.toFiniteNumber(t.getContentLength());return n??DC(e)},FC=El&&(async t=>{let{url:e,method:n,data:s,signal:i,cancelToken:a,timeout:l,onDownloadProgress:d,onUploadProgress:u,responseType:h,headers:f,withCredentials:g="same-origin",fetchOptions:x}=zx(t);h=h?(h+"").toLowerCase():"text";let v=kC([i,a&&a.toAbortSignal()],l),b;const _=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let w;try{if(u&&IC&&n!=="get"&&n!=="head"&&(w=await BC(f,s))!==0){let T=new Request(e,{method:"POST",body:s,duplex:"half"}),A;if(te.isFormData(s)&&(A=T.headers.get("content-type"))&&f.setContentType(A),T.body){const[k,R]=cm(w,Ya(dm(u)));s=hm(T.body,fm,k,R)}}te.isString(g)||(g=g?"include":"omit");const C="credentials"in Request.prototype;b=new Request(e,{...x,signal:v,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:s,duplex:"half",credentials:C?g:void 0});let N=await fetch(b);const S=md&&(h==="stream"||h==="response");if(md&&(d||S&&_)){const T={};["status","statusText","headers"].forEach(O=>{T[O]=N[O]});const A=te.toFiniteNumber(N.headers.get("content-length")),[k,R]=d&&cm(A,Ya(dm(d),!0))||[];N=new Response(hm(N.body,fm,k,()=>{R&&R(),_&&_()}),T)}h=h||"text";let P=await Xa[te.findKey(Xa,h)||"text"](N,t);return!S&&_&&_(),await new Promise((T,A)=>{Bx(T,A,{data:P,headers:dn.from(N.headers),status:N.status,statusText:N.statusText,config:t,request:b})})}catch(C){throw _&&_(),C&&C.name==="TypeError"&&/fetch/i.test(C.message)?Object.assign(new $e("Network Error",$e.ERR_NETWORK,t,b),{cause:C.cause||C}):$e.from(C,C&&C.code,t,b)}}),pd={http:eC,xhr:AC,fetch:FC};te.forEach(pd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const mm=t=>`- ${t}`,zC=t=>te.isFunction(t)||t===null||t===!1,Ux={getAdapter:t=>{t=te.isArray(t)?t:[t];const{length:e}=t;let n,s;const i={};for(let a=0;a<e;a++){n=t[a];let l;if(s=n,!zC(n)&&(s=pd[(l=String(n)).toLowerCase()],s===void 0))throw new $e(`Unknown adapter '${l}'`);if(s)break;i[l||"#"+a]=s}if(!s){const a=Object.entries(i).map(([d,u])=>`adapter ${d} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=e?a.length>1?`since :
`+a.map(mm).join(`
`):" "+mm(a[0]):"as no adapter specified";throw new $e("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return s},adapters:pd};function Nc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new _i(null,t)}function pm(t){return Nc(t),t.headers=dn.from(t.headers),t.data=Sc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ux.getAdapter(t.adapter||Do.adapter)(t).then(function(s){return Nc(t),s.data=Sc.call(t,t.transformResponse,s),s.headers=dn.from(s.headers),s},function(s){return Dx(s)||(Nc(t),s&&s.response&&(s.response.data=Sc.call(t,t.transformResponse,s.response),s.response.headers=dn.from(s.response.headers))),Promise.reject(s)})}const Wx="1.7.7",Ru={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ru[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const gm={};Ru.transitional=function(e,n,s){function i(a,l){return"[Axios v"+Wx+"] Transitional option '"+a+"'"+l+(s?". "+s:"")}return(a,l,d)=>{if(e===!1)throw new $e(i(l," has been removed"+(n?" in "+n:"")),$e.ERR_DEPRECATED);return n&&!gm[l]&&(gm[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,l,d):!0}};function $C(t,e,n){if(typeof t!="object")throw new $e("options must be an object",$e.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let i=s.length;for(;i-- >0;){const a=s[i],l=e[a];if(l){const d=t[a],u=d===void 0||l(d,a,t);if(u!==!0)throw new $e("option "+a+" must be "+u,$e.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new $e("Unknown option "+a,$e.ERR_BAD_OPTION)}}const gd={assertOptions:$C,validators:Ru},ks=gd.validators;let yr=class{constructor(e){this.defaults=e,this.interceptors={request:new am,response:new am}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Cr(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:a}=n;s!==void 0&&gd.assertOptions(s,{silentJSONParsing:ks.transitional(ks.boolean),forcedJSONParsing:ks.transitional(ks.boolean),clarifyTimeoutError:ks.transitional(ks.boolean)},!1),i!=null&&(te.isFunction(i)?n.paramsSerializer={serialize:i}:gd.assertOptions(i,{encode:ks.function,serialize:ks.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=a&&te.merge(a.common,a[n.method]);a&&te.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),n.headers=dn.concat(l,a);const d=[];let u=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(u=u&&_.synchronous,d.unshift(_.fulfilled,_.rejected))});const h=[];this.interceptors.response.forEach(function(_){h.push(_.fulfilled,_.rejected)});let f,g=0,x;if(!u){const b=[pm.bind(this),void 0];for(b.unshift.apply(b,d),b.push.apply(b,h),x=b.length,f=Promise.resolve(n);g<x;)f=f.then(b[g++],b[g++]);return f}x=d.length;let v=n;for(g=0;g<x;){const b=d[g++],_=d[g++];try{v=b(v)}catch(w){_.call(this,w);break}}try{f=pm.call(this,v)}catch(b){return Promise.reject(b)}for(g=0,x=h.length;g<x;)f=f.then(h[g++],h[g++]);return f}getUri(e){e=Cr(this.defaults,e);const n=Fx(e.baseURL,e.url);return Mx(n,e.params,e.paramsSerializer)}};te.forEach(["delete","get","head","options"],function(e){yr.prototype[e]=function(n,s){return this.request(Cr(s||{},{method:e,url:n,data:(s||{}).data}))}});te.forEach(["post","put","patch"],function(e){function n(s){return function(a,l,d){return this.request(Cr(d||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}yr.prototype[e]=n(),yr.prototype[e+"Form"]=n(!0)});let VC=class Hx{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const s=this;this.promise.then(i=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](i);s._listeners=null}),this.promise.then=i=>{let a;const l=new Promise(d=>{s.subscribe(d),a=d}).then(i);return l.cancel=function(){s.unsubscribe(a)},l},e(function(a,l,d){s.reason||(s.reason=new _i(a,l,d),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Hx(function(i){e=i}),cancel:e}}};function UC(t){return function(n){return t.apply(null,n)}}function WC(t){return te.isObject(t)&&t.isAxiosError===!0}const xd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xd).forEach(([t,e])=>{xd[e]=t});function Zx(t){const e=new yr(t),n=wx(yr.prototype.request,e);return te.extend(n,yr.prototype,e,{allOwnKeys:!0}),te.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Zx(Cr(t,i))},n}const At=Zx(Do);At.Axios=yr;At.CanceledError=_i;At.CancelToken=VC;At.isCancel=Dx;At.VERSION=Wx;At.toFormData=Tl;At.AxiosError=$e;At.Cancel=At.CanceledError;At.all=function(e){return Promise.all(e)};At.spread=UC;At.isAxiosError=WC;At.mergeConfig=Cr;At.AxiosHeaders=dn;At.formToJSON=t=>Ix(te.isHTMLForm(t)?new FormData(t):t);At.getAdapter=Ux.getAdapter;At.HttpStatusCode=xd;At.default=At;const{Axios:$B,AxiosError:VB,CanceledError:UB,isCancel:WB,CancelToken:HB,VERSION:ZB,all:GB,Cancel:qB,isAxiosError:KB,spread:YB,toFormData:XB,AxiosHeaders:JB,HttpStatusCode:QB,formToJSON:e6,getAdapter:t6,mergeConfig:n6}=At;var Mu={},Bo={},Gx={exports:{}};function HC(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Cc={exports:{}};const ZC={},GC=Object.freeze(Object.defineProperty({__proto__:null,default:ZC},Symbol.toStringTag,{value:"Module"})),qC=AS(GC);var xm;function qs(){return xm||(xm=1,function(t,e){(function(n,s){t.exports=s()})(us,function(){var n=n||function(s,i){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof HC=="function")try{a=qC}catch{}var l=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},d=Object.create||function(){function N(){}return function(S){var P;return N.prototype=S,P=new N,N.prototype=null,P}}(),u={},h=u.lib={},f=h.Base=function(){return{extend:function(N){var S=d(this);return N&&S.mixIn(N),(!S.hasOwnProperty("init")||this.init===S.init)&&(S.init=function(){S.$super.init.apply(this,arguments)}),S.init.prototype=S,S.$super=this,S},create:function(){var N=this.extend();return N.init.apply(N,arguments),N},init:function(){},mixIn:function(N){for(var S in N)N.hasOwnProperty(S)&&(this[S]=N[S]);N.hasOwnProperty("toString")&&(this.toString=N.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),g=h.WordArray=f.extend({init:function(N,S){N=this.words=N||[],S!=i?this.sigBytes=S:this.sigBytes=N.length*4},toString:function(N){return(N||v).stringify(this)},concat:function(N){var S=this.words,P=N.words,T=this.sigBytes,A=N.sigBytes;if(this.clamp(),T%4)for(var k=0;k<A;k++){var R=P[k>>>2]>>>24-k%4*8&255;S[T+k>>>2]|=R<<24-(T+k)%4*8}else for(var O=0;O<A;O+=4)S[T+O>>>2]=P[O>>>2];return this.sigBytes+=A,this},clamp:function(){var N=this.words,S=this.sigBytes;N[S>>>2]&=4294967295<<32-S%4*8,N.length=s.ceil(S/4)},clone:function(){var N=f.clone.call(this);return N.words=this.words.slice(0),N},random:function(N){for(var S=[],P=0;P<N;P+=4)S.push(l());return new g.init(S,N)}}),x=u.enc={},v=x.Hex={stringify:function(N){for(var S=N.words,P=N.sigBytes,T=[],A=0;A<P;A++){var k=S[A>>>2]>>>24-A%4*8&255;T.push((k>>>4).toString(16)),T.push((k&15).toString(16))}return T.join("")},parse:function(N){for(var S=N.length,P=[],T=0;T<S;T+=2)P[T>>>3]|=parseInt(N.substr(T,2),16)<<24-T%8*4;return new g.init(P,S/2)}},b=x.Latin1={stringify:function(N){for(var S=N.words,P=N.sigBytes,T=[],A=0;A<P;A++){var k=S[A>>>2]>>>24-A%4*8&255;T.push(String.fromCharCode(k))}return T.join("")},parse:function(N){for(var S=N.length,P=[],T=0;T<S;T++)P[T>>>2]|=(N.charCodeAt(T)&255)<<24-T%4*8;return new g.init(P,S)}},_=x.Utf8={stringify:function(N){try{return decodeURIComponent(escape(b.stringify(N)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(N){return b.parse(unescape(encodeURIComponent(N)))}},w=h.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new g.init,this._nDataBytes=0},_append:function(N){typeof N=="string"&&(N=_.parse(N)),this._data.concat(N),this._nDataBytes+=N.sigBytes},_process:function(N){var S,P=this._data,T=P.words,A=P.sigBytes,k=this.blockSize,R=k*4,O=A/R;N?O=s.ceil(O):O=s.max((O|0)-this._minBufferSize,0);var M=O*k,z=s.min(M*4,A);if(M){for(var F=0;F<M;F+=k)this._doProcessBlock(T,F);S=T.splice(0,M),P.sigBytes-=z}return new g.init(S,z)},clone:function(){var N=f.clone.call(this);return N._data=this._data.clone(),N},_minBufferSize:0});h.Hasher=w.extend({cfg:f.extend(),init:function(N){this.cfg=this.cfg.extend(N),this.reset()},reset:function(){w.reset.call(this),this._doReset()},update:function(N){return this._append(N),this._process(),this},finalize:function(N){N&&this._append(N);var S=this._doFinalize();return S},blockSize:16,_createHelper:function(N){return function(S,P){return new N.init(P).finalize(S)}},_createHmacHelper:function(N){return function(S,P){return new C.HMAC.init(N,P).finalize(S)}}});var C=u.algo={};return u}(Math);return n})}(Cc)),Cc.exports}(function(t,e){(function(n,s){t.exports=s(qs())})(us,function(n){return n.enc.Utf8})})(Gx);var KC=Gx.exports,qx={exports:{}},Pc={exports:{}},vm;function YC(){return vm||(vm=1,function(t,e){(function(n,s){t.exports=s(qs())})(us,function(n){return function(){var s=n,i=s.lib,a=i.WordArray,l=s.enc;l.Base64={stringify:function(u){var h=u.words,f=u.sigBytes,g=this._map;u.clamp();for(var x=[],v=0;v<f;v+=3)for(var b=h[v>>>2]>>>24-v%4*8&255,_=h[v+1>>>2]>>>24-(v+1)%4*8&255,w=h[v+2>>>2]>>>24-(v+2)%4*8&255,C=b<<16|_<<8|w,N=0;N<4&&v+N*.75<f;N++)x.push(g.charAt(C>>>6*(3-N)&63));var S=g.charAt(64);if(S)for(;x.length%4;)x.push(S);return x.join("")},parse:function(u){var h=u.length,f=this._map,g=this._reverseMap;if(!g){g=this._reverseMap=[];for(var x=0;x<f.length;x++)g[f.charCodeAt(x)]=x}var v=f.charAt(64);if(v){var b=u.indexOf(v);b!==-1&&(h=b)}return d(u,h,g)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function d(u,h,f){for(var g=[],x=0,v=0;v<h;v++)if(v%4){var b=f[u.charCodeAt(v-1)]<<v%4*2,_=f[u.charCodeAt(v)]>>>6-v%4*2,w=b|_;g[x>>>2]|=w<<24-x%4*8,x++}return a.create(g,x)}}(),n.enc.Base64})}(Pc)),Pc.exports}var Tc={exports:{}},ym;function XC(){return ym||(ym=1,function(t,e){(function(n,s){t.exports=s(qs())})(us,function(n){return function(s){var i=n,a=i.lib,l=a.WordArray,d=a.Hasher,u=i.algo,h=[];(function(){for(var _=0;_<64;_++)h[_]=s.abs(s.sin(_+1))*4294967296|0})();var f=u.MD5=d.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(_,w){for(var C=0;C<16;C++){var N=w+C,S=_[N];_[N]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}var P=this._hash.words,T=_[w+0],A=_[w+1],k=_[w+2],R=_[w+3],O=_[w+4],M=_[w+5],z=_[w+6],F=_[w+7],B=_[w+8],J=_[w+9],ee=_[w+10],X=_[w+11],oe=_[w+12],q=_[w+13],re=_[w+14],V=_[w+15],W=P[0],G=P[1],$=P[2],U=P[3];W=g(W,G,$,U,T,7,h[0]),U=g(U,W,G,$,A,12,h[1]),$=g($,U,W,G,k,17,h[2]),G=g(G,$,U,W,R,22,h[3]),W=g(W,G,$,U,O,7,h[4]),U=g(U,W,G,$,M,12,h[5]),$=g($,U,W,G,z,17,h[6]),G=g(G,$,U,W,F,22,h[7]),W=g(W,G,$,U,B,7,h[8]),U=g(U,W,G,$,J,12,h[9]),$=g($,U,W,G,ee,17,h[10]),G=g(G,$,U,W,X,22,h[11]),W=g(W,G,$,U,oe,7,h[12]),U=g(U,W,G,$,q,12,h[13]),$=g($,U,W,G,re,17,h[14]),G=g(G,$,U,W,V,22,h[15]),W=x(W,G,$,U,A,5,h[16]),U=x(U,W,G,$,z,9,h[17]),$=x($,U,W,G,X,14,h[18]),G=x(G,$,U,W,T,20,h[19]),W=x(W,G,$,U,M,5,h[20]),U=x(U,W,G,$,ee,9,h[21]),$=x($,U,W,G,V,14,h[22]),G=x(G,$,U,W,O,20,h[23]),W=x(W,G,$,U,J,5,h[24]),U=x(U,W,G,$,re,9,h[25]),$=x($,U,W,G,R,14,h[26]),G=x(G,$,U,W,B,20,h[27]),W=x(W,G,$,U,q,5,h[28]),U=x(U,W,G,$,k,9,h[29]),$=x($,U,W,G,F,14,h[30]),G=x(G,$,U,W,oe,20,h[31]),W=v(W,G,$,U,M,4,h[32]),U=v(U,W,G,$,B,11,h[33]),$=v($,U,W,G,X,16,h[34]),G=v(G,$,U,W,re,23,h[35]),W=v(W,G,$,U,A,4,h[36]),U=v(U,W,G,$,O,11,h[37]),$=v($,U,W,G,F,16,h[38]),G=v(G,$,U,W,ee,23,h[39]),W=v(W,G,$,U,q,4,h[40]),U=v(U,W,G,$,T,11,h[41]),$=v($,U,W,G,R,16,h[42]),G=v(G,$,U,W,z,23,h[43]),W=v(W,G,$,U,J,4,h[44]),U=v(U,W,G,$,oe,11,h[45]),$=v($,U,W,G,V,16,h[46]),G=v(G,$,U,W,k,23,h[47]),W=b(W,G,$,U,T,6,h[48]),U=b(U,W,G,$,F,10,h[49]),$=b($,U,W,G,re,15,h[50]),G=b(G,$,U,W,M,21,h[51]),W=b(W,G,$,U,oe,6,h[52]),U=b(U,W,G,$,R,10,h[53]),$=b($,U,W,G,ee,15,h[54]),G=b(G,$,U,W,A,21,h[55]),W=b(W,G,$,U,B,6,h[56]),U=b(U,W,G,$,V,10,h[57]),$=b($,U,W,G,z,15,h[58]),G=b(G,$,U,W,q,21,h[59]),W=b(W,G,$,U,O,6,h[60]),U=b(U,W,G,$,X,10,h[61]),$=b($,U,W,G,k,15,h[62]),G=b(G,$,U,W,J,21,h[63]),P[0]=P[0]+W|0,P[1]=P[1]+G|0,P[2]=P[2]+$|0,P[3]=P[3]+U|0},_doFinalize:function(){var _=this._data,w=_.words,C=this._nDataBytes*8,N=_.sigBytes*8;w[N>>>5]|=128<<24-N%32;var S=s.floor(C/4294967296),P=C;w[(N+64>>>9<<4)+15]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,w[(N+64>>>9<<4)+14]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,_.sigBytes=(w.length+1)*4,this._process();for(var T=this._hash,A=T.words,k=0;k<4;k++){var R=A[k];A[k]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return T},clone:function(){var _=d.clone.call(this);return _._hash=this._hash.clone(),_}});function g(_,w,C,N,S,P,T){var A=_+(w&C|~w&N)+S+T;return(A<<P|A>>>32-P)+w}function x(_,w,C,N,S,P,T){var A=_+(w&N|C&~N)+S+T;return(A<<P|A>>>32-P)+w}function v(_,w,C,N,S,P,T){var A=_+(w^C^N)+S+T;return(A<<P|A>>>32-P)+w}function b(_,w,C,N,S,P,T){var A=_+(C^(w|~N))+S+T;return(A<<P|A>>>32-P)+w}i.MD5=d._createHelper(f),i.HmacMD5=d._createHmacHelper(f)}(Math),n.MD5})}(Tc)),Tc.exports}var Ec={exports:{}},Ac={exports:{}},_m;function JC(){return _m||(_m=1,function(t,e){(function(n,s){t.exports=s(qs())})(us,function(n){return function(){var s=n,i=s.lib,a=i.WordArray,l=i.Hasher,d=s.algo,u=[],h=d.SHA1=l.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(f,g){for(var x=this._hash.words,v=x[0],b=x[1],_=x[2],w=x[3],C=x[4],N=0;N<80;N++){if(N<16)u[N]=f[g+N]|0;else{var S=u[N-3]^u[N-8]^u[N-14]^u[N-16];u[N]=S<<1|S>>>31}var P=(v<<5|v>>>27)+C+u[N];N<20?P+=(b&_|~b&w)+1518500249:N<40?P+=(b^_^w)+1859775393:N<60?P+=(b&_|b&w|_&w)-1894007588:P+=(b^_^w)-899497514,C=w,w=_,_=b<<30|b>>>2,b=v,v=P}x[0]=x[0]+v|0,x[1]=x[1]+b|0,x[2]=x[2]+_|0,x[3]=x[3]+w|0,x[4]=x[4]+C|0},_doFinalize:function(){var f=this._data,g=f.words,x=this._nDataBytes*8,v=f.sigBytes*8;return g[v>>>5]|=128<<24-v%32,g[(v+64>>>9<<4)+14]=Math.floor(x/4294967296),g[(v+64>>>9<<4)+15]=x,f.sigBytes=g.length*4,this._process(),this._hash},clone:function(){var f=l.clone.call(this);return f._hash=this._hash.clone(),f}});s.SHA1=l._createHelper(h),s.HmacSHA1=l._createHmacHelper(h)}(),n.SHA1})}(Ac)),Ac.exports}var kc={exports:{}},bm;function QC(){return bm||(bm=1,function(t,e){(function(n,s){t.exports=s(qs())})(us,function(n){(function(){var s=n,i=s.lib,a=i.Base,l=s.enc,d=l.Utf8,u=s.algo;u.HMAC=a.extend({init:function(h,f){h=this._hasher=new h.init,typeof f=="string"&&(f=d.parse(f));var g=h.blockSize,x=g*4;f.sigBytes>x&&(f=h.finalize(f)),f.clamp();for(var v=this._oKey=f.clone(),b=this._iKey=f.clone(),_=v.words,w=b.words,C=0;C<g;C++)_[C]^=1549556828,w[C]^=909522486;v.sigBytes=b.sigBytes=x,this.reset()},reset:function(){var h=this._hasher;h.reset(),h.update(this._iKey)},update:function(h){return this._hasher.update(h),this},finalize:function(h){var f=this._hasher,g=f.finalize(h);f.reset();var x=f.finalize(this._oKey.clone().concat(g));return x}})})()})}(kc)),kc.exports}var wm;function Kx(){return wm||(wm=1,function(t,e){(function(n,s,i){t.exports=s(qs(),JC(),QC())})(us,function(n){return function(){var s=n,i=s.lib,a=i.Base,l=i.WordArray,d=s.algo,u=d.MD5,h=d.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:u,iterations:1}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,g){for(var x,v=this.cfg,b=v.hasher.create(),_=l.create(),w=_.words,C=v.keySize,N=v.iterations;w.length<C;){x&&b.update(x),x=b.update(f).finalize(g),b.reset();for(var S=1;S<N;S++)x=b.finalize(x),b.reset();_.concat(x)}return _.sigBytes=C*4,_}});s.EvpKDF=function(f,g,x){return h.create(x).compute(f,g)}}(),n.EvpKDF})}(Ec)),Ec.exports}var Lc={exports:{}},jm;function e2(){return jm||(jm=1,function(t,e){(function(n,s,i){t.exports=s(qs(),Kx())})(us,function(n){n.lib.Cipher||function(s){var i=n,a=i.lib,l=a.Base,d=a.WordArray,u=a.BufferedBlockAlgorithm,h=i.enc;h.Utf8;var f=h.Base64,g=i.algo,x=g.EvpKDF,v=a.Cipher=u.extend({cfg:l.extend(),createEncryptor:function(M,z){return this.create(this._ENC_XFORM_MODE,M,z)},createDecryptor:function(M,z){return this.create(this._DEC_XFORM_MODE,M,z)},init:function(M,z,F){this.cfg=this.cfg.extend(F),this._xformMode=M,this._key=z,this.reset()},reset:function(){u.reset.call(this),this._doReset()},process:function(M){return this._append(M),this._process()},finalize:function(M){M&&this._append(M);var z=this._doFinalize();return z},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function M(z){return typeof z=="string"?O:A}return function(z){return{encrypt:function(F,B,J){return M(B).encrypt(z,F,B,J)},decrypt:function(F,B,J){return M(B).decrypt(z,F,B,J)}}}}()});a.StreamCipher=v.extend({_doFinalize:function(){var M=this._process(!0);return M},blockSize:1});var b=i.mode={},_=a.BlockCipherMode=l.extend({createEncryptor:function(M,z){return this.Encryptor.create(M,z)},createDecryptor:function(M,z){return this.Decryptor.create(M,z)},init:function(M,z){this._cipher=M,this._iv=z}}),w=b.CBC=function(){var M=_.extend();M.Encryptor=M.extend({processBlock:function(F,B){var J=this._cipher,ee=J.blockSize;z.call(this,F,B,ee),J.encryptBlock(F,B),this._prevBlock=F.slice(B,B+ee)}}),M.Decryptor=M.extend({processBlock:function(F,B){var J=this._cipher,ee=J.blockSize,X=F.slice(B,B+ee);J.decryptBlock(F,B),z.call(this,F,B,ee),this._prevBlock=X}});function z(F,B,J){var ee,X=this._iv;X?(ee=X,this._iv=s):ee=this._prevBlock;for(var oe=0;oe<J;oe++)F[B+oe]^=ee[oe]}return M}(),C=i.pad={},N=C.Pkcs7={pad:function(M,z){for(var F=z*4,B=F-M.sigBytes%F,J=B<<24|B<<16|B<<8|B,ee=[],X=0;X<B;X+=4)ee.push(J);var oe=d.create(ee,B);M.concat(oe)},unpad:function(M){var z=M.words[M.sigBytes-1>>>2]&255;M.sigBytes-=z}};a.BlockCipher=v.extend({cfg:v.cfg.extend({mode:w,padding:N}),reset:function(){var M;v.reset.call(this);var z=this.cfg,F=z.iv,B=z.mode;this._xformMode==this._ENC_XFORM_MODE?M=B.createEncryptor:(M=B.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==M?this._mode.init(this,F&&F.words):(this._mode=M.call(B,this,F&&F.words),this._mode.__creator=M)},_doProcessBlock:function(M,z){this._mode.processBlock(M,z)},_doFinalize:function(){var M,z=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(z.pad(this._data,this.blockSize),M=this._process(!0)):(M=this._process(!0),z.unpad(M)),M},blockSize:128/32});var S=a.CipherParams=l.extend({init:function(M){this.mixIn(M)},toString:function(M){return(M||this.formatter).stringify(this)}}),P=i.format={},T=P.OpenSSL={stringify:function(M){var z,F=M.ciphertext,B=M.salt;return B?z=d.create([1398893684,1701076831]).concat(B).concat(F):z=F,z.toString(f)},parse:function(M){var z,F=f.parse(M),B=F.words;return B[0]==1398893684&&B[1]==1701076831&&(z=d.create(B.slice(2,4)),B.splice(0,4),F.sigBytes-=16),S.create({ciphertext:F,salt:z})}},A=a.SerializableCipher=l.extend({cfg:l.extend({format:T}),encrypt:function(M,z,F,B){B=this.cfg.extend(B);var J=M.createEncryptor(F,B),ee=J.finalize(z),X=J.cfg;return S.create({ciphertext:ee,key:F,iv:X.iv,algorithm:M,mode:X.mode,padding:X.padding,blockSize:M.blockSize,formatter:B.format})},decrypt:function(M,z,F,B){B=this.cfg.extend(B),z=this._parse(z,B.format);var J=M.createDecryptor(F,B).finalize(z.ciphertext);return J},_parse:function(M,z){return typeof M=="string"?z.parse(M,this):M}}),k=i.kdf={},R=k.OpenSSL={execute:function(M,z,F,B,J){if(B||(B=d.random(64/8)),J)var ee=x.create({keySize:z+F,hasher:J}).compute(M,B);else var ee=x.create({keySize:z+F}).compute(M,B);var X=d.create(ee.words.slice(z),F*4);return ee.sigBytes=z*4,S.create({key:ee,iv:X,salt:B})}},O=a.PasswordBasedCipher=A.extend({cfg:A.cfg.extend({kdf:R}),encrypt:function(M,z,F,B){B=this.cfg.extend(B);var J=B.kdf.execute(F,M.keySize,M.ivSize,B.salt,B.hasher);B.iv=J.iv;var ee=A.encrypt.call(this,M,z,J.key,B);return ee.mixIn(J),ee},decrypt:function(M,z,F,B){B=this.cfg.extend(B),z=this._parse(z,B.format);var J=B.kdf.execute(F,M.keySize,M.ivSize,z.salt,B.hasher);B.iv=J.iv;var ee=A.decrypt.call(this,M,z,J.key,B);return ee}})}()})}(Lc)),Lc.exports}(function(t,e){(function(n,s,i){t.exports=s(qs(),YC(),XC(),Kx(),e2())})(us,function(n){return function(){var s=n,i=s.lib,a=i.BlockCipher,l=s.algo,d=[],u=[],h=[],f=[],g=[],x=[],v=[],b=[],_=[],w=[];(function(){for(var S=[],P=0;P<256;P++)P<128?S[P]=P<<1:S[P]=P<<1^283;for(var T=0,A=0,P=0;P<256;P++){var k=A^A<<1^A<<2^A<<3^A<<4;k=k>>>8^k&255^99,d[T]=k,u[k]=T;var R=S[T],O=S[R],M=S[O],z=S[k]*257^k*16843008;h[T]=z<<24|z>>>8,f[T]=z<<16|z>>>16,g[T]=z<<8|z>>>24,x[T]=z;var z=M*16843009^O*65537^R*257^T*16843008;v[k]=z<<24|z>>>8,b[k]=z<<16|z>>>16,_[k]=z<<8|z>>>24,w[k]=z,T?(T=R^S[S[S[M^R]]],A^=S[S[A]]):T=A=1}})();var C=[0,1,2,4,8,16,32,64,128,27,54],N=l.AES=a.extend({_doReset:function(){var S;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var P=this._keyPriorReset=this._key,T=P.words,A=P.sigBytes/4,k=this._nRounds=A+6,R=(k+1)*4,O=this._keySchedule=[],M=0;M<R;M++)M<A?O[M]=T[M]:(S=O[M-1],M%A?A>6&&M%A==4&&(S=d[S>>>24]<<24|d[S>>>16&255]<<16|d[S>>>8&255]<<8|d[S&255]):(S=S<<8|S>>>24,S=d[S>>>24]<<24|d[S>>>16&255]<<16|d[S>>>8&255]<<8|d[S&255],S^=C[M/A|0]<<24),O[M]=O[M-A]^S);for(var z=this._invKeySchedule=[],F=0;F<R;F++){var M=R-F;if(F%4)var S=O[M];else var S=O[M-4];F<4||M<=4?z[F]=S:z[F]=v[d[S>>>24]]^b[d[S>>>16&255]]^_[d[S>>>8&255]]^w[d[S&255]]}}},encryptBlock:function(S,P){this._doCryptBlock(S,P,this._keySchedule,h,f,g,x,d)},decryptBlock:function(S,P){var T=S[P+1];S[P+1]=S[P+3],S[P+3]=T,this._doCryptBlock(S,P,this._invKeySchedule,v,b,_,w,u);var T=S[P+1];S[P+1]=S[P+3],S[P+3]=T},_doCryptBlock:function(S,P,T,A,k,R,O,M){for(var z=this._nRounds,F=S[P]^T[0],B=S[P+1]^T[1],J=S[P+2]^T[2],ee=S[P+3]^T[3],X=4,oe=1;oe<z;oe++){var q=A[F>>>24]^k[B>>>16&255]^R[J>>>8&255]^O[ee&255]^T[X++],re=A[B>>>24]^k[J>>>16&255]^R[ee>>>8&255]^O[F&255]^T[X++],V=A[J>>>24]^k[ee>>>16&255]^R[F>>>8&255]^O[B&255]^T[X++],W=A[ee>>>24]^k[F>>>16&255]^R[B>>>8&255]^O[J&255]^T[X++];F=q,B=re,J=V,ee=W}var q=(M[F>>>24]<<24|M[B>>>16&255]<<16|M[J>>>8&255]<<8|M[ee&255])^T[X++],re=(M[B>>>24]<<24|M[J>>>16&255]<<16|M[ee>>>8&255]<<8|M[F&255])^T[X++],V=(M[J>>>24]<<24|M[ee>>>16&255]<<16|M[F>>>8&255]<<8|M[B&255])^T[X++],W=(M[ee>>>24]<<24|M[F>>>16&255]<<16|M[B>>>8&255]<<8|M[J&255])^T[X++];S[P]=q,S[P+1]=re,S[P+2]=V,S[P+3]=W},keySize:256/32});s.AES=a._createHelper(N)}(),n.AES})})(qx);var t2=qx.exports,Al={},Fo={},en={};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.default=void 0;var n2=function(){var e=null;try{typeof Cypress<"u"?e=Cypress.env("SECURE_LOCAL_STORAGE_HASH_KEY")||Cypress.env("REACT_APP_SECURE_LOCAL_STORAGE_HASH_KEY")||Cypress.env("NEXT_PUBLIC_SECURE_LOCAL_STORAGE_HASH_KEY")||Cypress.env("VITE_SECURE_LOCAL_STORAGE_HASH_KEY"):typeof en<"u"?e=en.SECURE_LOCAL_STORAGE_HASH_KEY||en.REACT_APP_SECURE_LOCAL_STORAGE_HASH_KEY||en.NEXT_PUBLIC_SECURE_LOCAL_STORAGE_HASH_KEY||en.VITE_SECURE_LOCAL_STORAGE_HASH_KEY:console.warn("react-secure-storage : process is not defined! Just a warning!")}catch{return null}return e},s2=function(){var e=null;try{typeof Cypress<"u"?e=Cypress.env("SECURE_LOCAL_STORAGE_PREFIX")||Cypress.env("REACT_APP_SECURE_LOCAL_STORAGE_PREFIX")||Cypress.env("NEXT_PUBLIC_SECURE_LOCAL_STORAGE_PREFIX")||Cypress.env("VITE_SECURE_LOCAL_STORAGE_PREFIX"):typeof en<"u"?e=en.SECURE_LOCAL_STORAGE_PREFIX||en.REACT_APP_SECURE_LOCAL_STORAGE_PREFIX||en.NEXT_PUBLIC_SECURE_LOCAL_STORAGE_PREFIX||en.VITE_SECURE_LOCAL_STORAGE_PREFIX:console.warn("react-secure-storage : process is not defined! Just a warning!")}catch{return null}return e},r2=function(){var e=null;try{typeof Cypress<"u"?e=Cypress.env("SECURE_LOCAL_STORAGE_DISABLED_KEYS")||Cypress.env("REACT_APP_SECURE_LOCAL_STORAGE_DISABLED_KEYS")||Cypress.env("NEXT_PUBLIC_SECURE_LOCAL_STORAGE_DISABLED_KEYS")||Cypress.env("VITE_SECURE_LOCAL_STORAGE_DISABLED_KEYS"):typeof en<"u"?e=en.SECURE_LOCAL_STORAGE_DISABLED_KEYS||en.REACT_APP_SECURE_LOCAL_STORAGE_DISABLED_KEYS||en.NEXT_PUBLIC_SECURE_LOCAL_STORAGE_DISABLED_KEYS||en.VITE_SECURE_LOCAL_STORAGE_DISABLED_KEYS:console.warn("react-secure-storage : process is not defined! Just a warning!")}catch{return null}return e},i2={getHashKey:n2,getStoragePrefix:s2,getDisabledKeys:r2},o2=i2;Fo.default=o2;var kl={},Yx={exports:{}};(function(t){function e(n,s){var i,a,l,d,u,h,f,g;for(i=n.length&3,a=n.length-i,l=s,u=3432918353,h=461845907,g=0;g<a;)f=n.charCodeAt(g)&255|(n.charCodeAt(++g)&255)<<8|(n.charCodeAt(++g)&255)<<16|(n.charCodeAt(++g)&255)<<24,++g,f=(f&65535)*u+(((f>>>16)*u&65535)<<16)&4294967295,f=f<<15|f>>>17,f=(f&65535)*h+(((f>>>16)*h&65535)<<16)&4294967295,l^=f,l=l<<13|l>>>19,d=(l&65535)*5+(((l>>>16)*5&65535)<<16)&4294967295,l=(d&65535)+27492+(((d>>>16)+58964&65535)<<16);switch(f=0,i){case 3:f^=(n.charCodeAt(g+2)&255)<<16;case 2:f^=(n.charCodeAt(g+1)&255)<<8;case 1:f^=n.charCodeAt(g)&255,f=(f&65535)*u+(((f>>>16)*u&65535)<<16)&4294967295,f=f<<15|f>>>17,f=(f&65535)*h+(((f>>>16)*h&65535)<<16)&4294967295,l^=f}return l^=n.length,l^=l>>>16,l=(l&65535)*2246822507+(((l>>>16)*2246822507&65535)<<16)&4294967295,l^=l>>>13,l=(l&65535)*3266489909+(((l>>>16)*3266489909&65535)<<16)&4294967295,l^=l>>>16,l>>>0}t.exports=e})(Yx);var a2=Yx.exports,is={};Object.defineProperty(is,"__esModule",{value:!0});is.getSecurePrefix=is.getDisabledKeys=is.FINGERPRINT_KEYS=void 0;var Xx=l2(Fo);function l2(t){return t&&t.__esModule?t:{default:t}}var c2=function(){var e=Xx.default.getStoragePrefix()||"@secure.";return e.endsWith(".")?e:e+"."};is.getSecurePrefix=c2;var _n={USERAGENT:"UserAgent",SCREEN_PRINT:"ScreenPrint",PLUGINS:"Plugins",FONTS:"Fonts",LOCAL_STORAGE:"LocalStorage",SESSION_STORAGE:"SessionStorage",TIMEZONE:"TimeZone",LANGUAGE:"Language",SYSTEM_LANGUAGE:"SystemLanguage",COOKIE:"Cookie",CANVAS:"Canvas",HOSTNAME:"Hostname"};is.FINGERPRINT_KEYS=_n;var d2=function(){var e=Xx.default.getDisabledKeys()||"";if(e==="")return[];var n=[_n.USERAGENT,_n.SCREEN_PRINT,_n.PLUGINS,_n.FONTS,_n.LOCAL_STORAGE,_n.SESSION_STORAGE,_n.TIMEZONE,_n.LANGUAGE,_n.SYSTEM_LANGUAGE,_n.COOKIE,_n.CANVAS,_n.HOSTNAME],s=[];return e.split("|").forEach(function(i){i===""||(n.includes(i)?s.push(i):console.warn("react-secure-storage : ".concat(i," is not present in the available disabled keys options! Please go through the documentation")))}),s};is.getDisabledKeys=d2;Object.defineProperty(kl,"__esModule",{value:!0});kl.default=void 0;var u2=h2(a2),yn=is;function h2(t){return t&&t.__esModule?t:{default:t}}function f2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m2(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function p2(t,e,n){return e&&m2(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var g2=function(){function t(){f2(this,t)}return p2(t,[{key:"getFingerprint",value:function(){var n="|",s=(0,yn.getDisabledKeys)(),i="";s.includes(yn.FINGERPRINT_KEYS.USERAGENT)||(i+=navigator.userAgent+n),s.includes(yn.FINGERPRINT_KEYS.HOSTNAME)||(i+=window.location.hostname+n),s.includes(yn.FINGERPRINT_KEYS.SCREEN_PRINT)||(i+=this.getScreenPrint()+n),s.includes(yn.FINGERPRINT_KEYS.PLUGINS)||(i+=this.getPlugins()+n),s.includes(yn.FINGERPRINT_KEYS.FONTS)||(i+=this.getFonts()+n),s.includes(yn.FINGERPRINT_KEYS.LOCAL_STORAGE)||(i+=this.isLocalStorage()+n),s.includes(yn.FINGERPRINT_KEYS.SESSION_STORAGE)||(i+=this.isSessionStorage()+n),s.includes(yn.FINGERPRINT_KEYS.TIMEZONE)||(i+=this.getTimeZone()+n),s.includes(yn.FINGERPRINT_KEYS.LANGUAGE)||(i+=this.getLanguage()+n),s.includes(yn.FINGERPRINT_KEYS.SYSTEM_LANGUAGE)||(i+=this.getSystemLanguage()+n),s.includes(yn.FINGERPRINT_KEYS.COOKIE)||(i+=this.isCookie()+n),s.includes(yn.FINGERPRINT_KEYS.CANVAS)||(i+=this.getCanvasPrint()),i.endsWith(n)&&(i=i.substring(0,i.length-1));var a=256;return(0,u2.default)(i,a)}},{key:"getScreenPrint",value:function(){return"Color Depth: "+this.getColorDepth()+", Device XDPI: "+this.getDeviceXDPI()+", Device YDPI: "+this.getDeviceYDPI()}},{key:"getColorDepth",value:function(){return window.screen.colorDepth}},{key:"getCurrentResolution",value:function(){return window.screen.width+"x"+window.screen.height}},{key:"getAvailableResolution",value:function(){return window.screen.availWidth+"x"+window.screen.availHeight}},{key:"getDeviceXDPI",value:function(){return""}},{key:"getDeviceYDPI",value:function(){return""}},{key:"getPlugins",value:function(){for(var n="",s=0;s<navigator.plugins.length;s++)s===navigator.plugins.length-1?n+=navigator.plugins[s].name:n+=navigator.plugins[s].name+", ";return n}},{key:"getFonts",value:function(){var n="";return n}},{key:"isLocalStorage",value:function(){try{return!!localStorage}catch{return!0}}},{key:"isSessionStorage",value:function(){try{return!!sessionStorage}catch{return!0}}},{key:"isCookie",value:function(){return navigator.cookieEnabled}},{key:"getTimeZone",value:function(){var n,s,i,a;return n=new Date,s=String(-(n.getTimezoneOffset()/60)),s<0?(s=s*-1,i=("0"+s).slice(-2),a="-"+i):(i=("0"+s).slice(-2),a="+"+i),a}},{key:"getLanguage",value:function(){return navigator.language}},{key:"getSystemLanguage",value:function(){return navigator.language||window.navigator.language}},{key:"getCanvasPrint",value:function(){var n=document.createElement("canvas"),s;try{s=n.getContext("2d")}catch{return""}var i="ClientJS,org <canvas> 1.0";return s.textBaseline="top",s.font="14px 'Arial'",s.textBaseline="alphabetic",s.fillStyle="#f60",s.fillRect(125,1,62,20),s.fillStyle="#069",s.fillText(i,2,15),s.fillStyle="rgba(102, 204, 0, 0.7)",s.fillText(i,4,17),n.toDataURL()}}]),t}(),x2=new g2,v2=x2;kl.default=v2;Object.defineProperty(Al,"__esModule",{value:!0});Al.default=void 0;var y2=Jx(Fo),_2=Jx(kl);function Jx(t){return t&&t.__esModule?t:{default:t}}var b2="E86E2612010258B35137",w2=function(){var e=y2.default.getHashKey()||b2;return typeof window>"u"?e:_2.default.getFingerprint()+e},j2=w2;Al.default=j2;Object.defineProperty(Bo,"__esModule",{value:!0});Bo.default=void 0;var S2=Ou(KC),Sm=Ou(t2),N2=Ou(Al);function Ou(t){return t&&t.__esModule?t:{default:t}}function C2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P2(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function T2(t,e,n){return e&&P2(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function E2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var A2=function(){function t(){C2(this,t),E2(this,"secureKey",""),this.secureKey=(0,N2.default)()}return T2(t,[{key:"encrypt",value:function(n){return Sm.default.encrypt(n,this.secureKey).toString()}},{key:"decrypt",value:function(n){try{var s=Sm.default.decrypt(n,this.secureKey);return s.toString(S2.default)||null}catch{return null}}}]),t}(),k2=A2;Bo.default=k2;var Ll={};Object.defineProperty(Ll,"__esModule",{value:!0});Ll.default=void 0;var L2=M2(Bo),R2=is;function M2(t){return t&&t.__esModule?t:{default:t}}function O2(t,e){return F2(t)||B2(t,e)||D2(t,e)||I2()}function I2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D2(t,e){if(t){if(typeof t=="string")return Nm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nm(t,e)}}function Nm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function B2(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s=[],i=!0,a=!1,l,d;try{for(n=n.call(t);!(i=(l=n.next()).done)&&(s.push(l.value),!(e&&s.length===e));i=!0);}catch(u){a=!0,d=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw d}}return s}}function F2(t){if(Array.isArray(t))return t}var Cm=(0,R2.getSecurePrefix)(),z2=function(){var e={};if(typeof window<"u")for(var n=new L2.default,s=0,i=Object.entries(localStorage);s<i.length;s++){var a=O2(i[s],2),l=a[0],d=a[1];if(l.startsWith(Cm)){var u=l.replace(Cm,"")[0],h=l.replace(/[.][bjns][.]/,"."),f=n.decrypt(d),g=null;if(f!=null)switch(u){case"b":g=f==="true";break;case"j":try{g=JSON.parse(f)}catch{g=null}break;case"n":try{g=Number(f)}catch{g=null}break;default:g=f}e[h]=g}}return e},$2=z2;Ll.default=$2;Object.defineProperty(Mu,"__esModule",{value:!0});var gt=Mu.default=void 0,V2=Qx(Bo),U2=Qx(Ll),W2=is;function Qx(t){return t&&t.__esModule?t:{default:t}}function H2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z2(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function G2(t,e,n){return e&&Z2(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function q2(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ja(t){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(t)}var Ma=(0,W2.getSecurePrefix)(),K2=function(e){return Ja(e)==="object"?"j":typeof e=="boolean"?"b":typeof e=="number"?"n":"s"},Pm=function(e,n){var s=K2(n);return Ma+"".concat(s,".")+e},Y2=function(){function t(){H2(this,t),q2(this,"_localStorageItems",{}),this._localStorageItems=(0,U2.default)()}return G2(t,[{key:"setItem",value:function(n,s){if(s==null)this.removeItem(n);else{var i=Ja(s)==="object"?JSON.stringify(s):s+"",a=Pm(n,s),l=Ma+n;n!=null&&(this._localStorageItems[l]=s);var d=new V2.default;localStorage.setItem(a,d.encrypt(i))}}},{key:"getItem",value:function(n){var s,i=Ma+n;return(s=this._localStorageItems[i])!==null&&s!==void 0?s:null}},{key:"removeItem",value:function(n){var s=Ma+n,i=this._localStorageItems[s],a=Pm(n,i);this._localStorageItems[s]!==void 0&&delete this._localStorageItems[s],localStorage.removeItem(a)}},{key:"clear",value:function(){this._localStorageItems={},localStorage.clear()}}]),t}(),X2=new Y2,J2=X2;gt=Mu.default=J2;console.log(" Environment VITE_APP_BASE_URL:","https://ai.research-hero.com");const e0="https://ai.research-hero.com";console.log(" Using baseURL:",e0);const Ce=At.create({baseURL:e0});console.log(" Axios instance created with baseURL:",Ce.defaults.baseURL);Ce.interceptors.request.use(t=>{try{const e=gt.getItem("token")||gt.getItem("authToken")||localStorage.getItem("token"),n=`${t.baseURL}${t.url}`;console.log(" Axios interceptor - Full URL:",n),console.log(" Axios interceptor - Base URL:",t.baseURL),console.log(" Axios interceptor - Request URL:",t.url),console.log(" Axios interceptor - Token found:",!!e),console.log(" Axios interceptor - Token preview:",e?String(e).substring(0,20)+"...":"null"),e&&typeof e=="string"?(t.headers.Authorization=`Bearer ${e}`,console.log(" Axios interceptor - Authorization header set")):(console.log(" Axios interceptor - No valid token found in storage"),console.log(" Available localStorage keys:",Object.keys(localStorage)))}catch(e){console.error(" Axios interceptor - Error accessing storage:",e)}return t},t=>(console.error(" Axios interceptor error:",t),Promise.reject(t)));Ce.interceptors.response.use(t=>{var e;return(e=t.config.url)!=null&&e.includes("/api/credits/balance")&&console.log(" Axios response - Credit balance API response:",t.data),t},t=>{var e,n,s;return(n=(e=t.config)==null?void 0:e.url)!=null&&n.includes("/api/credits/balance")&&console.error(" Axios response - Credit balance API error:",(s=t.response)==null?void 0:s.data),Promise.reject(t)});const Iu=p.createContext({});function Du(t){const e=p.useRef(null);return e.current===null&&(e.current=t()),e.current}const Bu=typeof window<"u",t0=Bu?p.useLayoutEffect:p.useEffect,Rl=p.createContext(null),Fu=p.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Q2 extends p.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=s instanceof HTMLElement&&s.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function eP({children:t,isPresent:e,anchorX:n}){const s=p.useId(),i=p.useRef(null),a=p.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=p.useContext(Fu);return p.useInsertionEffect(()=>{const{width:d,height:u,top:h,left:f,right:g}=a.current;if(e||!i.current||!d||!u)return;const x=n==="left"?`left: ${f}`:`right: ${g}`;i.current.dataset.motionPopId=s;const v=document.createElement("style");return l&&(v.nonce=l),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${u}px !important;
            ${x}px !important;
            top: ${h}px !important;
          }
        `),()=>{document.head.contains(v)&&document.head.removeChild(v)}},[e]),r.jsx(Q2,{isPresent:e,childRef:i,sizeRef:a,children:p.cloneElement(t,{ref:i})})}const tP=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:a,mode:l,anchorX:d})=>{const u=Du(nP),h=p.useId();let f=!0,g=p.useMemo(()=>(f=!1,{id:h,initial:e,isPresent:n,custom:i,onExitComplete:x=>{u.set(x,!0);for(const v of u.values())if(!v)return;s&&s()},register:x=>(u.set(x,!1),()=>u.delete(x))}),[n,u,s]);return a&&f&&(g={...g}),p.useMemo(()=>{u.forEach((x,v)=>u.set(v,!1))},[n]),p.useEffect(()=>{!n&&!u.size&&s&&s()},[n]),l==="popLayout"&&(t=r.jsx(eP,{isPresent:n,anchorX:d,children:t})),r.jsx(Rl.Provider,{value:g,children:t})};function nP(){return new Map}function n0(t=!0){const e=p.useContext(Rl);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=e,a=p.useId();p.useEffect(()=>{if(t)return i(a)},[t]);const l=p.useCallback(()=>t&&s&&s(a),[a,s,t]);return!n&&s?[!1,l]:[!0]}const ya=t=>t.key||"";function Tm(t){const e=[];return p.Children.forEach(t,n=>{p.isValidElement(n)&&e.push(n)}),e}const sP=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1,anchorX:d="left"})=>{const[u,h]=n0(l),f=p.useMemo(()=>Tm(t),[t]),g=l&&!u?[]:f.map(ya),x=p.useRef(!0),v=p.useRef(f),b=Du(()=>new Map),[_,w]=p.useState(f),[C,N]=p.useState(f);t0(()=>{x.current=!1,v.current=f;for(let T=0;T<C.length;T++){const A=ya(C[T]);g.includes(A)?b.delete(A):b.get(A)!==!0&&b.set(A,!1)}},[C,g.length,g.join("-")]);const S=[];if(f!==_){let T=[...f];for(let A=0;A<C.length;A++){const k=C[A],R=ya(k);g.includes(R)||(T.splice(A,0,k),S.push(k))}return a==="wait"&&S.length&&(T=S),N(Tm(T)),w(f),null}const{forceRender:P}=p.useContext(Iu);return r.jsx(r.Fragment,{children:C.map(T=>{const A=ya(T),k=l&&!u?!1:f===C||g.includes(A),R=()=>{if(b.has(A))b.set(A,!0);else return;let O=!0;b.forEach(M=>{M||(O=!1)}),O&&(P==null||P(),N(v.current),l&&(h==null||h()),s&&s())};return r.jsx(tP,{isPresent:k,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,onExitComplete:k?void 0:R,anchorX:d,children:T},A)})})};function zu(t,e){t.indexOf(e)===-1&&t.push(e)}function $u(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ns=(t,e,n)=>n>e?e:n<t?t:n;let Qa=()=>{};const Cs={},s0=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),r0=t=>/^0[^.\s]+$/u.test(t);function Vu(t){let e;return()=>(e===void 0&&(e=t()),e)}const zn=t=>t,rP=(t,e)=>n=>e(t(n)),zo=(...t)=>t.reduce(rP),bo=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class Uu{constructor(){this.subscriptions=[]}add(e){return zu(this.subscriptions,e),()=>$u(this.subscriptions,e)}notify(e,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,s);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const os=t=>t*1e3,as=t=>t/1e3;function i0(t,e){return e?t*(1e3/e):0}const o0=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,iP=1e-7,oP=12;function aP(t,e,n,s,i){let a,l,d=0;do l=e+(n-e)/2,a=o0(l,s,i)-t,a>0?n=l:e=l;while(Math.abs(a)>iP&&++d<oP);return l}function $o(t,e,n,s){if(t===e&&n===s)return zn;const i=a=>aP(a,0,1,t,n);return a=>a===0||a===1?a:o0(i(a),e,s)}const a0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,l0=t=>e=>1-t(1-e),c0=$o(.33,1.53,.69,.99),Wu=l0(c0),d0=a0(Wu),u0=t=>(t*=2)<1?.5*Wu(t):.5*(2-Math.pow(2,-10*(t-1))),Hu=t=>1-Math.sin(Math.acos(t)),h0=l0(Hu),f0=a0(Hu),lP=$o(.42,0,1,1),cP=$o(0,0,.58,1),m0=$o(.42,0,.58,1),dP=t=>Array.isArray(t)&&typeof t[0]!="number",p0=t=>Array.isArray(t)&&typeof t[0]=="number",Em={linear:zn,easeIn:lP,easeInOut:m0,easeOut:cP,circIn:Hu,circInOut:f0,circOut:h0,backIn:Wu,backInOut:d0,backOut:c0,anticipate:u0},uP=t=>typeof t=="string",Am=t=>{if(p0(t)){Qa(t.length===4);const[e,n,s,i]=t;return $o(e,n,s,i)}else if(uP(t))return Qa(Em[t]!==void 0),Em[t];return t},_a=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],km={value:null};function hP(t,e){let n=new Set,s=new Set,i=!1,a=!1;const l=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},u=0;function h(g){l.has(g)&&(f.schedule(g),t()),u++,g(d)}const f={schedule:(g,x=!1,v=!1)=>{const _=v&&i?n:s;return x&&l.add(g),_.has(g)||_.add(g),g},cancel:g=>{s.delete(g),l.delete(g)},process:g=>{if(d=g,i){a=!0;return}i=!0,[n,s]=[s,n],n.forEach(h),e&&km.value&&km.value.frameloop[e].push(u),u=0,n.clear(),i=!1,a&&(a=!1,f.process(g))}};return f}const fP=40;function g0(t,e){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=_a.reduce((S,P)=>(S[P]=hP(a,e?P:void 0),S),{}),{setup:d,read:u,resolveKeyframes:h,preUpdate:f,update:g,preRender:x,render:v,postRender:b}=l,_=()=>{const S=Cs.useManualTiming?i.timestamp:performance.now();n=!1,Cs.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(S-i.timestamp,fP),1)),i.timestamp=S,i.isProcessing=!0,d.process(i),u.process(i),h.process(i),f.process(i),g.process(i),x.process(i),v.process(i),b.process(i),i.isProcessing=!1,n&&e&&(s=!1,t(_))},w=()=>{n=!0,s=!0,i.isProcessing||t(_)};return{schedule:_a.reduce((S,P)=>{const T=l[P];return S[P]=(A,k=!1,R=!1)=>(n||w(),T.schedule(A,k,R)),S},{}),cancel:S=>{for(let P=0;P<_a.length;P++)l[_a[P]].cancel(S)},state:i,steps:l}}const{schedule:wt,cancel:Vs,state:Ut,steps:Rc}=g0(typeof requestAnimationFrame<"u"?requestAnimationFrame:zn,!0);let Oa;function mP(){Oa=void 0}const ln={now:()=>(Oa===void 0&&ln.set(Ut.isProcessing||Cs.useManualTiming?Ut.timestamp:performance.now()),Oa),set:t=>{Oa=t,queueMicrotask(mP)}},x0=t=>e=>typeof e=="string"&&e.startsWith(t),Zu=x0("--"),pP=x0("var(--"),Gu=t=>pP(t)?gP.test(t.split("/*")[0].trim()):!1,gP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},wo={...bi,transform:t=>Ns(0,1,t)},ba={...bi,default:1},oo=t=>Math.round(t*1e5)/1e5,qu=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xP(t){return t==null}const vP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ku=(t,e)=>n=>!!(typeof n=="string"&&vP.test(n)&&n.startsWith(t)||e&&!xP(n)&&Object.prototype.hasOwnProperty.call(n,e)),v0=(t,e,n)=>s=>{if(typeof s!="string")return s;const[i,a,l,d]=s.match(qu);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},yP=t=>Ns(0,255,t),Mc={...bi,transform:t=>Math.round(yP(t))},pr={test:Ku("rgb","red"),parse:v0("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Mc.transform(t)+", "+Mc.transform(e)+", "+Mc.transform(n)+", "+oo(wo.transform(s))+")"};function _P(t){let e="",n="",s="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const vd={test:Ku("#"),parse:_P,transform:pr.transform},Vo=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Os=Vo("deg"),ls=Vo("%"),Oe=Vo("px"),bP=Vo("vh"),wP=Vo("vw"),Lm={...ls,parse:t=>ls.parse(t)/100,transform:t=>ls.transform(t*100)},Gr={test:Ku("hsl","hue"),parse:v0("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+ls.transform(oo(e))+", "+ls.transform(oo(n))+", "+oo(wo.transform(s))+")"},Wt={test:t=>pr.test(t)||vd.test(t)||Gr.test(t),parse:t=>pr.test(t)?pr.parse(t):Gr.test(t)?Gr.parse(t):vd.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?pr.transform(t):Gr.transform(t)},jP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function SP(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(qu))==null?void 0:e.length)||0)+(((n=t.match(jP))==null?void 0:n.length)||0)>0}const y0="number",_0="color",NP="var",CP="var(",Rm="${}",PP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jo(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},i=[];let a=0;const d=e.replace(PP,u=>(Wt.test(u)?(s.color.push(a),i.push(_0),n.push(Wt.parse(u))):u.startsWith(CP)?(s.var.push(a),i.push(NP),n.push(u)):(s.number.push(a),i.push(y0),n.push(parseFloat(u))),++a,Rm)).split(Rm);return{values:n,split:d,indexes:s,types:i}}function b0(t){return jo(t).values}function w0(t){const{split:e,types:n}=jo(t),s=e.length;return i=>{let a="";for(let l=0;l<s;l++)if(a+=e[l],i[l]!==void 0){const d=n[l];d===y0?a+=oo(i[l]):d===_0?a+=Wt.transform(i[l]):a+=i[l]}return a}}const TP=t=>typeof t=="number"?0:t;function EP(t){const e=b0(t);return w0(t)(e.map(TP))}const Us={test:SP,parse:b0,createTransformer:w0,getAnimatableNone:EP};function Oc(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function AP({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let i=0,a=0,l=0;if(!e)i=a=l=n;else{const d=n<.5?n*(1+e):n+e-n*e,u=2*n-d;i=Oc(u,d,t+1/3),a=Oc(u,d,t),l=Oc(u,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:s}}function el(t,e){return n=>n>0?e:t}const _t=(t,e,n)=>t+(e-t)*n,Ic=(t,e,n)=>{const s=t*t,i=n*(e*e-s)+s;return i<0?0:Math.sqrt(i)},kP=[vd,pr,Gr],LP=t=>kP.find(e=>e.test(t));function Mm(t){const e=LP(t);if(!e)return!1;let n=e.parse(t);return e===Gr&&(n=AP(n)),n}const Om=(t,e)=>{const n=Mm(t),s=Mm(e);if(!n||!s)return el(t,e);const i={...n};return a=>(i.red=Ic(n.red,s.red,a),i.green=Ic(n.green,s.green,a),i.blue=Ic(n.blue,s.blue,a),i.alpha=_t(n.alpha,s.alpha,a),pr.transform(i))},yd=new Set(["none","hidden"]);function RP(t,e){return yd.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function MP(t,e){return n=>_t(t,e,n)}function Yu(t){return typeof t=="number"?MP:typeof t=="string"?Gu(t)?el:Wt.test(t)?Om:DP:Array.isArray(t)?j0:typeof t=="object"?Wt.test(t)?Om:OP:el}function j0(t,e){const n=[...t],s=n.length,i=t.map((a,l)=>Yu(a)(a,e[l]));return a=>{for(let l=0;l<s;l++)n[l]=i[l](a);return n}}function OP(t,e){const n={...t,...e},s={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(s[i]=Yu(t[i])(t[i],e[i]));return i=>{for(const a in s)n[a]=s[a](i);return n}}function IP(t,e){const n=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][s[a]],d=t.values[l]??0;n[i]=d,s[a]++}return n}const DP=(t,e)=>{const n=Us.createTransformer(e),s=jo(t),i=jo(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?yd.has(t)&&!i.values.length||yd.has(e)&&!s.values.length?RP(t,e):zo(j0(IP(s,i),i.values),n):el(t,e)};function S0(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?_t(t,e,n):Yu(t)(t,e)}const BP=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>wt.update(e,n),stop:()=>Vs(e),now:()=>Ut.isProcessing?Ut.timestamp:ln.now()}},N0=(t,e,n=10)=>{let s="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)s+=t(a/(i-1))+", ";return`linear(${s.substring(0,s.length-2)})`},tl=2e4;function Xu(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<tl;)e+=n,s=t.next(e);return e>=tl?1/0:e}function FP(t,e=100,n){const s=n({...t,keyframes:[0,e]}),i=Math.min(Xu(s),tl);return{type:"keyframes",ease:a=>s.next(i*a).value/e,duration:as(i)}}const zP=5;function C0(t,e,n){const s=Math.max(e-zP,0);return i0(n-t(s),e-s)}const St={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dc=.001;function $P({duration:t=St.duration,bounce:e=St.bounce,velocity:n=St.velocity,mass:s=St.mass}){let i,a,l=1-e;l=Ns(St.minDamping,St.maxDamping,l),t=Ns(St.minDuration,St.maxDuration,as(t)),l<1?(i=h=>{const f=h*l,g=f*t,x=f-n,v=_d(h,l),b=Math.exp(-g);return Dc-x/v*b},a=h=>{const g=h*l*t,x=g*n+n,v=Math.pow(l,2)*Math.pow(h,2)*t,b=Math.exp(-g),_=_d(Math.pow(h,2),l);return(-i(h)+Dc>0?-1:1)*((x-v)*b)/_}):(i=h=>{const f=Math.exp(-h*t),g=(h-n)*t+1;return-Dc+f*g},a=h=>{const f=Math.exp(-h*t),g=(n-h)*(t*t);return f*g});const d=5/t,u=UP(i,a,d);if(t=os(t),isNaN(u))return{stiffness:St.stiffness,damping:St.damping,duration:t};{const h=Math.pow(u,2)*s;return{stiffness:h,damping:l*2*Math.sqrt(s*h),duration:t}}}const VP=12;function UP(t,e,n){let s=n;for(let i=1;i<VP;i++)s=s-t(s)/e(s);return s}function _d(t,e){return t*Math.sqrt(1-e*e)}const WP=["duration","bounce"],HP=["stiffness","damping","mass"];function Im(t,e){return e.some(n=>t[n]!==void 0)}function ZP(t){let e={velocity:St.velocity,stiffness:St.stiffness,damping:St.damping,mass:St.mass,isResolvedFromDuration:!1,...t};if(!Im(t,HP)&&Im(t,WP))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,a=2*Ns(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:St.mass,stiffness:i,damping:a}}else{const n=$P(t);e={...e,...n,mass:St.mass},e.isResolvedFromDuration=!0}return e}function nl(t=St.visualDuration,e=St.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:i}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],d={done:!1,value:a},{stiffness:u,damping:h,mass:f,duration:g,velocity:x,isResolvedFromDuration:v}=ZP({...n,velocity:-as(n.velocity||0)}),b=x||0,_=h/(2*Math.sqrt(u*f)),w=l-a,C=as(Math.sqrt(u/f)),N=Math.abs(w)<5;s||(s=N?St.restSpeed.granular:St.restSpeed.default),i||(i=N?St.restDelta.granular:St.restDelta.default);let S;if(_<1){const T=_d(C,_);S=A=>{const k=Math.exp(-_*C*A);return l-k*((b+_*C*w)/T*Math.sin(T*A)+w*Math.cos(T*A))}}else if(_===1)S=T=>l-Math.exp(-C*T)*(w+(b+C*w)*T);else{const T=C*Math.sqrt(_*_-1);S=A=>{const k=Math.exp(-_*C*A),R=Math.min(T*A,300);return l-k*((b+_*C*w)*Math.sinh(R)+T*w*Math.cosh(R))/T}}const P={calculatedDuration:v&&g||null,next:T=>{const A=S(T);if(v)d.done=T>=g;else{let k=T===0?b:0;_<1&&(k=T===0?os(b):C0(S,T,A));const R=Math.abs(k)<=s,O=Math.abs(l-A)<=i;d.done=R&&O}return d.value=d.done?l:A,d},toString:()=>{const T=Math.min(Xu(P),tl),A=N0(k=>P.next(T*k).value,T,30);return T+"ms "+A},toTransition:()=>{}};return P}nl.applyToOptions=t=>{const e=FP(t,100,nl);return t.ease=e.ease,t.duration=os(e.duration),t.type="keyframes",t};function bd({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:d,max:u,restDelta:h=.5,restSpeed:f}){const g=t[0],x={done:!1,value:g},v=R=>d!==void 0&&R<d||u!==void 0&&R>u,b=R=>d===void 0?u:u===void 0||Math.abs(d-R)<Math.abs(u-R)?d:u;let _=n*e;const w=g+_,C=l===void 0?w:l(w);C!==w&&(_=C-g);const N=R=>-_*Math.exp(-R/s),S=R=>C+N(R),P=R=>{const O=N(R),M=S(R);x.done=Math.abs(O)<=h,x.value=x.done?C:M};let T,A;const k=R=>{v(x.value)&&(T=R,A=nl({keyframes:[x.value,b(x.value)],velocity:C0(S,R,x.value),damping:i,stiffness:a,restDelta:h,restSpeed:f}))};return k(0),{calculatedDuration:null,next:R=>{let O=!1;return!A&&T===void 0&&(O=!0,P(R),k(R)),T!==void 0&&R>=T?A.next(R-T):(!O&&P(R),x)}}}function GP(t,e,n){const s=[],i=n||Cs.mix||S0,a=t.length-1;for(let l=0;l<a;l++){let d=i(t[l],t[l+1]);if(e){const u=Array.isArray(e)?e[l]||zn:e;d=zo(u,d)}s.push(d)}return s}function qP(t,e,{clamp:n=!0,ease:s,mixer:i}={}){const a=t.length;if(Qa(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=GP(e,s,i),u=d.length,h=f=>{if(l&&f<t[0])return e[0];let g=0;if(u>1)for(;g<t.length-2&&!(f<t[g+1]);g++);const x=bo(t[g],t[g+1],f);return d[g](x)};return n?f=>h(Ns(t[0],t[a-1],f)):h}function KP(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const i=bo(0,e,s);t.push(_t(n,1,i))}}function YP(t){const e=[0];return KP(e,t.length-1),e}function XP(t,e){return t.map(n=>n*e)}function JP(t,e){return t.map(()=>e||m0).splice(0,t.length-1)}function ao({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const i=dP(s)?s.map(Am):Am(s),a={done:!1,value:e[0]},l=XP(n&&n.length===e.length?n:YP(e),t),d=qP(l,e,{ease:Array.isArray(i)?i:JP(e,i)});return{calculatedDuration:t,next:u=>(a.value=d(u),a.done=u>=t,a)}}const QP=t=>t!==null;function Ju(t,{repeat:e,repeatType:n="loop"},s,i=1){const a=t.filter(QP),d=i<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!d||s===void 0?a[d]:s}const eT={decay:bd,inertia:bd,tween:ao,keyframes:ao,spring:nl};function P0(t){typeof t.type=="string"&&(t.type=eT[t.type])}class Qu{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const tT=t=>t/100;class eh extends Qu{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var s,i;if(n){const{motionValue:a}=this.options;a&&a.updatedAt!==ln.now()&&this.tick(ln.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;P0(e);const{type:n=ao,repeat:s=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=e;let{keyframes:d}=e;const u=n||ao;u!==ao&&typeof d[0]!="number"&&(this.mixKeyframes=zo(tT,S0(d[0],d[1])),d=[0,100]);const h=u({...e,keyframes:d});a==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...d].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=Xu(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:i,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:d,calculatedDuration:u}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:f,repeat:g,repeatType:x,repeatDelay:v,type:b,onUpdate:_,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-h*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?C<0:C>i;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let S=this.currentTime,P=s;if(g){const R=Math.min(this.currentTime,i)/d;let O=Math.floor(R),M=R%1;!M&&R>=1&&(M=1),M===1&&O--,O=Math.min(O,g+1),!!(O%2)&&(x==="reverse"?(M=1-M,v&&(M-=v/d)):x==="mirror"&&(P=l)),S=Ns(0,1,M)*d}const T=N?{done:!1,value:f[0]}:P.next(S);a&&(T.value=a(T.value));let{done:A}=T;!N&&u!==null&&(A=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return k&&b!==bd&&(T.value=Ju(f,this.options,w,this.speed)),_&&_(T.value),k&&this.finish(),T}then(e,n){return this.finished.then(e,n)}get duration(){return as(this.calculatedDuration)}get time(){return as(this.currentTime)}set time(e){var n;e=os(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ln.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=as(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=BP,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(a=(i=this.options).onPlay)==null||a.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ln.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function nT(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const gr=t=>t*180/Math.PI,wd=t=>{const e=gr(Math.atan2(t[1],t[0]));return jd(e)},sT={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:wd,rotateZ:wd,skewX:t=>gr(Math.atan(t[1])),skewY:t=>gr(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},jd=t=>(t=t%360,t<0&&(t+=360),t),Dm=wd,Bm=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Fm=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),rT={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Bm,scaleY:Fm,scale:t=>(Bm(t)+Fm(t))/2,rotateX:t=>jd(gr(Math.atan2(t[6],t[5]))),rotateY:t=>jd(gr(Math.atan2(-t[2],t[0]))),rotateZ:Dm,rotate:Dm,skewX:t=>gr(Math.atan(t[4])),skewY:t=>gr(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function zm(t){return t.includes("scale")?1:0}function Sd(t,e){if(!t||t==="none")return zm(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=rT,i=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=sT,i=d}if(!i)return zm(e);const a=s[e],l=i[1].split(",").map(oT);return typeof a=="function"?a(l):l[a]}const iT=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Sd(n,e)};function oT(t){return parseFloat(t.trim())}const wi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ji=new Set(wi),$m=t=>t===bi||t===Oe,aT=new Set(["x","y","z"]),lT=wi.filter(t=>!aT.has(t));function cT(t){const e=[];return lT.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const _r={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Sd(e,"x"),y:(t,{transform:e})=>Sd(e,"y")};_r.translateX=_r.x;_r.translateY=_r.y;const br=new Set;let Nd=!1,Cd=!1,Pd=!1;function T0(){if(Cd){const t=Array.from(br).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const i=cT(s);i.length&&(n.set(s,i),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([a,l])=>{var d;(d=s.getValue(a))==null||d.set(l)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Cd=!1,Nd=!1,br.forEach(t=>t.complete(Pd)),br.clear()}function E0(){br.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Cd=!0)})}function dT(){Pd=!0,E0(),T0(),Pd=!1}class th{constructor(e,n,s,i,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(br.add(this),Nd||(Nd=!0,wt.read(E0),wt.resolveKeyframes(T0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&n){const d=s.readValue(n,l);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}nT(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),br.delete(this)}cancel(){this.state==="scheduled"&&(br.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const uT=t=>t.startsWith("--");function hT(t,e,n){uT(e)?t.style.setProperty(e,n):t.style[e]=n}const fT=Vu(()=>window.ScrollTimeline!==void 0),mT={};function pT(t,e){const n=Vu(t);return()=>mT[e]??n()}const A0=pT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),to=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Vm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:to([0,.65,.55,1]),circOut:to([.55,0,1,.45]),backIn:to([.31,.01,.66,-.59]),backOut:to([.33,1.53,.69,.99])};function k0(t,e){if(t)return typeof t=="function"?A0()?N0(t,e):"ease-out":p0(t)?to(t):Array.isArray(t)?t.map(n=>k0(n,e)||Vm.easeOut):Vm[t]}function gT(t,e,n,{delay:s=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:d="easeOut",times:u}={},h=void 0){const f={[e]:n};u&&(f.offset=u);const g=k0(d,i);Array.isArray(g)&&(f.easing=g);const x={delay:s,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return h&&(x.pseudoElement=h),t.animate(f,x)}function L0(t){return typeof t=="function"&&"applyToOptions"in t}function xT({type:t,...e}){return L0(t)&&A0()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class vT extends Qu{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:i,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:d,onComplete:u}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Qa(typeof e.type!="string");const h=xT(e);this.animation=gT(n,s,i,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const f=Ju(i,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(f):hT(n,s,f),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return as(Number(e))}get time(){return as(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=os(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&fT()?(this.animation.timeline=e,zn):n(this)}}const R0={anticipate:u0,backInOut:d0,circInOut:f0};function yT(t){return t in R0}function _T(t){typeof t.ease=="string"&&yT(t.ease)&&(t.ease=R0[t.ease])}const Um=10;class bT extends vT{constructor(e){_T(e),P0(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:i,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new eh({...l,autoplay:!1}),u=os(this.finishedTime??this.time);n.setWithVelocity(d.sample(u-Um).value,d.sample(u).value,Um),d.stop()}}const Wm=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Us.test(t)||t==="0")&&!t.startsWith("url("));function wT(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function jT(t,e,n,s){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=Wm(i,e),d=Wm(a,e);return!l||!d?!1:wT(t)||(n==="spring"||L0(n))&&s}const ST=new Set(["opacity","clipPath","filter","transform"]),NT=Vu(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function CT(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:i,damping:a,type:l}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:u}=e.owner.getProps();return NT()&&n&&ST.has(n)&&(n!=="transform"||!u)&&!d&&!s&&i!=="mirror"&&a!==0&&l!=="inertia"}const PT=40;class TT extends Qu{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:d,name:u,motionValue:h,element:f,...g}){var b;super(),this.stop=()=>{var _,w;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=ln.now();const x={autoplay:e,delay:n,type:s,repeat:i,repeatDelay:a,repeatType:l,name:u,motionValue:h,element:f,...g},v=(f==null?void 0:f.KeyframeResolver)||th;this.keyframeResolver=new v(d,(_,w,C)=>this.onKeyframesResolved(_,w,x,!C),u,h,f),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,n,s,i){this.keyframeResolver=void 0;const{name:a,type:l,velocity:d,delay:u,isHandoff:h,onUpdate:f}=s;this.resolvedAt=ln.now(),jT(e,a,l,d)||((Cs.instantAnimations||!u)&&(f==null||f(Ju(e,s,n))),e[0]=e[e.length-1],s.duration=0,s.repeat=0);const x={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>PT?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},v=!h&&CT(x)?new bT({...x,element:x.motionValue.owner.current}):new eh(x);v.finished.then(()=>this.notifyFinished()).catch(zn),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),dT()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const ET=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function AT(t){const e=ET.exec(t);if(!e)return[,];const[,n,s,i]=e;return[`--${n??s}`,i]}function M0(t,e,n=1){const[s,i]=AT(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const l=a.trim();return s0(l)?parseFloat(l):l}return Gu(i)?M0(i,e,n+1):i}function nh(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const O0=new Set(["width","height","top","left","right","bottom",...wi]),kT={test:t=>t==="auto",parse:t=>t},I0=t=>e=>e.test(t),D0=[bi,Oe,ls,Os,wP,bP,kT],Hm=t=>D0.find(I0(t));function LT(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||r0(t):!0}const RT=new Set(["brightness","contrast","saturate","opacity"]);function MT(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(qu)||[];if(!s)return t;const i=n.replace(s,"");let a=RT.has(e)?1:0;return s!==n&&(a*=100),e+"("+a+i+")"}const OT=/\b([a-z-]*)\(.*?\)/gu,Td={...Us,getAnimatableNone:t=>{const e=t.match(OT);return e?e.map(MT).join(" "):t}},Zm={...bi,transform:Math.round},IT={rotate:Os,rotateX:Os,rotateY:Os,rotateZ:Os,scale:ba,scaleX:ba,scaleY:ba,scaleZ:ba,skew:Os,skewX:Os,skewY:Os,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:wo,originX:Lm,originY:Lm,originZ:Oe},sh={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,radius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,backgroundPositionX:Oe,backgroundPositionY:Oe,...IT,zIndex:Zm,fillOpacity:wo,strokeOpacity:wo,numOctaves:Zm},DT={...sh,color:Wt,backgroundColor:Wt,outlineColor:Wt,fill:Wt,stroke:Wt,borderColor:Wt,borderTopColor:Wt,borderRightColor:Wt,borderBottomColor:Wt,borderLeftColor:Wt,filter:Td,WebkitFilter:Td},B0=t=>DT[t];function F0(t,e){let n=B0(t);return n!==Td&&(n=Us),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const BT=new Set(["auto","none","0"]);function FT(t,e,n){let s=0,i;for(;s<t.length&&!i;){const a=t[s];typeof a=="string"&&!BT.has(a)&&jo(a).values.length&&(i=t[s]),s++}if(i&&n)for(const a of e)t[a]=F0(n,i)}class zT extends th{constructor(e,n,s,i,a){super(e,n,s,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="string"&&(h=h.trim(),Gu(h))){const f=M0(h,n.current);f!==void 0&&(e[u]=f),u===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!O0.has(s)||e.length!==2)return;const[i,a]=e,l=Hm(i),d=Hm(a);if(l!==d)if($m(l)&&$m(d))for(let u=0;u<e.length;u++){const h=e[u];typeof h=="string"&&(e[u]=parseFloat(h))}else _r[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let i=0;i<e.length;i++)(e[i]===null||LT(e[i]))&&s.push(i);s.length&&FT(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_r[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,l=s[a];s[a]=_r[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([u,h])=>{e.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function $T(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const i=(n==null?void 0:n[t])??s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const Gm=30,VT=t=>!isNaN(parseFloat(t));class UT{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{var l,d;const a=ln.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty();i&&((d=this.events.renderRequest)==null||d.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ln.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=VT(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Uu);const s=this.events[e].add(n);return e==="change"?()=>{s(),wt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ln.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Gm)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Gm);return i0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function oi(t,e){return new UT(t,e)}const z0=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:rh}=g0(queueMicrotask,!1),Hn={x:!1,y:!1};function $0(){return Hn.x||Hn.y}function WT(t){return t==="x"||t==="y"?Hn[t]?null:(Hn[t]=!0,()=>{Hn[t]=!1}):Hn.x||Hn.y?null:(Hn.x=Hn.y=!0,()=>{Hn.x=Hn.y=!1})}function V0(t,e){const n=$T(t),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[n,i,()=>s.abort()]}function qm(t){return!(t.pointerType==="touch"||$0())}function HT(t,e,n={}){const[s,i,a]=V0(t,n),l=d=>{if(!qm(d))return;const{target:u}=d,h=e(u,d);if(typeof h!="function"||!u)return;const f=g=>{qm(g)&&(h(g),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,i)};return s.forEach(d=>{d.addEventListener("pointerenter",l,i)}),a}const U0=(t,e)=>e?t===e?!0:U0(t,e.parentElement):!1,ih=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ZT=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function GT(t){return ZT.has(t.tagName)||t.tabIndex!==-1}const Ia=new WeakSet;function Km(t){return e=>{e.key==="Enter"&&t(e)}}function Bc(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const qT=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Km(()=>{if(Ia.has(n))return;Bc(n,"down");const i=Km(()=>{Bc(n,"up")}),a=()=>Bc(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Ym(t){return ih(t)&&!$0()}function KT(t,e,n={}){const[s,i,a]=V0(t,n),l=d=>{const u=d.currentTarget;if(!Ym(d))return;Ia.add(u);const h=e(u,d),f=(v,b)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",x),Ia.has(u)&&Ia.delete(u),Ym(v)&&typeof h=="function"&&h(v,{success:b})},g=v=>{f(v,u===window||u===document||n.useGlobalTarget||U0(u,v.target))},x=v=>{f(v,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",x,i)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",l,i),d instanceof HTMLElement&&(d.addEventListener("focus",h=>qT(h,i)),!GT(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),a}const YT=[...D0,Wt,Us],XT=t=>YT.find(I0(t)),W0=p.createContext({strict:!1}),Xm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ai={};for(const t in Xm)ai[t]={isEnabled:e=>Xm[t].some(n=>!!e[n])};function JT(t){for(const e in t)ai[e]={...ai[e],...t[e]}}const QT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||QT.has(t)}let H0=t=>!sl(t);function eE(t){t&&(H0=e=>e.startsWith("on")?!sl(e):t(e))}try{eE(require("@emotion/is-prop-valid").default)}catch{}function tE(t,e,n){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(H0(i)||n===!0&&sl(i)||!e&&!sl(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}function nE(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Ml=p.createContext({});function Ol(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function So(t){return typeof t=="string"||Array.isArray(t)}const oh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ah=["initial",...oh];function Il(t){return Ol(t.animate)||ah.some(e=>So(t[e]))}function Z0(t){return!!(Il(t)||t.variants)}function sE(t,e){if(Il(t)){const{initial:n,animate:s}=t;return{initial:n===!1||So(n)?n:void 0,animate:So(s)?s:void 0}}return t.inherit!==!1?e:{}}function rE(t){const{initial:e,animate:n}=sE(t,p.useContext(Ml));return p.useMemo(()=>({initial:e,animate:n}),[Jm(e),Jm(n)])}function Jm(t){return Array.isArray(t)?t.join(" "):t}const iE=Symbol.for("motionComponentSymbol");function qr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function oE(t,e,n){return p.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):qr(n)&&(n.current=s))},[e])}const lh=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aE="framerAppearId",G0="data-"+lh(aE),q0=p.createContext({});function lE(t,e,n,s,i){var _,w;const{visualElement:a}=p.useContext(Ml),l=p.useContext(W0),d=p.useContext(Rl),u=p.useContext(Fu).reducedMotion,h=p.useRef(null);s=s||l.renderer,!h.current&&s&&(h.current=s(t,{visualState:e,parent:a,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,g=p.useContext(q0);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&cE(h.current,n,i,g);const x=p.useRef(!1);p.useInsertionEffect(()=>{f&&x.current&&f.update(n,d)});const v=n[G0],b=p.useRef(!!v&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,v))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,v)));return t0(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),rh.render(f.render),b.current&&f.animationState&&f.animationState.animateChanges())}),p.useEffect(()=>{f&&(!b.current&&f.animationState&&f.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,v)}),b.current=!1))}),f}function cE(t,e,n,s){const{layoutId:i,layout:a,drag:l,dragConstraints:d,layoutScroll:u,layoutRoot:h,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:K0(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||d&&qr(d),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:f,layoutScroll:u,layoutRoot:h})}function K0(t){if(t)return t.options.allowProjection!==!1?t.projection:K0(t.parent)}function dE({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:i}){t&&JT(t);function a(d,u){let h;const f={...p.useContext(Fu),...d,layoutId:uE(d)},{isStatic:g}=f,x=rE(d),v=s(d,g);if(!g&&Bu){hE();const b=fE(f);h=b.MeasureLayout,x.visualElement=lE(i,v,f,e,b.ProjectionNode)}return r.jsxs(Ml.Provider,{value:x,children:[h&&x.visualElement?r.jsx(h,{visualElement:x.visualElement,...f}):null,n(i,d,oE(v,x.visualElement,u),v,g,x.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const l=p.forwardRef(a);return l[iE]=i,l}function uE({layoutId:t}){const e=p.useContext(Iu).id;return e&&t!==void 0?e+"-"+t:t}function hE(t,e){p.useContext(W0).strict}function fE(t){const{drag:e,layout:n}=ai;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const No={};function mE(t){for(const e in t)No[e]=t[e],Zu(e)&&(No[e].isCSSVariable=!0)}function Y0(t,{layout:e,layoutId:n}){return ji.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!No[t]||t==="opacity")}const Kt=t=>!!(t&&t.getVelocity),pE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gE=wi.length;function xE(t,e,n){let s="",i=!0;for(let a=0;a<gE;a++){const l=wi[a],d=t[l];if(d===void 0)continue;let u=!0;if(typeof d=="number"?u=d===(l.startsWith("scale")?1:0):u=parseFloat(d)===0,!u||n){const h=z0(d,sh[l]);if(!u){i=!1;const f=pE[l]||l;s+=`${f}(${h}) `}n&&(e[l]=h)}}return s=s.trim(),n?s=n(e,i?"":s):i&&(s="none"),s}function ch(t,e,n){const{style:s,vars:i,transformOrigin:a}=t;let l=!1,d=!1;for(const u in e){const h=e[u];if(ji.has(u)){l=!0;continue}else if(Zu(u)){i[u]=h;continue}else{const f=z0(h,sh[u]);u.startsWith("origin")?(d=!0,a[u]=f):s[u]=f}}if(e.transform||(l||n?s.transform=xE(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:u="50%",originY:h="50%",originZ:f=0}=a;s.transformOrigin=`${u} ${h} ${f}`}}const dh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function X0(t,e,n){for(const s in e)!Kt(e[s])&&!Y0(s,n)&&(t[s]=e[s])}function vE({transformTemplate:t},e){return p.useMemo(()=>{const n=dh();return ch(n,e,t),Object.assign({},n.vars,n.style)},[e])}function yE(t,e){const n=t.style||{},s={};return X0(s,n,t),Object.assign(s,vE(t,e)),s}function _E(t,e){const n={},s=yE(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const bE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function uh(t){return typeof t!="string"||t.includes("-")?!1:!!(bE.indexOf(t)>-1||/[A-Z]/u.test(t))}const wE={offset:"stroke-dashoffset",array:"stroke-dasharray"},jE={offset:"strokeDashoffset",array:"strokeDasharray"};function SE(t,e,n=1,s=0,i=!0){t.pathLength=1;const a=i?wE:jE;t[a.offset]=Oe.transform(-s);const l=Oe.transform(e),d=Oe.transform(n);t[a.array]=`${l} ${d}`}function J0(t,{attrX:e,attrY:n,attrScale:s,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...d},u,h,f){if(ch(t,d,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:x}=t;g.transform&&(x.transform=g.transform,delete g.transform),(x.transform||g.transformOrigin)&&(x.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),x.transform&&(x.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),s!==void 0&&(g.scale=s),i!==void 0&&SE(g,i,a,l,!1)}const Q0=()=>({...dh(),attrs:{}}),ev=t=>typeof t=="string"&&t.toLowerCase()==="svg";function NE(t,e,n,s){const i=p.useMemo(()=>{const a=Q0();return J0(a,e,ev(s),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};X0(a,t.style,t),i.style={...a,...i.style}}return i}function CE(t=!1){return(n,s,i,{latestValues:a},l)=>{const u=(uh(n)?NE:_E)(s,a,l,n),h=tE(s,typeof n=="string",t),f=n!==p.Fragment?{...h,...u,ref:i}:{},{children:g}=s,x=p.useMemo(()=>Kt(g)?g.get():g,[g]);return p.createElement(n,{...f,children:x})}}function Qm(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function hh(t,e,n,s){if(typeof e=="function"){const[i,a]=Qm(s);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=Qm(s);e=e(n!==void 0?n:t.custom,i,a)}return e}function Da(t){return Kt(t)?t.get():t}function PE({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,i){return{latestValues:TE(n,s,i,t),renderState:e()}}const tv=t=>(e,n)=>{const s=p.useContext(Ml),i=p.useContext(Rl),a=()=>PE(t,e,s,i);return n?a():Du(a)};function TE(t,e,n,s){const i={},a=s(t,{});for(const x in a)i[x]=Da(a[x]);let{initial:l,animate:d}=t;const u=Il(t),h=Z0(t);e&&h&&!u&&t.inherit!==!1&&(l===void 0&&(l=e.initial),d===void 0&&(d=e.animate));let f=n?n.initial===!1:!1;f=f||l===!1;const g=f?d:l;if(g&&typeof g!="boolean"&&!Ol(g)){const x=Array.isArray(g)?g:[g];for(let v=0;v<x.length;v++){const b=hh(t,x[v]);if(b){const{transitionEnd:_,transition:w,...C}=b;for(const N in C){let S=C[N];if(Array.isArray(S)){const P=f?S.length-1:0;S=S[P]}S!==null&&(i[N]=S)}for(const N in _)i[N]=_[N]}}}return i}function fh(t,e,n){var a;const{style:s}=t,i={};for(const l in s)(Kt(s[l])||e.style&&Kt(e.style[l])||Y0(l,t)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(i[l]=s[l]);return i}const EE={useVisualState:tv({scrapeMotionValuesFromProps:fh,createRenderState:dh})};function nv(t,e,n){const s=fh(t,e,n);for(const i in t)if(Kt(t[i])||Kt(e[i])){const a=wi.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[a]=t[i]}return s}const AE={useVisualState:tv({scrapeMotionValuesFromProps:nv,createRenderState:Q0})};function kE(t,e){return function(s,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...uh(s)?AE:EE,preloadedFeatures:t,useRender:CE(i),createVisualElement:e,Component:s};return dE(l)}}function Co(t,e,n){const s=t.getProps();return hh(s,e,n!==void 0?n:s.custom,t)}const Ed=t=>Array.isArray(t);function LE(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,oi(n))}function RE(t){return Ed(t)?t[t.length-1]||0:t}function ME(t,e){const n=Co(t,e);let{transitionEnd:s={},transition:i={},...a}=n||{};a={...a,...s};for(const l in a){const d=RE(a[l]);LE(t,l,d)}}function OE(t){return!!(Kt(t)&&t.add)}function Ad(t,e){const n=t.getValue("willChange");if(OE(n))return n.add(e);if(!n&&Cs.WillChange){const s=new Cs.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function sv(t){return t.props[G0]}const IE=t=>t!==null;function DE(t,{repeat:e,repeatType:n="loop"},s){const i=t.filter(IE),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||s===void 0?i[a]:s}const BE={type:"spring",stiffness:500,damping:25,restSpeed:10},FE=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),zE={type:"keyframes",duration:.8},$E={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},VE=(t,{keyframes:e})=>e.length>2?zE:ji.has(t)?t.startsWith("scale")?FE(e[1]):BE:$E;function UE({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:d,from:u,elapsed:h,...f}){return!!Object.keys(f).length}const mh=(t,e,n,s={},i,a)=>l=>{const d=nh(s,t)||{},u=d.delay||s.delay||0;let{elapsed:h=0}=s;h=h-os(u);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-h,onUpdate:x=>{e.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{l(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:a?void 0:i};UE(d)||Object.assign(f,VE(t,f)),f.duration&&(f.duration=os(f.duration)),f.repeatDelay&&(f.repeatDelay=os(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let g=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(g=!0)),(Cs.instantAnimations||Cs.skipAnimations)&&(g=!0,f.duration=0,f.delay=0),f.allowFlatten=!d.type&&!d.ease,g&&!a&&e.get()!==void 0){const x=DE(f.keyframes,d);if(x!==void 0){wt.update(()=>{f.onUpdate(x),f.onComplete()});return}}return d.isSync?new eh(f):new TT(f)};function WE({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function rv(t,e,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...d}=e;s&&(a=s);const u=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const f in d){const g=t.getValue(f,t.latestValues[f]??null),x=d[f];if(x===void 0||h&&WE(h,f))continue;const v={delay:n,...nh(a||{},f)},b=g.get();if(b!==void 0&&!g.isAnimating&&!Array.isArray(x)&&x===b&&!v.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const C=sv(t);if(C){const N=window.MotionHandoffAnimation(C,f,wt);N!==null&&(v.startTime=N,_=!0)}}Ad(t,f),g.start(mh(f,g,x,t.shouldReduceMotion&&O0.has(f)?{type:!1}:v,t,_));const w=g.animation;w&&u.push(w)}return l&&Promise.all(u).then(()=>{wt.update(()=>{l&&ME(t,l)})}),u}function kd(t,e,n={}){var u;const s=Co(t,e,n.type==="exit"?(u=t.presenceContext)==null?void 0:u.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(rv(t,s,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:f=0,staggerChildren:g,staggerDirection:x}=i;return HE(t,e,f+h,g,x,n)}:()=>Promise.resolve(),{when:d}=i;if(d){const[h,f]=d==="beforeChildren"?[a,l]:[l,a];return h().then(()=>f())}else return Promise.all([a(),l(n.delay)])}function HE(t,e,n=0,s=0,i=1,a){const l=[],d=(t.variantChildren.size-1)*s,u=i===1?(h=0)=>h*s:(h=0)=>d-h*s;return Array.from(t.variantChildren).sort(ZE).forEach((h,f)=>{h.notify("AnimationStart",e),l.push(kd(h,e,{...a,delay:n+u(f)}).then(()=>h.notify("AnimationComplete",e)))}),Promise.all(l)}function ZE(t,e){return t.sortNodePosition(e)}function GE(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(a=>kd(t,a,n));s=Promise.all(i)}else if(typeof e=="string")s=kd(t,e,n);else{const i=typeof e=="function"?Co(t,e,n.custom):e;s=Promise.all(rv(t,i,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function iv(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const qE=ah.length;function ov(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ov(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<qE;n++){const s=ah[n],i=t.props[s];(So(i)||i===!1)&&(e[s]=i)}return e}const KE=[...oh].reverse(),YE=oh.length;function XE(t){return e=>Promise.all(e.map(({animation:n,options:s})=>GE(t,n,s)))}function JE(t){let e=XE(t),n=ep(),s=!0;const i=u=>(h,f)=>{var x;const g=Co(t,f,u==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(g){const{transition:v,transitionEnd:b,..._}=g;h={...h,..._,...b}}return h};function a(u){e=u(t)}function l(u){const{props:h}=t,f=ov(t.parent)||{},g=[],x=new Set;let v={},b=1/0;for(let w=0;w<YE;w++){const C=KE[w],N=n[C],S=h[C]!==void 0?h[C]:f[C],P=So(S),T=C===u?N.isActive:null;T===!1&&(b=w);let A=S===f[C]&&S!==h[C]&&P;if(A&&s&&t.manuallyAnimateOnMount&&(A=!1),N.protectedKeys={...v},!N.isActive&&T===null||!S&&!N.prevProp||Ol(S)||typeof S=="boolean")continue;const k=QE(N.prevProp,S);let R=k||C===u&&N.isActive&&!A&&P||w>b&&P,O=!1;const M=Array.isArray(S)?S:[S];let z=M.reduce(i(C),{});T===!1&&(z={});const{prevResolvedValues:F={}}=N,B={...F,...z},J=oe=>{R=!0,x.has(oe)&&(O=!0,x.delete(oe)),N.needsAnimating[oe]=!0;const q=t.getValue(oe);q&&(q.liveStyle=!1)};for(const oe in B){const q=z[oe],re=F[oe];if(v.hasOwnProperty(oe))continue;let V=!1;Ed(q)&&Ed(re)?V=!iv(q,re):V=q!==re,V?q!=null?J(oe):x.add(oe):q!==void 0&&x.has(oe)?J(oe):N.protectedKeys[oe]=!0}N.prevProp=S,N.prevResolvedValues=z,N.isActive&&(v={...v,...z}),s&&t.blockInitialAnimation&&(R=!1),R&&(!(A&&k)||O)&&g.push(...M.map(oe=>({animation:oe,options:{type:C}})))}if(x.size){const w={};if(typeof h.initial!="boolean"){const C=Co(t,Array.isArray(h.initial)?h.initial[0]:h.initial);C&&C.transition&&(w.transition=C.transition)}x.forEach(C=>{const N=t.getBaseTarget(C),S=t.getValue(C);S&&(S.liveStyle=!0),w[C]=N??null}),g.push({animation:w})}let _=!!g.length;return s&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(_=!1),s=!1,_?e(g):Promise.resolve()}function d(u,h){var g;if(n[u].isActive===h)return Promise.resolve();(g=t.variantChildren)==null||g.forEach(x=>{var v;return(v=x.animationState)==null?void 0:v.setActive(u,h)}),n[u].isActive=h;const f=l(u);for(const x in n)n[x].protectedKeys={};return f}return{animateChanges:l,setActive:d,setAnimateFunction:a,getState:()=>n,reset:()=>{n=ep(),s=!0}}}function QE(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!iv(e,t):!1}function ir(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ep(){return{animate:ir(!0),whileInView:ir(),whileHover:ir(),whileTap:ir(),whileDrag:ir(),whileFocus:ir(),exit:ir()}}class Ks{constructor(e){this.isMounted=!1,this.node=e}update(){}}class e5 extends Ks{constructor(e){super(e),e.animationState||(e.animationState=JE(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ol(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let t5=0;class n5 extends Ks{constructor(){super(...arguments),this.id=t5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const s5={animation:{Feature:e5},exit:{Feature:n5}};function Po(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Uo(t){return{point:{x:t.pageX,y:t.pageY}}}const r5=t=>e=>ih(e)&&t(e,Uo(e));function lo(t,e,n,s){return Po(t,e,r5(n),s)}function av({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function i5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function o5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}const lv=1e-4,a5=1-lv,l5=1+lv,cv=.01,c5=0-cv,d5=0+cv;function nn(t){return t.max-t.min}function u5(t,e,n){return Math.abs(t-e)<=n}function tp(t,e,n,s=.5){t.origin=s,t.originPoint=_t(e.min,e.max,t.origin),t.scale=nn(n)/nn(e),t.translate=_t(n.min,n.max,t.origin)-t.originPoint,(t.scale>=a5&&t.scale<=l5||isNaN(t.scale))&&(t.scale=1),(t.translate>=c5&&t.translate<=d5||isNaN(t.translate))&&(t.translate=0)}function co(t,e,n,s){tp(t.x,e.x,n.x,s?s.originX:void 0),tp(t.y,e.y,n.y,s?s.originY:void 0)}function np(t,e,n){t.min=n.min+e.min,t.max=t.min+nn(e)}function h5(t,e,n){np(t.x,e.x,n.x),np(t.y,e.y,n.y)}function sp(t,e,n){t.min=e.min-n.min,t.max=t.min+nn(e)}function uo(t,e,n){sp(t.x,e.x,n.x),sp(t.y,e.y,n.y)}const rp=()=>({translate:0,scale:1,origin:0,originPoint:0}),Kr=()=>({x:rp(),y:rp()}),ip=()=>({min:0,max:0}),Tt=()=>({x:ip(),y:ip()});function In(t){return[t("x"),t("y")]}function Fc(t){return t===void 0||t===1}function Ld({scale:t,scaleX:e,scaleY:n}){return!Fc(t)||!Fc(e)||!Fc(n)}function cr(t){return Ld(t)||dv(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function dv(t){return op(t.x)||op(t.y)}function op(t){return t&&t!=="0%"}function rl(t,e,n){const s=t-n,i=e*s;return n+i}function ap(t,e,n,s,i){return i!==void 0&&(t=rl(t,i,s)),rl(t,n,s)+e}function Rd(t,e=0,n=1,s,i){t.min=ap(t.min,e,n,s,i),t.max=ap(t.max,e,n,s,i)}function uv(t,{x:e,y:n}){Rd(t.x,e.translate,e.scale,e.originPoint),Rd(t.y,n.translate,n.scale,n.originPoint)}const lp=.999999999999,cp=1.0000000000001;function f5(t,e,n,s=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,l;for(let d=0;d<i;d++){a=n[d],l=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Xr(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,uv(t,l)),s&&cr(a.latestValues)&&Xr(t,a.latestValues))}e.x<cp&&e.x>lp&&(e.x=1),e.y<cp&&e.y>lp&&(e.y=1)}function Yr(t,e){t.min=t.min+e,t.max=t.max+e}function dp(t,e,n,s,i=.5){const a=_t(t.min,t.max,i);Rd(t,e,n,a,s)}function Xr(t,e){dp(t.x,e.x,e.scaleX,e.scale,e.originX),dp(t.y,e.y,e.scaleY,e.scale,e.originY)}function hv(t,e){return av(o5(t.getBoundingClientRect(),e))}function m5(t,e,n){const s=hv(t,n),{scroll:i}=e;return i&&(Yr(s.x,i.offset.x),Yr(s.y,i.offset.y)),s}const fv=({current:t})=>t?t.ownerDocument.defaultView:null,up=(t,e)=>Math.abs(t-e);function p5(t,e){const n=up(t.x,e.x),s=up(t.y,e.y);return Math.sqrt(n**2+s**2)}class mv{constructor(e,n,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=$c(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,v=p5(g.offset,{x:0,y:0})>=3;if(!x&&!v)return;const{point:b}=g,{timestamp:_}=Ut;this.history.push({...b,timestamp:_});const{onStart:w,onMove:C}=this.handlers;x||(w&&w(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,g)},this.handlePointerMove=(g,x)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=zc(x,this.transformPagePoint),wt.update(this.updatePoint,!0)},this.handlePointerUp=(g,x)=>{this.end();const{onEnd:v,onSessionEnd:b,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=$c(g.type==="pointercancel"?this.lastMoveEventInfo:zc(x,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,w),b&&b(g,w)},!ih(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.contextWindow=i||window;const l=Uo(e),d=zc(l,this.transformPagePoint),{point:u}=d,{timestamp:h}=Ut;this.history=[{...u,timestamp:h}];const{onSessionStart:f}=n;f&&f(e,$c(d,this.history)),this.removeListeners=zo(lo(this.contextWindow,"pointermove",this.handlePointerMove),lo(this.contextWindow,"pointerup",this.handlePointerUp),lo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Vs(this.updatePoint)}}function zc(t,e){return e?{point:e(t.point)}:t}function hp(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $c({point:t},e){return{point:t,delta:hp(t,pv(e)),offset:hp(t,g5(e)),velocity:x5(e,.1)}}function g5(t){return t[0]}function pv(t){return t[t.length-1]}function x5(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const i=pv(t);for(;n>=0&&(s=t[n],!(i.timestamp-s.timestamp>os(e)));)n--;if(!s)return{x:0,y:0};const a=as(i.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-s.x)/a,y:(i.y-s.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function v5(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?_t(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?_t(n,t,s.max):Math.min(t,n)),t}function fp(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function y5(t,{top:e,left:n,bottom:s,right:i}){return{x:fp(t.x,n,i),y:fp(t.y,e,s)}}function mp(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function _5(t,e){return{x:mp(t.x,e.x),y:mp(t.y,e.y)}}function b5(t,e){let n=.5;const s=nn(t),i=nn(e);return i>s?n=bo(e.min,e.max-s,t.min):s>i&&(n=bo(t.min,t.max-i,e.min)),Ns(0,1,n)}function w5(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Md=.35;function j5(t=Md){return t===!1?t=0:t===!0&&(t=Md),{x:pp(t,"left","right"),y:pp(t,"top","bottom")}}function pp(t,e,n){return{min:gp(t,e),max:gp(t,n)}}function gp(t,e){return typeof t=="number"?t:t[e]||0}const S5=new WeakMap;class N5{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Uo(f).point)},a=(f,g)=>{const{drag:x,dragPropagation:v,onDragStart:b}=this.getProps();if(x&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=WT(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),In(w=>{let C=this.getAxisMotionValue(w).get()||0;if(ls.test(C)){const{projection:N}=this.visualElement;if(N&&N.layout){const S=N.layout.layoutBox[w];S&&(C=nn(S)*(parseFloat(C)/100))}}this.originPoint[w]=C}),b&&wt.postRender(()=>b(f,g)),Ad(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},l=(f,g)=>{const{dragPropagation:x,dragDirectionLock:v,onDirectionLock:b,onDrag:_}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:w}=g;if(v&&this.currentDirection===null){this.currentDirection=C5(w),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",g.point,w),this.updateAxis("y",g.point,w),this.visualElement.render(),_&&_(f,g)},d=(f,g)=>this.stop(f,g),u=()=>In(f=>{var g;return this.getAnimationState(f)==="paused"&&((g=this.getAxisMotionValue(f).animation)==null?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new mv(e,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:d,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,contextWindow:fv(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&wt.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:i}=this.getProps();if(!s||!wa(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(l=v5(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&qr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=y5(s.layoutBox,e):this.constraints=!1,this.elastic=j5(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&In(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=w5(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!qr(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=m5(s,i.root,this.visualElement.getTransformPagePoint());let l=_5(i.layout.layoutBox,a);if(n){const d=n(i5(l));this.hasMutatedConstraints=!!d,d&&(l=av(d))}return l}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),u=this.constraints||{},h=In(f=>{if(!wa(f,n,this.currentDirection))return;let g=u&&u[f]||{};l&&(g={min:0,max:0});const x=i?200:1e6,v=i?40:1e7,b={type:"inertia",velocity:s?e[f]:0,bounceStiffness:x,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...g};return this.startAxisValueAnimation(f,b)});return Promise.all(h).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Ad(this.visualElement,e),s.start(mh(e,s,0,n,this.visualElement,!1))}stopAnimation(){In(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){In(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){In(n=>{const{drag:s}=this.getProps();if(!wa(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:d}=i.layout.layoutBox[n];a.set(e[n]-_t(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!qr(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};In(l=>{const d=this.getAxisMotionValue(l);if(d&&this.constraints!==!1){const u=d.get();i[l]=b5({min:u,max:u},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),In(l=>{if(!wa(l,e,null))return;const d=this.getAxisMotionValue(l),{min:u,max:h}=this.constraints[l];d.set(_t(u,h,i[l]))})}addListeners(){if(!this.visualElement.current)return;S5.set(this.visualElement,this);const e=this.visualElement.current,n=lo(e,"pointerdown",u=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(u)}),s=()=>{const{dragConstraints:u}=this.getProps();qr(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),wt.read(s);const l=Po(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(In(f=>{const g=this.getAxisMotionValue(f);g&&(this.originPoint[f]+=u[f].translate,g.set(g.get()+u[f].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=Md,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:d}}}function wa(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function C5(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class P5 extends Ks{constructor(e){super(e),this.removeGroupControls=zn,this.removeListeners=zn,this.controls=new N5(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zn}unmount(){this.removeGroupControls(),this.removeListeners()}}const xp=t=>(e,n)=>{t&&wt.postRender(()=>t(e,n))};class T5 extends Ks{constructor(){super(...arguments),this.removePointerDownListener=zn}onPointerDown(e){this.session=new mv(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fv(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:xp(e),onStart:xp(n),onMove:s,onEnd:(a,l)=>{delete this.session,i&&wt.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=lo(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ba={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function vp(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const qi={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Oe.test(t))t=parseFloat(t);else return t;const n=vp(t,e.target.x),s=vp(t,e.target.y);return`${n}% ${s}%`}},E5={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,i=Us.parse(t);if(i.length>5)return s;const a=Us.createTransformer(t),l=typeof i[0]!="number"?1:0,d=n.x.scale*e.x,u=n.y.scale*e.y;i[0+l]/=d,i[1+l]/=u;const h=_t(d,u,.5);return typeof i[2+l]=="number"&&(i[2+l]/=h),typeof i[3+l]=="number"&&(i[3+l]/=h),a(i)}};class A5 extends p.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:a}=e;mE(k5),a&&(n.group&&n.group.add(a),s&&s.register&&i&&s.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ba.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:i,isPresent:a}=this.props,{projection:l}=s;return l&&(l.isPresent=a,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||wt.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),rh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gv(t){const[e,n]=n0(),s=p.useContext(Iu);return r.jsx(A5,{...t,layoutGroup:s,switchLayoutGroup:p.useContext(q0),isPresent:e,safeToRemove:n})}const k5={borderRadius:{...qi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qi,borderTopRightRadius:qi,borderBottomLeftRadius:qi,borderBottomRightRadius:qi,boxShadow:E5};function L5(t,e,n){const s=Kt(t)?t:oi(t);return s.start(mh("",s,e,n)),s.animation}function R5(t){return t instanceof SVGElement&&t.tagName!=="svg"}const M5=(t,e)=>t.depth-e.depth;class O5{constructor(){this.children=[],this.isDirty=!1}add(e){zu(this.children,e),this.isDirty=!0}remove(e){$u(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(M5),this.isDirty=!1,this.children.forEach(e)}}function I5(t,e){const n=ln.now(),s=({timestamp:i})=>{const a=i-n;a>=e&&(Vs(s),t(a-e))};return wt.setup(s,!0),()=>Vs(s)}const xv=["TopLeft","TopRight","BottomLeft","BottomRight"],D5=xv.length,yp=t=>typeof t=="string"?parseFloat(t):t,_p=t=>typeof t=="number"||Oe.test(t);function B5(t,e,n,s,i,a){i?(t.opacity=_t(0,n.opacity??1,F5(s)),t.opacityExit=_t(e.opacity??1,0,z5(s))):a&&(t.opacity=_t(e.opacity??1,n.opacity??1,s));for(let l=0;l<D5;l++){const d=`border${xv[l]}Radius`;let u=bp(e,d),h=bp(n,d);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||_p(u)===_p(h)?(t[d]=Math.max(_t(yp(u),yp(h),s),0),(ls.test(h)||ls.test(u))&&(t[d]+="%")):t[d]=h}(e.rotate||n.rotate)&&(t.rotate=_t(e.rotate||0,n.rotate||0,s))}function bp(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const F5=vv(0,.5,h0),z5=vv(.5,.95,zn);function vv(t,e,n){return s=>s<t?0:s>e?1:n(bo(t,e,s))}function wp(t,e){t.min=e.min,t.max=e.max}function On(t,e){wp(t.x,e.x),wp(t.y,e.y)}function jp(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Sp(t,e,n,s,i){return t-=e,t=rl(t,1/n,s),i!==void 0&&(t=rl(t,1/i,s)),t}function $5(t,e=0,n=1,s=.5,i,a=t,l=t){if(ls.test(e)&&(e=parseFloat(e),e=_t(l.min,l.max,e/100)-l.min),typeof e!="number")return;let d=_t(a.min,a.max,s);t===a&&(d-=e),t.min=Sp(t.min,e,n,d,i),t.max=Sp(t.max,e,n,d,i)}function Np(t,e,[n,s,i],a,l){$5(t,e[n],e[s],e[i],e.scale,a,l)}const V5=["x","scaleX","originX"],U5=["y","scaleY","originY"];function Cp(t,e,n,s){Np(t.x,e,V5,n?n.x:void 0,s?s.x:void 0),Np(t.y,e,U5,n?n.y:void 0,s?s.y:void 0)}function Pp(t){return t.translate===0&&t.scale===1}function yv(t){return Pp(t.x)&&Pp(t.y)}function Tp(t,e){return t.min===e.min&&t.max===e.max}function W5(t,e){return Tp(t.x,e.x)&&Tp(t.y,e.y)}function Ep(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function _v(t,e){return Ep(t.x,e.x)&&Ep(t.y,e.y)}function Ap(t){return nn(t.x)/nn(t.y)}function kp(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class H5{constructor(){this.members=[]}add(e){zu(this.members,e),e.scheduleRender()}remove(e){if($u(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Z5(t,e,n){let s="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((i||a||l)&&(s=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:f,rotateX:g,rotateY:x,skewX:v,skewY:b}=n;h&&(s=`perspective(${h}px) ${s}`),f&&(s+=`rotate(${f}deg) `),g&&(s+=`rotateX(${g}deg) `),x&&(s+=`rotateY(${x}deg) `),v&&(s+=`skewX(${v}deg) `),b&&(s+=`skewY(${b}deg) `)}const d=t.x.scale*e.x,u=t.y.scale*e.y;return(d!==1||u!==1)&&(s+=`scale(${d}, ${u})`),s||"none"}const Vc=["","X","Y","Z"],G5={visibility:"hidden"},q5=1e3;let K5=0;function Uc(t,e,n,s){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),s&&(s[t]=0))}function bv(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=sv(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",wt,!(i||a))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&bv(s)}function wv({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(l={},d=e==null?void 0:e()){this.id=K5++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(J5),this.nodes.forEach(sA),this.nodes.forEach(rA),this.nodes.forEach(Q5)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new O5)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Uu),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const u=this.eventHandlers.get(l);u&&u.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=R5(l),this.instance=l;const{layoutId:d,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||d)&&(this.isLayoutDirty=!0),t){let f;const g=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=I5(g,250),Ba.hasAnimatedSinceResize&&(Ba.hasAnimatedSinceResize=!1,this.nodes.forEach(Rp))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&h&&(d||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:g,hasRelativeLayoutChanged:x,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||h.getDefaultTransition()||cA,{onLayoutAnimationStart:_,onLayoutAnimationComplete:w}=h.getProps(),C=!this.targetLayout||!_v(this.targetLayout,v),N=!g&&x;if(this.options.layoutRoot||this.resumeFrom||N||g&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,N);const S={...nh(b,"layout"),onPlay:_,onComplete:w};(h.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else g||Rp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iA),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const g=this.path[f];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:u}=this.options;if(d===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Lp);return}this.isUpdating||this.nodes.forEach(tA),this.isUpdating=!1,this.nodes.forEach(nA),this.nodes.forEach(Y5),this.nodes.forEach(X5),this.clearAllSnapshots();const d=ln.now();Ut.delta=Ns(0,1e3/60,d-Ut.timestamp),Ut.timestamp=d,Ut.isProcessing=!0,Rc.update.process(Ut),Rc.preRender.process(Ut),Rc.render.process(Ut),Ut.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eA),this.sharedNodes.forEach(oA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!nn(this.snapshot.measuredBox.x)&&!nn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d&&this.instance){const u=s(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!yv(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;l&&this.instance&&(d||cr(this.latestValues)||f)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let u=this.removeElementScroll(d);return l&&(u=this.removeTransform(u)),dA(u),{animationId:this.root.animationId,measuredBox:d,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:l}=this.options;if(!l)return Tt();const d=l.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(uA))){const{scroll:f}=this.root;f&&(Yr(d.x,f.offset.x),Yr(d.y,f.offset.y))}return d}removeElementScroll(l){var u;const d=Tt();if(On(d,l),(u=this.scroll)!=null&&u.wasRoot)return d;for(let h=0;h<this.path.length;h++){const f=this.path[h],{scroll:g,options:x}=f;f!==this.root&&g&&x.layoutScroll&&(g.wasRoot&&On(d,l),Yr(d.x,g.offset.x),Yr(d.y,g.offset.y))}return d}applyTransform(l,d=!1){const u=Tt();On(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];!d&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Xr(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),cr(f.latestValues)&&Xr(u,f.latestValues)}return cr(this.latestValues)&&Xr(u,this.latestValues),u}removeTransform(l){const d=Tt();On(d,l);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!cr(h.latestValues))continue;Ld(h.latestValues)&&h.updateSnapshot();const f=Tt(),g=h.measurePageBox();On(f,g),Cp(d,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return cr(this.latestValues)&&Cp(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ut.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var x;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==d;if(!(l||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:g}=this.options;if(!(!this.layout||!(f||g))){if(this.resolvedRelativeTargetAt=Ut.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),uo(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),On(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),h5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):On(this.target,this.layout.layoutBox),uv(this.target,this.targetDelta)):On(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),uo(this.relativeTargetOrigin,this.target,v.target),On(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ld(this.parent.latestValues)||dv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const l=this.getLead(),d=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(u=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ut.timestamp&&(u=!1),u)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;On(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,x=this.treeScale.y;f5(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Tt());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(jp(this.prevProjectionDelta.x,this.projectionDelta.x),jp(this.prevProjectionDelta.y,this.projectionDelta.y)),co(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==x||!kp(this.projectionDelta.x,this.prevProjectionDelta.x)||!kp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Kr(),this.projectionDelta=Kr(),this.projectionDeltaWithTransform=Kr()}setAnimationOrigin(l,d=!1){const u=this.snapshot,h=u?u.latestValues:{},f={...this.latestValues},g=Kr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=Tt(),v=u?u.source:void 0,b=this.layout?this.layout.source:void 0,_=v!==b,w=this.getStack(),C=!w||w.members.length<=1,N=!!(_&&!C&&this.options.crossfade===!0&&!this.path.some(lA));this.animationProgress=0;let S;this.mixTargetDelta=P=>{const T=P/1e3;Mp(g.x,l.x,T),Mp(g.y,l.y,T),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(uo(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),aA(this.relativeTarget,this.relativeTargetOrigin,x,T),S&&W5(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Tt()),On(S,this.relativeTarget)),_&&(this.animationValues=f,B5(f,h,this.latestValues,T,N,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var d,u,h;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(!1),(h=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||h.stop(!1),this.pendingAnimation&&(Vs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=wt.update(()=>{Ba.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=oi(0)),this.currentAnimation=L5(this.motionValue,[0,1e3],{...l,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),l.onUpdate&&l.onUpdate(f)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(q5),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:u,layout:h,latestValues:f}=l;if(!(!d||!u||!h)){if(this!==l&&this.layout&&h&&jv(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||Tt();const g=nn(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+g;const x=nn(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+x}On(d,u),Xr(d,f),co(this.projectionDeltaWithTransform,this.layoutCorrected,d,f)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new H5),this.sharedNodes.get(l).add(d);const h=d.options.initialPromotionConfig;d.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var d;const{layoutId:l}=this.options;return l?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:l}=this.options;return l?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:u}=l;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(d=!0),!d)return;const h={};u.z&&Uc("z",l,h,this.animationValues);for(let f=0;f<Vc.length;f++)Uc(`rotate${Vc[f]}`,l,h,this.animationValues),Uc(`skew${Vc[f]}`,l,h,this.animationValues);l.render();for(const f in h)l.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return G5;const d={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Da(l==null?void 0:l.pointerEvents)||"",d.transform=u?u(this.latestValues,""):"none",d;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Da(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!cr(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),d.transform=Z5(this.projectionDeltaWithTransform,this.treeScale,f),u&&(d.transform=u(f,d.transform));const{x:g,y:x}=this.projectionDelta;d.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,h.animationValues?d.opacity=h===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:d.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in No){if(f[v]===void 0)continue;const{correct:b,applyTo:_,isCSSVariable:w}=No[v],C=d.transform==="none"?f[v]:b(f[v],h);if(_){const N=_.length;for(let S=0;S<N;S++)d[_[S]]=C}else w?this.options.visualElement.renderState.vars[v]=C:d[v]=C}return this.options.layoutId&&(d.pointerEvents=h===this?Da(l==null?void 0:l.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var d;return(d=l.currentAnimation)==null?void 0:d.stop(!1)}),this.root.nodes.forEach(Lp),this.root.sharedNodes.clear()}}}function Y5(t){t.updateLayout()}function X5(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?In(g=>{const x=l?e.measuredBox[g]:e.layoutBox[g],v=nn(x);x.min=s[g].min,x.max=x.min+v}):jv(a,e.layoutBox,s)&&In(g=>{const x=l?e.measuredBox[g]:e.layoutBox[g],v=nn(s[g]);x.max=x.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+v)});const d=Kr();co(d,s,e.layoutBox);const u=Kr();l?co(u,t.applyTransform(i,!0),e.measuredBox):co(u,s,e.layoutBox);const h=!yv(d);let f=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:x,layout:v}=g;if(x&&v){const b=Tt();uo(b,e.layoutBox,x.layoutBox);const _=Tt();uo(_,s,v.layoutBox),_v(b,_)||(f=!0),g.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=b,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:u,layoutDelta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function J5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Q5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function eA(t){t.clearSnapshot()}function Lp(t){t.clearMeasurements()}function tA(t){t.isLayoutDirty=!1}function nA(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Rp(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function sA(t){t.resolveTargetDelta()}function rA(t){t.calcProjection()}function iA(t){t.resetSkewAndRotation()}function oA(t){t.removeLeadSnapshot()}function Mp(t,e,n){t.translate=_t(e.translate,0,n),t.scale=_t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Op(t,e,n,s){t.min=_t(e.min,n.min,s),t.max=_t(e.max,n.max,s)}function aA(t,e,n,s){Op(t.x,e.x,n.x,s),Op(t.y,e.y,n.y,s)}function lA(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const cA={duration:.45,ease:[.4,0,.1,1]},Ip=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Dp=Ip("applewebkit/")&&!Ip("chrome/")?Math.round:zn;function Bp(t){t.min=Dp(t.min),t.max=Dp(t.max)}function dA(t){Bp(t.x),Bp(t.y)}function jv(t,e,n){return t==="position"||t==="preserve-aspect"&&!u5(Ap(e),Ap(n),.2)}function uA(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const hA=wv({attachResizeListener:(t,e)=>Po(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wc={current:void 0},Sv=wv({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Wc.current){const t=new hA({});t.mount(window),t.setOptions({layoutScroll:!0}),Wc.current=t}return Wc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),fA={pan:{Feature:T5},drag:{Feature:P5,ProjectionNode:Sv,MeasureLayout:gv}};function Fp(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=s[i];a&&wt.postRender(()=>a(e,Uo(e)))}class mA extends Ks{mount(){const{current:e}=this.node;e&&(this.unmount=HT(e,(n,s)=>(Fp(this.node,s,"Start"),i=>Fp(this.node,i,"End"))))}unmount(){}}class pA extends Ks{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zo(Po(this.node.current,"focus",()=>this.onFocus()),Po(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zp(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=s[i];a&&wt.postRender(()=>a(e,Uo(e)))}class gA extends Ks{mount(){const{current:e}=this.node;e&&(this.unmount=KT(e,(n,s)=>(zp(this.node,s,"Start"),(i,{success:a})=>zp(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Od=new WeakMap,Hc=new WeakMap,xA=t=>{const e=Od.get(t.target);e&&e(t)},vA=t=>{t.forEach(xA)};function yA({root:t,...e}){const n=t||document;Hc.has(n)||Hc.set(n,{});const s=Hc.get(n),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(vA,{root:t,...e})),s[i]}function _A(t,e,n){const s=yA(e);return Od.set(t,n),s.observe(t),()=>{Od.delete(t),s.unobserve(t)}}const bA={some:0,all:1};class wA extends Ks{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:bA[i]},d=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:g}=this.node.getProps(),x=h?f:g;x&&x(u)};return _A(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(jA(e,n))&&this.startObserver()}unmount(){}}function jA({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const SA={inView:{Feature:wA},tap:{Feature:gA},focus:{Feature:pA},hover:{Feature:mA}},NA={layout:{ProjectionNode:Sv,MeasureLayout:gv}},Id={current:null},Nv={current:!1};function CA(){if(Nv.current=!0,!!Bu)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Id.current=t.matches;t.addListener(e),e()}else Id.current=!1}const PA=new WeakMap;function TA(t,e,n){for(const s in e){const i=e[s],a=n[s];if(Kt(i))t.addValue(s,i);else if(Kt(a))t.addValue(s,oi(i,{owner:t}));else if(a!==i)if(t.hasValue(s)){const l=t.getValue(s);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(s);t.addValue(s,oi(l!==void 0?l:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const $p=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class EA{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=th,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=ln.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,wt.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=l;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=Il(n),this.isVariantNode=Z0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in g){const v=g[x];u[x]!==void 0&&Kt(v)&&v.set(u[x],!1)}}mount(e){this.current=e,PA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Nv.current||CA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Id.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Vs(this.notifyUpdate),Vs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=ji.has(e);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&wt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ai){const n=ai[e];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<$p.length;s++){const i=$p[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=TA(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=oi(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(s0(s)||r0(s))?s=parseFloat(s):!XT(s)&&Us.test(n)&&(s=F0(e,n)),this.setBaseTarget(e,Kt(s)?s.get():s)),Kt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=hh(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Kt(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Uu),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Cv extends EA{constructor(){super(...arguments),this.KeyframeResolver=zT}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Kt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Pv(t,{style:e,vars:n},s,i){Object.assign(t.style,e,i&&i.getProjectionStyles(s));for(const a in n)t.style.setProperty(a,n[a])}function AA(t){return window.getComputedStyle(t)}class kA extends Cv{constructor(){super(...arguments),this.type="html",this.renderInstance=Pv}readValueFromInstance(e,n){if(ji.has(n))return iT(e,n);{const s=AA(e),i=(Zu(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return hv(e,n)}build(e,n,s){ch(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return fh(e,n,s)}}const Tv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function LA(t,e,n,s){Pv(t,e,void 0,s);for(const i in e.attrs)t.setAttribute(Tv.has(i)?i:lh(i),e.attrs[i])}class RA extends Cv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ji.has(n)){const s=B0(n);return s&&s.default||0}return n=Tv.has(n)?n:lh(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return nv(e,n,s)}build(e,n,s){J0(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,i){LA(e,n,s,i)}mount(e){this.isSVGTag=ev(e.tagName),super.mount(e)}}const MA=(t,e)=>uh(t)?new RA(e):new kA(e,{allowProjection:t!==p.Fragment}),OA=kE({...s5,...SA,...fA,...NA},MA),an=nE(OA);function _s(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ev(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Tn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},li={duration:.5,overwrite:!1,delay:0},ph,Yt,xt,Bn=1e8,ct=1/Bn,Dd=Math.PI*2,IA=Dd/4,DA=0,Av=Math.sqrt,BA=Math.cos,FA=Math.sin,$t=function(e){return typeof e=="string"},Nt=function(e){return typeof e=="function"},Ps=function(e){return typeof e=="number"},gh=function(e){return typeof e>"u"},ds=function(e){return typeof e=="object"},un=function(e){return e!==!1},xh=function(){return typeof window<"u"},ja=function(e){return Nt(e)||$t(e)},kv=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Xt=Array.isArray,Bd=/(?:-?\.?\d|\.)+/gi,Lv=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Jr=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Zc=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Rv=/[+-]=-?[.\d]+/,Mv=/[^,'"\[\]\s]+/gi,zA=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,yt,es,Fd,vh,En={},il={},Ov,Iv=function(e){return(il=Pr(e,En))&&pn},yh=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},To=function(e,n){return!n&&console.warn(e)},Dv=function(e,n){return e&&(En[e]=n)&&il&&(il[e]=n)||En},Eo=function(){return 0},$A={suppressEvents:!0,isStart:!0,kill:!1},Fa={suppressEvents:!0,kill:!1},VA={suppressEvents:!0},_h={},zs=[],zd={},Bv,wn={},Gc={},Vp=30,za=[],bh="",wh=function(e){var n=e[0],s,i;if(ds(n)||Nt(n)||(e=[e]),!(s=(n._gsap||{}).harness)){for(i=za.length;i--&&!za[i].targetTest(n););s=za[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new ly(e[i],s)))||e.splice(i,1);return e},wr=function(e){return e._gsap||wh(Fn(e))[0]._gsap},Fv=function(e,n,s){return(s=e[n])&&Nt(s)?e[n]():gh(s)&&e.getAttribute&&e.getAttribute(n)||s},hn=function(e,n){return(e=e.split(",")).forEach(n)||e},Et=function(e){return Math.round(e*1e5)/1e5||0},zt=function(e){return Math.round(e*1e7)/1e7||0},ei=function(e,n){var s=n.charAt(0),i=parseFloat(n.substr(2));return e=parseFloat(e),s==="+"?e+i:s==="-"?e-i:s==="*"?e*i:e/i},UA=function(e,n){for(var s=n.length,i=0;e.indexOf(n[i])<0&&++i<s;);return i<s},ol=function(){var e=zs.length,n=zs.slice(0),s,i;for(zd={},zs.length=0,s=0;s<e;s++)i=n[s],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},zv=function(e,n,s,i){zs.length&&!Yt&&ol(),e.render(n,s,Yt&&n<0&&(e._initted||e._startAt)),zs.length&&!Yt&&ol()},$v=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(Mv).length<2?n:$t(e)?e.trim():e},Vv=function(e){return e},$n=function(e,n){for(var s in n)s in e||(e[s]=n[s]);return e},WA=function(e){return function(n,s){for(var i in s)i in n||i==="duration"&&e||i==="ease"||(n[i]=s[i])}},Pr=function(e,n){for(var s in n)e[s]=n[s];return e},Up=function t(e,n){for(var s in n)s!=="__proto__"&&s!=="constructor"&&s!=="prototype"&&(e[s]=ds(n[s])?t(e[s]||(e[s]={}),n[s]):n[s]);return e},al=function(e,n){var s={},i;for(i in e)i in n||(s[i]=e[i]);return s},ho=function(e){var n=e.parent||yt,s=e.keyframes?WA(Xt(e.keyframes)):$n;if(un(e.inherit))for(;n;)s(e,n.vars.defaults),n=n.parent||n._dp;return e},HA=function(e,n){for(var s=e.length,i=s===n.length;i&&s--&&e[s]===n[s];);return s<0},Uv=function(e,n,s,i,a){var l=e[i],d;if(a)for(d=n[a];l&&l[a]>d;)l=l._prev;return l?(n._next=l._next,l._next=n):(n._next=e[s],e[s]=n),n._next?n._next._prev=n:e[i]=n,n._prev=l,n.parent=n._dp=e,n},Dl=function(e,n,s,i){s===void 0&&(s="_first"),i===void 0&&(i="_last");var a=n._prev,l=n._next;a?a._next=l:e[s]===n&&(e[s]=l),l?l._prev=a:e[i]===n&&(e[i]=a),n._next=n._prev=n.parent=null},Ws=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},jr=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var s=e;s;)s._dirty=1,s=s.parent;return e},ZA=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},$d=function(e,n,s,i){return e._startAt&&(Yt?e._startAt.revert(Fa):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,i))},GA=function t(e){return!e||e._ts&&t(e.parent)},Wp=function(e){return e._repeat?ci(e._tTime,e=e.duration()+e._rDelay)*e:0},ci=function(e,n){var s=Math.floor(e/=n);return e&&s===e?s-1:s},ll=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},Bl=function(e){return e._end=zt(e._start+(e._tDur/Math.abs(e._ts||e._rts||ct)||0))},Fl=function(e,n){var s=e._dp;return s&&s.smoothChildTiming&&e._ts&&(e._start=zt(s._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),Bl(e),s._dirty||jr(s,e)),e},Wv=function(e,n){var s;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(s=ll(e.rawTime(),n),(!n._dur||Wo(0,n.totalDuration(),s)-n._tTime>ct)&&n.render(s,!0)),jr(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(s=e;s._dp;)s.rawTime()>=0&&s.totalTime(s._tTime),s=s._dp;e._zTime=-ct}},ts=function(e,n,s,i){return n.parent&&Ws(n),n._start=zt((Ps(s)?s:s||e!==yt?Dn(e,s,n):e._time)+n._delay),n._end=zt(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),Uv(e,n,"_first","_last",e._sort?"_start":0),Vd(n)||(e._recent=n),i||Wv(e,n),e._ts<0&&Fl(e,e._tTime),e},Hv=function(e,n){return(En.ScrollTrigger||yh("scrollTrigger",n))&&En.ScrollTrigger.create(n,e)},Zv=function(e,n,s,i,a){if(Sh(e,n,a),!e._initted)return 1;if(!s&&e._pt&&!Yt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Bv!==jn.frame)return zs.push(e),e._lazy=[a,i],1},qA=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Vd=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},KA=function(e,n,s,i){var a=e.ratio,l=n<0||!n&&(!e._start&&qA(e)&&!(!e._initted&&Vd(e))||(e._ts<0||e._dp._ts<0)&&!Vd(e))?0:1,d=e._rDelay,u=0,h,f,g;if(d&&e._repeat&&(u=Wo(0,e._tDur,n),f=ci(u,d),e._yoyo&&f&1&&(l=1-l),f!==ci(e._tTime,d)&&(a=1-l,e.vars.repeatRefresh&&e._initted&&e.invalidate())),l!==a||Yt||i||e._zTime===ct||!n&&e._zTime){if(!e._initted&&Zv(e,n,i,s,u))return;for(g=e._zTime,e._zTime=n||(s?ct:0),s||(s=n&&!g),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=u,h=e._pt;h;)h.r(l,h.d),h=h._next;n<0&&$d(e,n,s,!0),e._onUpdate&&!s&&Nn(e,"onUpdate"),u&&e._repeat&&!s&&e.parent&&Nn(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===l&&(l&&Ws(e,1),!s&&!Yt&&(Nn(e,l?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},YA=function(e,n,s){var i;if(s>n)for(i=e._first;i&&i._start<=s;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=e._last;i&&i._start>=s;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},di=function(e,n,s,i){var a=e._repeat,l=zt(n)||0,d=e._tTime/e._tDur;return d&&!i&&(e._time*=l/e._dur),e._dur=l,e._tDur=a?a<0?1e10:zt(l*(a+1)+e._rDelay*a):l,d>0&&!i&&Fl(e,e._tTime=e._tDur*d),e.parent&&Bl(e),s||jr(e.parent,e),e},Hp=function(e){return e instanceof tn?jr(e):di(e,e._dur)},XA={_start:0,endTime:Eo,totalDuration:Eo},Dn=function t(e,n,s){var i=e.labels,a=e._recent||XA,l=e.duration()>=Bn?a.endTime(!1):e._dur,d,u,h;return $t(n)&&(isNaN(n)||n in i)?(u=n.charAt(0),h=n.substr(-1)==="%",d=n.indexOf("="),u==="<"||u===">"?(d>=0&&(n=n.replace(/=/,"")),(u==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(n.substr(1))||0)*(h?(d<0?a:s).totalDuration()/100:1)):d<0?(n in i||(i[n]=l),i[n]):(u=parseFloat(n.charAt(d-1)+n.substr(d+1)),h&&s&&(u=u/100*(Xt(s)?s[0]:s).totalDuration()),d>1?t(e,n.substr(0,d-1),s)+u:l+u)):n==null?l:+n},fo=function(e,n,s){var i=Ps(n[1]),a=(i?2:1)+(e<2?0:1),l=n[a],d,u;if(i&&(l.duration=n[1]),l.parent=s,e){for(d=l,u=s;u&&!("immediateRender"in d);)d=u.vars.defaults||{},u=un(u.vars.inherit)&&u.parent;l.immediateRender=un(d.immediateRender),e<2?l.runBackwards=1:l.startAt=n[a-1]}return new Rt(n[0],l,n[a+1])},Ys=function(e,n){return e||e===0?n(e):n},Wo=function(e,n,s){return s<e?e:s>n?n:s},qt=function(e,n){return!$t(e)||!(n=zA.exec(e))?"":n[1]},JA=function(e,n,s){return Ys(s,function(i){return Wo(e,n,i)})},Ud=[].slice,Gv=function(e,n){return e&&ds(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&ds(e[0]))&&!e.nodeType&&e!==es},QA=function(e,n,s){return s===void 0&&(s=[]),e.forEach(function(i){var a;return $t(i)&&!n||Gv(i,1)?(a=s).push.apply(a,Fn(i)):s.push(i)})||s},Fn=function(e,n,s){return xt&&!n&&xt.selector?xt.selector(e):$t(e)&&!s&&(Fd||!ui())?Ud.call((n||vh).querySelectorAll(e),0):Xt(e)?QA(e,s):Gv(e)?Ud.call(e,0):e?[e]:[]},Wd=function(e){return e=Fn(e)[0]||To("Invalid scope")||{},function(n){var s=e.current||e.nativeElement||e;return Fn(n,s.querySelectorAll?s:s===e?To("Invalid scope")||vh.createElement("div"):e)}},qv=function(e){return e.sort(function(){return .5-Math.random()})},Kv=function(e){if(Nt(e))return e;var n=ds(e)?e:{each:e},s=Sr(n.ease),i=n.from||0,a=parseFloat(n.base)||0,l={},d=i>0&&i<1,u=isNaN(i)||d,h=n.axis,f=i,g=i;return $t(i)?f=g={center:.5,edges:.5,end:1}[i]||0:!d&&u&&(f=i[0],g=i[1]),function(x,v,b){var _=(b||n).length,w=l[_],C,N,S,P,T,A,k,R,O;if(!w){if(O=n.grid==="auto"?0:(n.grid||[1,Bn])[1],!O){for(k=-Bn;k<(k=b[O++].getBoundingClientRect().left)&&O<_;);O<_&&O--}for(w=l[_]=[],C=u?Math.min(O,_)*f-.5:i%O,N=O===Bn?0:u?_*g/O-.5:i/O|0,k=0,R=Bn,A=0;A<_;A++)S=A%O-C,P=N-(A/O|0),w[A]=T=h?Math.abs(h==="y"?P:S):Av(S*S+P*P),T>k&&(k=T),T<R&&(R=T);i==="random"&&qv(w),w.max=k-R,w.min=R,w.v=_=(parseFloat(n.amount)||parseFloat(n.each)*(O>_?_-1:h?h==="y"?_/O:O:Math.max(O,_/O))||0)*(i==="edges"?-1:1),w.b=_<0?a-_:a,w.u=qt(n.amount||n.each)||0,s=s&&_<0?iy(s):s}return _=(w[x]-w.min)/w.max||0,zt(w.b+(s?s(_):_)*w.v)+w.u}},Hd=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(s){var i=zt(Math.round(parseFloat(s)/e)*e*n);return(i-i%1)/n+(Ps(s)?0:qt(s))}},Yv=function(e,n){var s=Xt(e),i,a;return!s&&ds(e)&&(i=s=e.radius||Bn,e.values?(e=Fn(e.values),(a=!Ps(e[0]))&&(i*=i)):e=Hd(e.increment)),Ys(n,s?Nt(e)?function(l){return a=e(l),Math.abs(a-l)<=i?a:l}:function(l){for(var d=parseFloat(a?l.x:l),u=parseFloat(a?l.y:0),h=Bn,f=0,g=e.length,x,v;g--;)a?(x=e[g].x-d,v=e[g].y-u,x=x*x+v*v):x=Math.abs(e[g]-d),x<h&&(h=x,f=g);return f=!i||h<=i?e[f]:l,a||f===l||Ps(l)?f:f+qt(l)}:Hd(e))},Xv=function(e,n,s,i){return Ys(Xt(e)?!n:s===!0?!!(s=0):!i,function(){return Xt(e)?e[~~(Math.random()*e.length)]:(s=s||1e-5)&&(i=s<1?Math.pow(10,(s+"").length-2):1)&&Math.floor(Math.round((e-s/2+Math.random()*(n-e+s*.99))/s)*s*i)/i})},ek=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return function(i){return n.reduce(function(a,l){return l(a)},i)}},tk=function(e,n){return function(s){return e(parseFloat(s))+(n||qt(s))}},nk=function(e,n,s){return Qv(e,n,0,1,s)},Jv=function(e,n,s){return Ys(s,function(i){return e[~~n(i)]})},sk=function t(e,n,s){var i=n-e;return Xt(e)?Jv(e,t(0,e.length),n):Ys(s,function(a){return(i+(a-e)%i)%i+e})},rk=function t(e,n,s){var i=n-e,a=i*2;return Xt(e)?Jv(e,t(0,e.length-1),n):Ys(s,function(l){return l=(a+(l-e)%a)%a||0,e+(l>i?a-l:l)})},Ao=function(e){for(var n=0,s="",i,a,l,d;~(i=e.indexOf("random(",n));)l=e.indexOf(")",i),d=e.charAt(i+7)==="[",a=e.substr(i+7,l-i-7).match(d?Mv:Bd),s+=e.substr(n,i-n)+Xv(d?a:+a[0],d?0:+a[1],+a[2]||1e-5),n=l+1;return s+e.substr(n,e.length-n)},Qv=function(e,n,s,i,a){var l=n-e,d=i-s;return Ys(a,function(u){return s+((u-e)/l*d||0)})},ik=function t(e,n,s,i){var a=isNaN(e+n)?0:function(v){return(1-v)*e+v*n};if(!a){var l=$t(e),d={},u,h,f,g,x;if(s===!0&&(i=1)&&(s=null),l)e={p:e},n={p:n};else if(Xt(e)&&!Xt(n)){for(f=[],g=e.length,x=g-2,h=1;h<g;h++)f.push(t(e[h-1],e[h]));g--,a=function(b){b*=g;var _=Math.min(x,~~b);return f[_](b-_)},s=n}else i||(e=Pr(Xt(e)?[]:{},e));if(!f){for(u in n)jh.call(d,e,u,"get",n[u]);a=function(b){return Ph(b,d)||(l?e.p:e)}}}return Ys(s,a)},Zp=function(e,n,s){var i=e.labels,a=Bn,l,d,u;for(l in i)d=i[l]-n,d<0==!!s&&d&&a>(d=Math.abs(d))&&(u=l,a=d);return u},Nn=function(e,n,s){var i=e.vars,a=i[n],l=xt,d=e._ctx,u,h,f;if(a)return u=i[n+"Params"],h=i.callbackScope||e,s&&zs.length&&ol(),d&&(xt=d),f=u?a.apply(h,u):a.call(h),xt=l,f},no=function(e){return Ws(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Yt),e.progress()<1&&Nn(e,"onInterrupt"),e},Qr,ey=[],ty=function(e){if(e)if(e=!e.name&&e.default||e,xh()||e.headless){var n=e.name,s=Nt(e),i=n&&!s&&e.init?function(){this._props=[]}:e,a={init:Eo,render:Ph,add:jh,kill:bk,modifier:_k,rawVars:0},l={targetTest:0,get:0,getSetter:Ch,aliases:{},register:0};if(ui(),e!==i){if(wn[n])return;$n(i,$n(al(e,a),l)),Pr(i.prototype,Pr(a,al(e,l))),wn[i.prop=n]=i,e.targetTest&&(za.push(i),_h[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}Dv(n,i),e.register&&e.register(pn,i,fn)}else ey.push(e)},it=255,so={aqua:[0,it,it],lime:[0,it,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,it],navy:[0,0,128],white:[it,it,it],olive:[128,128,0],yellow:[it,it,0],orange:[it,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[it,0,0],pink:[it,192,203],cyan:[0,it,it],transparent:[it,it,it,0]},qc=function(e,n,s){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(s-n)*e*6:e<.5?s:e*3<2?n+(s-n)*(2/3-e)*6:n)*it+.5|0},ny=function(e,n,s){var i=e?Ps(e)?[e>>16,e>>8&it,e&it]:0:so.black,a,l,d,u,h,f,g,x,v,b;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),so[e])i=so[e];else if(e.charAt(0)==="#"){if(e.length<6&&(a=e.charAt(1),l=e.charAt(2),d=e.charAt(3),e="#"+a+a+l+l+d+d+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&it,i&it,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&it,e&it]}else if(e.substr(0,3)==="hsl"){if(i=b=e.match(Bd),!n)u=+i[0]%360/360,h=+i[1]/100,f=+i[2]/100,l=f<=.5?f*(h+1):f+h-f*h,a=f*2-l,i.length>3&&(i[3]*=1),i[0]=qc(u+1/3,a,l),i[1]=qc(u,a,l),i[2]=qc(u-1/3,a,l);else if(~e.indexOf("="))return i=e.match(Lv),s&&i.length<4&&(i[3]=1),i}else i=e.match(Bd)||so.transparent;i=i.map(Number)}return n&&!b&&(a=i[0]/it,l=i[1]/it,d=i[2]/it,g=Math.max(a,l,d),x=Math.min(a,l,d),f=(g+x)/2,g===x?u=h=0:(v=g-x,h=f>.5?v/(2-g-x):v/(g+x),u=g===a?(l-d)/v+(l<d?6:0):g===l?(d-a)/v+2:(a-l)/v+4,u*=60),i[0]=~~(u+.5),i[1]=~~(h*100+.5),i[2]=~~(f*100+.5)),s&&i.length<4&&(i[3]=1),i},sy=function(e){var n=[],s=[],i=-1;return e.split($s).forEach(function(a){var l=a.match(Jr)||[];n.push.apply(n,l),s.push(i+=l.length+1)}),n.c=s,n},Gp=function(e,n,s){var i="",a=(e+i).match($s),l=n?"hsla(":"rgba(",d=0,u,h,f,g;if(!a)return e;if(a=a.map(function(x){return(x=ny(x,n,1))&&l+(n?x[0]+","+x[1]+"%,"+x[2]+"%,"+x[3]:x.join(","))+")"}),s&&(f=sy(e),u=s.c,u.join(i)!==f.c.join(i)))for(h=e.replace($s,"1").split(Jr),g=h.length-1;d<g;d++)i+=h[d]+(~u.indexOf(d)?a.shift()||l+"0,0,0,0)":(f.length?f:a.length?a:s).shift());if(!h)for(h=e.split($s),g=h.length-1;d<g;d++)i+=h[d]+a[d];return i+h[g]},$s=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in so)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),ok=/hsl[a]?\(/,ry=function(e){var n=e.join(" "),s;if($s.lastIndex=0,$s.test(n))return s=ok.test(n),e[1]=Gp(e[1],s),e[0]=Gp(e[0],s,sy(e[1])),!0},ko,jn=function(){var t=Date.now,e=500,n=33,s=t(),i=s,a=1e3/240,l=a,d=[],u,h,f,g,x,v,b=function _(w){var C=t()-i,N=w===!0,S,P,T,A;if((C>e||C<0)&&(s+=C-n),i+=C,T=i-s,S=T-l,(S>0||N)&&(A=++g.frame,x=T-g.time*1e3,g.time=T=T/1e3,l+=S+(S>=a?4:a-S),P=1),N||(u=h(_)),P)for(v=0;v<d.length;v++)d[v](T,x,A,w)};return g={time:0,frame:0,tick:function(){b(!0)},deltaRatio:function(w){return x/(1e3/(w||60))},wake:function(){Ov&&(!Fd&&xh()&&(es=Fd=window,vh=es.document||{},En.gsap=pn,(es.gsapVersions||(es.gsapVersions=[])).push(pn.version),Iv(il||es.GreenSockGlobals||!es.gsap&&es||{}),ey.forEach(ty)),f=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&g.sleep(),h=f||function(w){return setTimeout(w,l-g.time*1e3+1|0)},ko=1,b(2))},sleep:function(){(f?cancelAnimationFrame:clearTimeout)(u),ko=0,h=Eo},lagSmoothing:function(w,C){e=w||1/0,n=Math.min(C||33,e)},fps:function(w){a=1e3/(w||240),l=g.time*1e3+a},add:function(w,C,N){var S=C?function(P,T,A,k){w(P,T,A,k),g.remove(S)}:w;return g.remove(w),d[N?"unshift":"push"](S),ui(),S},remove:function(w,C){~(C=d.indexOf(w))&&d.splice(C,1)&&v>=C&&v--},_listeners:d},g}(),ui=function(){return!ko&&jn.wake()},qe={},ak=/^[\d.\-M][\d.\-,\s]/,lk=/["']/g,ck=function(e){for(var n={},s=e.substr(1,e.length-3).split(":"),i=s[0],a=1,l=s.length,d,u,h;a<l;a++)u=s[a],d=a!==l-1?u.lastIndexOf(","):u.length,h=u.substr(0,d),n[i]=isNaN(h)?h.replace(lk,"").trim():+h,i=u.substr(d+1).trim();return n},dk=function(e){var n=e.indexOf("(")+1,s=e.indexOf(")"),i=e.indexOf("(",n);return e.substring(n,~i&&i<s?e.indexOf(")",s+1):s)},uk=function(e){var n=(e+"").split("("),s=qe[n[0]];return s&&n.length>1&&s.config?s.config.apply(null,~e.indexOf("{")?[ck(n[1])]:dk(e).split(",").map($v)):qe._CE&&ak.test(e)?qe._CE("",e):s},iy=function(e){return function(n){return 1-e(1-n)}},oy=function t(e,n){for(var s=e._first,i;s;)s instanceof tn?t(s,n):s.vars.yoyoEase&&(!s._yoyo||!s._repeat)&&s._yoyo!==n&&(s.timeline?t(s.timeline,n):(i=s._ease,s._ease=s._yEase,s._yEase=i,s._yoyo=n)),s=s._next},Sr=function(e,n){return e&&(Nt(e)?e:qe[e]||uk(e))||n},Rr=function(e,n,s,i){s===void 0&&(s=function(u){return 1-n(1-u)}),i===void 0&&(i=function(u){return u<.5?n(u*2)/2:1-n((1-u)*2)/2});var a={easeIn:n,easeOut:s,easeInOut:i},l;return hn(e,function(d){qe[d]=En[d]=a,qe[l=d.toLowerCase()]=s;for(var u in a)qe[l+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=qe[d+"."+u]=a[u]}),a},ay=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},Kc=function t(e,n,s){var i=n>=1?n:1,a=(s||(e?.3:.45))/(n<1?n:1),l=a/Dd*(Math.asin(1/i)||0),d=function(f){return f===1?1:i*Math.pow(2,-10*f)*FA((f-l)*a)+1},u=e==="out"?d:e==="in"?function(h){return 1-d(1-h)}:ay(d);return a=Dd/a,u.config=function(h,f){return t(e,h,f)},u},Yc=function t(e,n){n===void 0&&(n=1.70158);var s=function(l){return l?--l*l*((n+1)*l+n)+1:0},i=e==="out"?s:e==="in"?function(a){return 1-s(1-a)}:ay(s);return i.config=function(a){return t(e,a)},i};hn("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;Rr(t+",Power"+(n-1),e?function(s){return Math.pow(s,n)}:function(s){return s},function(s){return 1-Math.pow(1-s,n)},function(s){return s<.5?Math.pow(s*2,n)/2:1-Math.pow((1-s)*2,n)/2})});qe.Linear.easeNone=qe.none=qe.Linear.easeIn;Rr("Elastic",Kc("in"),Kc("out"),Kc());(function(t,e){var n=1/e,s=2*n,i=2.5*n,a=function(d){return d<n?t*d*d:d<s?t*Math.pow(d-1.5/e,2)+.75:d<i?t*(d-=2.25/e)*d+.9375:t*Math.pow(d-2.625/e,2)+.984375};Rr("Bounce",function(l){return 1-a(1-l)},a)})(7.5625,2.75);Rr("Expo",function(t){return t?Math.pow(2,10*(t-1)):0});Rr("Circ",function(t){return-(Av(1-t*t)-1)});Rr("Sine",function(t){return t===1?1:-BA(t*IA)+1});Rr("Back",Yc("in"),Yc("out"),Yc());qe.SteppedEase=qe.steps=En.SteppedEase={config:function(e,n){e===void 0&&(e=1);var s=1/e,i=e+(n?0:1),a=n?1:0,l=1-ct;return function(d){return((i*Wo(0,l,d)|0)+a)*s}}};li.ease=qe["quad.out"];hn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return bh+=t+","+t+"Params,"});var ly=function(e,n){this.id=DA++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:Fv,this.set=n?n.getSetter:Ch},Lo=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,di(this,+n.duration,1,1),this.data=n.data,xt&&(this._ctx=xt,xt.data.push(this)),ko||jn.wake()}var e=t.prototype;return e.delay=function(s){return s||s===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+s-this._delay),this._delay=s,this):this._delay},e.duration=function(s){return arguments.length?this.totalDuration(this._repeat>0?s+(s+this._rDelay)*this._repeat:s):this.totalDuration()&&this._dur},e.totalDuration=function(s){return arguments.length?(this._dirty=0,di(this,this._repeat<0?s:(s-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(s,i){if(ui(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(Fl(this,s),!a._dp||a.parent||Wv(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&s<this._tDur||this._ts<0&&s>0||!this._tDur&&!s)&&ts(this._dp,this,this._start-this._delay)}return(this._tTime!==s||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===ct||!s&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=s),zv(this,s,i)),this},e.time=function(s,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),s+Wp(this))%(this._dur+this._rDelay)||(s?this._dur:0),i):this._time},e.totalProgress=function(s,i){return arguments.length?this.totalTime(this.totalDuration()*s,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(s,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-s:s)+Wp(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(s,i){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(s-1)*a,i):this._repeat?ci(this._tTime,a)+1:1},e.timeScale=function(s,i){if(!arguments.length)return this._rts===-ct?0:this._rts;if(this._rts===s)return this;var a=this.parent&&this._ts?ll(this.parent._time,this):this._tTime;return this._rts=+s||0,this._ts=this._ps||s===-ct?0:this._rts,this.totalTime(Wo(-Math.abs(this._delay),this._tDur,a),i!==!1),Bl(this),ZA(this)},e.paused=function(s){return arguments.length?(this._ps!==s&&(this._ps=s,s?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ui(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ct&&(this._tTime-=ct)))),this):this._ps},e.startTime=function(s){if(arguments.length){this._start=s;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&ts(i,this,s-this._delay),this}return this._start},e.endTime=function(s){return this._start+(un(s)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(s){var i=this.parent||this._dp;return i?s&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?ll(i.rawTime(s),this):this._tTime:this._tTime},e.revert=function(s){s===void 0&&(s=VA);var i=Yt;return Yt=s,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(s),this.totalTime(-.01,s.suppressEvents)),this.data!=="nested"&&s.kill!==!1&&this.kill(),Yt=i,this},e.globalTime=function(s){for(var i=this,a=arguments.length?s:i.rawTime();i;)a=i._start+a/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(s):a},e.repeat=function(s){return arguments.length?(this._repeat=s===1/0?-2:s,Hp(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(s){if(arguments.length){var i=this._time;return this._rDelay=s,Hp(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(s){return arguments.length?(this._yoyo=s,this):this._yoyo},e.seek=function(s,i){return this.totalTime(Dn(this,s),un(i))},e.restart=function(s,i){return this.play().totalTime(s?-this._delay:0,un(i))},e.play=function(s,i){return s!=null&&this.seek(s,i),this.reversed(!1).paused(!1)},e.reverse=function(s,i){return s!=null&&this.seek(s||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(s,i){return s!=null&&this.seek(s,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(s){return arguments.length?(!!s!==this.reversed()&&this.timeScale(-this._rts||(s?-ct:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-ct,this},e.isActive=function(){var s=this.parent||this._dp,i=this._start,a;return!!(!s||this._ts&&this._initted&&s.isActive()&&(a=s.rawTime(!0))>=i&&a<this.endTime(!0)-ct)},e.eventCallback=function(s,i,a){var l=this.vars;return arguments.length>1?(i?(l[s]=i,a&&(l[s+"Params"]=a),s==="onUpdate"&&(this._onUpdate=i)):delete l[s],this):l[s]},e.then=function(s){var i=this;return new Promise(function(a){var l=Nt(s)?s:Vv,d=function(){var h=i.then;i.then=null,Nt(l)&&(l=l(i))&&(l.then||l===i)&&(i.then=h),a(l),i.then=h};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?d():i._prom=d})},e.kill=function(){no(this)},t}();$n(Lo.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-ct,_prom:0,_ps:!1,_rts:1});var tn=function(t){Ev(e,t);function e(s,i){var a;return s===void 0&&(s={}),a=t.call(this,s)||this,a.labels={},a.smoothChildTiming=!!s.smoothChildTiming,a.autoRemoveChildren=!!s.autoRemoveChildren,a._sort=un(s.sortChildren),yt&&ts(s.parent||yt,_s(a),i),s.reversed&&a.reverse(),s.paused&&a.paused(!0),s.scrollTrigger&&Hv(_s(a),s.scrollTrigger),a}var n=e.prototype;return n.to=function(i,a,l){return fo(0,arguments,this),this},n.from=function(i,a,l){return fo(1,arguments,this),this},n.fromTo=function(i,a,l,d){return fo(2,arguments,this),this},n.set=function(i,a,l){return a.duration=0,a.parent=this,ho(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new Rt(i,a,Dn(this,l),1),this},n.call=function(i,a,l){return ts(this,Rt.delayedCall(0,i,a),l)},n.staggerTo=function(i,a,l,d,u,h,f){return l.duration=a,l.stagger=l.stagger||d,l.onComplete=h,l.onCompleteParams=f,l.parent=this,new Rt(i,l,Dn(this,u)),this},n.staggerFrom=function(i,a,l,d,u,h,f){return l.runBackwards=1,ho(l).immediateRender=un(l.immediateRender),this.staggerTo(i,a,l,d,u,h,f)},n.staggerFromTo=function(i,a,l,d,u,h,f,g){return d.startAt=l,ho(d).immediateRender=un(d.immediateRender),this.staggerTo(i,a,d,u,h,f,g)},n.render=function(i,a,l){var d=this._time,u=this._dirty?this.totalDuration():this._tDur,h=this._dur,f=i<=0?0:zt(i),g=this._zTime<0!=i<0&&(this._initted||!h),x,v,b,_,w,C,N,S,P,T,A,k;if(this!==yt&&f>u&&i>=0&&(f=u),f!==this._tTime||l||g){if(d!==this._time&&h&&(f+=this._time-d,i+=this._time-d),x=f,P=this._start,S=this._ts,C=!S,g&&(h||(d=this._zTime),(i||!a)&&(this._zTime=i)),this._repeat){if(A=this._yoyo,w=h+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(w*100+i,a,l);if(x=zt(f%w),f===u?(_=this._repeat,x=h):(_=~~(f/w),_&&_===f/w&&(x=h,_--),x>h&&(x=h)),T=ci(this._tTime,w),!d&&this._tTime&&T!==_&&this._tTime-T*w-this._dur<=0&&(T=_),A&&_&1&&(x=h-x,k=1),_!==T&&!this._lock){var R=A&&T&1,O=R===(A&&_&1);if(_<T&&(R=!R),d=R?0:f%h?h:f,this._lock=1,this.render(d||(k?0:zt(_*w)),a,!h)._lock=0,this._tTime=f,!a&&this.parent&&Nn(this,"onRepeat"),this.vars.repeatRefresh&&!k&&(this.invalidate()._lock=1),d&&d!==this._time||C!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,u=this._tDur,O&&(this._lock=2,d=R?h:-1e-4,this.render(d,!0),this.vars.repeatRefresh&&!k&&this.invalidate()),this._lock=0,!this._ts&&!C)return this;oy(this,k)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(N=YA(this,zt(d),zt(x)),N&&(f-=x-(x=N._start))),this._tTime=f,this._time=x,this._act=!S,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,d=0),!d&&x&&!a&&!_&&(Nn(this,"onStart"),this._tTime!==f))return this;if(x>=d&&i>=0)for(v=this._first;v;){if(b=v._next,(v._act||x>=v._start)&&v._ts&&N!==v){if(v.parent!==this)return this.render(i,a,l);if(v.render(v._ts>0?(x-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(x-v._start)*v._ts,a,l),x!==this._time||!this._ts&&!C){N=0,b&&(f+=this._zTime=-ct);break}}v=b}else{v=this._last;for(var M=i<0?i:x;v;){if(b=v._prev,(v._act||M<=v._end)&&v._ts&&N!==v){if(v.parent!==this)return this.render(i,a,l);if(v.render(v._ts>0?(M-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(M-v._start)*v._ts,a,l||Yt&&(v._initted||v._startAt)),x!==this._time||!this._ts&&!C){N=0,b&&(f+=this._zTime=M?-ct:ct);break}}v=b}}if(N&&!a&&(this.pause(),N.render(x>=d?0:-ct)._zTime=x>=d?1:-1,this._ts))return this._start=P,Bl(this),this.render(i,a,l);this._onUpdate&&!a&&Nn(this,"onUpdate",!0),(f===u&&this._tTime>=this.totalDuration()||!f&&d)&&(P===this._start||Math.abs(S)!==Math.abs(this._ts))&&(this._lock||((i||!h)&&(f===u&&this._ts>0||!f&&this._ts<0)&&Ws(this,1),!a&&!(i<0&&!d)&&(f||d||!u)&&(Nn(this,f===u&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(f<u&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,a){var l=this;if(Ps(a)||(a=Dn(this,a,i)),!(i instanceof Lo)){if(Xt(i))return i.forEach(function(d){return l.add(d,a)}),this;if($t(i))return this.addLabel(i,a);if(Nt(i))i=Rt.delayedCall(0,i);else return this}return this!==i?ts(this,i,a):this},n.getChildren=function(i,a,l,d){i===void 0&&(i=!0),a===void 0&&(a=!0),l===void 0&&(l=!0),d===void 0&&(d=-Bn);for(var u=[],h=this._first;h;)h._start>=d&&(h instanceof Rt?a&&u.push(h):(l&&u.push(h),i&&u.push.apply(u,h.getChildren(!0,a,l)))),h=h._next;return u},n.getById=function(i){for(var a=this.getChildren(1,1,1),l=a.length;l--;)if(a[l].vars.id===i)return a[l]},n.remove=function(i){return $t(i)?this.removeLabel(i):Nt(i)?this.killTweensOf(i):(Dl(this,i),i===this._recent&&(this._recent=this._last),jr(this))},n.totalTime=function(i,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=zt(jn.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,a),this._forcing=0,this):this._tTime},n.addLabel=function(i,a){return this.labels[i]=Dn(this,a),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,a,l){var d=Rt.delayedCall(0,a||Eo,l);return d.data="isPause",this._hasPause=1,ts(this,d,Dn(this,i))},n.removePause=function(i){var a=this._first;for(i=Dn(this,i);a;)a._start===i&&a.data==="isPause"&&Ws(a),a=a._next},n.killTweensOf=function(i,a,l){for(var d=this.getTweensOf(i,l),u=d.length;u--;)Ds!==d[u]&&d[u].kill(i,a);return this},n.getTweensOf=function(i,a){for(var l=[],d=Fn(i),u=this._first,h=Ps(a),f;u;)u instanceof Rt?UA(u._targets,d)&&(h?(!Ds||u._initted&&u._ts)&&u.globalTime(0)<=a&&u.globalTime(u.totalDuration())>a:!a||u.isActive())&&l.push(u):(f=u.getTweensOf(d,a)).length&&l.push.apply(l,f),u=u._next;return l},n.tweenTo=function(i,a){a=a||{};var l=this,d=Dn(l,i),u=a,h=u.startAt,f=u.onStart,g=u.onStartParams,x=u.immediateRender,v,b=Rt.to(l,$n({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:d,overwrite:"auto",duration:a.duration||Math.abs((d-(h&&"time"in h?h.time:l._time))/l.timeScale())||ct,onStart:function(){if(l.pause(),!v){var w=a.duration||Math.abs((d-(h&&"time"in h?h.time:l._time))/l.timeScale());b._dur!==w&&di(b,w,0,1).render(b._time,!0,!0),v=1}f&&f.apply(b,g||[])}},a));return x?b.render(0):b},n.tweenFromTo=function(i,a,l){return this.tweenTo(a,$n({startAt:{time:Dn(this,i)}},l))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),Zp(this,Dn(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),Zp(this,Dn(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+ct)},n.shiftChildren=function(i,a,l){l===void 0&&(l=0);for(var d=this._first,u=this.labels,h;d;)d._start>=l&&(d._start+=i,d._end+=i),d=d._next;if(a)for(h in u)u[h]>=l&&(u[h]+=i);return jr(this)},n.invalidate=function(i){var a=this._first;for(this._lock=0;a;)a.invalidate(i),a=a._next;return t.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var a=this._first,l;a;)l=a._next,this.remove(a),a=l;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),jr(this)},n.totalDuration=function(i){var a=0,l=this,d=l._last,u=Bn,h,f,g;if(arguments.length)return l.timeScale((l._repeat<0?l.duration():l.totalDuration())/(l.reversed()?-i:i));if(l._dirty){for(g=l.parent;d;)h=d._prev,d._dirty&&d.totalDuration(),f=d._start,f>u&&l._sort&&d._ts&&!l._lock?(l._lock=1,ts(l,d,f-d._delay,1)._lock=0):u=f,f<0&&d._ts&&(a-=f,(!g&&!l._dp||g&&g.smoothChildTiming)&&(l._start+=f/l._ts,l._time-=f,l._tTime-=f),l.shiftChildren(-f,!1,-1/0),u=0),d._end>a&&d._ts&&(a=d._end),d=h;di(l,l===yt&&l._time>a?l._time:a,1,1),l._dirty=0}return l._tDur},e.updateRoot=function(i){if(yt._ts&&(zv(yt,ll(i,yt)),Bv=jn.frame),jn.frame>=Vp){Vp+=Tn.autoSleep||120;var a=yt._first;if((!a||!a._ts)&&Tn.autoSleep&&jn._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||jn.sleep()}}},e}(Lo);$n(tn.prototype,{_lock:0,_hasPause:0,_forcing:0});var hk=function(e,n,s,i,a,l,d){var u=new fn(this._pt,e,n,0,1,my,null,a),h=0,f=0,g,x,v,b,_,w,C,N;for(u.b=s,u.e=i,s+="",i+="",(C=~i.indexOf("random("))&&(i=Ao(i)),l&&(N=[s,i],l(N,e,n),s=N[0],i=N[1]),x=s.match(Zc)||[];g=Zc.exec(i);)b=g[0],_=i.substring(h,g.index),v?v=(v+1)%5:_.substr(-5)==="rgba("&&(v=1),b!==x[f++]&&(w=parseFloat(x[f-1])||0,u._pt={_next:u._pt,p:_||f===1?_:",",s:w,c:b.charAt(1)==="="?ei(w,b)-w:parseFloat(b)-w,m:v&&v<4?Math.round:0},h=Zc.lastIndex);return u.c=h<i.length?i.substring(h,i.length):"",u.fp=d,(Rv.test(i)||C)&&(u.e=0),this._pt=u,u},jh=function(e,n,s,i,a,l,d,u,h,f){Nt(i)&&(i=i(a||0,e,l));var g=e[n],x=s!=="get"?s:Nt(g)?h?e[n.indexOf("set")||!Nt(e["get"+n.substr(3)])?n:"get"+n.substr(3)](h):e[n]():g,v=Nt(g)?h?xk:hy:Nh,b;if($t(i)&&(~i.indexOf("random(")&&(i=Ao(i)),i.charAt(1)==="="&&(b=ei(x,i)+(qt(x)||0),(b||b===0)&&(i=b))),!f||x!==i||Zd)return!isNaN(x*i)&&i!==""?(b=new fn(this._pt,e,n,+x||0,i-(x||0),typeof g=="boolean"?yk:fy,0,v),h&&(b.fp=h),d&&b.modifier(d,this,e),this._pt=b):(!g&&!(n in e)&&yh(n,i),hk.call(this,e,n,x,i,v,u||Tn.stringFilter,h))},fk=function(e,n,s,i,a){if(Nt(e)&&(e=mo(e,a,n,s,i)),!ds(e)||e.style&&e.nodeType||Xt(e)||kv(e))return $t(e)?mo(e,a,n,s,i):e;var l={},d;for(d in e)l[d]=mo(e[d],a,n,s,i);return l},cy=function(e,n,s,i,a,l){var d,u,h,f;if(wn[e]&&(d=new wn[e]).init(a,d.rawVars?n[e]:fk(n[e],i,a,l,s),s,i,l)!==!1&&(s._pt=u=new fn(s._pt,a,e,0,1,d.render,d,0,d.priority),s!==Qr))for(h=s._ptLookup[s._targets.indexOf(a)],f=d._props.length;f--;)h[d._props[f]]=u;return d},Ds,Zd,Sh=function t(e,n,s){var i=e.vars,a=i.ease,l=i.startAt,d=i.immediateRender,u=i.lazy,h=i.onUpdate,f=i.runBackwards,g=i.yoyoEase,x=i.keyframes,v=i.autoRevert,b=e._dur,_=e._startAt,w=e._targets,C=e.parent,N=C&&C.data==="nested"?C.vars.targets:w,S=e._overwrite==="auto"&&!ph,P=e.timeline,T,A,k,R,O,M,z,F,B,J,ee,X,oe;if(P&&(!x||!a)&&(a="none"),e._ease=Sr(a,li.ease),e._yEase=g?iy(Sr(g===!0?a:g,li.ease)):0,g&&e._yoyo&&!e._repeat&&(g=e._yEase,e._yEase=e._ease,e._ease=g),e._from=!P&&!!i.runBackwards,!P||x&&!i.stagger){if(F=w[0]?wr(w[0]).harness:0,X=F&&i[F.prop],T=al(i,_h),_&&(_._zTime<0&&_.progress(1),n<0&&f&&d&&!v?_.render(-1,!0):_.revert(f&&b?Fa:$A),_._lazy=0),l){if(Ws(e._startAt=Rt.set(w,$n({data:"isStart",overwrite:!1,parent:C,immediateRender:!0,lazy:!_&&un(u),startAt:null,delay:0,onUpdate:h&&function(){return Nn(e,"onUpdate")},stagger:0},l))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Yt||!d&&!v)&&e._startAt.revert(Fa),d&&b&&n<=0&&s<=0){n&&(e._zTime=n);return}}else if(f&&b&&!_){if(n&&(d=!1),k=$n({overwrite:!1,data:"isFromStart",lazy:d&&!_&&un(u),immediateRender:d,stagger:0,parent:C},T),X&&(k[F.prop]=X),Ws(e._startAt=Rt.set(w,k)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Yt?e._startAt.revert(Fa):e._startAt.render(-1,!0)),e._zTime=n,!d)t(e._startAt,ct,ct);else if(!n)return}for(e._pt=e._ptCache=0,u=b&&un(u)||u&&!b,A=0;A<w.length;A++){if(O=w[A],z=O._gsap||wh(w)[A]._gsap,e._ptLookup[A]=J={},zd[z.id]&&zs.length&&ol(),ee=N===w?A:N.indexOf(O),F&&(B=new F).init(O,X||T,e,ee,N)!==!1&&(e._pt=R=new fn(e._pt,O,B.name,0,1,B.render,B,0,B.priority),B._props.forEach(function(q){J[q]=R}),B.priority&&(M=1)),!F||X)for(k in T)wn[k]&&(B=cy(k,T,e,ee,O,N))?B.priority&&(M=1):J[k]=R=jh.call(e,O,k,"get",T[k],ee,N,0,i.stringFilter);e._op&&e._op[A]&&e.kill(O,e._op[A]),S&&e._pt&&(Ds=e,yt.killTweensOf(O,J,e.globalTime(n)),oe=!e.parent,Ds=0),e._pt&&u&&(zd[z.id]=1)}M&&py(e),e._onInit&&e._onInit(e)}e._onUpdate=h,e._initted=(!e._op||e._pt)&&!oe,x&&n<=0&&P.render(Bn,!0,!0)},mk=function(e,n,s,i,a,l,d,u){var h=(e._pt&&e._ptCache||(e._ptCache={}))[n],f,g,x,v;if(!h)for(h=e._ptCache[n]=[],x=e._ptLookup,v=e._targets.length;v--;){if(f=x[v][n],f&&f.d&&f.d._pt)for(f=f.d._pt;f&&f.p!==n&&f.fp!==n;)f=f._next;if(!f)return Zd=1,e.vars[n]="+=0",Sh(e,d),Zd=0,u?To(n+" not eligible for reset"):1;h.push(f)}for(v=h.length;v--;)g=h[v],f=g._pt||g,f.s=(i||i===0)&&!a?i:f.s+(i||0)+l*f.c,f.c=s-f.s,g.e&&(g.e=Et(s)+qt(g.e)),g.b&&(g.b=f.s+qt(g.b))},pk=function(e,n){var s=e[0]?wr(e[0]).harness:0,i=s&&s.aliases,a,l,d,u;if(!i)return n;a=Pr({},n);for(l in i)if(l in a)for(u=i[l].split(","),d=u.length;d--;)a[u[d]]=a[l];return a},gk=function(e,n,s,i){var a=n.ease||i||"power1.inOut",l,d;if(Xt(n))d=s[e]||(s[e]=[]),n.forEach(function(u,h){return d.push({t:h/(n.length-1)*100,v:u,e:a})});else for(l in n)d=s[l]||(s[l]=[]),l==="ease"||d.push({t:parseFloat(e),v:n[l],e:a})},mo=function(e,n,s,i,a){return Nt(e)?e.call(n,s,i,a):$t(e)&&~e.indexOf("random(")?Ao(e):e},dy=bh+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",uy={};hn(dy+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return uy[t]=1});var Rt=function(t){Ev(e,t);function e(s,i,a,l){var d;typeof i=="number"&&(a.duration=i,i=a,a=null),d=t.call(this,l?i:ho(i))||this;var u=d.vars,h=u.duration,f=u.delay,g=u.immediateRender,x=u.stagger,v=u.overwrite,b=u.keyframes,_=u.defaults,w=u.scrollTrigger,C=u.yoyoEase,N=i.parent||yt,S=(Xt(s)||kv(s)?Ps(s[0]):"length"in i)?[s]:Fn(s),P,T,A,k,R,O,M,z;if(d._targets=S.length?wh(S):To("GSAP target "+s+" not found. https://gsap.com",!Tn.nullTargetWarn)||[],d._ptLookup=[],d._overwrite=v,b||x||ja(h)||ja(f)){if(i=d.vars,P=d.timeline=new tn({data:"nested",defaults:_||{},targets:N&&N.data==="nested"?N.vars.targets:S}),P.kill(),P.parent=P._dp=_s(d),P._start=0,x||ja(h)||ja(f)){if(k=S.length,M=x&&Kv(x),ds(x))for(R in x)~dy.indexOf(R)&&(z||(z={}),z[R]=x[R]);for(T=0;T<k;T++)A=al(i,uy),A.stagger=0,C&&(A.yoyoEase=C),z&&Pr(A,z),O=S[T],A.duration=+mo(h,_s(d),T,O,S),A.delay=(+mo(f,_s(d),T,O,S)||0)-d._delay,!x&&k===1&&A.delay&&(d._delay=f=A.delay,d._start+=f,A.delay=0),P.to(O,A,M?M(T,O,S):0),P._ease=qe.none;P.duration()?h=f=0:d.timeline=0}else if(b){ho($n(P.vars.defaults,{ease:"none"})),P._ease=Sr(b.ease||i.ease||"none");var F=0,B,J,ee;if(Xt(b))b.forEach(function(X){return P.to(S,X,">")}),P.duration();else{A={};for(R in b)R==="ease"||R==="easeEach"||gk(R,b[R],A,b.easeEach);for(R in A)for(B=A[R].sort(function(X,oe){return X.t-oe.t}),F=0,T=0;T<B.length;T++)J=B[T],ee={ease:J.e,duration:(J.t-(T?B[T-1].t:0))/100*h},ee[R]=J.v,P.to(S,ee,F),F+=ee.duration;P.duration()<h&&P.to({},{duration:h-P.duration()})}}h||d.duration(h=P.duration())}else d.timeline=0;return v===!0&&!ph&&(Ds=_s(d),yt.killTweensOf(S),Ds=0),ts(N,_s(d),a),i.reversed&&d.reverse(),i.paused&&d.paused(!0),(g||!h&&!b&&d._start===zt(N._time)&&un(g)&&GA(_s(d))&&N.data!=="nested")&&(d._tTime=-ct,d.render(Math.max(0,-f)||0)),w&&Hv(_s(d),w),d}var n=e.prototype;return n.render=function(i,a,l){var d=this._time,u=this._tDur,h=this._dur,f=i<0,g=i>u-ct&&!f?u:i<ct?0:i,x,v,b,_,w,C,N,S,P;if(!h)KA(this,i,a,l);else if(g!==this._tTime||!i||l||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f){if(x=g,S=this.timeline,this._repeat){if(_=h+this._rDelay,this._repeat<-1&&f)return this.totalTime(_*100+i,a,l);if(x=zt(g%_),g===u?(b=this._repeat,x=h):(b=~~(g/_),b&&b===zt(g/_)&&(x=h,b--),x>h&&(x=h)),C=this._yoyo&&b&1,C&&(P=this._yEase,x=h-x),w=ci(this._tTime,_),x===d&&!l&&this._initted&&b===w)return this._tTime=g,this;b!==w&&(S&&this._yEase&&oy(S,C),this.vars.repeatRefresh&&!C&&!this._lock&&this._time!==_&&this._initted&&(this._lock=l=1,this.render(zt(_*b),!0).invalidate()._lock=0))}if(!this._initted){if(Zv(this,f?i:x,l,a,g))return this._tTime=0,this;if(d!==this._time&&!(l&&this.vars.repeatRefresh&&b!==w))return this;if(h!==this._dur)return this.render(i,a,l)}if(this._tTime=g,this._time=x,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=N=(P||this._ease)(x/h),this._from&&(this.ratio=N=1-N),x&&!d&&!a&&!b&&(Nn(this,"onStart"),this._tTime!==g))return this;for(v=this._pt;v;)v.r(N,v.d),v=v._next;S&&S.render(i<0?i:S._dur*S._ease(x/this._dur),a,l)||this._startAt&&(this._zTime=i),this._onUpdate&&!a&&(f&&$d(this,i,a,l),Nn(this,"onUpdate")),this._repeat&&b!==w&&this.vars.onRepeat&&!a&&this.parent&&Nn(this,"onRepeat"),(g===this._tDur||!g)&&this._tTime===g&&(f&&!this._onUpdate&&$d(this,i,!0,!0),(i||!h)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&Ws(this,1),!a&&!(f&&!d)&&(g||d||C)&&(Nn(this,g===u?"onComplete":"onReverseComplete",!0),this._prom&&!(g<u&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},n.resetTo=function(i,a,l,d,u){ko||jn.wake(),this._ts||this.play();var h=Math.min(this._dur,(this._dp._time-this._start)*this._ts),f;return this._initted||Sh(this,h),f=this._ease(h/this._dur),mk(this,i,a,l,d,f,h,u)?this.resetTo(i,a,l,d,1):(Fl(this,0),this.parent||Uv(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,a){if(a===void 0&&(a="all"),!i&&(!a||a==="all"))return this._lazy=this._pt=0,this.parent?no(this):this;if(this.timeline){var l=this.timeline.totalDuration();return this.timeline.killTweensOf(i,a,Ds&&Ds.vars.overwrite!==!0)._first||no(this),this.parent&&l!==this.timeline.totalDuration()&&di(this,this._dur*this.timeline._tDur/l,0,1),this}var d=this._targets,u=i?Fn(i):d,h=this._ptLookup,f=this._pt,g,x,v,b,_,w,C;if((!a||a==="all")&&HA(d,u))return a==="all"&&(this._pt=0),no(this);for(g=this._op=this._op||[],a!=="all"&&($t(a)&&(_={},hn(a,function(N){return _[N]=1}),a=_),a=pk(d,a)),C=d.length;C--;)if(~u.indexOf(d[C])){x=h[C],a==="all"?(g[C]=a,b=x,v={}):(v=g[C]=g[C]||{},b=a);for(_ in b)w=x&&x[_],w&&((!("kill"in w.d)||w.d.kill(_)===!0)&&Dl(this,w,"_pt"),delete x[_]),v!=="all"&&(v[_]=1)}return this._initted&&!this._pt&&f&&no(this),this},e.to=function(i,a){return new e(i,a,arguments[2])},e.from=function(i,a){return fo(1,arguments)},e.delayedCall=function(i,a,l,d){return new e(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:a,onReverseComplete:a,onCompleteParams:l,onReverseCompleteParams:l,callbackScope:d})},e.fromTo=function(i,a,l){return fo(2,arguments)},e.set=function(i,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new e(i,a)},e.killTweensOf=function(i,a,l){return yt.killTweensOf(i,a,l)},e}(Lo);$n(Rt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});hn("staggerTo,staggerFrom,staggerFromTo",function(t){Rt[t]=function(){var e=new tn,n=Ud.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var Nh=function(e,n,s){return e[n]=s},hy=function(e,n,s){return e[n](s)},xk=function(e,n,s,i){return e[n](i.fp,s)},vk=function(e,n,s){return e.setAttribute(n,s)},Ch=function(e,n){return Nt(e[n])?hy:gh(e[n])&&e.setAttribute?vk:Nh},fy=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},yk=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},my=function(e,n){var s=n._pt,i="";if(!e&&n.b)i=n.b;else if(e===1&&n.e)i=n.e;else{for(;s;)i=s.p+(s.m?s.m(s.s+s.c*e):Math.round((s.s+s.c*e)*1e4)/1e4)+i,s=s._next;i+=n.c}n.set(n.t,n.p,i,n)},Ph=function(e,n){for(var s=n._pt;s;)s.r(e,s.d),s=s._next},_k=function(e,n,s,i){for(var a=this._pt,l;a;)l=a._next,a.p===i&&a.modifier(e,n,s),a=l},bk=function(e){for(var n=this._pt,s,i;n;)i=n._next,n.p===e&&!n.op||n.op===e?Dl(this,n,"_pt"):n.dep||(s=1),n=i;return!s},wk=function(e,n,s,i){i.mSet(e,n,i.m.call(i.tween,s,i.mt),i)},py=function(e){for(var n=e._pt,s,i,a,l;n;){for(s=n._next,i=a;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:l)?n._prev._next=n:a=n,(n._next=i)?i._prev=n:l=n,n=s}e._pt=a},fn=function(){function t(n,s,i,a,l,d,u,h,f){this.t=s,this.s=a,this.c=l,this.p=i,this.r=d||fy,this.d=u||this,this.set=h||Nh,this.pr=f||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(s,i,a){this.mSet=this.mSet||this.set,this.set=wk,this.m=s,this.mt=a,this.tween=i},t}();hn(bh+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return _h[t]=1});En.TweenMax=En.TweenLite=Rt;En.TimelineLite=En.TimelineMax=tn;yt=new tn({sortChildren:!1,defaults:li,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Tn.stringFilter=ry;var Nr=[],$a={},jk=[],qp=0,Sk=0,Xc=function(e){return($a[e]||jk).map(function(n){return n()})},Gd=function(){var e=Date.now(),n=[];e-qp>2&&(Xc("matchMediaInit"),Nr.forEach(function(s){var i=s.queries,a=s.conditions,l,d,u,h;for(d in i)l=es.matchMedia(i[d]).matches,l&&(u=1),l!==a[d]&&(a[d]=l,h=1);h&&(s.revert(),u&&n.push(s))}),Xc("matchMediaRevert"),n.forEach(function(s){return s.onMatch(s,function(i){return s.add(null,i)})}),qp=e,Xc("matchMedia"))},gy=function(){function t(n,s){this.selector=s&&Wd(s),this.data=[],this._r=[],this.isReverted=!1,this.id=Sk++,n&&this.add(n)}var e=t.prototype;return e.add=function(s,i,a){Nt(s)&&(a=i,i=s,s=Nt);var l=this,d=function(){var h=xt,f=l.selector,g;return h&&h!==l&&h.data.push(l),a&&(l.selector=Wd(a)),xt=l,g=i.apply(l,arguments),Nt(g)&&l._r.push(g),xt=h,l.selector=f,l.isReverted=!1,g};return l.last=d,s===Nt?d(l,function(u){return l.add(null,u)}):s?l[s]=d:d},e.ignore=function(s){var i=xt;xt=null,s(this),xt=i},e.getTweens=function(){var s=[];return this.data.forEach(function(i){return i instanceof t?s.push.apply(s,i.getTweens()):i instanceof Rt&&!(i.parent&&i.parent.data==="nested")&&s.push(i)}),s},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(s,i){var a=this;if(s?function(){for(var d=a.getTweens(),u=a.data.length,h;u--;)h=a.data[u],h.data==="isFlip"&&(h.revert(),h.getChildren(!0,!0,!1).forEach(function(f){return d.splice(d.indexOf(f),1)}));for(d.map(function(f){return{g:f._dur||f._delay||f._sat&&!f._sat.vars.immediateRender?f.globalTime(0):-1/0,t:f}}).sort(function(f,g){return g.g-f.g||-1/0}).forEach(function(f){return f.t.revert(s)}),u=a.data.length;u--;)h=a.data[u],h instanceof tn?h.data!=="nested"&&(h.scrollTrigger&&h.scrollTrigger.revert(),h.kill()):!(h instanceof Rt)&&h.revert&&h.revert(s);a._r.forEach(function(f){return f(s,a)}),a.isReverted=!0}():this.data.forEach(function(d){return d.kill&&d.kill()}),this.clear(),i)for(var l=Nr.length;l--;)Nr[l].id===this.id&&Nr.splice(l,1)},e.revert=function(s){this.kill(s||{})},t}(),Nk=function(){function t(n){this.contexts=[],this.scope=n,xt&&xt.data.push(this)}var e=t.prototype;return e.add=function(s,i,a){ds(s)||(s={matches:s});var l=new gy(0,a||this.scope),d=l.conditions={},u,h,f;xt&&!l.selector&&(l.selector=xt.selector),this.contexts.push(l),i=l.add("onMatch",i),l.queries=s;for(h in s)h==="all"?f=1:(u=es.matchMedia(s[h]),u&&(Nr.indexOf(l)<0&&Nr.push(l),(d[h]=u.matches)&&(f=1),u.addListener?u.addListener(Gd):u.addEventListener("change",Gd)));return f&&i(l,function(g){return l.add(null,g)}),this},e.revert=function(s){this.kill(s||{})},e.kill=function(s){this.contexts.forEach(function(i){return i.kill(s,!0)})},t}(),cl={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];n.forEach(function(i){return ty(i)})},timeline:function(e){return new tn(e)},getTweensOf:function(e,n){return yt.getTweensOf(e,n)},getProperty:function(e,n,s,i){$t(e)&&(e=Fn(e)[0]);var a=wr(e||{}).get,l=s?Vv:$v;return s==="native"&&(s=""),e&&(n?l((wn[n]&&wn[n].get||a)(e,n,s,i)):function(d,u,h){return l((wn[d]&&wn[d].get||a)(e,d,u,h))})},quickSetter:function(e,n,s){if(e=Fn(e),e.length>1){var i=e.map(function(f){return pn.quickSetter(f,n,s)}),a=i.length;return function(f){for(var g=a;g--;)i[g](f)}}e=e[0]||{};var l=wn[n],d=wr(e),u=d.harness&&(d.harness.aliases||{})[n]||n,h=l?function(f){var g=new l;Qr._pt=0,g.init(e,s?f+s:f,Qr,0,[e]),g.render(1,g),Qr._pt&&Ph(1,Qr)}:d.set(e,u);return l?h:function(f){return h(e,u,s?f+s:f,d,1)}},quickTo:function(e,n,s){var i,a=pn.to(e,Pr((i={},i[n]="+=0.1",i.paused=!0,i),s||{})),l=function(u,h,f){return a.resetTo(n,u,h,f)};return l.tween=a,l},isTweening:function(e){return yt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Sr(e.ease,li.ease)),Up(li,e||{})},config:function(e){return Up(Tn,e||{})},registerEffect:function(e){var n=e.name,s=e.effect,i=e.plugins,a=e.defaults,l=e.extendTimeline;(i||"").split(",").forEach(function(d){return d&&!wn[d]&&!En[d]&&To(n+" effect requires "+d+" plugin.")}),Gc[n]=function(d,u,h){return s(Fn(d),$n(u||{},a),h)},l&&(tn.prototype[n]=function(d,u,h){return this.add(Gc[n](d,ds(u)?u:(h=u)&&{},this),h)})},registerEase:function(e,n){qe[e]=Sr(n)},parseEase:function(e,n){return arguments.length?Sr(e,n):qe},getById:function(e){return yt.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var s=new tn(e),i,a;for(s.smoothChildTiming=un(e.smoothChildTiming),yt.remove(s),s._dp=0,s._time=s._tTime=yt._time,i=yt._first;i;)a=i._next,(n||!(!i._dur&&i instanceof Rt&&i.vars.onComplete===i._targets[0]))&&ts(s,i,i._start-i._delay),i=a;return ts(yt,s,0),s},context:function(e,n){return e?new gy(e,n):xt},matchMedia:function(e){return new Nk(e)},matchMediaRefresh:function(){return Nr.forEach(function(e){var n=e.conditions,s,i;for(i in n)n[i]&&(n[i]=!1,s=1);s&&e.revert()})||Gd()},addEventListener:function(e,n){var s=$a[e]||($a[e]=[]);~s.indexOf(n)||s.push(n)},removeEventListener:function(e,n){var s=$a[e],i=s&&s.indexOf(n);i>=0&&s.splice(i,1)},utils:{wrap:sk,wrapYoyo:rk,distribute:Kv,random:Xv,snap:Yv,normalize:nk,getUnit:qt,clamp:JA,splitColor:ny,toArray:Fn,selector:Wd,mapRange:Qv,pipe:ek,unitize:tk,interpolate:ik,shuffle:qv},install:Iv,effects:Gc,ticker:jn,updateRoot:tn.updateRoot,plugins:wn,globalTimeline:yt,core:{PropTween:fn,globals:Dv,Tween:Rt,Timeline:tn,Animation:Lo,getCache:wr,_removeLinkedListItem:Dl,reverting:function(){return Yt},context:function(e){return e&&xt&&(xt.data.push(e),e._ctx=xt),xt},suppressOverwrites:function(e){return ph=e}}};hn("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return cl[t]=Rt[t]});jn.add(tn.updateRoot);Qr=cl.to({},{duration:0});var Ck=function(e,n){for(var s=e._pt;s&&s.p!==n&&s.op!==n&&s.fp!==n;)s=s._next;return s},Pk=function(e,n){var s=e._targets,i,a,l;for(i in n)for(a=s.length;a--;)l=e._ptLookup[a][i],l&&(l=l.d)&&(l._pt&&(l=Ck(l,i)),l&&l.modifier&&l.modifier(n[i],e,s[a],i))},Jc=function(e,n){return{name:e,rawVars:1,init:function(i,a,l){l._onInit=function(d){var u,h;if($t(a)&&(u={},hn(a,function(f){return u[f]=1}),a=u),n){u={};for(h in a)u[h]=n(a[h]);a=u}Pk(d,a)}}}},pn=cl.registerPlugin({name:"attr",init:function(e,n,s,i,a){var l,d,u;this.tween=s;for(l in n)u=e.getAttribute(l)||"",d=this.add(e,"setAttribute",(u||0)+"",n[l],i,a,0,0,l),d.op=l,d.b=u,this._props.push(l)},render:function(e,n){for(var s=n._pt;s;)Yt?s.set(s.t,s.p,s.b,s):s.r(e,s.d),s=s._next}},{name:"endArray",init:function(e,n){for(var s=n.length;s--;)this.add(e,s,e[s]||0,n[s],0,0,0,0,0,1)}},Jc("roundProps",Hd),Jc("modifiers"),Jc("snap",Yv))||cl;Rt.version=tn.version=pn.version="3.12.5";Ov=1;xh()&&ui();qe.Power0;qe.Power1;qe.Power2;qe.Power3;qe.Power4;qe.Linear;qe.Quad;qe.Cubic;qe.Quart;qe.Quint;qe.Strong;qe.Elastic;qe.Back;qe.SteppedEase;qe.Bounce;qe.Sine;qe.Expo;qe.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Kp,Bs,ti,Th,xr,Yp,Eh,Tk=function(){return typeof window<"u"},Ts={},dr=180/Math.PI,ni=Math.PI/180,Hr=Math.atan2,Xp=1e8,Ah=/([A-Z])/g,Ek=/(left|right|width|margin|padding|x)/i,Ak=/[\s,\(]\S/,rs={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},qd=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},kk=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},Lk=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},Rk=function(e,n){var s=n.s+n.c*e;n.set(n.t,n.p,~~(s+(s<0?-.5:.5))+n.u,n)},xy=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},vy=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},Mk=function(e,n,s){return e.style[n]=s},Ok=function(e,n,s){return e.style.setProperty(n,s)},Ik=function(e,n,s){return e._gsap[n]=s},Dk=function(e,n,s){return e._gsap.scaleX=e._gsap.scaleY=s},Bk=function(e,n,s,i,a){var l=e._gsap;l.scaleX=l.scaleY=s,l.renderTransform(a,l)},Fk=function(e,n,s,i,a){var l=e._gsap;l[n]=s,l.renderTransform(a,l)},bt="transform",mn=bt+"Origin",zk=function t(e,n){var s=this,i=this.target,a=i.style,l=i._gsap;if(e in Ts&&a){if(this.tfm=this.tfm||{},e!=="transform")e=rs[e]||e,~e.indexOf(",")?e.split(",").forEach(function(d){return s.tfm[d]=bs(i,d)}):this.tfm[e]=l.x?l[e]:bs(i,e),e===mn&&(this.tfm.zOrigin=l.zOrigin);else return rs.transform.split(",").forEach(function(d){return t.call(s,d,n)});if(this.props.indexOf(bt)>=0)return;l.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(mn,n,"")),e=bt}(a||n)&&this.props.push(e,n,a[e])},yy=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},$k=function(){var e=this.props,n=this.target,s=n.style,i=n._gsap,a,l;for(a=0;a<e.length;a+=3)e[a+1]?n[e[a]]=e[a+2]:e[a+2]?s[e[a]]=e[a+2]:s.removeProperty(e[a].substr(0,2)==="--"?e[a]:e[a].replace(Ah,"-$1").toLowerCase());if(this.tfm){for(l in this.tfm)i[l]=this.tfm[l];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),a=Eh(),(!a||!a.isStart)&&!s[bt]&&(yy(s),i.zOrigin&&s[mn]&&(s[mn]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},_y=function(e,n){var s={target:e,props:[],revert:$k,save:zk};return e._gsap||pn.core.getCache(e),n&&n.split(",").forEach(function(i){return s.save(i)}),s},by,Kd=function(e,n){var s=Bs.createElementNS?Bs.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Bs.createElement(e);return s&&s.style?s:Bs.createElement(e)},cs=function t(e,n,s){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(Ah,"-$1").toLowerCase())||i.getPropertyValue(n)||!s&&t(e,hi(n)||n,1)||""},Jp="O,Moz,ms,Ms,Webkit".split(","),hi=function(e,n,s){var i=n||xr,a=i.style,l=5;if(e in a&&!s)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);l--&&!(Jp[l]+e in a););return l<0?null:(l===3?"ms":l>=0?Jp[l]:"")+e},Yd=function(){Tk()&&window.document&&(Kp=window,Bs=Kp.document,ti=Bs.documentElement,xr=Kd("div")||{style:{}},Kd("div"),bt=hi(bt),mn=bt+"Origin",xr.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",by=!!hi("perspective"),Eh=pn.core.reverting,Th=1)},Qc=function t(e){var n=Kd("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=this.parentNode,i=this.nextSibling,a=this.style.cssText,l;if(ti.appendChild(n),n.appendChild(this),this.style.display="block",e)try{l=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch{}else this._gsapBBox&&(l=this._gsapBBox());return s&&(i?s.insertBefore(this,i):s.appendChild(this)),ti.removeChild(n),this.style.cssText=a,l},Qp=function(e,n){for(var s=n.length;s--;)if(e.hasAttribute(n[s]))return e.getAttribute(n[s])},wy=function(e){var n;try{n=e.getBBox()}catch{n=Qc.call(e,!0)}return n&&(n.width||n.height)||e.getBBox===Qc||(n=Qc.call(e,!0)),n&&!n.width&&!n.x&&!n.y?{x:+Qp(e,["x","cx","x1"])||0,y:+Qp(e,["y","cy","y1"])||0,width:0,height:0}:n},jy=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&wy(e))},Tr=function(e,n){if(n){var s=e.style,i;n in Ts&&n!==mn&&(n=bt),s.removeProperty?(i=n.substr(0,2),(i==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),s.removeProperty(i==="--"?n:n.replace(Ah,"-$1").toLowerCase())):s.removeAttribute(n)}},Fs=function(e,n,s,i,a,l){var d=new fn(e._pt,n,s,0,1,l?vy:xy);return e._pt=d,d.b=i,d.e=a,e._props.push(s),d},eg={deg:1,rad:1,turn:1},Vk={grid:1,flex:1},Hs=function t(e,n,s,i){var a=parseFloat(s)||0,l=(s+"").trim().substr((a+"").length)||"px",d=xr.style,u=Ek.test(n),h=e.tagName.toLowerCase()==="svg",f=(h?"client":"offset")+(u?"Width":"Height"),g=100,x=i==="px",v=i==="%",b,_,w,C;if(i===l||!a||eg[i]||eg[l])return a;if(l!=="px"&&!x&&(a=t(e,n,s,"px")),C=e.getCTM&&jy(e),(v||l==="%")&&(Ts[n]||~n.indexOf("adius")))return b=C?e.getBBox()[u?"width":"height"]:e[f],Et(v?a/b*g:a/100*b);if(d[u?"width":"height"]=g+(x?l:i),_=~n.indexOf("adius")||i==="em"&&e.appendChild&&!h?e:e.parentNode,C&&(_=(e.ownerSVGElement||{}).parentNode),(!_||_===Bs||!_.appendChild)&&(_=Bs.body),w=_._gsap,w&&v&&w.width&&u&&w.time===jn.time&&!w.uncache)return Et(a/w.width*g);if(v&&(n==="height"||n==="width")){var N=e.style[n];e.style[n]=g+i,b=e[f],N?e.style[n]=N:Tr(e,n)}else(v||l==="%")&&!Vk[cs(_,"display")]&&(d.position=cs(e,"position")),_===e&&(d.position="static"),_.appendChild(xr),b=xr[f],_.removeChild(xr),d.position="absolute";return u&&v&&(w=wr(_),w.time=jn.time,w.width=_[f]),Et(x?b*a/g:b&&a?g/b*a:0)},bs=function(e,n,s,i){var a;return Th||Yd(),n in rs&&n!=="transform"&&(n=rs[n],~n.indexOf(",")&&(n=n.split(",")[0])),Ts[n]&&n!=="transform"?(a=Mo(e,i),a=n!=="transformOrigin"?a[n]:a.svg?a.origin:ul(cs(e,mn))+" "+a.zOrigin+"px"):(a=e.style[n],(!a||a==="auto"||i||~(a+"").indexOf("calc("))&&(a=dl[n]&&dl[n](e,n,s)||cs(e,n)||Fv(e,n)||(n==="opacity"?1:0))),s&&!~(a+"").trim().indexOf(" ")?Hs(e,n,a,s)+s:a},Uk=function(e,n,s,i){if(!s||s==="none"){var a=hi(n,e,1),l=a&&cs(e,a,1);l&&l!==s?(n=a,s=l):n==="borderColor"&&(s=cs(e,"borderTopColor"))}var d=new fn(this._pt,e.style,n,0,1,my),u=0,h=0,f,g,x,v,b,_,w,C,N,S,P,T;if(d.b=s,d.e=i,s+="",i+="",i==="auto"&&(_=e.style[n],e.style[n]=i,i=cs(e,n)||i,_?e.style[n]=_:Tr(e,n)),f=[s,i],ry(f),s=f[0],i=f[1],x=s.match(Jr)||[],T=i.match(Jr)||[],T.length){for(;g=Jr.exec(i);)w=g[0],N=i.substring(u,g.index),b?b=(b+1)%5:(N.substr(-5)==="rgba("||N.substr(-5)==="hsla(")&&(b=1),w!==(_=x[h++]||"")&&(v=parseFloat(_)||0,P=_.substr((v+"").length),w.charAt(1)==="="&&(w=ei(v,w)+P),C=parseFloat(w),S=w.substr((C+"").length),u=Jr.lastIndex-S.length,S||(S=S||Tn.units[n]||P,u===i.length&&(i+=S,d.e+=S)),P!==S&&(v=Hs(e,n,_,S)||0),d._pt={_next:d._pt,p:N||h===1?N:",",s:v,c:C-v,m:b&&b<4||n==="zIndex"?Math.round:0});d.c=u<i.length?i.substring(u,i.length):""}else d.r=n==="display"&&i==="none"?vy:xy;return Rv.test(i)&&(d.e=0),this._pt=d,d},tg={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Wk=function(e){var n=e.split(" "),s=n[0],i=n[1]||"50%";return(s==="top"||s==="bottom"||i==="left"||i==="right")&&(e=s,s=i,i=e),n[0]=tg[s]||s,n[1]=tg[i]||i,n.join(" ")},Hk=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var s=n.t,i=s.style,a=n.u,l=s._gsap,d,u,h;if(a==="all"||a===!0)i.cssText="",u=1;else for(a=a.split(","),h=a.length;--h>-1;)d=a[h],Ts[d]&&(u=1,d=d==="transformOrigin"?mn:bt),Tr(s,d);u&&(Tr(s,bt),l&&(l.svg&&s.removeAttribute("transform"),Mo(s,1),l.uncache=1,yy(i)))}},dl={clearProps:function(e,n,s,i,a){if(a.data!=="isFromStart"){var l=e._pt=new fn(e._pt,n,s,0,0,Hk);return l.u=i,l.pr=-10,l.tween=a,e._props.push(s),1}}},Ro=[1,0,0,1,0,0],Sy={},Ny=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},ng=function(e){var n=cs(e,bt);return Ny(n)?Ro:n.substr(7).match(Lv).map(Et)},kh=function(e,n){var s=e._gsap||wr(e),i=e.style,a=ng(e),l,d,u,h;return s.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,a=[u.a,u.b,u.c,u.d,u.e,u.f],a.join(",")==="1,0,0,1,0,0"?Ro:a):(a===Ro&&!e.offsetParent&&e!==ti&&!s.svg&&(u=i.display,i.display="block",l=e.parentNode,(!l||!e.offsetParent)&&(h=1,d=e.nextElementSibling,ti.appendChild(e)),a=ng(e),u?i.display=u:Tr(e,"display"),h&&(d?l.insertBefore(e,d):l?l.appendChild(e):ti.removeChild(e))),n&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},Xd=function(e,n,s,i,a,l){var d=e._gsap,u=a||kh(e,!0),h=d.xOrigin||0,f=d.yOrigin||0,g=d.xOffset||0,x=d.yOffset||0,v=u[0],b=u[1],_=u[2],w=u[3],C=u[4],N=u[5],S=n.split(" "),P=parseFloat(S[0])||0,T=parseFloat(S[1])||0,A,k,R,O;s?u!==Ro&&(k=v*w-b*_)&&(R=P*(w/k)+T*(-_/k)+(_*N-w*C)/k,O=P*(-b/k)+T*(v/k)-(v*N-b*C)/k,P=R,T=O):(A=wy(e),P=A.x+(~S[0].indexOf("%")?P/100*A.width:P),T=A.y+(~(S[1]||S[0]).indexOf("%")?T/100*A.height:T)),i||i!==!1&&d.smooth?(C=P-h,N=T-f,d.xOffset=g+(C*v+N*_)-C,d.yOffset=x+(C*b+N*w)-N):d.xOffset=d.yOffset=0,d.xOrigin=P,d.yOrigin=T,d.smooth=!!i,d.origin=n,d.originIsAbsolute=!!s,e.style[mn]="0px 0px",l&&(Fs(l,d,"xOrigin",h,P),Fs(l,d,"yOrigin",f,T),Fs(l,d,"xOffset",g,d.xOffset),Fs(l,d,"yOffset",x,d.yOffset)),e.setAttribute("data-svg-origin",P+" "+T)},Mo=function(e,n){var s=e._gsap||new ly(e);if("x"in s&&!n&&!s.uncache)return s;var i=e.style,a=s.scaleX<0,l="px",d="deg",u=getComputedStyle(e),h=cs(e,mn)||"0",f,g,x,v,b,_,w,C,N,S,P,T,A,k,R,O,M,z,F,B,J,ee,X,oe,q,re,V,W,G,$,U,ye;return f=g=x=_=w=C=N=S=P=0,v=b=1,s.svg=!!(e.getCTM&&jy(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(i[bt]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[bt]!=="none"?u[bt]:"")),i.scale=i.rotate=i.translate="none"),k=kh(e,s.svg),s.svg&&(s.uncache?(q=e.getBBox(),h=s.xOrigin-q.x+"px "+(s.yOrigin-q.y)+"px",oe=""):oe=!n&&e.getAttribute("data-svg-origin"),Xd(e,oe||h,!!oe||s.originIsAbsolute,s.smooth!==!1,k)),T=s.xOrigin||0,A=s.yOrigin||0,k!==Ro&&(z=k[0],F=k[1],B=k[2],J=k[3],f=ee=k[4],g=X=k[5],k.length===6?(v=Math.sqrt(z*z+F*F),b=Math.sqrt(J*J+B*B),_=z||F?Hr(F,z)*dr:0,N=B||J?Hr(B,J)*dr+_:0,N&&(b*=Math.abs(Math.cos(N*ni))),s.svg&&(f-=T-(T*z+A*B),g-=A-(T*F+A*J))):(ye=k[6],$=k[7],V=k[8],W=k[9],G=k[10],U=k[11],f=k[12],g=k[13],x=k[14],R=Hr(ye,G),w=R*dr,R&&(O=Math.cos(-R),M=Math.sin(-R),oe=ee*O+V*M,q=X*O+W*M,re=ye*O+G*M,V=ee*-M+V*O,W=X*-M+W*O,G=ye*-M+G*O,U=$*-M+U*O,ee=oe,X=q,ye=re),R=Hr(-B,G),C=R*dr,R&&(O=Math.cos(-R),M=Math.sin(-R),oe=z*O-V*M,q=F*O-W*M,re=B*O-G*M,U=J*M+U*O,z=oe,F=q,B=re),R=Hr(F,z),_=R*dr,R&&(O=Math.cos(R),M=Math.sin(R),oe=z*O+F*M,q=ee*O+X*M,F=F*O-z*M,X=X*O-ee*M,z=oe,ee=q),w&&Math.abs(w)+Math.abs(_)>359.9&&(w=_=0,C=180-C),v=Et(Math.sqrt(z*z+F*F+B*B)),b=Et(Math.sqrt(X*X+ye*ye)),R=Hr(ee,X),N=Math.abs(R)>2e-4?R*dr:0,P=U?1/(U<0?-U:U):0),s.svg&&(oe=e.getAttribute("transform"),s.forceCSS=e.setAttribute("transform","")||!Ny(cs(e,bt)),oe&&e.setAttribute("transform",oe))),Math.abs(N)>90&&Math.abs(N)<270&&(a?(v*=-1,N+=_<=0?180:-180,_+=_<=0?180:-180):(b*=-1,N+=N<=0?180:-180)),n=n||s.uncache,s.x=f-((s.xPercent=f&&(!n&&s.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-f)?-50:0)))?e.offsetWidth*s.xPercent/100:0)+l,s.y=g-((s.yPercent=g&&(!n&&s.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-g)?-50:0)))?e.offsetHeight*s.yPercent/100:0)+l,s.z=x+l,s.scaleX=Et(v),s.scaleY=Et(b),s.rotation=Et(_)+d,s.rotationX=Et(w)+d,s.rotationY=Et(C)+d,s.skewX=N+d,s.skewY=S+d,s.transformPerspective=P+l,(s.zOrigin=parseFloat(h.split(" ")[2])||!n&&s.zOrigin||0)&&(i[mn]=ul(h)),s.xOffset=s.yOffset=0,s.force3D=Tn.force3D,s.renderTransform=s.svg?Gk:by?Cy:Zk,s.uncache=0,s},ul=function(e){return(e=e.split(" "))[0]+" "+e[1]},ed=function(e,n,s){var i=qt(n);return Et(parseFloat(n)+parseFloat(Hs(e,"x",s+"px",i)))+i},Zk=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,Cy(e,n)},or="0deg",Ki="0px",ar=") ",Cy=function(e,n){var s=n||this,i=s.xPercent,a=s.yPercent,l=s.x,d=s.y,u=s.z,h=s.rotation,f=s.rotationY,g=s.rotationX,x=s.skewX,v=s.skewY,b=s.scaleX,_=s.scaleY,w=s.transformPerspective,C=s.force3D,N=s.target,S=s.zOrigin,P="",T=C==="auto"&&e&&e!==1||C===!0;if(S&&(g!==or||f!==or)){var A=parseFloat(f)*ni,k=Math.sin(A),R=Math.cos(A),O;A=parseFloat(g)*ni,O=Math.cos(A),l=ed(N,l,k*O*-S),d=ed(N,d,-Math.sin(A)*-S),u=ed(N,u,R*O*-S+S)}w!==Ki&&(P+="perspective("+w+ar),(i||a)&&(P+="translate("+i+"%, "+a+"%) "),(T||l!==Ki||d!==Ki||u!==Ki)&&(P+=u!==Ki||T?"translate3d("+l+", "+d+", "+u+") ":"translate("+l+", "+d+ar),h!==or&&(P+="rotate("+h+ar),f!==or&&(P+="rotateY("+f+ar),g!==or&&(P+="rotateX("+g+ar),(x!==or||v!==or)&&(P+="skew("+x+", "+v+ar),(b!==1||_!==1)&&(P+="scale("+b+", "+_+ar),N.style[bt]=P||"translate(0, 0)"},Gk=function(e,n){var s=n||this,i=s.xPercent,a=s.yPercent,l=s.x,d=s.y,u=s.rotation,h=s.skewX,f=s.skewY,g=s.scaleX,x=s.scaleY,v=s.target,b=s.xOrigin,_=s.yOrigin,w=s.xOffset,C=s.yOffset,N=s.forceCSS,S=parseFloat(l),P=parseFloat(d),T,A,k,R,O;u=parseFloat(u),h=parseFloat(h),f=parseFloat(f),f&&(f=parseFloat(f),h+=f,u+=f),u||h?(u*=ni,h*=ni,T=Math.cos(u)*g,A=Math.sin(u)*g,k=Math.sin(u-h)*-x,R=Math.cos(u-h)*x,h&&(f*=ni,O=Math.tan(h-f),O=Math.sqrt(1+O*O),k*=O,R*=O,f&&(O=Math.tan(f),O=Math.sqrt(1+O*O),T*=O,A*=O)),T=Et(T),A=Et(A),k=Et(k),R=Et(R)):(T=g,R=x,A=k=0),(S&&!~(l+"").indexOf("px")||P&&!~(d+"").indexOf("px"))&&(S=Hs(v,"x",l,"px"),P=Hs(v,"y",d,"px")),(b||_||w||C)&&(S=Et(S+b-(b*T+_*k)+w),P=Et(P+_-(b*A+_*R)+C)),(i||a)&&(O=v.getBBox(),S=Et(S+i/100*O.width),P=Et(P+a/100*O.height)),O="matrix("+T+","+A+","+k+","+R+","+S+","+P+")",v.setAttribute("transform",O),N&&(v.style[bt]=O)},qk=function(e,n,s,i,a){var l=360,d=$t(a),u=parseFloat(a)*(d&&~a.indexOf("rad")?dr:1),h=u-i,f=i+h+"deg",g,x;return d&&(g=a.split("_")[1],g==="short"&&(h%=l,h!==h%(l/2)&&(h+=h<0?l:-l)),g==="cw"&&h<0?h=(h+l*Xp)%l-~~(h/l)*l:g==="ccw"&&h>0&&(h=(h-l*Xp)%l-~~(h/l)*l)),e._pt=x=new fn(e._pt,n,s,i,h,kk),x.e=f,x.u="deg",e._props.push(s),x},sg=function(e,n){for(var s in n)e[s]=n[s];return e},Kk=function(e,n,s){var i=sg({},s._gsap),a="perspective,force3D,transformOrigin,svgOrigin",l=s.style,d,u,h,f,g,x,v,b;i.svg?(h=s.getAttribute("transform"),s.setAttribute("transform",""),l[bt]=n,d=Mo(s,1),Tr(s,bt),s.setAttribute("transform",h)):(h=getComputedStyle(s)[bt],l[bt]=n,d=Mo(s,1),l[bt]=h);for(u in Ts)h=i[u],f=d[u],h!==f&&a.indexOf(u)<0&&(v=qt(h),b=qt(f),g=v!==b?Hs(s,u,h,b):parseFloat(h),x=parseFloat(f),e._pt=new fn(e._pt,d,u,g,x-g,qd),e._pt.u=b||0,e._props.push(u));sg(d,i)};hn("padding,margin,Width,Radius",function(t,e){var n="Top",s="Right",i="Bottom",a="Left",l=(e<3?[n,s,i,a]:[n+a,n+s,i+s,i+a]).map(function(d){return e<2?t+d:"border"+d+t});dl[e>1?"border"+t:t]=function(d,u,h,f,g){var x,v;if(arguments.length<4)return x=l.map(function(b){return bs(d,b,h)}),v=x.join(" "),v.split(x[0]).length===5?x[0]:v;x=(f+"").split(" "),v={},l.forEach(function(b,_){return v[b]=x[_]=x[_]||x[(_-1)/2|0]}),d.init(u,v,g)}});var Py={name:"css",register:Yd,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,s,i,a){var l=this._props,d=e.style,u=s.vars.startAt,h,f,g,x,v,b,_,w,C,N,S,P,T,A,k,R;Th||Yd(),this.styles=this.styles||_y(e),R=this.styles.props,this.tween=s;for(_ in n)if(_!=="autoRound"&&(f=n[_],!(wn[_]&&cy(_,n,s,i,e,a)))){if(v=typeof f,b=dl[_],v==="function"&&(f=f.call(s,i,e,a),v=typeof f),v==="string"&&~f.indexOf("random(")&&(f=Ao(f)),b)b(this,e,_,f,s)&&(k=1);else if(_.substr(0,2)==="--")h=(getComputedStyle(e).getPropertyValue(_)+"").trim(),f+="",$s.lastIndex=0,$s.test(h)||(w=qt(h),C=qt(f)),C?w!==C&&(h=Hs(e,_,h,C)+C):w&&(f+=w),this.add(d,"setProperty",h,f,i,a,0,0,_),l.push(_),R.push(_,0,d[_]);else if(v!=="undefined"){if(u&&_ in u?(h=typeof u[_]=="function"?u[_].call(s,i,e,a):u[_],$t(h)&&~h.indexOf("random(")&&(h=Ao(h)),qt(h+"")||h==="auto"||(h+=Tn.units[_]||qt(bs(e,_))||""),(h+"").charAt(1)==="="&&(h=bs(e,_))):h=bs(e,_),x=parseFloat(h),N=v==="string"&&f.charAt(1)==="="&&f.substr(0,2),N&&(f=f.substr(2)),g=parseFloat(f),_ in rs&&(_==="autoAlpha"&&(x===1&&bs(e,"visibility")==="hidden"&&g&&(x=0),R.push("visibility",0,d.visibility),Fs(this,d,"visibility",x?"inherit":"hidden",g?"inherit":"hidden",!g)),_!=="scale"&&_!=="transform"&&(_=rs[_],~_.indexOf(",")&&(_=_.split(",")[0]))),S=_ in Ts,S){if(this.styles.save(_),P||(T=e._gsap,T.renderTransform&&!n.parseTransform||Mo(e,n.parseTransform),A=n.smoothOrigin!==!1&&T.smooth,P=this._pt=new fn(this._pt,d,bt,0,1,T.renderTransform,T,0,-1),P.dep=1),_==="scale")this._pt=new fn(this._pt,T,"scaleY",T.scaleY,(N?ei(T.scaleY,N+g):g)-T.scaleY||0,qd),this._pt.u=0,l.push("scaleY",_),_+="X";else if(_==="transformOrigin"){R.push(mn,0,d[mn]),f=Wk(f),T.svg?Xd(e,f,0,A,0,this):(C=parseFloat(f.split(" ")[2])||0,C!==T.zOrigin&&Fs(this,T,"zOrigin",T.zOrigin,C),Fs(this,d,_,ul(h),ul(f)));continue}else if(_==="svgOrigin"){Xd(e,f,1,A,0,this);continue}else if(_ in Sy){qk(this,T,_,x,N?ei(x,N+f):f);continue}else if(_==="smoothOrigin"){Fs(this,T,"smooth",T.smooth,f);continue}else if(_==="force3D"){T[_]=f;continue}else if(_==="transform"){Kk(this,f,e);continue}}else _ in d||(_=hi(_)||_);if(S||(g||g===0)&&(x||x===0)&&!Ak.test(f)&&_ in d)w=(h+"").substr((x+"").length),g||(g=0),C=qt(f)||(_ in Tn.units?Tn.units[_]:w),w!==C&&(x=Hs(e,_,h,C)),this._pt=new fn(this._pt,S?T:d,_,x,(N?ei(x,N+g):g)-x,!S&&(C==="px"||_==="zIndex")&&n.autoRound!==!1?Rk:qd),this._pt.u=C||0,w!==C&&C!=="%"&&(this._pt.b=h,this._pt.r=Lk);else if(_ in d)Uk.call(this,e,_,h,N?N+f:f);else if(_ in e)this.add(e,_,h||e[_],N?N+f:f,i,a);else if(_!=="parseTransform"){yh(_,f);continue}S||(_ in d?R.push(_,0,d[_]):R.push(_,1,h||e[_])),l.push(_)}}k&&py(this)},render:function(e,n){if(n.tween._time||!Eh())for(var s=n._pt;s;)s.r(e,s.d),s=s._next;else n.styles.revert()},get:bs,aliases:rs,getSetter:function(e,n,s){var i=rs[n];return i&&i.indexOf(",")<0&&(n=i),n in Ts&&n!==mn&&(e._gsap.x||bs(e,"x"))?s&&Yp===s?n==="scale"?Dk:Ik:(Yp=s||{})&&(n==="scale"?Bk:Fk):e.style&&!gh(e.style[n])?Mk:~n.indexOf("-")?Ok:Ch(e,n)},core:{_removeProperty:Tr,_getMatrix:kh}};pn.utils.checkPrefix=hi;pn.core.getStyleSaver=_y;(function(t,e,n,s){var i=hn(t+","+e+","+n,function(a){Ts[a]=1});hn(e,function(a){Tn.units[a]="deg",Sy[a]=1}),rs[i[13]]=t+","+e,hn(s,function(a){var l=a.split(":");rs[l[1]]=i[l[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");hn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Tn.units[t]="px"});pn.registerPlugin(Py);var Jd=pn.registerPlugin(Py)||pn;Jd.core.Tween;function Ty(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Ty(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function Ey(){for(var t,e,n=0,s="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Ty(t))&&(s&&(s+=" "),s+=e);return s}const Lh="-",Yk=t=>{const e=Jk(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:l=>{const d=l.split(Lh);return d[0]===""&&d.length!==1&&d.shift(),Ay(d,e)||Xk(l)},getConflictingClassGroupIds:(l,d)=>{const u=n[l]||[];return d&&s[l]?[...u,...s[l]]:u}}},Ay=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),i=s?Ay(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(Lh);return(l=e.validators.find(({validator:d})=>d(a)))==null?void 0:l.classGroupId},rg=/^\[(.+)\]$/,Xk=t=>{if(rg.test(t)){const e=rg.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Jk=t=>{const{theme:e,prefix:n}=t,s={nextPart:new Map,validators:[]};return eL(Object.entries(t.classGroups),n).forEach(([a,l])=>{Qd(l,s,a,e)}),s},Qd=(t,e,n,s)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:ig(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(Qk(i)){Qd(i(s),e,n,s);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,l])=>{Qd(l,ig(e,a),n,s)})})},ig=(t,e)=>{let n=t;return e.split(Lh).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},Qk=t=>t.isThemeGetter,eL=(t,e)=>e?t.map(([n,s])=>{const i=s.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,d])=>[e+l,d])):a);return[n,i]}):t,tL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const i=(a,l)=>{n.set(a,l),e++,e>t&&(e=0,s=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=s.get(a))!==void 0)return i(a,l),l},set(a,l){n.has(a)?n.set(a,l):i(a,l)}}},ky="!",nL=t=>{const{separator:e,experimentalParseClassName:n}=t,s=e.length===1,i=e[0],a=e.length,l=d=>{const u=[];let h=0,f=0,g;for(let w=0;w<d.length;w++){let C=d[w];if(h===0){if(C===i&&(s||d.slice(w,w+a)===e)){u.push(d.slice(f,w)),f=w+a;continue}if(C==="/"){g=w;continue}}C==="["?h++:C==="]"&&h--}const x=u.length===0?d:d.substring(f),v=x.startsWith(ky),b=v?x.substring(1):x,_=g&&g>f?g-f:void 0;return{modifiers:u,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:_}};return n?d=>n({className:d,parseClassName:l}):l},sL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},rL=t=>({cache:tL(t.cacheSize),parseClassName:nL(t),...Yk(t)}),iL=/\s+/,oL=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i}=e,a=[],l=t.trim().split(iL);let d="";for(let u=l.length-1;u>=0;u-=1){const h=l[u],{modifiers:f,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:v}=n(h);let b=!!v,_=s(b?x.substring(0,v):x);if(!_){if(!b){d=h+(d.length>0?" "+d:d);continue}if(_=s(x),!_){d=h+(d.length>0?" "+d:d);continue}b=!1}const w=sL(f).join(":"),C=g?w+ky:w,N=C+_;if(a.includes(N))continue;a.push(N);const S=i(_,b);for(let P=0;P<S.length;++P){const T=S[P];a.push(C+T)}d=h+(d.length>0?" "+d:d)}return d};function aL(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Ly(e))&&(s&&(s+=" "),s+=n);return s}const Ly=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=Ly(t[s]))&&(n&&(n+=" "),n+=e);return n};function lL(t,...e){let n,s,i,a=l;function l(u){const h=e.reduce((f,g)=>g(f),t());return n=rL(h),s=n.cache.get,i=n.cache.set,a=d,d(u)}function d(u){const h=s(u);if(h)return h;const f=oL(u,n);return i(u,f),f}return function(){return a(aL.apply(null,arguments))}}const ht=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Ry=/^\[(?:([a-z-]+):)?(.+)\]$/i,cL=/^\d+\/\d+$/,dL=new Set(["px","full","screen"]),uL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ys=t=>si(t)||dL.has(t)||cL.test(t),Ls=t=>Si(t,"length",jL),si=t=>!!t&&!Number.isNaN(Number(t)),td=t=>Si(t,"number",si),Yi=t=>!!t&&Number.isInteger(Number(t)),gL=t=>t.endsWith("%")&&si(t.slice(0,-1)),Ve=t=>Ry.test(t),Rs=t=>uL.test(t),xL=new Set(["length","size","percentage"]),vL=t=>Si(t,xL,My),yL=t=>Si(t,"position",My),_L=new Set(["image","url"]),bL=t=>Si(t,_L,NL),wL=t=>Si(t,"",SL),Xi=()=>!0,Si=(t,e,n)=>{const s=Ry.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},jL=t=>hL.test(t)&&!fL.test(t),My=()=>!1,SL=t=>mL.test(t),NL=t=>pL.test(t),CL=()=>{const t=ht("colors"),e=ht("spacing"),n=ht("blur"),s=ht("brightness"),i=ht("borderColor"),a=ht("borderRadius"),l=ht("borderSpacing"),d=ht("borderWidth"),u=ht("contrast"),h=ht("grayscale"),f=ht("hueRotate"),g=ht("invert"),x=ht("gap"),v=ht("gradientColorStops"),b=ht("gradientColorStopPositions"),_=ht("inset"),w=ht("margin"),C=ht("opacity"),N=ht("padding"),S=ht("saturate"),P=ht("scale"),T=ht("sepia"),A=ht("skew"),k=ht("space"),R=ht("translate"),O=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",Ve,e],F=()=>[Ve,e],B=()=>["",ys,Ls],J=()=>["auto",si,Ve],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],re=()=>["","0",Ve],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[si,Ve];return{cacheSize:500,separator:":",theme:{colors:[Xi],spacing:[ys,Ls],blur:["none","",Rs,Ve],brightness:W(),borderColor:[t],borderRadius:["none","","full",Rs,Ve],borderSpacing:F(),borderWidth:B(),contrast:W(),grayscale:re(),hueRotate:W(),invert:re(),gap:F(),gradientColorStops:[t],gradientColorStopPositions:[gL,Ls],inset:z(),margin:z(),opacity:W(),padding:F(),saturate:W(),scale:W(),sepia:re(),skew:W(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Ve]}],container:["container"],columns:[{columns:[Rs]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),Ve]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yi,Ve]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ve]}],grow:[{grow:re()}],shrink:[{shrink:re()}],order:[{order:["first","last","none",Yi,Ve]}],"grid-cols":[{"grid-cols":[Xi]}],"col-start-end":[{col:["auto",{span:["full",Yi,Ve]},Ve]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[Xi]}],"row-start-end":[{row:["auto",{span:[Yi,Ve]},Ve]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ve]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ve,e]}],"min-w":[{"min-w":[Ve,e,"min","max","fit"]}],"max-w":[{"max-w":[Ve,e,"none","full","min","max","fit","prose",{screen:[Rs]},Rs]}],h:[{h:[Ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Rs,Ls]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",td]}],"font-family":[{font:[Xi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ve]}],"line-clamp":[{"line-clamp":["none",si,td]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ys,Ve]}],"list-image":[{"list-image":["none",Ve]}],"list-style-type":[{list:["none","disc","decimal",Ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ys,Ls]}],"underline-offset":[{"underline-offset":["auto",ys,Ve]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),yL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bL]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:X()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[ys,Ve]}],"outline-w":[{outline:[ys,Ls]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[ys,Ls]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Rs,wL]}],"shadow-color":[{shadow:[Xi]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Rs,Ve]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[g]}],saturate:[{saturate:[S]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ve]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Ve]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Yi,Ve]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ve]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ys,Ls,td]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},PL=lL(CL);function De(...t){return PL(Ey(t))}class ro extends Error{}ro.prototype.name="InvalidTokenError";function TL(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,n)=>{let s=n.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}function EL(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return TL(e)}catch{return atob(e)}}function og(t,e){if(typeof t!="string")throw new ro("Invalid token specified: must be a string");e||(e={});const n=e.header===!0?0:1,s=t.split(".")[n];if(typeof s!="string")throw new ro(`Invalid token specified: missing part #${n+1}`);let i;try{i=EL(s)}catch(a){throw new ro(`Invalid token specified: invalid base64 for part #${n+1} (${a.message})`)}try{return JSON.parse(i)}catch(a){throw new ro(`Invalid token specified: invalid json for part #${n+1} (${a.message})`)}}const Oy=p.createContext(void 0),AL=({children:t})=>{const[e,n]=p.useState(null),[s,i]=p.useState(null),[a,l]=p.useState(!1),[d,u]=p.useState(!1),[h,f]=p.useState(!0),g=Gs(),x=MS(),v=S=>{var P;try{const T=og(S);let A;return T.user?A={id:T.user.id,email:T.user.email,first_name:T.user.first_name,last_name:T.user.last_name,username:T.user.username,role:(P=T.user.role_id)==null?void 0:P.toString(),role_id:T.user.role_id,isSuperAdmin:T.user.isSuperAdmin}:A={id:T.id||0,email:T.email||"",name:T.name,first_name:T.first_name,last_name:T.last_name,username:T.username,role:T.role,org_id:T.org_id,phone_number:T.phone_number,created_at:T.created_at,last_login:T.last_login,isSuperAdmin:T.isSuperAdmin},A}catch(T){return console.error("Error extracting user from token:",T),null}},b=p.useRef(new Set),_=async(S,P)=>new Promise(async(T,A)=>{var k;try{if(!P){console.warn("No user data provided for audit log"),T();return}const R=`${S}_${P.id}_${P.email}_${Date.now().toString().slice(0,-3)}`;if(b.current.has(R)){console.log(" Duplicate audit log prevented for:",S,P.email),T();return}if(b.current.add(R),b.current.size>10){const F=Array.from(b.current);b.current.clear(),F.slice(-5).forEach(B=>b.current.add(B))}const O=()=>{const F=navigator.userAgent;return F.includes("Chrome")?"Chrome":F.includes("Firefox")?"Firefox":F.includes("Safari")&&!F.includes("Chrome")?"Safari":F.includes("Edge")?"Edge":F.includes("Opera")?"Opera":"Other"},M={operation_type:"CREATE",table_name:"auth_sessions",record_id:((k=P.id)==null?void 0:k.toString())||"unknown",user_email:P.email,user_name:`${P.first_name||""} ${P.last_name||""}`.trim()||P.email,old_values:S==="LOGOUT"?{session_active:!0,user_authenticated:!0,user_id:P.id,user_email:P.email,user_name:`${P.first_name||""} ${P.last_name||""}`.trim()}:null,new_values:{action:S,user_id:P.id,user_email:P.email,user_name:`${P.first_name||""} ${P.last_name||""}`.trim()||P.email,timestamp:new Date().toISOString(),session_active:S==="LOGIN",user_authenticated:S==="LOGIN",browser:O(),platform:navigator.platform,user_agent:navigator.userAgent},metadata:{authentication_event:!0,action:S,session_type:"web",browser:O(),platform:navigator.platform,screen_resolution:`${screen.width}x${screen.height}`,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language,user_info:{id:P.id,email:P.email,name:`${P.first_name||""} ${P.last_name||""}`.trim()},cache_key:R}};console.log(" Creating audit log for:",S,"User:",P.email,"Key:",R);const z=await Ce.post("/api/audit-logs",M);console.log(" Audit log created successfully:",z.data),T()}catch(R){console.error(" Error creating audit log entry:",R),A(R)}}),w=async()=>{if(d){console.log(" Logout already in progress, skipping...");return}u(!0);try{if(s)try{await _("LOGOUT",s),console.log(" Logout audit log created for user:",s.email)}catch(S){console.warn(" Failed to create logout audit log:",S)}gt.removeItem("token"),gt.removeItem("authToken"),x.clear(),Se(async()=>{const{cacheManager:S}=await Promise.resolve().then(()=>ri);return{cacheManager:S}},void 0).then(({cacheManager:S})=>{S.clearBrowserCache()}).catch(S=>{console.warn("Could not clear browser cache:",S)}),n(null),i(null),l(!1),g("/login")}finally{setTimeout(()=>{u(!1)},1e3)}},C=S=>{console.log(" AuthContext: Checking token validity...");try{const P=og(S),T=Date.now()/1e3,A=P.exp-T;if(console.log(" AuthContext: Token expires in",Math.floor(A/60),"minutes"),P.exp<T)console.log(" AuthContext: Token has expired."),gt.removeItem("token"),gt.removeItem("authToken"),n(null),i(null),l(!1);else{console.log(" AuthContext: Token is valid, extracting user data...");const k=v(S);k?(n(S),i(k),l(!0),console.log(" AuthContext: User authenticated successfully:",k.email)):(console.log(" AuthContext: Failed to extract user data from token"),l(!1))}}catch(P){console.error(" AuthContext: Error decoding token:",P),gt.removeItem("token"),gt.removeItem("authToken"),n(null),i(null),l(!1)}};p.useEffect(()=>{console.log(" AuthContext: Initializing authentication check...");const S=gt.getItem("token"),P=gt.getItem("authToken");console.log(" AuthContext: Token found in storage:",!!S),console.log(" AuthContext: AuthToken found in storage:",!!P);const T=S||P;if(T&&typeof T=="string"){console.log(" AuthContext: Valid token found, checking validity...");try{C(T)}catch(A){console.error(" AuthContext: Error checking token validity on mount:",A),l(!1)}}else console.log(" AuthContext: No token found in secure storage."),l(!1);console.log(" AuthContext: Authentication check complete, setting loading to false"),f(!1)},[]),p.useEffect(()=>{s!=null&&s.id&&(console.log(` User changed to ID: ${s.id}, clearing cache to prevent cross-user data`),x.getQueryCache().getAll().length>0&&(x.clear(),Se(async()=>{const{cacheManager:S}=await Promise.resolve().then(()=>ri);return{cacheManager:S}},void 0).then(({cacheManager:S})=>{S.clearBrowserCache()}).catch(S=>{console.warn("Could not clear browser cache:",S)})))},[s==null?void 0:s.id]);const N=S=>{x.clear(),gt.setItem("token",S),C(S),setTimeout(()=>{const P=v(S);P&&_("LOGIN",P).catch(T=>{console.warn(" Failed to create login audit log:",T)})},100)};return r.jsx(Oy.Provider,{value:{isLoggedIn:a,token:e,user:s,login:N,logout:w,loading:h},children:t})},Ni=()=>{const t=p.useContext(Oy);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Iy=p.createContext(void 0),kL=({children:t})=>{const{user:e,isLoggedIn:n,token:s}=Ni(),[i,a]=p.useState([]),[l,d]=p.useState([]),[u,h]=p.useState([]),[f,g]=p.useState(null),[x,v]=p.useState([]),[b,_]=p.useState([]),[w,C]=p.useState(!1),[N,S]=p.useState(!0),P=async()=>{if(!e||!s||!n){a([]),d([]),h([]),g(null),v([]),_([]),C(!1),S(!1);return}try{S(!0);const J=await Ce.get(`/api/users/${e.id}/with-roles`);if(J.data.success){const q=J.data.data;v(q.roles||[])}const ee=await Ce.get(`/api/user-roles/user/${e.id}/permissions`);if(ee.data.success){const q=ee.data.data;d(q),a(q.map(re=>re.permission_name))}const X=await Ce.get(`/api/role-page-permissions/user/${e.id}`);X.data.success&&_(X.data.data);const oe=await Ce.get("/api/page-permissions/accessible/me");if(oe.data.success&&h(oe.data.data),e.role_id)try{const q=await Ce.get(`/api/roles/${e.role_id}`);if(q.data){g(q.data);const re=q.data.name==="super_admin"||e.role_id===1;C(re),console.log("Permission Context Debug:",{userId:e.id,roleId:e.role_id,roleName:q.data.name,isSuperAdmin:re,roleData:q.data,checkByName:q.data.name==="super_admin",checkById:e.role_id===1})}}catch(q){console.error("Error loading role:",q),e.role_id===1&&(C(!0),console.log("Fallback: Setting super admin based on role_id = 1"))}}catch(J){console.error("Error loading permissions:",J),a([]),d([]),h([]),g(null),C(!1)}finally{S(!1)}},T=J=>w?!0:i.includes(J),A=J=>w?!0:J.some(ee=>i.includes(ee)),k=J=>w?!0:J.every(ee=>i.includes(ee)),R=J=>w?!0:x.some(ee=>ee.name===J),O=J=>w?!0:J.some(ee=>x.some(X=>X.name===ee)),M=(J,ee)=>{if(w)return!0;const X=b.find(oe=>oe.page_path===J);if(!X)return!1;switch(ee){case"view":return X.can_view;case"add":return X.can_add;case"update":return X.can_update;case"delete":return X.can_delete;default:return!1}},z=J=>{if(w)return!0;const ee=b.find(X=>X.page_path===J);return ee&&ee.can_view?!0:u.some(X=>X.page_path===J&&(X.is_public||T(X.required_permission||"")))},F=async()=>{await P()};p.useEffect(()=>{P()},[e,n,s]);const B={permissions:i,permissionDetails:l,accessiblePages:u,role:f,roles:x,pagePermissions:b,isSuperAdmin:w,loading:N,hasPermission:T,hasAnyPermission:A,hasAllPermissions:k,hasRole:R,hasAnyRole:O,canAccessPage:z,canPerformAction:M,refreshPermissions:F};return r.jsx(Iy.Provider,{value:B,children:t})},Dy=()=>{const t=p.useContext(Iy);if(!t)throw new Error("usePermissions must be used within a PermissionProvider");return t},By=p.createContext(void 0),LL=({children:t})=>{const[e,n]=p.useState(!1),[s,i]=p.useState(!1),a=()=>{n(d=>!d)},l=()=>{n(!1)};return p.useEffect(()=>{const d=()=>{i(window.innerWidth<768)};return d(),window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)}},[]),p.useEffect(()=>{s||n(!1)},[s]),r.jsx(By.Provider,{value:{isMobileMenuOpen:e,toggleMobileMenu:a,closeMobileMenu:l,isMobileView:s},children:t})},Rh=()=>{const t=p.useContext(By);if(!t)throw new Error("useMobileMenu must be used within a MobileMenuProvider");return t};function RL(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Fy(...t){return e=>t.forEach(n=>RL(n,e))}function An(...t){return p.useCallback(Fy(...t),t)}var Mh=p.forwardRef((t,e)=>{const{children:n,...s}=t,i=p.Children.toArray(n),a=i.find(ML);if(a){const l=a.props.children,d=i.map(u=>u===a?p.Children.count(l)>1?p.Children.only(null):p.isValidElement(l)?l.props.children:null:u);return r.jsx(eu,{...s,ref:e,children:p.isValidElement(l)?p.cloneElement(l,void 0,d):null})}return r.jsx(eu,{...s,ref:e,children:n})});Mh.displayName="Slot";var eu=p.forwardRef((t,e)=>{const{children:n,...s}=t;if(p.isValidElement(n)){const i=IL(n);return p.cloneElement(n,{...OL(s,n.props),ref:e?Fy(e,i):i})}return p.Children.count(n)>1?p.Children.only(null):null});eu.displayName="SlotClone";var zy=({children:t})=>r.jsx(r.Fragment,{children:t});function ML(t){return p.isValidElement(t)&&t.type===zy}function OL(t,e){const n={...e};for(const s in e){const i=t[s],a=e[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...d)=>{a(...d),i(...d)}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function IL(t){var s,i;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var DL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xn=DL.reduce((t,e)=>{const n=p.forwardRef((s,i)=>{const{asChild:a,...l}=s,d=a?Mh:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(d,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function BL(t,e){t&&xi.flushSync(()=>t.dispatchEvent(e))}var Zs=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{};function FL(t,e){return p.useReducer((n,s)=>e[n][s]??n,t)}var Mr=t=>{const{present:e,children:n}=t,s=zL(e),i=typeof n=="function"?n({present:s.isPresent}):p.Children.only(n),a=An(s.ref,$L(i));return typeof n=="function"||s.isPresent?p.cloneElement(i,{ref:a}):null};Mr.displayName="Presence";function zL(t){const[e,n]=p.useState(),s=p.useRef({}),i=p.useRef(t),a=p.useRef("none"),l=t?"mounted":"unmounted",[d,u]=FL(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const h=Sa(s.current);a.current=d==="mounted"?h:"none"},[d]),Zs(()=>{const h=s.current,f=i.current;if(f!==t){const x=a.current,v=Sa(h);t?u("MOUNT"):v==="none"||(h==null?void 0:h.display)==="none"?u("UNMOUNT"):u(f&&x!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),Zs(()=>{if(e){let h;const f=e.ownerDocument.defaultView??window,g=v=>{const _=Sa(s.current).includes(v.animationName);if(v.target===e&&_&&(u("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",h=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},x=v=>{v.target===e&&(a.current=Sa(s.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{f.clearTimeout(h),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:p.useCallback(h=>{h&&(s.current=getComputedStyle(h)),n(h)},[])}}function Sa(t){return(t==null?void 0:t.animationName)||"none"}function $L(t){var s,i;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function $y(t,e=[]){let n=[];function s(a,l){const d=p.createContext(l),u=n.length;n=[...n,l];const h=g=>{var C;const{scope:x,children:v,...b}=g,_=((C=x==null?void 0:x[t])==null?void 0:C[u])||d,w=p.useMemo(()=>b,Object.values(b));return r.jsx(_.Provider,{value:w,children:v})};h.displayName=a+"Provider";function f(g,x){var _;const v=((_=x==null?void 0:x[t])==null?void 0:_[u])||d,b=p.useContext(v);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[h,f]}const i=()=>{const a=n.map(l=>p.createContext(l));return function(d){const u=(d==null?void 0:d[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...d,[t]:u}}),[d,u])}};return i.scopeName=t,[s,VL(i,...e)]}function VL(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=s.reduce((d,{useScope:u,scopeName:h})=>{const g=u(a)[`__scope${h}`];return{...d,...g}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function Sn(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}var UL=p.createContext(void 0);function WL(t){const e=p.useContext(UL);return t||e||"ltr"}function HL(t,[e,n]){return Math.min(n,Math.max(e,t))}function Ht(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function ZL(t,e){return p.useReducer((n,s)=>e[n][s]??n,t)}var Oh="ScrollArea",[Vy,r6]=$y(Oh),[GL,Vn]=Vy(Oh),Uy=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:s="hover",dir:i,scrollHideDelay:a=600,...l}=t,[d,u]=p.useState(null),[h,f]=p.useState(null),[g,x]=p.useState(null),[v,b]=p.useState(null),[_,w]=p.useState(null),[C,N]=p.useState(0),[S,P]=p.useState(0),[T,A]=p.useState(!1),[k,R]=p.useState(!1),O=An(e,z=>u(z)),M=WL(i);return r.jsx(GL,{scope:n,type:s,dir:M,scrollHideDelay:a,scrollArea:d,viewport:h,onViewportChange:f,content:g,onContentChange:x,scrollbarX:v,onScrollbarXChange:b,scrollbarXEnabled:T,onScrollbarXEnabledChange:A,scrollbarY:_,onScrollbarYChange:w,scrollbarYEnabled:k,onScrollbarYEnabledChange:R,onCornerWidthChange:N,onCornerHeightChange:P,children:r.jsx(xn.div,{dir:M,...l,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":S+"px",...t.style}})})});Uy.displayName=Oh;var Wy="ScrollAreaViewport",Hy=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:s,nonce:i,...a}=t,l=Vn(Wy,n),d=p.useRef(null),u=An(e,d,l.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),r.jsx(xn.div,{"data-radix-scroll-area-viewport":"",...a,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:r.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});Hy.displayName=Wy;var hs="ScrollAreaScrollbar",Zy=p.forwardRef((t,e)=>{const{forceMount:n,...s}=t,i=Vn(hs,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:l}=i,d=t.orientation==="horizontal";return p.useEffect(()=>(d?a(!0):l(!0),()=>{d?a(!1):l(!1)}),[d,a,l]),i.type==="hover"?r.jsx(qL,{...s,ref:e,forceMount:n}):i.type==="scroll"?r.jsx(KL,{...s,ref:e,forceMount:n}):i.type==="auto"?r.jsx(Gy,{...s,ref:e,forceMount:n}):i.type==="always"?r.jsx(Ih,{...s,ref:e}):null});Zy.displayName=hs;var qL=p.forwardRef((t,e)=>{const{forceMount:n,...s}=t,i=Vn(hs,t.__scopeScrollArea),[a,l]=p.useState(!1);return p.useEffect(()=>{const d=i.scrollArea;let u=0;if(d){const h=()=>{window.clearTimeout(u),l(!0)},f=()=>{u=window.setTimeout(()=>l(!1),i.scrollHideDelay)};return d.addEventListener("pointerenter",h),d.addEventListener("pointerleave",f),()=>{window.clearTimeout(u),d.removeEventListener("pointerenter",h),d.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),r.jsx(Mr,{present:n||a,children:r.jsx(Gy,{"data-state":a?"visible":"hidden",...s,ref:e})})}),KL=p.forwardRef((t,e)=>{const{forceMount:n,...s}=t,i=Vn(hs,t.__scopeScrollArea),a=t.orientation==="horizontal",l=$l(()=>u("SCROLL_END"),100),[d,u]=ZL("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(d==="idle"){const h=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(h)}},[d,i.scrollHideDelay,u]),p.useEffect(()=>{const h=i.viewport,f=a?"scrollLeft":"scrollTop";if(h){let g=h[f];const x=()=>{const v=h[f];g!==v&&(u("SCROLL"),l()),g=v};return h.addEventListener("scroll",x),()=>h.removeEventListener("scroll",x)}},[i.viewport,a,u,l]),r.jsx(Mr,{present:n||d!=="hidden",children:r.jsx(Ih,{"data-state":d==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:Ht(t.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:Ht(t.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),Gy=p.forwardRef((t,e)=>{const n=Vn(hs,t.__scopeScrollArea),{forceMount:s,...i}=t,[a,l]=p.useState(!1),d=t.orientation==="horizontal",u=$l(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;l(d?h:f)}},10);return fi(n.viewport,u),fi(n.content,u),r.jsx(Mr,{present:s||a,children:r.jsx(Ih,{"data-state":a?"visible":"hidden",...i,ref:e})})}),Ih=p.forwardRef((t,e)=>{const{orientation:n="vertical",...s}=t,i=Vn(hs,t.__scopeScrollArea),a=p.useRef(null),l=p.useRef(0),[d,u]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=Jy(d.viewport,d.content),f={...s,sizes:d,onSizesChange:u,hasThumb:h>0&&h<1,onThumbChange:x=>a.current=x,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:x=>l.current=x};function g(x,v){return tR(x,l.current,d,v)}return n==="horizontal"?r.jsx(YL,{...f,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const x=i.viewport.scrollLeft,v=ag(x,d,i.dir);a.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:x=>{i.viewport&&(i.viewport.scrollLeft=x)},onDragScroll:x=>{i.viewport&&(i.viewport.scrollLeft=g(x,i.dir))}}):n==="vertical"?r.jsx(XL,{...f,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const x=i.viewport.scrollTop,v=ag(x,d);a.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:x=>{i.viewport&&(i.viewport.scrollTop=x)},onDragScroll:x=>{i.viewport&&(i.viewport.scrollTop=g(x))}}):null}),YL=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...i}=t,a=Vn(hs,t.__scopeScrollArea),[l,d]=p.useState(),u=p.useRef(null),h=An(e,u,a.onScrollbarXChange);return p.useEffect(()=>{u.current&&d(getComputedStyle(u.current))},[u]),r.jsx(Ky,{"data-orientation":"horizontal",...i,ref:h,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":zl(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,g)=>{if(a.viewport){const x=a.viewport.scrollLeft+f.deltaX;t.onWheelScroll(x),e_(x,g)&&f.preventDefault()}},onResize:()=>{u.current&&a.viewport&&l&&s({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:fl(l.paddingLeft),paddingEnd:fl(l.paddingRight)}})}})}),XL=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...i}=t,a=Vn(hs,t.__scopeScrollArea),[l,d]=p.useState(),u=p.useRef(null),h=An(e,u,a.onScrollbarYChange);return p.useEffect(()=>{u.current&&d(getComputedStyle(u.current))},[u]),r.jsx(Ky,{"data-orientation":"vertical",...i,ref:h,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":zl(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,g)=>{if(a.viewport){const x=a.viewport.scrollTop+f.deltaY;t.onWheelScroll(x),e_(x,g)&&f.preventDefault()}},onResize:()=>{u.current&&a.viewport&&l&&s({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:fl(l.paddingTop),paddingEnd:fl(l.paddingBottom)}})}})}),[JL,qy]=Vy(hs),Ky=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:i,onThumbChange:a,onThumbPointerUp:l,onThumbPointerDown:d,onThumbPositionChange:u,onDragScroll:h,onWheelScroll:f,onResize:g,...x}=t,v=Vn(hs,n),[b,_]=p.useState(null),w=An(e,O=>_(O)),C=p.useRef(null),N=p.useRef(""),S=v.viewport,P=s.content-s.viewport,T=Sn(f),A=Sn(u),k=$l(g,10);function R(O){if(C.current){const M=O.clientX-C.current.left,z=O.clientY-C.current.top;h({x:M,y:z})}}return p.useEffect(()=>{const O=M=>{const z=M.target;(b==null?void 0:b.contains(z))&&T(M,P)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[S,b,P,T]),p.useEffect(A,[s,A]),fi(b,k),fi(v.content,k),r.jsx(JL,{scope:n,scrollbar:b,hasThumb:i,onThumbChange:Sn(a),onThumbPointerUp:Sn(l),onThumbPositionChange:A,onThumbPointerDown:Sn(d),children:r.jsx(xn.div,{...x,ref:w,style:{position:"absolute",...x.style},onPointerDown:Ht(t.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),C.current=b.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),R(O))}),onPointerMove:Ht(t.onPointerMove,R),onPointerUp:Ht(t.onPointerUp,O=>{const M=O.target;M.hasPointerCapture(O.pointerId)&&M.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=N.current,v.viewport&&(v.viewport.style.scrollBehavior=""),C.current=null})})})}),hl="ScrollAreaThumb",Yy=p.forwardRef((t,e)=>{const{forceMount:n,...s}=t,i=qy(hl,t.__scopeScrollArea);return r.jsx(Mr,{present:n||i.hasThumb,children:r.jsx(QL,{ref:e,...s})})}),QL=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:s,...i}=t,a=Vn(hl,n),l=qy(hl,n),{onThumbPositionChange:d}=l,u=An(e,g=>l.onThumbChange(g)),h=p.useRef(),f=$l(()=>{h.current&&(h.current(),h.current=void 0)},100);return p.useEffect(()=>{const g=a.viewport;if(g){const x=()=>{if(f(),!h.current){const v=nR(g,d);h.current=v,d()}};return d(),g.addEventListener("scroll",x),()=>g.removeEventListener("scroll",x)}},[a.viewport,f,d]),r.jsx(xn.div,{"data-state":l.hasThumb?"visible":"hidden",...i,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Ht(t.onPointerDownCapture,g=>{const v=g.target.getBoundingClientRect(),b=g.clientX-v.left,_=g.clientY-v.top;l.onThumbPointerDown({x:b,y:_})}),onPointerUp:Ht(t.onPointerUp,l.onThumbPointerUp)})});Yy.displayName=hl;var Dh="ScrollAreaCorner",Xy=p.forwardRef((t,e)=>{const n=Vn(Dh,t.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?r.jsx(eR,{...t,ref:e}):null});Xy.displayName=Dh;var eR=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,...s}=t,i=Vn(Dh,n),[a,l]=p.useState(0),[d,u]=p.useState(0),h=!!(a&&d);return fi(i.scrollbarX,()=>{var g;const f=((g=i.scrollbarX)==null?void 0:g.offsetHeight)||0;i.onCornerHeightChange(f),u(f)}),fi(i.scrollbarY,()=>{var g;const f=((g=i.scrollbarY)==null?void 0:g.offsetWidth)||0;i.onCornerWidthChange(f),l(f)}),h?r.jsx(xn.div,{...s,ref:e,style:{width:a,height:d,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function fl(t){return t?parseInt(t,10):0}function Jy(t,e){const n=t/e;return isNaN(n)?0:n}function zl(t){const e=Jy(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-n)*e;return Math.max(s,18)}function tR(t,e,n,s="ltr"){const i=zl(n),a=i/2,l=e||a,d=i-l,u=n.scrollbar.paddingStart+l,h=n.scrollbar.size-n.scrollbar.paddingEnd-d,f=n.content-n.viewport,g=s==="ltr"?[0,f]:[f*-1,0];return Qy([u,h],g)(t)}function ag(t,e,n="ltr"){const s=zl(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,l=e.content-e.viewport,d=a-s,u=n==="ltr"?[0,l]:[l*-1,0],h=HL(t,u);return Qy([0,l],[0,d])(h)}function Qy(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function e_(t,e){return t>0&&t<e}var nR=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},s=0;return function i(){const a={left:t.scrollLeft,top:t.scrollTop},l=n.left!==a.left,d=n.top!==a.top;(l||d)&&e(),n=a,s=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(s)};function $l(t,e){const n=Sn(t),s=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(s.current),[]),p.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,e)},[n,e])}function fi(t,e){const n=Sn(e);Zs(()=>{let s=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(s),i.unobserve(t)}}},[t,n])}var t_=Uy,sR=Hy,n_=Zy,rR=Yy,iR=Xy;const s_=p.forwardRef(({className:t,children:e,...n},s)=>r.jsxs(t_,{ref:s,className:De("relative overflow-hidden",t),...n,children:[r.jsx(sR,{className:"h-full w-full rounded-[inherit]",children:e}),r.jsx(r_,{}),r.jsx(iR,{})]}));s_.displayName=t_.displayName;const r_=p.forwardRef(({className:t,orientation:e="vertical",...n},s)=>r.jsx(n_,{ref:s,orientation:e,className:De("neo-scrollbar flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:r.jsx(rR,{className:"neo-scroll-thumb relative flex-1 rounded-full"})}));r_.displayName=n_.displayName;function oR(t,e=globalThis==null?void 0:globalThis.document){const n=Sn(t);p.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var aR="DismissableLayer",tu="dismissableLayer.update",lR="dismissableLayer.pointerDownOutside",cR="dismissableLayer.focusOutside",lg,i_=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),o_=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:d,...u}=t,h=p.useContext(i_),[f,g]=p.useState(null),x=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=p.useState({}),b=An(e,k=>g(k)),_=Array.from(h.layers),[w]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),C=_.indexOf(w),N=f?_.indexOf(f):-1,S=h.layersWithOutsidePointerEventsDisabled.size>0,P=N>=C,T=hR(k=>{const R=k.target,O=[...h.branches].some(M=>M.contains(R));!P||O||(i==null||i(k),l==null||l(k),k.defaultPrevented||d==null||d())},x),A=fR(k=>{const R=k.target;[...h.branches].some(M=>M.contains(R))||(a==null||a(k),l==null||l(k),k.defaultPrevented||d==null||d())},x);return oR(k=>{N===h.layers.size-1&&(s==null||s(k),!k.defaultPrevented&&d&&(k.preventDefault(),d()))},x),p.useEffect(()=>{if(f)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(lg=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),cg(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=lg)}},[f,x,n,h]),p.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),cg())},[f,h]),p.useEffect(()=>{const k=()=>v({});return document.addEventListener(tu,k),()=>document.removeEventListener(tu,k)},[]),r.jsx(xn.div,{...u,ref:b,style:{pointerEvents:S?P?"auto":"none":void 0,...t.style},onFocusCapture:Ht(t.onFocusCapture,A.onFocusCapture),onBlurCapture:Ht(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Ht(t.onPointerDownCapture,T.onPointerDownCapture)})});o_.displayName=aR;var dR="DismissableLayerBranch",uR=p.forwardRef((t,e)=>{const n=p.useContext(i_),s=p.useRef(null),i=An(e,s);return p.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),r.jsx(xn.div,{...t,ref:i})});uR.displayName=dR;function hR(t,e=globalThis==null?void 0:globalThis.document){const n=Sn(t),s=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const a=d=>{if(d.target&&!s.current){let u=function(){a_(lR,n,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);s.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function fR(t,e=globalThis==null?void 0:globalThis.document){const n=Sn(t),s=p.useRef(!1);return p.useEffect(()=>{const i=a=>{a.target&&!s.current&&a_(cR,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function cg(){const t=new CustomEvent(tu);document.dispatchEvent(t)}function a_(t,e,n,{discrete:s}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),s?BL(i,a):i.dispatchEvent(a)}var mR=vi.useId||(()=>{}),pR=0;function gR(t){const[e,n]=p.useState(mR());return Zs(()=>{n(s=>s??String(pR++))},[t]),e?`radix-${e}`:""}var xR="Arrow",l_=p.forwardRef((t,e)=>{const{children:n,width:s=10,height:i=5,...a}=t;return r.jsx(xn.svg,{...a,ref:e,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});l_.displayName=xR;var vR=l_;function yR(t,e=[]){let n=[];function s(a,l){const d=p.createContext(l),u=n.length;n=[...n,l];function h(g){const{scope:x,children:v,...b}=g,_=(x==null?void 0:x[t][u])||d,w=p.useMemo(()=>b,Object.values(b));return r.jsx(_.Provider,{value:w,children:v})}function f(g,x){const v=(x==null?void 0:x[t][u])||d,b=p.useContext(v);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return h.displayName=a+"Provider",[h,f]}const i=()=>{const a=n.map(l=>p.createContext(l));return function(d){const u=(d==null?void 0:d[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...d,[t]:u}}),[d,u])}};return i.scopeName=t,[s,_R(i,...e)]}function _R(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=s.reduce((d,{useScope:u,scopeName:h})=>{const g=u(a)[`__scope${h}`];return{...d,...g}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function bR(t){const[e,n]=p.useState(void 0);return Zs(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,d;if("borderBoxSize"in a){const u=a.borderBoxSize,h=Array.isArray(u)?u[0]:u;l=h.inlineSize,d=h.blockSize}else l=t.offsetWidth,d=t.offsetHeight;n({width:l,height:d})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var Bh="Popper",[c_,d_]=yR(Bh),[wR,u_]=c_(Bh),h_=t=>{const{__scopePopper:e,children:n}=t,[s,i]=p.useState(null);return r.jsx(wR,{scope:e,anchor:s,onAnchorChange:i,children:n})};h_.displayName=Bh;var f_="PopperAnchor",m_=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...i}=t,a=u_(f_,n),l=p.useRef(null),d=An(e,l);return p.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||l.current)}),s?null:r.jsx(xn.div,{...i,ref:d})});m_.displayName=f_;var Fh="PopperContent",[jR,SR]=c_(Fh),p_=p.forwardRef((t,e)=>{var ne,pe,Ae,K,he,ce;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:d=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:f=0,sticky:g="partial",hideWhenDetached:x=!1,updatePositionStrategy:v="optimized",onPlaced:b,..._}=t,w=u_(Fh,n),[C,N]=p.useState(null),S=An(e,Ne=>N(Ne)),[P,T]=p.useState(null),A=bR(P),k=(A==null?void 0:A.width)??0,R=(A==null?void 0:A.height)??0,O=s+(a!=="center"?"-"+a:""),M=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},z=Array.isArray(h)?h:[h],F=z.length>0,B={padding:M,boundary:z.filter(CR),altBoundary:F},{refs:J,floatingStyles:ee,placement:X,isPositioned:oe,middlewareData:q}=Mg({strategy:"fixed",placement:O,whileElementsMounted:(...Ne)=>Vg(...Ne,{animationFrame:v==="always"}),elements:{reference:w.anchor},middleware:[Og({mainAxis:i+R,alignmentAxis:l}),u&&Ig({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?Dg():void 0,...B}),u&&Bg({...B}),Fg({...B,apply:({elements:Ne,rects:xe,availableWidth:Re,availableHeight:Fe})=>{const{width:We,height:ke}=xe.reference,Ge=Ne.floating.style;Ge.setProperty("--radix-popper-available-width",`${Re}px`),Ge.setProperty("--radix-popper-available-height",`${Fe}px`),Ge.setProperty("--radix-popper-anchor-width",`${We}px`),Ge.setProperty("--radix-popper-anchor-height",`${ke}px`)}}),P&&zg({element:P,padding:d}),PR({arrowWidth:k,arrowHeight:R}),x&&$g({strategy:"referenceHidden",...B})]}),[re,V]=v_(X),W=Sn(b);Zs(()=>{oe&&(W==null||W())},[oe,W]);const G=(ne=q.arrow)==null?void 0:ne.x,$=(pe=q.arrow)==null?void 0:pe.y,U=((Ae=q.arrow)==null?void 0:Ae.centerOffset)!==0,[ye,_e]=p.useState();return Zs(()=>{C&&_e(window.getComputedStyle(C).zIndex)},[C]),r.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:oe?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[(K=q.transformOrigin)==null?void 0:K.x,(he=q.transformOrigin)==null?void 0:he.y].join(" "),...((ce=q.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:r.jsx(jR,{scope:n,placedSide:re,onArrowChange:T,arrowX:G,arrowY:$,shouldHideArrow:U,children:r.jsx(xn.div,{"data-side":re,"data-align":V,..._,ref:S,style:{..._.style,animation:oe?void 0:"none"}})})})});p_.displayName=Fh;var g_="PopperArrow",NR={top:"bottom",right:"left",bottom:"top",left:"right"},x_=p.forwardRef(function(e,n){const{__scopePopper:s,...i}=e,a=SR(g_,s),l=NR[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx(vR,{...i,ref:n,style:{...i.style,display:"block"}})})});x_.displayName=g_;function CR(t){return t!==null}var PR=t=>({name:"transformOrigin",options:t,fn(e){var w,C,N;const{placement:n,rects:s,middlewareData:i}=e,l=((w=i.arrow)==null?void 0:w.centerOffset)!==0,d=l?0:t.arrowWidth,u=l?0:t.arrowHeight,[h,f]=v_(n),g={start:"0%",center:"50%",end:"100%"}[f],x=(((C=i.arrow)==null?void 0:C.x)??0)+d/2,v=(((N=i.arrow)==null?void 0:N.y)??0)+u/2;let b="",_="";return h==="bottom"?(b=l?g:`${x}px`,_=`${-u}px`):h==="top"?(b=l?g:`${x}px`,_=`${s.floating.height+u}px`):h==="right"?(b=`${-u}px`,_=l?g:`${v}px`):h==="left"&&(b=`${s.floating.width+u}px`,_=l?g:`${v}px`),{data:{x:b,y:_}}}});function v_(t){const[e,n="center"]=t.split("-");return[e,n]}var TR=h_,ER=m_,AR=p_,kR=x_,LR="Portal",y_=p.forwardRef((t,e)=>{var d;const{container:n,...s}=t,[i,a]=p.useState(!1);Zs(()=>a(!0),[]);const l=n||i&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return l?Cu.createPortal(r.jsx(xn.div,{...s,ref:e}),l):null});y_.displayName=LR;function RR({prop:t,defaultProp:e,onChange:n=()=>{}}){const[s,i]=MR({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s,d=Sn(n),u=p.useCallback(h=>{if(a){const g=typeof h=="function"?h(t):h;g!==t&&d(g)}else i(h)},[a,t,i,d]);return[l,u]}function MR({defaultProp:t,onChange:e}){const n=p.useState(t),[s]=n,i=p.useRef(s),a=Sn(e);return p.useEffect(()=>{i.current!==s&&(a(s),i.current=s)},[s,i,a]),n}var OR="VisuallyHidden",__=p.forwardRef((t,e)=>r.jsx(xn.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));__.displayName=OR;var IR=__,[Vl,i6]=$y("Tooltip",[d_]),Ul=d_(),b_="TooltipProvider",DR=700,nu="tooltip.open",[BR,zh]=Vl(b_),w_=t=>{const{__scopeTooltip:e,delayDuration:n=DR,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:a}=t,[l,d]=p.useState(!0),u=p.useRef(!1),h=p.useRef(0);return p.useEffect(()=>{const f=h.current;return()=>window.clearTimeout(f)},[]),r.jsx(BR,{scope:e,isOpenDelayed:l,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(h.current),d(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>d(!0),s)},[s]),isPointerInTransitRef:u,onPointerInTransitChange:p.useCallback(f=>{u.current=f},[]),disableHoverableContent:i,children:a})};w_.displayName=b_;var Wl="Tooltip",[FR,Ho]=Vl(Wl),j_=t=>{const{__scopeTooltip:e,children:n,open:s,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:l,delayDuration:d}=t,u=zh(Wl,t.__scopeTooltip),h=Ul(e),[f,g]=p.useState(null),x=gR(),v=p.useRef(0),b=l??u.disableHoverableContent,_=d??u.delayDuration,w=p.useRef(!1),[C=!1,N]=RR({prop:s,defaultProp:i,onChange:k=>{k?(u.onOpen(),document.dispatchEvent(new CustomEvent(nu))):u.onClose(),a==null||a(k)}}),S=p.useMemo(()=>C?w.current?"delayed-open":"instant-open":"closed",[C]),P=p.useCallback(()=>{window.clearTimeout(v.current),v.current=0,w.current=!1,N(!0)},[N]),T=p.useCallback(()=>{window.clearTimeout(v.current),v.current=0,N(!1)},[N]),A=p.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{w.current=!0,N(!0),v.current=0},_)},[_,N]);return p.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),r.jsx(TR,{...h,children:r.jsx(FR,{scope:e,contentId:x,open:C,stateAttribute:S,trigger:f,onTriggerChange:g,onTriggerEnter:p.useCallback(()=>{u.isOpenDelayed?A():P()},[u.isOpenDelayed,A,P]),onTriggerLeave:p.useCallback(()=>{b?T():(window.clearTimeout(v.current),v.current=0)},[T,b]),onOpen:P,onClose:T,disableHoverableContent:b,children:n})})};j_.displayName=Wl;var su="TooltipTrigger",S_=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,i=Ho(su,n),a=zh(su,n),l=Ul(n),d=p.useRef(null),u=An(e,d,i.onTriggerChange),h=p.useRef(!1),f=p.useRef(!1),g=p.useCallback(()=>h.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),r.jsx(ER,{asChild:!0,...l,children:r.jsx(xn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:u,onPointerMove:Ht(t.onPointerMove,x=>{x.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ht(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Ht(t.onPointerDown,()=>{h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Ht(t.onFocus,()=>{h.current||i.onOpen()}),onBlur:Ht(t.onBlur,i.onClose),onClick:Ht(t.onClick,i.onClose)})})});S_.displayName=su;var $h="TooltipPortal",[zR,$R]=Vl($h,{forceMount:void 0}),N_=t=>{const{__scopeTooltip:e,forceMount:n,children:s,container:i}=t,a=Ho($h,e);return r.jsx(zR,{scope:e,forceMount:n,children:r.jsx(Mr,{present:n||a.open,children:r.jsx(y_,{asChild:!0,container:i,children:s})})})};N_.displayName=$h;var mi="TooltipContent",C_=p.forwardRef((t,e)=>{const n=$R(mi,t.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...a}=t,l=Ho(mi,t.__scopeTooltip);return r.jsx(Mr,{present:s||l.open,children:l.disableHoverableContent?r.jsx(P_,{side:i,...a,ref:e}):r.jsx(VR,{side:i,...a,ref:e})})}),VR=p.forwardRef((t,e)=>{const n=Ho(mi,t.__scopeTooltip),s=zh(mi,t.__scopeTooltip),i=p.useRef(null),a=An(e,i),[l,d]=p.useState(null),{trigger:u,onClose:h}=n,f=i.current,{onPointerInTransitChange:g}=s,x=p.useCallback(()=>{d(null),g(!1)},[g]),v=p.useCallback((b,_)=>{const w=b.currentTarget,C={x:b.clientX,y:b.clientY},N=ZR(C,w.getBoundingClientRect()),S=GR(C,N),P=qR(_.getBoundingClientRect()),T=YR([...S,...P]);d(T),g(!0)},[g]);return p.useEffect(()=>()=>x(),[x]),p.useEffect(()=>{if(u&&f){const b=w=>v(w,f),_=w=>v(w,u);return u.addEventListener("pointerleave",b),f.addEventListener("pointerleave",_),()=>{u.removeEventListener("pointerleave",b),f.removeEventListener("pointerleave",_)}}},[u,f,v,x]),p.useEffect(()=>{if(l){const b=_=>{const w=_.target,C={x:_.clientX,y:_.clientY},N=(u==null?void 0:u.contains(w))||(f==null?void 0:f.contains(w)),S=!KR(C,l);N?x():S&&(x(),h())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[u,f,l,h,x]),r.jsx(P_,{...t,ref:a})}),[UR,WR]=Vl(Wl,{isInside:!1}),P_=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:l,...d}=t,u=Ho(mi,n),h=Ul(n),{onClose:f}=u;return p.useEffect(()=>(document.addEventListener(nu,f),()=>document.removeEventListener(nu,f)),[f]),p.useEffect(()=>{if(u.trigger){const g=x=>{const v=x.target;v!=null&&v.contains(u.trigger)&&f()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[u.trigger,f]),r.jsx(o_,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:g=>g.preventDefault(),onDismiss:f,children:r.jsxs(AR,{"data-state":u.stateAttribute,...h,...d,ref:e,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(zy,{children:s}),r.jsx(UR,{scope:n,isInside:!0,children:r.jsx(IR,{id:u.contentId,role:"tooltip",children:i||s})})]})})});C_.displayName=mi;var T_="TooltipArrow",HR=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,i=Ul(n);return WR(T_,n).isInside?null:r.jsx(kR,{...i,...s,ref:e})});HR.displayName=T_;function ZR(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,s,i,a)){case a:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function GR(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function qR(t){const{top:e,right:n,bottom:s,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:s},{x:i,y:s}]}function KR(t,e){const{x:n,y:s}=t;let i=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const d=e[a].x,u=e[a].y,h=e[l].x,f=e[l].y;u>s!=f>s&&n<(h-d)*(s-u)/(f-u)+d&&(i=!i)}return i}function YR(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),XR(e)}function XR(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const i=t[s];for(;e.length>=2;){const a=e[e.length-1],l=e[e.length-2];if((a.x-l.x)*(i.y-l.y)>=(a.y-l.y)*(i.x-l.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const i=t[s];for(;n.length>=2;){const a=n[n.length-1],l=n[n.length-2];if((a.x-l.x)*(i.y-l.y)>=(a.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var JR=w_,QR=j_,e4=S_,t4=N_,E_=C_;const n4=JR,s4=QR,r4=e4,A_=p.forwardRef(({className:t,sideOffset:e=4,...n},s)=>r.jsx(t4,{children:r.jsx(E_,{ref:s,sideOffset:e,className:De("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));A_.displayName=E_.displayName;const Na={Home:r.jsx(Za,{}),Menu:r.jsx(tx,{}),Layout:r.jsx(cS,{}),Grid:r.jsx(qf,{}),Grid3X3:r.jsx(qf,{}),Layers:r.jsx(lS,{}),UserCog:r.jsx(ex,{}),Users:r.jsx(eo,{}),Contact:r.jsx(aS,{}),Shield:r.jsx(Is,{}),Key:r.jsx(oS,{}),Lock:r.jsx(iS,{}),Unlock:r.jsx(rS,{}),Phone:r.jsx(Ha,{}),Mic:r.jsx(ld,{}),Speaker:r.jsx(sS,{}),Headphones:r.jsx(nS,{}),Volume2:r.jsx(tS,{}),Mail:r.jsx(eS,{}),MessageSquare:r.jsx(Qj,{}),Bell:r.jsx(Qg,{}),MessageCircleQuestion:r.jsx(Jj,{}),Megaphone:r.jsx(ad,{}),BarChart3:r.jsx(Nu,{}),Activity:r.jsx(Xj,{}),Calendar:r.jsx(Yj,{}),List:r.jsx(Kj,{}),Tag:r.jsx(qj,{}),Flag:r.jsx(Gj,{}),Star:r.jsx(Zj,{}),Heart:r.jsx(Hj,{}),Bookmark:r.jsx(Wj,{}),Zap:r.jsx(ii,{}),Workflow:r.jsx(Jg,{}),Database:r.jsx(Uj,{}),Server:r.jsx(Vj,{}),Cloud:r.jsx($j,{}),Cpu:r.jsx(zj,{}),HardDrive:r.jsx(Fj,{}),Monitor:r.jsx(Bj,{}),Smartphone:r.jsx(Dj,{}),Tablet:r.jsx(Ij,{}),Bot:r.jsx(Su,{}),Laptop:r.jsx(Oj,{}),Wifi:r.jsx(Xg,{}),Bluetooth:r.jsx(Mj,{}),Battery:r.jsx(Rj,{}),Power:r.jsx(Lj,{}),Book:r.jsx(kj,{}),FileText:r.jsx(vo,{}),File:r.jsx(Aj,{}),Folder:r.jsx(Ej,{}),Image:r.jsx(Yg,{}),Video:r.jsx(od,{}),Music:r.jsx(Tj,{}),Camera:r.jsx(Pj,{}),Settings:r.jsx(jl,{}),Search:r.jsx(Cj,{}),Filter:r.jsx(Nj,{}),Download:r.jsx(Wa,{}),Upload:r.jsx(yo,{}),Archive:r.jsx(Sj,{}),Trash2:r.jsx(jj,{}),Edit:r.jsx(wj,{}),Plus:r.jsx(vr,{}),Minus:r.jsx(bj,{}),Eye:r.jsx(_j,{}),EyeOff:r.jsx(yj,{}),Copy:r.jsx(Kg,{}),Scissors:r.jsx(vj,{}),PenTool:r.jsx(xj,{}),Brush:r.jsx(gj,{}),Palette:r.jsx(pj,{}),Move:r.jsx(mj,{}),RotateCcw:r.jsx(fj,{}),RotateCw:r.jsx(hj,{}),Maximize:r.jsx(uj,{}),Minimize:r.jsx(dj,{}),ChevronLeft:r.jsx(qg,{}),ChevronRight:r.jsx(wl,{}),ChevronUp:r.jsx(Gg,{}),ChevronDown:r.jsx(ju,{}),ArrowLeft:r.jsx(Zg,{}),ArrowRight:r.jsx(cj,{}),ArrowUp:r.jsx(lj,{}),ArrowDown:r.jsx(aj,{}),ExternalLink:r.jsx(oj,{}),Link:r.jsx(ij,{}),Square:r.jsx(rj,{}),Circle:r.jsx(Hg,{}),MapPin:r.jsx(sj,{}),Clock:r.jsx(Wg,{}),Globe:r.jsx(nj,{}),Waypoints:r.jsx(Ug,{}),MoreHorizontal:r.jsx(tj,{}),MoreVertical:r.jsx(ej,{})},i4=t=>{if(!t)return r.jsx(vo,{});if(Na[t])return Na[t];const e=t.toLowerCase(),n=Object.keys(Na).find(s=>s.toLowerCase()===e);return n?Na[n]:r.jsx(vo,{})};function o4({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{fillRule:"evenodd",d:"M12.963 2.286a.75.75 0 0 0-1.071-.136 9.742 9.742 0 0 0-3.539 6.176 7.547 7.547 0 0 1-1.705-1.715.75.75 0 0 0-1.152-.082A9 9 0 1 0 15.68 4.534a7.46 7.46 0 0 1-2.717-2.248ZM15.75 14.25a3.75 3.75 0 1 1-7.313-1.172c.628.465 1.35.81 2.133 1a5.99 5.99 0 0 1 1.925-3.546 3.75 3.75 0 0 1 3.255 3.718Z",clipRule:"evenodd"}))}const a4=p.forwardRef(o4),dg=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ug=Ey,Vh=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return ug(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(h=>{const f=n==null?void 0:n[h],g=a==null?void 0:a[h];if(f===null)return null;const x=dg(f)||dg(g);return i[h][x]}),d=n&&Object.entries(n).reduce((h,f)=>{let[g,x]=f;return x===void 0||(h[g]=x),h},{}),u=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((h,f)=>{let{class:g,className:x,...v}=f;return Object.entries(v).every(b=>{let[_,w]=b;return Array.isArray(w)?w.includes({...a,...d}[_]):{...a,...d}[_]===w})?[...h,g,x]:h},[]);return ug(t,l,u,n==null?void 0:n.class,n==null?void 0:n.className)},l4=Vh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),be=p.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...i},a)=>{const l=s?Mh:"button";return r.jsx(l,{className:De(l4({variant:e,size:n,className:t})),ref:a,...i})});be.displayName="Button";const c4=({isOpen:t,onClose:e,onConfirm:n})=>{const[s,i]=p.useState(!1),a=async()=>{if(!s)try{i(!0),await n()}finally{i(!1)}};return r.jsx(sP,{children:t&&r.jsxs(r.Fragment,{children:[r.jsx(an.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>!s&&e(),className:"fixed inset-0 z-50 bg-black/70 backdrop-blur-md"}),r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:r.jsxs(an.div,{initial:{opacity:0,scale:.85,y:60},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.85,y:-40},transition:{type:"spring",stiffness:280,damping:26},className:"relative w-full max-w-2xl",children:[r.jsx("div",{className:`absolute -inset-1 rounded-2xl
                bg-gradient-to-r from-yellow-400/30 via-orange-500/30 to-red-600/30
                blur-xl opacity-80`}),r.jsxs("div",{className:`relative rounded-2xl overflow-hidden
                bg-gradient-to-br from-[#0b0f19] via-[#0f172a] to-[#020617]
                border border-yellow-400/30
                shadow-[0_0_10px_rgba(255,170,0,0.25)]`,children:[r.jsxs("div",{className:"relative p-8",children:[r.jsx("button",{onClick:()=>!s&&e(),disabled:s,className:`absolute top-4 right-4 p-2 rounded-full
                      hover:bg-white/10 transition
                      disabled:opacity-40`,children:r.jsx(Sl,{className:"w-5 h-5 text-white"})}),r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx("div",{className:`p-4 rounded-full
                        bg-gradient-to-br from-yellow-400 to-orange-500
                        shadow-[0_0_20px_rgba(255,170,0,0.9)]`,children:r.jsx(Zr,{className:"w-9 h-9 text-black"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-extrabold tracking-wide text-white",children:"Confirm Logout"}),r.jsx("p",{className:"mt-2 text-white/70 text-md",children:"You are about to end your session"})]})]})]}),r.jsxs("div",{className:"px-8 pb-8 space-y-8",children:[r.jsxs("div",{className:`flex gap-4 p-6 rounded-xl
                      bg-black/40
                      border border-orange-500/30
                      shadow-inner`,children:[r.jsx(Ga,{className:"w-6 h-6 text-orange-400 mt-1"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-md font-semibold text-white",children:"You will be logged out"}),r.jsx("p",{className:"mt-1 text-white/60",children:"Unsaved progress may be lost. Please confirm."})]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx(be,{variant:"outline",onClick:e,disabled:s,className:`
                        flex-1 h-14
                        text-md font-medium
                        text-white
                        border-white/20
                        bg-white/10
                        hover:bg-white/20
                        disabled:opacity-40
                      `,children:"Cancel"}),r.jsx(be,{onClick:a,disabled:s,className:`
                        flex-1 h-14
                        text-md font-bold
                        text-white
                        bg-gradient-to-r
                        from-yellow-400 via-orange-500 to-red-600
                        shadow-[0_0_10px_rgba(255,140,0,0.9)]
                        hover:shadow-[0_0_14px_rgba(255,90,0,1)]
                        transition-all
                        disabled:opacity-70
                      `,children:s?r.jsxs("span",{className:"flex items-center gap-3",children:[r.jsx(dS,{className:"w-5 h-5 animate-spin"}),"Logging out"]}):r.jsxs(r.Fragment,{children:[r.jsx(Ga,{className:"w-6 h-6 mr-3"}),"Yes, Logout"]})})]})]}),r.jsx("div",{className:"h-[3px] bg-gradient-to-r from-yellow-400 via-orange-500 to-red-600"})]})]})})]})})},k_=ae.forwardRef(({className:t,isAnimated:e=!1},n)=>r.jsx(an.div,{ref:n,animate:e?{scale:[1,1.1,1],rotate:[0,5,-5,0]}:{},transition:{duration:2,repeat:e?1/0:0},className:t,children:r.jsx(a4,{className:"w-full h-full text-orange-500"})}));k_.displayName="AnimatedFireIcon";const d4=({item:t,isCollapsed:e,isActive:n,onClick:s})=>{const i=r.jsxs("div",{className:De("flex items-center cursor-pointer neo-sidebar-item transition-all duration-200 relative overflow-hidden",e?"p-3 justify-center":"px-3 py-3 space-x-4",n&&"neo-sidebar-item-active"),children:[r.jsx("div",{className:"w-6 h-6 flex items-center justify-center",children:t.icon}),!e&&r.jsx("span",{className:"text-sm font-medium",children:t.label})]});return r.jsx(n4,{children:r.jsxs(s4,{children:[r.jsx(r4,{asChild:!0,children:s?r.jsx("button",{onClick:s,className:"w-full",children:i}):r.jsx(Tu,{to:t.href,className:"w-full text-white block",children:i})}),e&&r.jsx(A_,{side:"right",children:t.label})]})})},u4=({isCollapsed:t,onToggle:e})=>{const n=Gs(),s=Pu(),{logout:i,user:a}=Ni(),l=Dy(),{isMobileMenuOpen:d,isMobileView:u,closeMobileMenu:h}=Rh(),[f,g]=p.useState(!1),x=p.useRef(null),v=p.useRef(null),{data:b}=Ka({queryKey:["pagePermissions",a==null?void 0:a.id],queryFn:async()=>{const S=await Ce.get(`/api/role-page-permissions/user/${a==null?void 0:a.id}`);return S.data.success?S.data.data:[]},enabled:!!(a!=null&&a.id),staleTime:0,refetchInterval:1e4}),C=(()=>{const{isSuperAdmin:S,pagePermissions:P}=l;return(b||P||[]).filter(A=>S||A.can_view).map(A=>({id:A.page_path,icon:i4(A.icon),label:A.page_name,href:A.page_path,category:A.page_category,sortOrder:A.sort_order||0})).sort((A,k)=>A.sortOrder-k.sortOrder)})().reduce((S,P)=>{var T;return S[T=P.category||"main"]||(S[T]=[]),S[P.category||"main"].push(P),S},{}),N=S=>s.pathname===S||s.pathname.startsWith(S);return p.useEffect(()=>{x.current&&v.current&&!u&&(Jd.to(v.current,{scale:t?.8:1,duration:.3}),Jd.to(x.current,{right:t?-16:-32,duration:.3}))},[t,u]),r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:De("fixed left-0 top-0 h-full neo-sidebar z-50 flex flex-col transition-all",u?d?"translate-x-0 w-80":"-translate-x-full w-80":"translate-x-0"),style:u?void 0:{width:t?80:280},children:[u&&r.jsx("button",{onClick:h,className:"absolute top-4 right-4",children:r.jsx(Sl,{})}),r.jsxs("div",{className:"flex items-center justify-center py-6",children:[r.jsx(k_,{ref:v,className:"w-8 h-8",isAnimated:s.pathname==="/"}),!t&&r.jsx("span",{className:"ml-3  text-white font-bold",children:"AI CRUITMENT"})]}),!u&&r.jsx("button",{ref:x,onClick:e,className:"neo-sidebar-toggle h-8 w-8 rounded-full absolute top-1/2 -right-3 flex items-center justify-center text-white",children:t?r.jsx(wl,{}):r.jsx(qg,{})}),r.jsx(s_,{className:"flex-1 px-4",children:r.jsx("nav",{className:"space-y-2",children:Object.entries(C).map(([S,P])=>r.jsxs("div",{children:[!t&&S!=="main"&&r.jsx("div",{className:"neo-sidebar-category text-xs uppercase px-2 py-2",children:S}),P.map(T=>r.jsx(d4,{item:T,isCollapsed:t&&!u,isActive:N(T.href),onClick:u?()=>{n(T.href),h()}:void 0},T.id))]},S))})}),r.jsx("div",{className:"p-4",children:r.jsxs("button",{onClick:()=>g(!0),className:"neo-sidebar-logout w-full py-3 rounded-md text-white flex items-center justify-center gap-2",children:[r.jsx(Ga,{size:16}),!t&&"Logout"]})})]}),r.jsx(c4,{isOpen:f,onClose:()=>g(!1),onConfirm:()=>i()})]})},h4={"":{label:"Home",icon:r.jsx(Za,{className:"h-3.5 w-3.5"})},dashboard:{label:"Dashboard",icon:r.jsx(nx,{className:"h-3.5 w-3.5"})},agents:{label:"Agents",icon:r.jsx(Su,{className:"h-3.5 w-3.5"})},"knowledge-bases":{label:"Knowledge Bases",icon:r.jsx(mS,{className:"h-3.5 w-3.5"})},actions:{label:"Actions",icon:r.jsx(Ug,{className:"h-3.5 w-3.5"})},contacts:{label:"Contacts",icon:r.jsx(eo,{className:"h-3.5 w-3.5"})},lists:{label:"Lists",icon:r.jsx(fS,{className:"h-3.5 w-3.5"})},campaigns:{label:"Campaigns",icon:r.jsx(ad,{className:"h-3.5 w-3.5"})},recordings:{label:"Recordings",icon:r.jsx(hS,{className:"h-3.5 w-3.5"})},support:{label:"Support",icon:r.jsx(uS,{className:"h-3.5 w-3.5"})},settings:{label:"Settings",icon:r.jsx(jl,{className:"h-3.5 w-3.5"})},"leads-contacts":{label:"Leads",icon:r.jsx(eo,{className:"h-3.5 w-3.5"})},"leads-scraper":{label:"Leads Scraper",icon:r.jsx(eo,{className:"h-3.5 w-3.5"})},"marketing-ads":{label:"Marketing Ads",icon:r.jsx(ad,{className:"h-3.5 w-3.5"})},"phone-numbers":{label:"Phone Numbers"},"outbound-calls":{label:"Outbound Calls"},outbound:{label:"Outbound"},workflows:{label:"Workflows"},webhooks:{label:"Webhooks"},credits:{label:"Credits"},"audit-logs":{label:"Audit Logs"},users:{label:"Users",icon:r.jsx(eo,{className:"h-3.5 w-3.5"})},roles:{label:"Roles"},permissions:{label:"Permissions"},"super-admin":{label:"Super Admin"},integration:{label:"Integrations"},models:{label:"Models"},voices:{label:"Voices"},messages:{label:"Messages"},patients:{label:"Patients"},studies_calculator:{label:"Studies Calculator"},email_management:{label:"Email Management"},"default-assistants":{label:"Default Assistants"},leads:{label:"Lead Details"}},f4={"/studies":"/studies_calculator","/studies/db":"/studies_calculator"},m4=({className:t})=>{const n=Pu().pathname.split("/").filter(i=>i);if(n.length===0)return r.jsx("nav",{className:De("flex items-center space-x-1 text-sm",t),"aria-label":"Breadcrumbs",children:r.jsxs("span",{className:"flex items-center text-primary font-medium",children:[r.jsx(Za,{className:"h-3.5 w-3.5 mr-1"}),r.jsx("span",{children:"Home"})]})});const s=[];return n.forEach((i,a)=>{const l="/"+n.slice(0,a+1).join("/"),d=a===n.length-1,u=f4[l];if(u&&!d)return;const h=h4[i],f=(h==null?void 0:h.label)||i.split("-").map(x=>x.charAt(0).toUpperCase()+x.slice(1)).join(" "),g=(h==null?void 0:h.icon)||null;s.push({path:u||l,label:f,icon:g,isLast:d})}),s.unshift({path:"/",label:"Home",icon:r.jsx(Za,{className:"h-3.5 w-3.5"}),isLast:!1}),r.jsx("nav",{className:De("flex items-center text-sm overflow-x-auto scrollbar-hide",t),"aria-label":"Breadcrumbs",children:r.jsx("div",{className:"flex items-center space-x-1.5",children:s.map((i,a)=>r.jsxs(ae.Fragment,{children:[a>0&&r.jsx(wl,{className:"h-3.5 w-3.5 text-muted-foreground flex-shrink-0 opacity-70"}),i.isLast?r.jsxs("span",{className:"flex items-center text-foreground font-medium px-2 py-1 rounded-md bg-secondary/40",children:[i.icon&&r.jsx("span",{className:"mr-1.5 text-primary",children:i.icon}),r.jsx("span",{className:"truncate max-w-[150px]",children:i.label})]}):r.jsx(an.div,{whileHover:{scale:1.02},transition:{duration:.2},className:"group",children:r.jsxs(Tu,{to:i.path,className:"flex items-center text-muted-foreground hover:text-primary transition-colors px-2 py-1 rounded-md hover:bg-secondary/50",children:[i.icon&&r.jsx("span",{className:"mr-1.5 opacity-70 group-hover:opacity-100 text-muted-foreground group-hover:text-primary transition-colors",children:i.icon}),r.jsx("span",{className:"truncate max-w-[120px]",children:i.label})]})})]},i.path))})})},L_=gS,R_=xS,p4=p.forwardRef(({className:t,inset:e,children:n,...s},i)=>r.jsxs(sx,{ref:i,className:De("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...s,children:[n,r.jsx(wl,{className:"ml-auto"})]}));p4.displayName=sx.displayName;const g4=p.forwardRef(({className:t,...e},n)=>r.jsx(rx,{ref:n,className:De("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));g4.displayName=rx.displayName;const Uh=p.forwardRef(({className:t,sideOffset:e=4,...n},s)=>r.jsx(pS,{children:r.jsx(ix,{ref:s,sideOffset:e,className:De("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Uh.displayName=ix.displayName;const ur=p.forwardRef(({className:t,inset:e,...n},s)=>r.jsx(ox,{ref:s,className:De("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));ur.displayName=ox.displayName;const x4=p.forwardRef(({className:t,children:e,checked:n,...s},i)=>r.jsxs(ax,{ref:i,className:De("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(lx,{children:r.jsx(cx,{className:"h-4 w-4"})})}),e]}));x4.displayName=ax.displayName;const v4=p.forwardRef(({className:t,children:e,...n},s)=>r.jsxs(dx,{ref:s,className:De("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(lx,{children:r.jsx(Hg,{className:"h-2 w-2 fill-current"})})}),e]}));v4.displayName=dx.displayName;const M_=p.forwardRef(({className:t,inset:e,...n},s)=>r.jsx(ux,{ref:s,className:De("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));M_.displayName=ux.displayName;const Va=p.forwardRef(({className:t,...e},n)=>r.jsx(hx,{ref:n,className:De("-mx-1 my-1 h-px bg-muted",t),...e}));Va.displayName=hx.displayName;const y4={theme:"light"},O_=p.createContext(y4);function _4({children:t,...e}){const n={theme:"light"};return r.jsx(O_.Provider,{...e,value:n,children:t})}const b4=()=>{const t=p.useContext(O_);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function w4({showLabel:t=!1}){const{theme:e}=b4();return t?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Kf,{className:"h-4 w-4 text-primary"}),r.jsx("span",{children:"Light Mode"})]}):r.jsxs(be,{variant:"outline",size:"icon",className:"cursor-default border-border/50 bg-secondary/50 backdrop-blur-sm hover:bg-secondary/80 transition-colors",children:[r.jsx(Kf,{className:"h-[1.2rem] w-[1.2rem] text-primary"}),r.jsx("span",{className:"sr-only",children:"Light theme"})]})}const j4=({showFullMenu:t=!1})=>{const e=Gs(),{logout:n,user:s}=Ni(),i=()=>{n(),e("/login")},a=()=>{if(s!=null&&s.first_name&&(s!=null&&s.last_name))return`${s.first_name.charAt(0)}${s.last_name.charAt(0)}`.toUpperCase();if(s!=null&&s.name){const d=s.name.split(" ");return d.length>=2?`${d[0].charAt(0)}${d[1].charAt(0)}`.toUpperCase():s.name.charAt(0).toUpperCase()}else{if(s!=null&&s.username)return s.username.charAt(0).toUpperCase();if(s!=null&&s.email)return s.email.charAt(0).toUpperCase()}return"U"},l=()=>s!=null&&s.first_name&&(s!=null&&s.last_name)?`${s.first_name} ${s.last_name}`:s!=null&&s.name?s.name:s!=null&&s.username?s.username:s!=null&&s.email?s.email.split("@")[0]:"User";return r.jsxs(L_,{children:[r.jsx(R_,{asChild:!0,children:r.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer p-2 rounded-full ",children:[r.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-orange-400 to-orange-500 flex items-center justify-center text-white font-bold text-sm",children:a()}),t&&r.jsx("span",{className:"text-sm font-medium",children:l()})]})}),r.jsxs(Uh,{align:"end",className:"w-56",children:[r.jsx(M_,{children:"My Account"}),r.jsx(Va,{}),!t&&r.jsxs(r.Fragment,{children:[r.jsxs(ur,{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Qg,{className:"w-4 h-4"}),r.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 rounded-full bg-primary text-[8px] flex items-center justify-center text-white font-bold",children:"3"})]}),r.jsx("span",{children:"Notifications"})]}),r.jsx(ur,{className:"flex items-center gap-2",children:r.jsx(w4,{showLabel:!0})}),r.jsx(Va,{})]}),r.jsxs(ur,{className:"flex items-center gap-2",onClick:()=>e("/profile"),children:[r.jsx(vS,{className:"w-4 h-4"}),r.jsx("span",{children:"Profile"})]}),r.jsxs(ur,{className:"flex items-center gap-2",onClick:()=>e("/settings"),children:[r.jsx(jl,{className:"w-4 h-4"}),r.jsx("span",{children:"Settings"})]}),r.jsx(Va,{}),r.jsxs(ur,{className:"flex items-center gap-2 text-red-500",onClick:i,children:[r.jsx(Ga,{className:"w-4 h-4"}),r.jsx("span",{children:"Logout"})]})]})]})},Zt=p.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:De("rounded-xl border bg-card text-card-foreground shadow",t),...e}));Zt.displayName="Card";const ws=p.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:De("flex flex-col space-y-1.5 p-6",t),...e}));ws.displayName="CardHeader";const js=p.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:De("font-semibold leading-none tracking-tight",t),...e}));js.displayName="CardTitle";const I_=p.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:De("text-sm text-gray-400 ",t),...e}));I_.displayName="CardDescription";const Gt=p.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:De("p-6 pt-0",t),...e}));Gt.displayName="CardContent";const S4=p.forwardRef(({className:t,...e},n)=>r.jsx("div",{ref:n,className:De("flex items-center p-6 pt-0",t),...e}));S4.displayName="CardFooter";const N4=Vh("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 hover:bg-green-200/80",warning:"border-transparent bg-yellow-100 text-yellow-800 hover:bg-yellow-200/80",info:"border-transparent bg-blue-100 text-blue-800 hover:bg-blue-200/80",purple:"border-transparent bg-primary/10 text-primary hover:bg-primary/20"}},defaultVariants:{variant:"default"}});function Cn({className:t,variant:e,...n}){return r.jsx("div",{className:De(N4({variant:e}),t),...n})}const pi=_S,o6=bS,C4=yS,a6=px,D_=p.forwardRef(({className:t,...e},n)=>r.jsx(fx,{ref:n,className:De("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));D_.displayName=fx.displayName;const Er=p.forwardRef(({className:t,children:e,...n},s)=>r.jsxs(C4,{children:[r.jsx(D_,{}),r.jsxs(mx,{ref:s,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,r.jsxs(px,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(Sl,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Er.displayName=mx.displayName;const Oo=({className:t,...e})=>r.jsx("div",{className:De("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Oo.displayName="DialogHeader";const ru=({className:t,...e})=>r.jsx("div",{className:De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});ru.displayName="DialogFooter";const Ar=p.forwardRef(({className:t,...e},n)=>r.jsx(gx,{ref:n,className:De("text-lg font-semibold leading-none tracking-tight",t),...e}));Ar.displayName=gx.displayName;const ml=p.forwardRef(({className:t,...e},n)=>r.jsx(xx,{ref:n,className:De("text-sm text-muted-foreground",t),...e}));ml.displayName=xx.displayName;var B_="basil",P4=function(e){return e===3?"v3":e},F_="https://js.stripe.com",T4="".concat(F_,"/").concat(B_,"/stripe.js"),E4=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,A4=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,hg="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",k4=function(e){return E4.test(e)||A4.test(e)},L4=function(){for(var e=document.querySelectorAll('script[src^="'.concat(F_,'"]')),n=0;n<e.length;n++){var s=e[n];if(k4(s.src))return s}return null},fg=function(e){var n="",s=document.createElement("script");s.src="".concat(T4).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(s),s},R4=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:n})},Ji=null,Ca=null,Pa=null,M4=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},O4=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},I4=function(e){return Ji!==null?Ji:(Ji=new Promise(function(n,s){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(hg),window.Stripe){n(window.Stripe);return}try{var i=L4();if(i&&e)console.warn(hg);else if(!i)i=fg(e);else if(i&&Pa!==null&&Ca!==null){var a;i.removeEventListener("load",Pa),i.removeEventListener("error",Ca),(a=i.parentNode)===null||a===void 0||a.removeChild(i),i=fg(e)}Pa=O4(n,s),Ca=M4(s),i.addEventListener("load",Pa),i.addEventListener("error",Ca)}catch(l){s(l);return}}),Ji.catch(function(n){return Ji=null,Promise.reject(n)}))},D4=function(e,n,s){if(e===null)return null;var i=n[0],a=i.match(/^pk_test/),l=P4(e.version),d=B_;a&&l!==d&&console.warn("Stripe.js@".concat(l," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(d,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var u=e.apply(void 0,n);return R4(u,s),u},Qi,z_=!1,$_=function(){return Qi||(Qi=I4(null).catch(function(e){return Qi=null,Promise.reject(e)}),Qi)};Promise.resolve().then(function(){return $_()}).catch(function(t){z_||console.warn(t)});var B4=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];z_=!0;var i=Date.now();return $_().then(function(a){return D4(a,n,i)})},V_={exports:{}},F4="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",z4=F4,$4=z4;function U_(){}function W_(){}W_.resetWarningCache=U_;var V4=function(){function t(s,i,a,l,d,u){if(u!==$4){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:W_,resetWarningCache:U_};return n.PropTypes=n,n};V_.exports=V4();var U4=V_.exports;const ft=yx(U4);function mg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function pg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mg(Object(n),!0).forEach(function(s){H_(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mg(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Ua(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ua=function(e){return typeof e}:Ua=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ua(t)}function H_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W4(t,e){if(t==null)return{};var n={},s=Object.keys(t),i,a;for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function H4(t,e){if(t==null)return{};var n=W4(t,e),s,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)s=a[i],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Z_(t,e){return Z4(t)||G4(t,e)||q4(t,e)||K4()}function Z4(t){if(Array.isArray(t))return t}function G4(t,e){var n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(n!=null){var s=[],i=!0,a=!1,l,d;try{for(n=n.call(t);!(i=(l=n.next()).done)&&(s.push(l.value),!(e&&s.length===e));i=!0);}catch(u){a=!0,d=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw d}}return s}}function q4(t,e){if(t){if(typeof t=="string")return gg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gg(t,e)}}function gg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}function K4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Qt=function(e,n,s){var i=!!s,a=ae.useRef(s);ae.useEffect(function(){a.current=s},[s]),ae.useEffect(function(){if(!i||!e)return function(){};var l=function(){a.current&&a.current.apply(a,arguments)};return e.on(n,l),function(){e.off(n,l)}},[i,n,e,a])},iu=function(e){var n=ae.useRef(e);return ae.useEffect(function(){n.current=e},[e]),n.current},gi=function(e){return e!==null&&Ua(e)==="object"},Y4=function(e){return gi(e)&&typeof e.then=="function"},X4=function(e){return gi(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},xg="[object Object]",J4=function t(e,n){if(!gi(e)||!gi(n))return e===n;var s=Array.isArray(e),i=Array.isArray(n);if(s!==i)return!1;var a=Object.prototype.toString.call(e)===xg,l=Object.prototype.toString.call(n)===xg;if(a!==l)return!1;if(!a&&!s)return e===n;var d=Object.keys(e),u=Object.keys(n);if(d.length!==u.length)return!1;for(var h={},f=0;f<d.length;f+=1)h[d[f]]=!0;for(var g=0;g<u.length;g+=1)h[u[g]]=!0;var x=Object.keys(h);if(x.length!==d.length)return!1;var v=e,b=n,_=function(C){return t(v[C],b[C])};return x.every(_)},G_=function(e,n,s){return gi(e)?Object.keys(e).reduce(function(i,a){var l=!gi(n)||!J4(e[a],n[a]);return s.includes(a)?(l&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),i):l?pg(pg({},i||{}),{},H_({},a,e[a])):i},null):null},q_="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",vg=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:q_;if(e===null||X4(e))return e;throw new Error(n)},Q4=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:q_;if(Y4(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return vg(i,n)})};var s=vg(e,n);return s===null?{tag:"empty"}:{tag:"sync",stripe:s}},eM=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"4.0.2"}),e.registerAppInfo({name:"react-stripe-js",version:"4.0.2",url:"https://stripe.com/docs/stripe-js/react"}))},Hl=ae.createContext(null);Hl.displayName="ElementsContext";var K_=function(e,n){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return e},Y_=function(e){var n=e.stripe,s=e.options,i=e.children,a=ae.useMemo(function(){return Q4(n)},[n]),l=ae.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(s):null}}),d=Z_(l,2),u=d[0],h=d[1];ae.useEffect(function(){var x=!0,v=function(_){h(function(w){return w.stripe?w:{stripe:_,elements:_.elements(s)}})};return a.tag==="async"&&!u.stripe?a.stripePromise.then(function(b){b&&x&&v(b)}):a.tag==="sync"&&!u.stripe&&v(a.stripe),function(){x=!1}},[a,u,s]);var f=iu(n);ae.useEffect(function(){f!==null&&f!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[f,n]);var g=iu(s);return ae.useEffect(function(){if(u.elements){var x=G_(s,g,["clientSecret","fonts"]);x&&u.elements.update(x)}},[s,g,u.elements]),ae.useEffect(function(){eM(u.stripe)},[u.stripe]),ae.createElement(Hl.Provider,{value:u},i)};Y_.propTypes={stripe:ft.any,options:ft.object};var tM=function(e){var n=ae.useContext(Hl);return K_(n,e)},nM=function(){var e=tM("calls useElements()"),n=e.elements;return n};ft.func.isRequired;var X_=ae.createContext(null);X_.displayName="CheckoutContext";ft.any,ft.shape({fetchClientSecret:ft.func.isRequired,elementsOptions:ft.object}).isRequired;var ou=function(e){var n=ae.useContext(X_),s=ae.useContext(Hl);if(n){if(s)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return n}else return K_(s,e)},sM=["mode"],rM=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Ot=function(e,n){var s="".concat(rM(e),"Element"),i=function(u){var h=u.id,f=u.className,g=u.options,x=g===void 0?{}:g,v=u.onBlur,b=u.onFocus,_=u.onReady,w=u.onChange,C=u.onEscape,N=u.onClick,S=u.onLoadError,P=u.onLoaderStart,T=u.onNetworksChange,A=u.onConfirm,k=u.onCancel,R=u.onShippingAddressChange,O=u.onShippingRateChange,M=u.onSavedPaymentMethodRemove,z=u.onSavedPaymentMethodUpdate,F=ou("mounts <".concat(s,">")),B="elements"in F?F.elements:null,J="checkoutState"in F?F.checkoutState:null,ee=(J==null?void 0:J.type)==="success"?J.checkout:null,X=ae.useState(null),oe=Z_(X,2),q=oe[0],re=oe[1],V=ae.useRef(null),W=ae.useRef(null);Qt(q,"blur",v),Qt(q,"focus",b),Qt(q,"escape",C),Qt(q,"click",N),Qt(q,"loaderror",S),Qt(q,"loaderstart",P),Qt(q,"networkschange",T),Qt(q,"confirm",A),Qt(q,"cancel",k),Qt(q,"shippingaddresschange",R),Qt(q,"shippingratechange",O),Qt(q,"savedpaymentmethodremove",M),Qt(q,"savedpaymentmethodupdate",z),Qt(q,"change",w);var G;_&&(e==="expressCheckout"?G=_:G=function(){_(q)}),Qt(q,"ready",G),ae.useLayoutEffect(function(){if(V.current===null&&W.current!==null&&(B||ee)){var U=null;if(ee)switch(e){case"payment":U=ee.createPaymentElement(x);break;case"address":if("mode"in x){var ye=x.mode,_e=H4(x,sM);if(ye==="shipping")U=ee.createShippingAddressElement(_e);else if(ye==="billing")U=ee.createBillingAddressElement(_e);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":U=ee.createExpressCheckoutElement(x);break;case"currencySelector":U=ee.createCurrencySelectorElement();break;case"taxId":U=ee.createTaxIdElement(x);break;default:throw new Error("Invalid Element type ".concat(s,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else B&&(U=B.create(e,x));V.current=U,re(U),U&&U.mount(W.current)}},[B,ee,x]);var $=iu(x);return ae.useEffect(function(){if(V.current){var U=G_(x,$,["paymentRequest"]);U&&"update"in V.current&&V.current.update(U)}},[x,$]),ae.useLayoutEffect(function(){return function(){if(V.current&&typeof V.current.destroy=="function")try{V.current.destroy(),V.current=null}catch{}}},[]),ae.createElement("div",{id:h,className:f,ref:W})},a=function(u){ou("mounts <".concat(s,">"));var h=u.id,f=u.className;return ae.createElement("div",{id:h,className:f})},l=n?a:i;return l.propTypes={id:ft.string,className:ft.string,onChange:ft.func,onBlur:ft.func,onFocus:ft.func,onReady:ft.func,onEscape:ft.func,onClick:ft.func,onLoadError:ft.func,onLoaderStart:ft.func,onNetworksChange:ft.func,onConfirm:ft.func,onCancel:ft.func,onShippingAddressChange:ft.func,onShippingRateChange:ft.func,onSavedPaymentMethodRemove:ft.func,onSavedPaymentMethodUpdate:ft.func,options:ft.object},l.displayName=s,l.__elementType=e,l},It=typeof window>"u",iM=ae.createContext(null);iM.displayName="EmbeddedCheckoutProviderContext";var oM=function(){var e=ou("calls useStripe()"),n=e.stripe;return n};Ot("auBankAccount",It);var l6=Ot("card",It),nd=Ot("cardNumber",It),aM=Ot("cardExpiry",It),lM=Ot("cardCvc",It);Ot("fpxBank",It);Ot("iban",It);Ot("idealBank",It);Ot("p24Bank",It);Ot("epsBank",It);Ot("payment",It);Ot("expressCheckout",It);Ot("paymentRequestButton",It);Ot("linkAuthentication",It);Ot("address",It);Ot("shippingAddress",It);Ot("paymentMethodMessaging",It);Ot("affirmMessage",It);Ot("afterpayClearpayMessage",It);Ot("taxId",It);const cM=B4("pk_test_51S8GFm2MMm3Fy1PB45KAluHAtFTOmAY9qKUE4sITR1TA1zfX97ON36OAcAALplq6LbLgqXaTyY0hRB7ae55LzpBQ00DfkbC8oy").then(t=>(console.log(" Stripe loaded successfully:",!!t),t||console.error(" Failed to load Stripe"),t)).catch(t=>(console.error(" Error loading Stripe:",t),null)),dM=({selectedPackage:t,onSuccess:e,onCancel:n})=>{const s=oM(),i=nM(),[a,l]=p.useState(!1),[d,u]=p.useState(""),[h,f]=p.useState(!1),[g,x]=p.useState("professional");p.useEffect(()=>{t&&v()},[t]);const v=async()=>{try{const _={packageId:t.package_id};t.is_free_trial&&(_.isFreeTrial=!0,_.autoSubscriptionEnabled=h,_.autoSubscriptionPackage=g);const w=await Ce.post("/api/credits/purchase",_);u(w.data.data.client_secret)}catch(_){console.error("Error creating payment intent:",_),ie.error("Failed to initialize payment")}},b=async _=>{if(_.preventDefault(),!s||!i||!d)return;l(!0);let w;if(t.is_free_trial){const T=i.getElement(nd);console.log(" Creating payment method with card element");const{error:A,paymentMethod:k}=await s.createPaymentMethod({type:"card",card:T});if(A){console.error(" Payment method creation failed:",A),ie.error(A.message||"Card validation failed"),l(!1);return}console.log(" Payment method created successfully:",k.id);try{console.log(" Confirming setup intent with payment method:",k.id),w=await s.confirmSetup({clientSecret:d,confirmParams:{payment_method:k.id},redirect:"if_required"}),console.log(" Setup intent confirmation result:",w)}catch(R){console.error(" Setup intent confirmation failed:",R),ie.error("Payment setup failed. Please try again."),l(!1);return}}else w=await s.confirmCardPayment(d,{payment_method:{card:i.getElement(nd)}});const{error:C,setupIntent:N,paymentIntent:S}=w,P=N||S;if(C)console.error("Payment/Setup failed:",C),ie.error(C.message||"Payment failed"),l(!1);else if(P.status==="succeeded"){const T=t.is_free_trial?` Free trial activated! ${t.total_credits} credits added to your account.`:`Payment successful! ${t.total_credits} credits added to your account.`;ie.success(T),setTimeout(async()=>{try{await Ce.get(`/api/credits/payment-status/${P.id}`),window.dispatchEvent(new CustomEvent("creditBalanceUpdate"))}catch(A){console.warn("Payment status check failed:",A)}},2e3),e(S)}};return r.jsx("div",{className:"space-y-6",children:r.jsxs("form",{onSubmit:b,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"block text-sm font-bold text-white/90 uppercase tracking-widest",children:"Payment Method"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-[10px] font-bold text-white/80 uppercase tracking-widest ml-1",children:"Card Number"}),r.jsxs("div",{className:"relative p-4 bg-white/5 border border-white/10 rounded-xl focus-within:border-blue-500/50 focus-within:ring-4 focus-within:ring-blue-500/10 transition-all duration-300",children:[r.jsxs("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 flex space-x-2 grayscale opacity-50",children:[r.jsx("img",{src:"https://js.stripe.com/v3/fingerprinted/img/visa-729c05c240c4bdb47b03ac81d9945bfe.svg",alt:"Visa",className:"h-4 w-auto"}),r.jsx("img",{src:"https://js.stripe.com/v3/fingerprinted/img/mastercard-4d8844094130711885b5e41b28c9848f.svg",alt:"Mastercard",className:"h-4 w-auto"})]}),r.jsx(nd,{options:{style:{base:{fontSize:"15px",color:"#ffffff",fontFamily:'"Plus Jakarta Sans", sans-serif',fontWeight:"500","::placeholder":{color:"rgba(255, 255, 255, 0.25)"},iconColor:"#6B7280"},invalid:{color:"#EF4444",iconColor:"#EF4444"}}}})]})]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-[10px] font-bold text-white/80 uppercase tracking-widest ml-1",children:"MM / YY"}),r.jsx("div",{className:"p-4 bg-white/5 border border-white/10 rounded-xl focus-within:border-blue-500/50 transition-all duration-300",children:r.jsx(aM,{options:{style:{base:{fontSize:"14px",color:"#ffffff",fontFamily:'"Plus Jakarta Sans", sans-serif',fontWeight:"500","::placeholder":{color:"rgba(255, 255, 255, 0.25)"}},invalid:{color:"#EF4444"}}}})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-[10px] font-bold text-white/80 uppercase tracking-widest ml-1",children:"CVC"}),r.jsx("div",{className:"p-4 bg-white/5 border border-white/10 rounded-xl focus-within:border-blue-500/50 transition-all duration-300",children:r.jsx(lM,{options:{style:{base:{fontSize:"14px",color:"#ffffff",fontFamily:'"Plus Jakarta Sans", sans-serif',fontWeight:"500","::placeholder":{color:"rgba(255, 255, 255, 0.25)"}},invalid:{color:"#EF4444"}}}})})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-[10px] font-bold text-white/80 uppercase tracking-widest ml-1",children:"Postal Code"}),r.jsx("div",{className:"p-4 bg-white/5 border border-white/10 rounded-xl focus-within:border-blue-500/50 transition-all duration-300",children:r.jsx("input",{type:"text",placeholder:"12345",className:"w-full bg-transparent border-none outline-none text-white placeholder-white/25 font-medium",style:{fontSize:"14px",fontFamily:'"Plus Jakarta Sans", sans-serif'}})})]})]})]}),t.is_free_trial&&r.jsxs("div",{className:"space-y-4 p-5 bg-blue-500/5 rounded-2xl border border-blue-500/20",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"pt-1",children:r.jsx("input",{type:"checkbox",id:"autoSubscription",checked:h,onChange:_=>f(_.target.checked),className:"h-4 w-4 bg-white/10 border-white/20 text-blue-500 focus:ring-blue-500/20 rounded cursor-pointer"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{htmlFor:"autoSubscription",className:"block text-sm font-bold text-blue-300 cursor-pointer mb-1",children:"Auto-buy Professional Pack when credits expire"}),r.jsx("p",{className:"text-[12px] text-white/80 leading-relaxed",children:"Automatically purchase Professional Pack ($45 for 500 credits) when your free trial credits run out. Cancel anytime in settings."}),!h&&r.jsx("p",{className:"text-[10px] text-blue-300 mt-2 font-bold uppercase tracking-wider",children:"* Required for free trial validation"})]})]}),h&&r.jsxs("div",{className:"ml-7 p-4 bg-white/5 rounded-xl border border-white/10",children:[r.jsx("label",{className:"block text-[10px] font-bold text-white/40 mb-2 uppercase tracking-widest",children:"Plan Selection:"}),r.jsxs("select",{value:g,onChange:_=>x(_.target.value),className:"w-full bg-slate-900 text-white text-xs border border-white/10 rounded-lg px-3 py-2.5 focus:ring-blue-500/20 focus:border-blue-500/50 appearance-none",children:[r.jsx("option",{value:"professional",children:"Professional Pack - $45 (500 credits)"}),r.jsx("option",{value:"business",children:"Business Pack - $80 (1,000 credits)"}),r.jsx("option",{value:"enterprise",children:"Enterprise Pack - $180 (2,500 credits)"})]})]})]}),r.jsxs("div",{className:"flex items-center space-x-4 p-5 bg-emerald-500/5 rounded-2xl border border-emerald-500/20",children:[r.jsx("div",{className:"w-10 h-10 bg-emerald-500/10 rounded-xl flex items-center justify-center",children:r.jsx(Is,{className:"h-5 w-5 text-emerald-400"})}),r.jsx("p",{className:"text-xs text-emerald-400/80 font-medium leading-relaxed",children:"Protected by 256-bit SSL encryption. Your payment data is never stored on our servers."})]}),r.jsxs("div",{className:"flex space-x-6 pt-6",children:[r.jsx(be,{type:"button",variant:"ghost",onClick:n,disabled:a,className:"flex-1 h-14 text-xs font-bold uppercase tracking-[0.2em] border border-white/10 rounded-2xl hover:bg-white/5 text-white/80 hover:text-white transition-all duration-300",children:"Go Back"}),r.jsx(be,{type:"submit",disabled:!s||a||t.is_free_trial&&!h,className:"flex-1 h-14 text-xs font-bold uppercase tracking-[0.2em] bg-gradient-to-r from-cyan-400 to-blue-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-2xl shadow-2xl shadow-blue-500/20 transition-all duration-300 disabled:opacity-30 disabled:cursor-not-allowed group",children:a?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-3"}),"Processing"]}):r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx(vx,{className:"h-4 w-4 mr-3 group-hover:scale-110 transition-transform"}),"Pay Now"]})})]})]})})},J_=({isOpen:t,onClose:e,onSuccess:n})=>{const[s,i]=p.useState([]),[a,l]=p.useState(!0),[d,u]=p.useState(null),[h,f]=p.useState(!1);p.useEffect(()=>{t&&g()},[t]);const g=async()=>{try{l(!0);const w=await Ce.get("/api/credits/packages");i(w.data.data)}catch(w){console.error("Error fetching packages:",w),ie.error("Failed to load credit packages")}finally{l(!1)}},x=w=>{u(w),f(!0)},v=w=>{f(!1),u(null),n==null||n(w),e()},b=()=>{f(!1),u(null)},_=w=>(w/100).toFixed(2);return h&&d?r.jsx(pi,{open:t,onOpenChange:e,children:r.jsxs(Er,{className:"max-w-[1500px] max-h-[85vh] p-0 bg-[#0d112d] border-white/10 shadow-2xl overflow-hidden",children:[r.jsx("div",{className:"relative px-6 py-4 bg-white/5 border-b border-white/10",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-700 rounded-lg flex items-center justify-center shadow-lg shadow-blue-500/10",children:r.jsx(vx,{className:"h-4 w-4 text-white"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx(Ar,{className:"text-base font-bold text-white mb-0.5",children:"Process Payment"}),r.jsxs(ml,{className:"text-[10px] text-white/30 font-medium font-jakarta",children:[d.name,"  $",d.price_dollars,"  Secured Checkout"]})]})]})}),r.jsxs("div",{className:"flex min-h-[400px] max-h-[calc(85vh-80px)] overflow-hidden",children:[r.jsxs("div",{className:"w-[45%] p-5 bg-white/5 border-r border-white/10 overflow-y-auto neon-fire-scroll",children:[r.jsx("h3",{className:"text-[12px] font-black text-white uppercase tracking-[0.2em] mb-4",children:"Invoice Detail"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/10 shadow-inner",children:[r.jsx("h3",{className:"text-sm font-bold text-white uppercase tracking-widest mb-4",children:"Summary"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-white/70",children:d.name}),r.jsxs("span",{className:"text-sm font-bold text-white",children:["$",d.price_dollars]})]}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm text-white/70",children:"Credits"}),r.jsx("span",{className:"text-sm font-bold text-white",children:d.total_credits.toLocaleString()})]}),r.jsx("div",{className:"border-t border-white/5 pt-3 mt-1",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-bold text-white uppercase tracking-wider",children:"Total"}),r.jsxs("span",{className:"text-xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500",children:["$",d.price_dollars]})]})})]})]}),r.jsxs("div",{className:"bg-white/[0.01] rounded-xl p-5 border border-white/5",children:[r.jsx("h5",{className:"text-[12px] font-black text-white uppercase tracking-[0.2em] mb-3",children:"Service Terms"}),r.jsxs("ul",{className:"grid grid-cols-1 gap-y-2",children:[r.jsxs("li",{className:"flex items-center text-[12px] text-white",children:[r.jsx("div",{className:"w-1 h-1 bg-blue-500 rounded-full mr-2 shadow-[0_0_5px_rgba(59,130,246,0.6)]"}),"Cloud GPU Voice Synthesis"]}),r.jsxs("li",{className:"flex items-center text-[12px] text-white",children:[r.jsx("div",{className:"w-1 h-1 bg-purple-500 rounded-full mr-2 shadow-[0_0_5px_rgba(168,85,247,0.6)]"}),"Telemetry & Analytics Access"]}),r.jsxs("li",{className:"flex items-center text-[12px] text-white",children:[r.jsx("div",{className:"w-1 h-1 bg-emerald-500 rounded-full mr-2 shadow-[0_0_5px_rgba(16,185,129,0.6)]"}),"Priority Support Response"]})]})]})]})]}),r.jsxs("div",{className:"w-[55%] p-5 bg-black/20 overflow-y-auto neon-fire-scroll",children:[r.jsx("h3",{className:"text-[8px] font-black text-white/20 uppercase tracking-[0.2em] mb-4",children:"Payment Configuration"}),r.jsx(Y_,{stripe:cM,children:r.jsx(dM,{selectedPackage:d,onSuccess:v,onCancel:b})})]})]})]})}):r.jsx(pi,{open:t,onOpenChange:e,children:r.jsxs(Er,{className:"max-w-[1500px] max-h-[85vh] overflow-hidden p-0 bg-[#0d112d] border-white/10 shadow-2xl",children:[r.jsx("div",{className:"relative px-6 py-4 bg-white/5 border-b border-white/10",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20",children:r.jsx(ii,{className:"h-5 w-5 text-white"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx(Ar,{className:"text-xl font-extrabold text-white mb-0.5 tracking-tight jakarta",children:"Choose Your Plan"}),r.jsx(ml,{className:"text-xs text-white/40 max-w-xl font-medium font-jakarta",children:"Scale your AI operations with precision and ease."})]})]})}),r.jsx("div",{className:"px-6 py-4 overflow-y-auto max-h-[calc(80vh-100px)] neon-fire-scroll bg-black/10",children:a?r.jsxs("div",{className:"flex flex-col items-center justify-center py-20 space-y-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-10 h-10 border-4 border-white/5 rounded-full"}),r.jsx("div",{className:"absolute top-0 w-10 h-10 border-4 border-blue-500 rounded-full animate-spin border-t-transparent"})]}),r.jsx("p",{className:"text-white/40 text-[9px] font-black uppercase tracking-widest",children:"Synchronizing..."})]}):r.jsxs("div",{className:"max-w-[1500px] mx-auto",children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 mb-8",children:s.map(w=>r.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>x(w),children:[!!w.is_popular&&r.jsx("div",{className:"absolute -top-2.5 left-1/2 transform -translate-x-1/2 z-20",children:r.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-pink-600 text-white px-2.5 py-0.5 rounded-full text-[7px] font-black uppercase tracking-[0.1em] shadow-lg border border-white/10",children:"Recommended"})}),r.jsx(Zt,{className:`h-full transition-all duration-500 border-white/5 bg-white/5 hover:bg-white/[0.06] hover:border-white/10 hover:-translate-y-1 ${w.is_popular?"ring-1 ring-orange-500/10":""}`,children:r.jsxs(Gt,{className:"p-4 h-full flex flex-col",children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("h4",{className:"text-base font-bold text-white mb-1 group-hover:text-blue-400 transition-colors",children:w.name}),r.jsx("p",{className:"text-white/20 text-[9px] leading-relaxed font-semibold px-2",children:w.description})]}),r.jsx("div",{className:"text-center mb-5",children:w.is_free_trial?r.jsxs("div",{className:"space-y-0",children:[r.jsx("span",{className:"text-2xl font-black text-transparent bg-clip-text bg-gradient-to-br from-green-400 to-emerald-600 tracking-tighter",children:"FREE"}),r.jsxs("div",{className:"text-[7px] font-bold tracking-widest uppercase text-white/5",children:[r.jsxs("span",{className:"line-through mr-1 opacity-50",children:["$",_(w.original_price_dollars*100)]}),r.jsx("span",{className:"text-emerald-500/40",children:"Limited"})]})]}):r.jsxs("div",{className:"flex items-baseline justify-center space-x-1",children:[r.jsxs("span",{className:"text-2xl font-black text-white/70 tracking-tighter",children:["$",_(w.price_cents)]}),r.jsx("span",{className:"text-white/20 text-[8px] font-black tracking-widest uppercase",children:"USD"})]})}),r.jsx("div",{className:"space-y-2 mb-5 flex-grow",children:r.jsxs("div",{className:"bg-white/5 rounded-lg p-3.5 space-y-1.5 border border-white/[0.03]",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-white/10 text-[7px] font-black uppercase tracking-widest",children:"Base"}),r.jsx("span",{className:"text-sm font-bold text-white/80 tracking-tight",children:w.credits_amount.toLocaleString()})]}),w.bonus_credits>0&&r.jsxs("div",{className:"flex items-center justify-between border-t border-white/[0.03] pt-1.5",children:[r.jsx("span",{className:"text-emerald-500/40 text-[7px] font-black uppercase tracking-widest",children:"Bonus"}),r.jsxs("span",{className:"text-sm font-bold text-emerald-500/40 tracking-tight",children:["+",w.bonus_credits.toLocaleString()]})]}),r.jsxs("div",{className:"flex items-center justify-between border-t border-white/[0.05] pt-1.5",children:[r.jsx("span",{className:"text-white/50 text-[7px] font-black uppercase tracking-widest",children:"Net"}),r.jsx("span",{className:"text-lg font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500 tracking-tighter",children:w.total_credits.toLocaleString()})]})]})}),r.jsx(be,{className:`w-full py-3 rounded-md text-[12px] font-black uppercase tracking-[0.2em] transition-all duration-300 ${w.is_popular?"bg-gradient-to-r from-orange-500 to-pink-600 hover:from-orange-600 hover:to-pink-700 text-white/70":"bg-white/5 hover:bg-white/10 text-white border border-white/5"}`,children:"Select"})]})})]},w.package_id))}),r.jsx("div",{className:"bg-black/10 rounded-xl border border-white/[0.03] p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx("div",{className:"w-8 h-8 bg-white/5 rounded-lg flex items-center justify-center border border-white/5 group",children:r.jsx(Is,{className:"h-4 w-4 text-blue-500 group-hover:text-blue-400 transition-all"})}),r.jsx("div",{className:"text-[7px] font-black text-white/80 uppercase tracking-[0.1em]",children:"Secured Gateway"})]}),r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx("div",{className:"w-8 h-8 bg-white/5 rounded-lg flex items-center justify-center border border-white/5 group",children:r.jsx(ii,{className:"h-4 w-4 text-purple-500 group-hover:text-purple-400 transition-all"})}),r.jsx("div",{className:"text-[7px] font-black text-white/80 uppercase tracking-[0.1em]",children:"Provisioning"})]}),r.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx("div",{className:"w-8 h-8 bg-white/5 rounded-lg flex items-center justify-center border border-white/5 group",children:r.jsx(Wg,{className:"h-4 w-4 text-emerald-500 group-hover:text-emerald-400 transition-all"})}),r.jsx("div",{className:"text-[7px] font-black text-white/80 uppercase tracking-[0.1em]",children:"30-Day Window"})]})]})})]})})]})})},Q_=({isOpen:t,onClose:e})=>{const n=[{category:"AI Cruitment Portal Services",functions:[{icon:r.jsx(ex,{className:"h-4 w-4 text-blue-500"}),name:"AI CRUITMENT Assistant Call",incoming:"1 Credit / Call + 0.5 Credits / Minute",outgoing:"1 Credit / Call + 0.5 Credits / Minute"},{icon:r.jsx(Ha,{className:"h-4 w-4 text-blue-500"}),name:"Outbound Call",incoming:"-",outgoing:"1 Credit / Call + 0.5 Credits / Minute"},{icon:r.jsx(wS,{className:"h-4 w-4 text-green-500"}),name:"Buy Phone Number",incoming:"-",outgoing:"5 Credits / Phone Number"},{icon:r.jsx(Yf,{className:"h-4 w-4 text-purple-500"}),name:"Campaign Creation",incoming:"-",outgoing:"2 Credits / Campaign"},{icon:r.jsx(Yf,{className:"h-4 w-4 text-purple-500"}),name:"Campaign Launch",incoming:"-",outgoing:"3 Credits / Campaign Launch"},{icon:r.jsx(jl,{className:"h-4 w-4 text-orange-500"}),name:"Assistant Creation",incoming:"-",outgoing:"2 Credits / Assistant"}]}];return r.jsx(pi,{open:t,onOpenChange:e,children:r.jsxs(Er,{className:"max-w-7xl max-h-[90vh] overflow-y-auto bg-[#1a1625] border border-white/10","aria-describedby":"credit-usage-description",children:[r.jsx(Oo,{className:"pb-4 border-b border-white/10",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 via-orange-600 to-red-600 rounded-xl flex items-center justify-center shadow-lg shadow-orange-500/20",children:r.jsx(Su,{className:"h-5 w-5 text-white"})}),r.jsxs("div",{children:[r.jsx(Ar,{className:"text-xl font-bold text-white",children:"Credits Usage"}),r.jsx(ml,{id:"credit-usage-description",className:"text-gray-400 text-sm mt-1",children:"View the credit costs for each function in the AI Cruitment Portal"})]})]})}),r.jsxs("div",{className:"space-y-6 pt-4",children:[r.jsx("div",{className:"space-y-4",children:n.map((s,i)=>r.jsxs("div",{className:"space-y-3",children:[r.jsxs("h3",{className:"text-base font-semibold text-orange-400 flex items-center gap-2",children:[r.jsx(ii,{className:"h-4 w-4"}),s.category]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 p-3 bg-white/5 rounded-lg border border-white/10",children:[r.jsx("div",{className:"text-sm font-semibold text-gray-300",children:"Functions"}),r.jsx("div",{className:"text-sm font-semibold text-gray-300 text-center",children:"Incoming"}),r.jsx("div",{className:"text-sm font-semibold text-gray-300 text-center",children:"Outgoing"})]}),r.jsx("div",{className:"space-y-2",children:s.functions.map((a,l)=>r.jsxs("div",{className:"grid grid-cols-3 gap-4 p-3 rounded-lg border border-white/5 bg-white/[0.02] hover:bg-white/[0.05] hover:border-orange-500/30 transition-all duration-200",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-orange-500/20 to-red-500/20 flex items-center justify-center",children:ae.cloneElement(a.icon,{className:"h-4 w-4 text-orange-400"})}),r.jsx("span",{className:"font-medium text-white text-sm",children:a.name})]}),r.jsx("div",{className:"text-center text-sm text-gray-300 flex items-center justify-center",children:a.incoming==="-"?r.jsx("span",{className:"text-gray-500",children:""}):r.jsx("span",{className:"text-yellow-400",children:a.incoming})}),r.jsx("div",{className:"text-center text-sm text-gray-300 flex items-center justify-center",children:a.outgoing==="-"?r.jsx("span",{className:"text-gray-500",children:""}):r.jsx("span",{className:"text-yellow-400",children:a.outgoing})})]},l))})]},i))}),r.jsx("div",{className:"p-4 bg-gradient-to-r from-orange-500/10 to-red-500/10 border border-orange-500/20 rounded-xl",children:r.jsxs("p",{className:"text-sm text-gray-300",children:[r.jsx("span",{className:"text-orange-400 font-semibold",children:"Note:"})," Credits are deducted in real-time as you use services. Call charges include both initiation and per-minute fees."]})})]})]})})},uM=({showPurchaseButton:t=!0,compact:e=!1,showUsageButton:n=!1,className:s=""})=>{Gs();const[i,a]=p.useState(null),[l,d]=p.useState(!0),[u,h]=p.useState(null),[f,g]=p.useState(!1),[x,v]=p.useState(!1),b=async()=>{var A,k,R;try{d(!0),console.log(" CreditBalance: Fetching balance...");const O=await Ce.get(`/api/credits/balance?t=${Date.now()}`);console.log(" CreditBalance: API response:",O.data);const M=O.data.data;console.log(" CreditBalance: Raw API response:",M),a(M),h(null),console.log(" CreditBalance: Balance updated:",M),console.log(" CreditBalance: Should show:",M.available_credits,"credits")}catch(O){console.error(" CreditBalance: Error fetching credit balance:",O),console.error(" CreditBalance: Error response:",(A=O.response)==null?void 0:A.data),h(((R=(k=O.response)==null?void 0:k.data)==null?void 0:R.message)||"Failed to fetch credit balance"),ie.error("Failed to fetch credit balance")}finally{d(!1)}};p.useEffect(()=>{console.log(" CreditBalance: Component mounted, fetching balance..."),b();const A=()=>{console.log(" CreditBalance: Credit update event received, refreshing..."),b()};window.addEventListener("creditBalanceUpdate",A);const k=()=>{console.log(" CreditBalance: Storage change detected, refreshing..."),setTimeout(b,100)};return window.addEventListener("storage",k),()=>{window.removeEventListener("creditBalanceUpdate",A),window.removeEventListener("storage",k)}},[]);const _=()=>{console.log(" Buy button clicked - opening purchase modal"),g(!0)},w=A=>{ie.success(" Purchase successful! Credits added to your account."),g(!1),b(),window.dispatchEvent(new CustomEvent("creditBalanceUpdate"))},C=A=>{if(console.log(" formatCredits called with:",A,"type:",typeof A),A==="unlimited")return"Unlimited";const k=typeof A=="string"?parseFloat(A):A;if(console.log(" numCredits after conversion:",k,"type:",typeof k),typeof k=="number"&&!isNaN(k)){const R=k.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2});return console.log(" formatted result:",R),R}return console.log(' returning default "0"'),"0"},N=A=>{if(A==="unlimited")return"text-green-600";const k=typeof A=="string"?parseFloat(A):A;return k<=10?"text-red-600":k<=50?"text-yellow-600":"text-green-600"},S=A=>{if(A==="unlimited")return"default";const k=typeof A=="string"?parseFloat(A):A;return k<=10?"destructive":k<=50?"secondary":"default"};if(l)return r.jsx(Zt,{className:`${e?"w-full":"w-full max-w-md"} ${s}`,children:r.jsx(Gt,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ka,{className:"h-5 w-5 text-gray-400 dark:text-gray-500 animate-pulse"}),r.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-20 animate-pulse"})]})})});if(u)return r.jsx(Zt,{className:`${e?"w-full":"w-full max-w-md"} ${s}`,children:r.jsx(Gt,{className:"p-4",children:r.jsxs("div",{className:"flex items-center space-x-2 text-red-600 dark:text-red-400",children:[r.jsx(Zr,{className:"h-5 w-5"}),r.jsx("span",{className:"text-sm",children:"Error loading balance"})]})})});const P=r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ka,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"}),r.jsx("span",{className:`font-medium text-sm ${N(i==null?void 0:i.available_credits)}`,children:i!=null&&i.isSuperAdmin?r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(cd,{className:"h-4 w-4"}),r.jsx("span",{children:"Unlimited"})]}):r.jsxs("span",{title:`${C(i==null?void 0:i.available_credits)} credits available`,children:[C(i==null?void 0:i.available_credits)," credits"]})}),!(i!=null&&i.isSuperAdmin)&&parseFloat(i==null?void 0:i.available_credits)<=10&&parseFloat(i==null?void 0:i.available_credits)>0&&r.jsx(Zr,{className:"h-4 w-4 text-yellow-500",title:"Low credit balance"}),!(i!=null&&i.isSuperAdmin)&&parseFloat(i==null?void 0:i.available_credits)<=0&&r.jsx(Zr,{className:"h-4 w-4 text-red-500",title:"No credits remaining"}),n&&r.jsxs(be,{size:"sm",variant:"outline",onClick:()=>v(!0),className:"h-7 px-3 text-xs",children:[r.jsx(Nu,{className:"h-3 w-3 mr-1"}),"Credits Usage"]}),t&&!(i!=null&&i.isSuperAdmin)&&r.jsxs(be,{size:"sm",variant:parseFloat(i==null?void 0:i.available_credits)<=10?"default":"outline",onClick:_,className:"h-7 px-3 text-xs",children:[r.jsx(vr,{className:"h-3 w-3 mr-1"}),"Buy Credits"]})]}),T=r.jsxs(Zt,{className:`w-full max-w-md ${s}`,children:[r.jsx(ws,{className:"pb-3",children:r.jsxs(js,{className:"flex items-center space-x-2 text-lg text-gray-900 dark:text-white",children:[r.jsx(ka,{className:"h-5 w-5"}),r.jsx("span",{className:"text-white dark:text-white",children:" Credit Balance"})]})}),r.jsxs(Gt,{className:"space-y-4",children:[i!=null&&i.isSuperAdmin?r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[r.jsx(cd,{className:"h-8 w-8 text-green-600"}),r.jsx("span",{className:"text-2xl font-bold text-green-600",children:"Unlimited"})]}),r.jsx(Cn,{variant:"default",className:"bg-green-100 text-green-800",children:"Super Admin"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:`text-3xl font-bold ${N(i==null?void 0:i.available_credits)}`,children:C(i==null?void 0:i.available_credits)}),r.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Available Credits"}),parseFloat(i==null?void 0:i.available_credits)<=10&&r.jsxs(Cn,{variant:S(i==null?void 0:i.available_credits),className:"mt-2",children:[r.jsx(Zr,{className:"h-3 w-3 mr-1"}),"Low Balance"]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:C(i==null?void 0:i.total_credits)}),r.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Total"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:C(i==null?void 0:i.used_credits)}),r.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Used"})]})]}),(i==null?void 0:i.last_purchase_at)&&r.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:["Last purchase: ",new Date(i.last_purchase_at).toLocaleDateString()]}),t&&r.jsxs(be,{onClick:_,className:"w-full",variant:parseFloat(i==null?void 0:i.available_credits)<=10?"default":"outline",children:[r.jsx(vr,{className:"h-4 w-4 mr-2"}),"Purchase Credits"]})]}),r.jsx("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:r.jsx("button",{onClick:b,className:"text-white hover:text-orange-500 transition-colors",children:"Refresh"})})]})]});return r.jsxs(r.Fragment,{children:[e?P:T,r.jsx(J_,{isOpen:f,onClose:()=>g(!1),onSuccess:w}),r.jsx(Q_,{isOpen:x,onClose:()=>v(!1)})]})},hM=()=>r.jsx("div",{className:"flex items-center",children:r.jsx(uM,{compact:!0,showPurchaseButton:!0,showUsageButton:!0})}),fM=()=>{const{user:t}=Ni(),[e,n]=p.useState(null),[s,i]=p.useState(!0),[a,l]=p.useState(null),[d,u]=p.useState(!1),[h,f]=p.useState(!1),g=async()=>{var C,N;try{i(!0);const P=(await Ce.get(`/api/credits/balance?t=${Date.now()}`)).data.data;n(P),l(null)}catch(S){console.error("Error fetching credit balance:",S),l(((N=(C=S.response)==null?void 0:C.data)==null?void 0:N.message)||"Failed to fetch credit balance")}finally{i(!1)}};p.useEffect(()=>{g();const C=()=>{g()};return window.addEventListener("creditBalanceUpdate",C),window.addEventListener("storage",C),()=>{window.removeEventListener("creditBalanceUpdate",C),window.removeEventListener("storage",C)}},[]);const x=()=>{u(!0)},v=()=>{ie.success(" Purchase successful! Credits added to your account."),u(!1),g(),window.dispatchEvent(new CustomEvent("creditBalanceUpdate"))},b=C=>{if(C==="unlimited")return"Unlimited";const N=typeof C=="string"?parseFloat(C):C;return typeof N=="number"&&!isNaN(N)?N.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}):"0"},_=()=>{if(t!=null&&t.first_name&&(t!=null&&t.last_name))return`${t.first_name.charAt(0)}${t.last_name.charAt(0)}`.toUpperCase();if(t!=null&&t.name){const C=t.name.split(" ");return C.length>=2?`${C[0].charAt(0)}${C[1].charAt(0)}`.toUpperCase():t.name.charAt(0).toUpperCase()}else{if(t!=null&&t.username)return t.username.charAt(0).toUpperCase();if(t!=null&&t.email)return t.email.charAt(0).toUpperCase()}return"U"},w=()=>t!=null&&t.first_name&&(t!=null&&t.last_name)?`${t.first_name} ${t.last_name}`.toUpperCase():t!=null&&t.name?t.name.toUpperCase():t!=null&&t.username?t.username.toUpperCase():t!=null&&t.email?t.email.split("@")[0].toUpperCase():"USER";return s?r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx("div",{className:"h-8 bg-gray-200 rounded w-32 animate-pulse"})}):a?r.jsxs("div",{className:"flex items-center space-x-2 text-red-600",children:[r.jsx(Zr,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm",children:"Error loading balance"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"flex items-center bg-gradient-to-r from-orange-400 to-orange-500 rounded-lg px-3 py-1.5 text-white shadow-sm",children:[r.jsx(ka,{className:"h-4 w-4 text-white flex-shrink-0"}),r.jsxs("div",{className:"flex flex-col ml-2 leading-tight",children:[r.jsx("span",{className:"text-[10px] font-medium opacity-90 whitespace-nowrap",children:"Credits Left"}),r.jsx("span",{className:"text-sm font-bold leading-none",children:e!=null&&e.isSuperAdmin?r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(cd,{className:"h-3 w-3"}),r.jsx("span",{className:"text-xs",children:"Unlimited"})]}):b(e==null?void 0:e.available_credits)})]})]}),!(e!=null&&e.isSuperAdmin)&&r.jsxs(be,{size:"sm",onClick:x,className:"bg-red-500 hover:bg-red-600 text-white text-xs px-3 py-1.5 h-7 rounded-md font-medium flex items-center gap-1",children:[r.jsx(vr,{className:"h-3 w-3"}),"Recharge"]}),r.jsxs(be,{size:"sm",onClick:()=>f(!0),className:"bg-orange-500 hover:bg-orange-600 text-white text-xs px-3 py-1.5 h-7 rounded-md font-medium flex items-center gap-1",children:[r.jsx(Nu,{className:"w-4 h-4"}),"Credits Usage"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium",children:_()}),r.jsx("span",{className:"text-sm font-medium text-gray-700 hidden md:block",children:w()})]})]}),r.jsx(J_,{isOpen:d,onClose:()=>u(!1),onSuccess:v}),r.jsx(Q_,{isOpen:h,onClose:()=>f(!1)})]})},mM=()=>{const{toggleMobileMenu:t,isMobileView:e}=Rh();return r.jsxs("div",{className:`\r
        h-16\r
        flex items-center justify-between\r
        px-4 md:px-6\r
        z-10\r
        relative\r
        overflow-hidden\r
\r
        /*  DARK NEON BACKGROUND */\r
        bg-gradient-to-r\r
        from-[#0b0f2e]\r
        via-[#0e1340]\r
        to-[#0b0f2e]\r
\r
        border-b border-white/10\r
        backdrop-blur-md\r
        text-white\r
         [&_*]:text-white\r
      `,children:[r.jsx("div",{"aria-hidden":!0,className:`\r
          absolute inset-0 pointer-events-none\r
          bg-gradient-to-r\r
          from-indigo-500/20\r
          via-purple-500/15\r
          to-pink-500/20\r
        `}),r.jsxs("div",{className:"relative flex items-center space-x-2 md:space-x-6 flex-1 min-w-0",children:[e&&r.jsx("button",{onClick:t,className:"p-2 rounded-md hover:bg-white/10 transition-colors","aria-label":"Toggle mobile menu",children:r.jsx(tx,{className:"h-5 w-5 text-white"})}),r.jsx(Tu,{to:"/",className:"flex-shrink-0",children:r.jsxs("h2",{className:"flex items-center gap-2 text-lg font-bold px-3 py-1 rounded-md bg-white/10 text-white",children:[r.jsx(nx,{className:"h-4 w-4 text-white"}),r.jsx("span",{className:"hidden xs:inline",children:"Dashboard"})]})}),r.jsx("div",{className:De("min-w-0 flex-1 max-w-xl",e?"hidden":"block"),children:r.jsx(m4,{className:"text-xs sm:text-sm text-white"})})]}),r.jsxs("div",{className:"relative flex items-center space-x-4 md:space-x-6",children:[!e&&r.jsx(fM,{}),e&&r.jsxs(r.Fragment,{children:[r.jsx(hM,{}),r.jsx(j4,{showFullMenu:!1})]})]})]})},Wh=p.memo(()=>r.jsx("div",{className:"h-full w-full flex items-center justify-center p-6 app-shell-bg",children:r.jsxs("div",{className:"flex flex-col items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-orange-400/30"}),r.jsx("div",{className:"absolute inset-0 w-12 h-12 rounded-full border-2 border-transparent border-t-orange-500 border-r-yellow-400 animate-spin"}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 rounded-full bg-gradient-to-br from-yellow-400 to-orange-500 animate-pulse shadow-[0_0_8px_rgba(255,165,0,0.6)]"})})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-xl text-yellow-400 font-medium",children:"Loading"}),r.jsxs("div",{className:"flex gap-0.5",children:[r.jsx("span",{className:"w-1 h-1 rounded-full bg-yellow-400 animate-bounce",style:{animationDelay:"0ms"}}),r.jsx("span",{className:"w-1 h-1 rounded-full bg-orange-500 animate-bounce",style:{animationDelay:"150ms"}}),r.jsx("span",{className:"w-1 h-1 rounded-full bg-red-500 animate-bounce",style:{animationDelay:"300ms"}})]})]})]})}));Wh.displayName="PageLoading";const pM=()=>{const{isMobileView:t}=Rh(),[e,n]=p.useState(!1),s=()=>{n(!e)};return r.jsxs("main",{className:"h-screen flex bg-background text-foreground overflow-hidden",id:"application-theme",children:[r.jsxs("div",{className:"absolute inset-0 z-0 opacity-30 pointer-events-none",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent"}),r.jsxs("div",{className:"grid grid-cols-[repeat(20,1fr)] grid-rows-[repeat(20,1fr)] h-full w-full",children:[Array.from({length:20}).map((i,a)=>r.jsx("div",{className:"border-t border-primary/[0.03]"},`grid-line-h-${a}`)),Array.from({length:20}).map((i,a)=>r.jsx("div",{className:"border-l border-primary/[0.03]"},`grid-line-v-${a}`))]})]}),r.jsx(u4,{isCollapsed:e,onToggle:s}),r.jsxs("section",{className:"flex flex-col justify-start flex-1 relative z-10 min-w-0 transition-all duration-300 ease-in-out",style:t?void 0:{marginLeft:e?"80px":"280px"},children:[r.jsx(mM,{}),r.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:r.jsx(p.Suspense,{fallback:r.jsx(Wh,{}),children:r.jsx(Eu,{})})})]})]})},gM=()=>{const t=p.useRef(null);return p.useEffect(()=>{const e=t.current;if(!e)return;const n=e.getContext("2d");if(!n)return;const s=()=>{const d=e.parentElement;d&&(e.width=d.clientWidth,e.height=120)};s(),window.addEventListener("resize",s);let i,a=0;const l=()=>{if(!n||!e)return;n.clearRect(0,0,e.width,e.height);const d=e.height/2,u=30,h=.02,f=.05;n.beginPath(),n.moveTo(0,d);for(let b=0;b<e.width;b++){const _=Math.sin(b*h+a)*u*.6,w=Math.sin(b*h*1.4+a*1.2)*u*.3,C=Math.sin(b*h*.6+a)*u*.2;n.lineTo(b,d+_+w+C)}const g=n.createLinearGradient(0,0,e.width,0);g.addColorStop(0,"rgba(255,180,0,0.2)"),g.addColorStop(.5,"rgba(255,120,0,0.9)"),g.addColorStop(1,"rgba(255,60,0,0.2)"),n.strokeStyle=g,n.lineWidth=2.5,n.shadowBlur=20,n.shadowColor="rgba(255,140,0,0.9)",n.stroke(),n.beginPath(),n.moveTo(0,d);for(let b=0;b<e.width;b++){const _=Math.sin(b*h*.8+a*1.4)*u*.4,w=Math.sin(b*h*1.1+a)*u*.2;n.lineTo(b,d+_+w)}const x=n.createLinearGradient(0,0,e.width,0);x.addColorStop(0,"rgba(255,255,255,0.05)"),x.addColorStop(.5,"rgba(255,200,120,0.4)"),x.addColorStop(1,"rgba(255,255,255,0.05)"),n.strokeStyle=x,n.lineWidth=1.5,n.shadowBlur=10,n.shadowColor="rgba(255,200,120,0.6)",n.stroke();const v=18;for(let b=0;b<v;b++){const _=e.width/v*b+Math.sin(a*2+b)*6,w=Math.sin(a*3+b)*u*.6,C=d+w;n.beginPath(),n.arc(_,C,Math.abs(w)/10+1.2,0,Math.PI*2),n.fillStyle="rgba(255,180,80,0.8)",n.shadowBlur=12,n.shadowColor="rgba(255,140,0,1)",n.fill()}a+=f,i=requestAnimationFrame(l)};return l(),()=>{window.removeEventListener("resize",s),cancelAnimationFrame(i)}},[]),r.jsx("canvas",{ref:t,className:`
        w-full h-[120px]
        opacity-80
        rounded-xl
        backdrop-blur-md
        
      `})},sd=({icon:t,title:e,description:n,delay:s})=>r.jsxs(an.div,{className:"flex items-start mb-6",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:s*.1+.5},children:[r.jsx("div",{className:"flex-shrink-0 mr-4",children:r.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:t})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-base font-semibold mb-1 text-white",children:e}),r.jsx("p",{className:"text-sm text-white/50",children:n})]})]}),xM=()=>r.jsxs("main",{className:"min-h-screen neo-login text-foreground flex flex-col md:flex-row",children:[r.jsxs("div",{className:"md:flex md:w-1/2 neo-login to-violet-900 text-white relative overflow-hidden",children:[r.jsxs("div",{className:"md:hidden flex items-center justify-between p-6 border-b border-indigo-800",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-500 flex items-center justify-center mr-2",children:r.jsx(ld,{className:"w-4 h-4 text-white "})}),r.jsx("h2",{className:"text-lg font-bold",children:"VoiceAI"})]}),r.jsx(an.div,{initial:{opacity:0},animate:{opacity:1},className:"text-xs px-2 py-1 bg-white/10 rounded-full",children:"Enterprise Solution"})]}),r.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-[10%] right-[-10%] w-[40%] h-[40%] rounded-full bg-indigo-600/10 blur-3xl"}),r.jsx("div",{className:"absolute bottom-[10%] left-[-10%] w-[40%] h-[40%] rounded-full bg-violet-600/10 blur-3xl"}),r.jsx("div",{className:"absolute top-[40%] left-[20%] w-[30%] h-[30%] rounded-full bg-indigo-500/10 blur-3xl"})]}),r.jsxs("div",{className:"relative z-10 flex flex-col justify-between h-full w-full p-6 md:p-8 lg:p-12 md:block hidden",children:[r.jsxs("div",{children:[r.jsxs(an.div,{className:"flex items-center mb-6",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsxs("div",{className:`
    relative w-10 h-10 mr-3 rounded-full
    flex items-center justify-center
    bg-gradient-to-br from-yellow-400 via-orange-500 to-red-600
    shadow-[0_0_6px_rgba(255,140,0,0.9)]
    before:absolute before:inset-0 before:rounded-full
    before:bg-gradient-to-br before:from-yellow-300/60 before:via-orange-400/50 before:to-red-600/60
    before:blur-md before:animate-pulse
    after:absolute after:inset-[-6px] after:rounded-full
    after:bg-[radial-gradient(circle,rgba(255,160,0,0.5),transparent_70%)]
    after:blur-xl
  `,children:[r.jsx("div",{className:"absolute inset-0 rounded-full bg-white/10 backdrop-blur-sm"}),r.jsx(ld,{className:"relative z-10 w-5 h-5 text-white drop-shadow-[0_0_6px_rgba(255,255,255,0.9)]"})]}),r.jsx("h2",{className:"text-xl font-bold",children:"VoiceAI"})]}),r.jsxs(an.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[r.jsx("h1",{className:"text-3xl lg:text-4xl font-bold mb-3",children:"Transform Your Business Communication"}),r.jsx("p",{className:"text-lg text-indigo-100 mb-6",children:"Intelligent voice agents that deliver exceptional customer experiences."})]})]}),r.jsxs("div",{className:"my-8",children:[r.jsx(an.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:.4},children:r.jsx(gM,{})}),r.jsx("div",{className:"flex items-center justify-center mt-4 space-x-2",children:[...Array(5)].map((t,e)=>r.jsx(an.div,{className:`
        w-2.5 h-2.5 rounded-full
        bg-gradient-to-br from-yellow-300 via-orange-400 to-red-500
        shadow-[0_0_12px_rgba(255,160,0,0.9)]
        backdrop-blur-md
      `,animate:{scale:[1,1.8,1],opacity:[.4,1,.4],boxShadow:["0 0 6px rgba(255,160,0,0.4)","0 0 16px rgba(255,140,0,1)","0 0 6px rgba(255,160,0,0.4)"]},transition:{duration:1.4,repeat:1/0,delay:e*.18,ease:"easeInOut"}},e))})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:`
    group rounded-xl p-5
    bg-white/5 backdrop-blur-lg
    border border-yellow-400/20
    shadow-[0_0_30px_rgba(255,160,0,0.12)]
    transition-all duration-500
    hover:border-yellow-400/50
    hover:shadow-[0_0_45px_rgba(255,140,0,0.35)]
  `,children:r.jsx(sd,{icon:r.jsx(ii,{className:"w-5 h-5 text-yellow-400 drop-shadow-[0_0_8px_rgba(255,160,0,0.8)]"}),title:"AI-Powered Voice Agents",description:"Lifelike conversations that handle customer inquiries with natural flow.",delay:1})}),r.jsx("div",{className:`
    group rounded-xl p-5
    bg-white/5 backdrop-blur-lg
    border border-orange-400/20
    shadow-[0_0_30px_rgba(255,120,0,0.12)]
    transition-all duration-500
    hover:border-orange-400/50
    hover:shadow-[0_0_45px_rgba(255,120,0,0.35)]
  `,children:r.jsx(sd,{icon:r.jsx(qa,{className:"w-5 h-5 text-orange-400 drop-shadow-[0_0_8px_rgba(255,120,0,0.8)]"}),title:"Advanced Natural Language Processing",description:"Understands context, sentiment, and intent for human-like interactions.",delay:2})}),r.jsx("div",{className:`
    group rounded-xl p-5
    bg-white/5 backdrop-blur-lg
    border border-red-400/20
    shadow-[0_0_30px_rgba(255,80,0,0.12)]
    transition-all duration-500
    hover:border-red-400/50
    hover:shadow-[0_0_45px_rgba(255,80,0,0.35)]
  `,children:r.jsx(sd,{icon:r.jsx(Is,{className:"w-5 h-5 text-red-400 drop-shadow-[0_0_8px_rgba(255,80,0,0.8)]"}),title:"Enterprise-Grade Security",description:"Secure handling of sensitive customer data with full compliance.",delay:3})})]}),r.jsxs(an.div,{className:"mt-auto pt-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:1},children:[r.jsx("p",{className:"text-sm text-indigo-200 mb-3",children:"Trusted by leading enterprises worldwide"}),r.jsx("div",{className:"flex items-center space-x-6",children:[1,2,3,4].map(t=>r.jsx("div",{className:"h-6 w-16 bg-white/10 rounded-md flex items-center justify-center",children:r.jsx("div",{className:"w-10 h-2 bg-white/20 rounded-sm"})},t))}),r.jsxs("div",{className:"flex items-center mt-4 space-x-3",children:[r.jsxs("div",{className:"flex items-center text-xs text-indigo-200",children:[r.jsx(Is,{className:"w-3 h-3 mr-1 stroke-2"}),r.jsx("span",{children:"SOC 2"})]}),r.jsxs("div",{className:"flex items-center text-xs text-indigo-200",children:[r.jsx(Is,{className:"w-3 h-3 mr-1 stroke-4"}),r.jsx("span",{children:"GDPR"})]}),r.jsxs("div",{className:"flex items-center text-xs text-indigo-200",children:[r.jsx(Is,{className:"w-3 h-3 mr-1"}),r.jsx("span",{children:"HIPAA"})]})]})]})]}),r.jsxs("div",{className:"md:hidden p-6 pt-0",children:[r.jsxs(an.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},children:[r.jsx("h1",{className:"text-md font-bold mb-2",children:"Transform Your Business Communication"}),r.jsx("p",{className:"text-sm text-indigo-100 mb-4",children:"Intelligent voice agents for exceptional customer experiences."})]}),r.jsxs(an.div,{className:"space-y-2 mb-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},children:[r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center mr-2",children:r.jsx(ii,{className:"w-3 h-3 text-white"})}),r.jsx("span",{children:"AI-Powered Voice Agents"})]}),r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center mr-2",children:r.jsx(qa,{className:"w-3 h-3 text-white"})}),r.jsx("span",{children:"Advanced NLP Technology"})]}),r.jsxs("div",{className:"flex items-center text-sm",children:[r.jsx("div",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center mr-2",children:r.jsx(Is,{className:"w-3 h-3 text-white"})}),r.jsx("span",{children:"Enterprise-Grade Security"})]})]})]})]}),r.jsxs("div",{className:"flex-1 flex items-center justify-center p-6 md:p-10 relative",children:[r.jsxs("div",{className:"absolute top-0 right-0 w-full h-full overflow-hidden pointer-events-none",children:[r.jsx("div",{className:"absolute top-[5%] right-[5%] w-[20%] h-[20%] rounded-full bg-primary/5 blur-3xl"}),r.jsx("div",{className:"absolute bottom-[5%] left-[5%] w-[20%] h-[20%] rounded-full bg-primary/5 blur-3xl"})]}),r.jsx(an.div,{className:"w-full max-w-md relative z-10",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:r.jsx(Eu,{})})]})]}),vM=()=>r.jsx(xM,{}),Hh=p.memo(({delay:t=200,minDuration:e=200})=>{const[n,s]=p.useState(!1),[i,a]=p.useState(null);return p.useEffect(()=>{const l=setTimeout(()=>{s(!0),a(Date.now())},t);return()=>clearTimeout(l)},[t]),p.useEffect(()=>{if(n&&i){const l=Date.now()-i;if(l<e){const d=setTimeout(()=>{},e-l);return()=>clearTimeout(d)}}},[n,i,e]),n?r.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0f0c29] via-[#302b63] to-[#24243e]"}),r.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,rgba(255,140,0,0.25),transparent_60%)]"}),r.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_bottom,rgba(0,180,255,0.25),transparent_60%)]"}),r.jsx("div",{className:"absolute inset-0 backdrop-blur-md bg-black/30"}),r.jsxs("div",{className:"relative flex flex-col items-center gap-10",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-20 h-20 border-4 border-orange-400/30 rounded-full animate-spin"}),r.jsx("div",{className:`absolute inset-2 w-16 h-16 border-4
              border-t-yellow-400
              border-r-orange-500
              border-b-red-500
              border-l-yellow-400
              rounded-full animate-spin`,style:{animationDirection:"reverse",animationDuration:"1.4s"}}),r.jsx("div",{className:`
              absolute inset-6 w-8 h-8 rounded-full
              bg-gradient-to-br from-yellow-300 via-orange-400 to-red-600
              animate-pulse
              shadow-[0_0_20px_rgba(255,170,0,0.95)]
            `}),r.jsxs("div",{className:"absolute inset-0 w-20 h-20 animate-spin",style:{animationDuration:"3s"},children:[r.jsx("div",{className:"absolute top-0 left-1/2 w-2 h-2 bg-yellow-400 rounded-full -translate-x-1/2"}),r.jsx("div",{className:"absolute bottom-0 left-1/2 w-2 h-2 bg-orange-500 rounded-full -translate-x-1/2"})]}),r.jsx("div",{className:`
              absolute inset-0 w-20 h-20 rounded-full blur-xl
              bg-gradient-to-br from-yellow-400/30 via-orange-500/30 to-red-600/30
            `})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:`
              text-4xl font-extrabold tracking-widest
              text-yellow-300
              animate-fireText
              drop-shadow-[0_0_2px_rgba(255,200,0,1)]
              drop-shadow-[0_0_4px_rgba(255,140,0,0.9)]
              drop-shadow-[0_0_5px_rgba(255,80,0,0.8)]
              mb-2
            `,children:"AI CRUITMENT"}),r.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3",children:[r.jsx("span",{className:"text-white/90 text-lg",children:"Loading"}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("span",{className:"w-1 h-1 bg-yellow-400 rounded-full animate-bounce"}),r.jsx("span",{className:"w-1 h-1 bg-orange-500 rounded-full animate-bounce delay-150"}),r.jsx("span",{className:"w-1 h-1 bg-red-500 rounded-full animate-bounce delay-300"})]})]})]}),r.jsx("div",{className:"w-64 h-1 rounded-full overflow-hidden bg-white/10",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-yellow-400 via-orange-500 to-red-600 rounded-full",style:{animation:"fireProgress 2s ease-in-out infinite"}})})]}),r.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[r.jsx("div",{className:"absolute top-1/4 left-1/4 w-2 h-2 bg-yellow-400/40 rounded-full animate-ping"}),r.jsx("div",{className:"absolute top-1/3 right-1/4 w-1 h-1 bg-orange-500/40 rounded-full animate-ping delay-1000"}),r.jsx("div",{className:"absolute bottom-1/3 left-1/3 w-1.5 h-1.5 bg-cyan-400/40 rounded-full animate-ping delay-2000"})]}),r.jsx("style",{dangerouslySetInnerHTML:{__html:`
            @keyframes fireText {
              0% {
                color: #ffd966;
                text-shadow:
                  0 0 8px rgba(255,200,0,1),
                  0 0 18px rgba(255,140,0,0.9),
                  0 0 30px rgba(255,80,0,0.8);
              }
              50% {
                color: #ffb703;
                text-shadow:
                  0 0 14px rgba(255,180,0,1),
                  0 0 30px rgba(255,120,0,1),
                  0 0 46px rgba(255,60,0,0.9);
              }
              100% {
                color: #ffd966;
                text-shadow:
                  0 0 8px rgba(255,200,0,1),
                  0 0 18px rgba(255,140,0,0.9),
                  0 0 30px rgba(255,80,0,0.8);
              }
            }

            .animate-fireText {
              animation: fireText 1.8s ease-in-out infinite;
            }

            @keyframes fireProgress {
              0% { transform: translateX(-100%); }
              50% { transform: translateX(300%); }
              100% { transform: translateX(-100%); }
            }
          `}})]}):null});Hh.displayName="FastLoading";const yM=({children:t})=>{const{isLoggedIn:e,loading:n,token:s,user:i}=Ni(),{loading:a}=Dy(),[l,d]=p.useState(!1);return p.useEffect(()=>{const u=setTimeout(()=>{d(!0)},100);return()=>clearTimeout(u)},[]),console.log(" ProtectedRoutes: Auth state check",{isLoggedIn:e,authLoading:n,permissionLoading:a,hasToken:!!s,hasUser:!!i,userEmail:i==null?void 0:i.email,initialCheckComplete:l}),n||a||!l?(console.log(" ProtectedRoutes: Still loading, showing FastLoading..."),r.jsx(Hh,{delay:200})):e?(console.log(" ProtectedRoutes: User authenticated, rendering protected content"),t?r.jsx(r.Fragment,{children:t}):r.jsx(Eu,{})):(console.log(" ProtectedRoutes: User not logged in, redirecting to login"),r.jsx(kS,{to:"/login",replace:!0}))},eb=p.memo(({className:t=""})=>{const[e,n]=p.useState(navigator.onLine),[s,i]=p.useState(!1);return p.useEffect(()=>{const a=()=>{n(!0),i(!0),setTimeout(()=>i(!1),3e3)},l=()=>{n(!1),i(!0)};return window.addEventListener("online",a),window.addEventListener("offline",l),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",l)}},[]),!s&&e?null:r.jsx("div",{className:`fixed top-4 right-4 z-50 ${t}`,children:r.jsx("div",{className:`
        flex items-center gap-2 px-3 py-2 rounded-lg shadow-lg text-sm font-medium
        ${e?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"}
        transition-all duration-300 ease-in-out
      `,children:e?r.jsxs(r.Fragment,{children:[r.jsx(Xg,{className:"h-4 w-4"}),r.jsx("span",{children:"Connected"})]}):r.jsxs(r.Fragment,{children:[r.jsx(jS,{className:"h-4 w-4"}),r.jsx("span",{children:"No Connection"})]})})})});eb.displayName="ConnectionStatus";const hr=class hr{constructor(){Wr(this,"queryClient",null)}static getInstance(){return hr.instance||(hr.instance=new hr),hr.instance}setQueryClient(e){this.queryClient=e}clearAllCache(){this.queryClient&&(console.log(" Clearing all React Query cache..."),this.queryClient.clear()),this.clearBrowserCache()}clearQueryCache(e){this.queryClient&&(console.log(` Clearing cache for query: ${e.join(", ")}`),this.queryClient.removeQueries({queryKey:e}))}invalidateQueries(e){this.queryClient&&(console.log(` Invalidating queries: ${e.join(", ")}`),this.queryClient.invalidateQueries({queryKey:e}))}invalidateQueriesByPage(e){this.queryClient&&this.queryClient.getQueryCache().getAll().filter(a=>a.queryKey.some(d=>typeof d=="string"&&(d.includes(e.replace("/",""))||e.includes(d)))).forEach(a=>{var l;console.log(` Invalidating page-specific query: ${a.queryKey.join(", ")}`),(l=this.queryClient)==null||l.invalidateQueries({queryKey:a.queryKey})})}clearBrowserCache(){try{console.log(" Clearing browser storage (preserving auth tokens)...");const e=["authToken","token","react-secure-storage"];Object.keys(localStorage).forEach(a=>{!e.includes(a)&&!a.startsWith("react-secure-storage")&&localStorage.removeItem(a)});const s=["authToken","token"];Object.keys(sessionStorage).forEach(a=>{s.includes(a)||sessionStorage.removeItem(a)}),console.log(" Browser cache cleared successfully (auth tokens preserved)")}catch(e){console.error(" Error clearing browser cache:",e)}}autoCleanStaleCache(){if(this.queryClient){const e=this.queryClient.getQueryCache(),n=e.getAll();let s=0;n.forEach(i=>{const a=i.state,d=Date.now()-5*60*1e3;i.state.dataUpdatedAt&&i.state.dataUpdatedAt<d&&a.status!=="pending"&&(e.remove(i),s++)}),s>0&&console.log(` Auto-cleaned ${s} stale cache entries`)}}clearStaleCache(){console.log(" Clearing stale cache entries..."),this.autoCleanStaleCache()}forceRefresh(e){this.queryClient&&(console.log(` Force refreshing: ${e.join(", ")}`),this.queryClient.refetchQueries({queryKey:e}))}getCacheStats(){if(!this.queryClient)return{totalQueries:0,staleQueries:0,activeQueries:0};const n=this.queryClient.getQueryCache().getAll(),i=Date.now()-5*60*1e3;return{totalQueries:n.length,staleQueries:n.filter(l=>l.state.dataUpdatedAt&&l.state.dataUpdatedAt<i).length,activeQueries:n.filter(l=>l.state.status==="pending").length}}clearCacheForNavigation(){if(this.queryClient){console.log(" Clearing cache for page navigation...");const e=this.queryClient.getQueryCache();e.getAll().forEach(s=>{s.queryKey.some(l=>typeof l=="string"&&(l.includes("auth")||l.includes("user")||l.includes("permission")))||e.remove(s)}),console.log(" Navigation cache clear completed")}}setupAutoCacheManagement(){setInterval(()=>{this.autoCleanStaleCache()},2*60*1e3),setInterval(()=>{console.log(" Performing scheduled stale cache cleanup (preserving auth)..."),this.autoCleanStaleCache()},30*60*1e3)}};Wr(hr,"instance");let pl=hr;const au=pl.getInstance(),ri=Object.freeze(Object.defineProperty({__proto__:null,CacheManager:pl,cacheManager:au},Symbol.toStringTag,{value:"Module"})),fr=class fr{constructor(){Wr(this,"metrics",new Map);Wr(this,"loadingStates",new Map)}static getInstance(){return fr.instance||(fr.instance=new fr),fr.instance}startTiming(e){this.metrics.set(`${e}_start`,performance.now()),this.loadingStates.set(e,!0),console.log(` Started timing: ${e}`)}endTiming(e){const n=this.metrics.get(`${e}_start`);if(!n)return console.warn(` No start time found for operation: ${e}`),0;const i=performance.now()-n;return this.metrics.set(`${e}_duration`,i),this.loadingStates.set(e,!1),console.log(` ${e} completed in ${i.toFixed(2)}ms`),i>2e3&&console.warn(` Slow operation detected: ${e} took ${i.toFixed(2)}ms`),i}getDuration(e){return this.metrics.get(`${e}_duration`)||0}isLoading(e){return this.loadingStates.get(e)||!1}getAllMetrics(){const e={};return this.metrics.forEach((n,s)=>{if(s.endsWith("_duration")){const i=s.replace("_duration","");e[i]=n}}),e}getPerformanceSummary(){const e=this.getAllMetrics(),n=Object.entries(e);if(n.length===0)return{totalOperations:0,averageLoadTime:0,slowOperations:[],fastOperations:[]};const i=n.reduce((d,[,u])=>d+u,0)/n.length,a=n.filter(([,d])=>d>1e3).map(([d,u])=>({name:d,duration:u})).sort((d,u)=>u.duration-d.duration),l=n.filter(([,d])=>d<=500).map(([d,u])=>({name:d,duration:u})).sort((d,u)=>d.duration-u.duration);return{totalOperations:n.length,averageLoadTime:i,slowOperations:a,fastOperations:l}}monitorApiCall(e,n){return this.startTiming(e),n().then(s=>(this.endTiming(e),s)).catch(s=>{throw this.endTiming(e),console.error(` API call failed: ${e}`,s),s})}monitorQuery(e,n){const s=`query_${e.join("_")}`;this.metrics.set(`${s}_duration`,n),n>1e3&&console.warn(` Slow query detected: ${e.join(", ")} took ${n.toFixed(2)}ms`)}clearMetrics(){this.metrics.clear(),this.loadingStates.clear(),console.log(" Performance metrics cleared")}logPerformanceReport(){const e=this.getPerformanceSummary();console.group(" Performance Report"),console.log(`Total Operations: ${e.totalOperations}`),console.log(`Average Load Time: ${e.averageLoadTime.toFixed(2)}ms`),e.slowOperations.length>0&&(console.group(" Slow Operations (>1s)"),e.slowOperations.forEach(({name:n,duration:s})=>{console.log(`${n}: ${s.toFixed(2)}ms`)}),console.groupEnd()),e.fastOperations.length>0&&(console.group(" Fast Operations (<500ms)"),e.fastOperations.slice(0,5).forEach(({name:n,duration:s})=>{console.log(`${n}: ${s.toFixed(2)}ms`)}),console.groupEnd()),console.groupEnd()}setupAutoMonitoring(){typeof window<"u"&&window.addEventListener("load",()=>{const e=performance.now();console.log(` Page loaded in ${e.toFixed(2)}ms`),this.metrics.set("page_load_duration",e)})}};Wr(fr,"instance");let lu=fr;const _M=lu.getInstance();function bM(){const[t,e]=p.useState(!1),[n,s]=p.useState(!0);return p.useEffect(()=>{const i=performance.getEntriesByType("navigation");i.length>0&&(i[0].type==="reload"?(e(!0),console.log(" Browser refresh detected - preserving authentication"),Se(async()=>{const{cacheManager:d}=await Promise.resolve().then(()=>ri);return{cacheManager:d}},void 0).then(({cacheManager:d})=>{d.clearStaleCache(),console.log(" Stale cache cleared due to browser refresh (auth preserved)")}).catch(d=>{console.warn("Could not clear stale cache on refresh:",d)})):e(!1));const a=setTimeout(()=>{s(!1)},500);return()=>clearTimeout(a)},[]),p.useEffect(()=>{const i=()=>{!document.hidden&&!n&&(console.log(" Page became visible, refreshing stale data..."),Se(async()=>{const{cacheManager:a}=await Promise.resolve().then(()=>ri);return{cacheManager:a}},void 0).then(({cacheManager:a})=>{a.autoCleanStaleCache()}).catch(a=>{console.warn("Could not clean stale cache on visibility change:",a)}))};return document.addEventListener("visibilitychange",i),()=>{document.removeEventListener("visibilitychange",i)}},[n]),p.useEffect(()=>{const i=()=>{console.log(" Connection restored, refreshing data..."),Se(async()=>{const{cacheManager:l}=await Promise.resolve().then(()=>ri);return{cacheManager:l}},void 0).then(({cacheManager:l})=>{l.forceRefresh(["dashboard","agents","calls"])}).catch(l=>{console.warn("Could not refresh data on reconnection:",l)})},a=()=>{console.log(" Connection lost")};return window.addEventListener("online",i),window.addEventListener("offline",a),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",a)}},[]),{isRefresh:t,isInitialLoad:n,isOnline:navigator.onLine}}const mt=p.forwardRef(({className:t,type:e,...n},s)=>r.jsx("input",{type:e,className:De("flex h-9 mt-1 pl-10 bg-gray-50 border-gray-200 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n}));mt.displayName="Input";var wM="Label",tb=p.forwardRef((t,e)=>r.jsx(xn.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));tb.displayName=wM;var nb=tb;const jM=Vh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),He=p.forwardRef(({className:t,...e},n)=>r.jsx(nb,{ref:n,className:De(jM(),t),...e}));He.displayName=nb.displayName;const Zh=p.forwardRef(({className:t,...e},n)=>r.jsx("textarea",{className:De("flex min-h-[60px] text-white/70 w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));Zh.displayName="Textarea";function yg(t,[e,n]){return Math.min(n,Math.max(e,t))}function Mt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function _g(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function SM(...t){return e=>{let n=!1;const s=t.map(i=>{const a=_g(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():_g(t[i],null)}}}}function sn(...t){return p.useCallback(SM(...t),t)}function sb(t,e=[]){let n=[];function s(a,l){const d=p.createContext(l),u=n.length;n=[...n,l];const h=g=>{var C;const{scope:x,children:v,...b}=g,_=((C=x==null?void 0:x[t])==null?void 0:C[u])||d,w=p.useMemo(()=>b,Object.values(b));return r.jsx(_.Provider,{value:w,children:v})};h.displayName=a+"Provider";function f(g,x){var _;const v=((_=x==null?void 0:x[t])==null?void 0:_[u])||d,b=p.useContext(v);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[h,f]}const i=()=>{const a=n.map(l=>p.createContext(l));return function(d){const u=(d==null?void 0:d[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...d,[t]:u}}),[d,u])}};return i.scopeName=t,[s,NM(i,...e)]}function NM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=s.reduce((d,{useScope:u,scopeName:h})=>{const g=u(a)[`__scope${h}`];return{...d,...g}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}var CM=p.createContext(void 0);function PM(t){const e=p.useContext(CM);return t||e||"ltr"}function rb(t){const e=TM(t),n=p.forwardRef((s,i)=>{const{children:a,...l}=s,d=p.Children.toArray(a),u=d.find(AM);if(u){const h=u.props.children,f=d.map(g=>g===u?p.Children.count(h)>1?p.Children.only(null):p.isValidElement(h)?h.props.children:null:g);return r.jsx(e,{...l,ref:i,children:p.isValidElement(h)?p.cloneElement(h,void 0,f):null})}return r.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function TM(t){const e=p.forwardRef((n,s)=>{const{children:i,...a}=n,l=p.isValidElement(i)?LM(i):void 0,d=sn(l,s);if(p.isValidElement(i)){const u=kM(a,i.props);return i.type!==p.Fragment&&(u.ref=d),p.cloneElement(i,u)}return p.Children.count(i)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var EM=Symbol("radix.slottable");function AM(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===EM}function kM(t,e){const n={...e};for(const s in e){const i=t[s],a=e[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...d)=>{const u=a(...d);return i(...d),u}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function LM(t){var s,i;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var RM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Dt=RM.reduce((t,e)=>{const n=rb(`Primitive.${e}`),s=p.forwardRef((i,a)=>{const{asChild:l,...d}=i,u=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(u,{...d,ref:a})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function MM(t,e){t&&xi.flushSync(()=>t.dispatchEvent(e))}function Zo(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}function OM(t,e=globalThis==null?void 0:globalThis.document){const n=Zo(t);p.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var IM="DismissableLayer",cu="dismissableLayer.update",DM="dismissableLayer.pointerDownOutside",BM="dismissableLayer.focusOutside",bg,ib=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ob=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:l,onDismiss:d,...u}=t,h=p.useContext(ib),[f,g]=p.useState(null),x=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=p.useState({}),b=sn(e,k=>g(k)),_=Array.from(h.layers),[w]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),C=_.indexOf(w),N=f?_.indexOf(f):-1,S=h.layersWithOutsidePointerEventsDisabled.size>0,P=N>=C,T=$M(k=>{const R=k.target,O=[...h.branches].some(M=>M.contains(R));!P||O||(i==null||i(k),l==null||l(k),k.defaultPrevented||d==null||d())},x),A=VM(k=>{const R=k.target;[...h.branches].some(M=>M.contains(R))||(a==null||a(k),l==null||l(k),k.defaultPrevented||d==null||d())},x);return OM(k=>{N===h.layers.size-1&&(s==null||s(k),!k.defaultPrevented&&d&&(k.preventDefault(),d()))},x),p.useEffect(()=>{if(f)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(bg=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(f)),h.layers.add(f),wg(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=bg)}},[f,x,n,h]),p.useEffect(()=>()=>{f&&(h.layers.delete(f),h.layersWithOutsidePointerEventsDisabled.delete(f),wg())},[f,h]),p.useEffect(()=>{const k=()=>v({});return document.addEventListener(cu,k),()=>document.removeEventListener(cu,k)},[]),r.jsx(Dt.div,{...u,ref:b,style:{pointerEvents:S?P?"auto":"none":void 0,...t.style},onFocusCapture:Mt(t.onFocusCapture,A.onFocusCapture),onBlurCapture:Mt(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Mt(t.onPointerDownCapture,T.onPointerDownCapture)})});ob.displayName=IM;var FM="DismissableLayerBranch",zM=p.forwardRef((t,e)=>{const n=p.useContext(ib),s=p.useRef(null),i=sn(e,s);return p.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),r.jsx(Dt.div,{...t,ref:i})});zM.displayName=FM;function $M(t,e=globalThis==null?void 0:globalThis.document){const n=Zo(t),s=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const a=d=>{if(d.target&&!s.current){let u=function(){ab(DM,n,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);s.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function VM(t,e=globalThis==null?void 0:globalThis.document){const n=Zo(t),s=p.useRef(!1);return p.useEffect(()=>{const i=a=>{a.target&&!s.current&&ab(BM,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function wg(){const t=new CustomEvent(cu);document.dispatchEvent(t)}function ab(t,e,n,{discrete:s}){const i=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),s?MM(i,a):i.dispatchEvent(a)}var gn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},UM=vi[" useId ".trim().toString()]||(()=>{}),WM=0;function Gh(t){const[e,n]=p.useState(UM());return gn(()=>{n(s=>s??String(WM++))},[t]),e?`radix-${e}`:""}var HM="Arrow",lb=p.forwardRef((t,e)=>{const{children:n,width:s=10,height:i=5,...a}=t;return r.jsx(Dt.svg,{...a,ref:e,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});lb.displayName=HM;var ZM=lb;function GM(t){const[e,n]=p.useState(void 0);return gn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,d;if("borderBoxSize"in a){const u=a.borderBoxSize,h=Array.isArray(u)?u[0]:u;l=h.inlineSize,d=h.blockSize}else l=t.offsetWidth,d=t.offsetHeight;n({width:l,height:d})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var qh="Popper",[cb,db]=sb(qh),[qM,ub]=cb(qh),hb=t=>{const{__scopePopper:e,children:n}=t,[s,i]=p.useState(null);return r.jsx(qM,{scope:e,anchor:s,onAnchorChange:i,children:n})};hb.displayName=qh;var fb="PopperAnchor",mb=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...i}=t,a=ub(fb,n),l=p.useRef(null),d=sn(e,l);return p.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||l.current)}),s?null:r.jsx(Dt.div,{...i,ref:d})});mb.displayName=fb;var Kh="PopperContent",[KM,YM]=cb(Kh),pb=p.forwardRef((t,e)=>{var ne,pe,Ae,K,he,ce;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:a="center",alignOffset:l=0,arrowPadding:d=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:f=0,sticky:g="partial",hideWhenDetached:x=!1,updatePositionStrategy:v="optimized",onPlaced:b,..._}=t,w=ub(Kh,n),[C,N]=p.useState(null),S=sn(e,Ne=>N(Ne)),[P,T]=p.useState(null),A=GM(P),k=(A==null?void 0:A.width)??0,R=(A==null?void 0:A.height)??0,O=s+(a!=="center"?"-"+a:""),M=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},z=Array.isArray(h)?h:[h],F=z.length>0,B={padding:M,boundary:z.filter(JM),altBoundary:F},{refs:J,floatingStyles:ee,placement:X,isPositioned:oe,middlewareData:q}=Mg({strategy:"fixed",placement:O,whileElementsMounted:(...Ne)=>Vg(...Ne,{animationFrame:v==="always"}),elements:{reference:w.anchor},middleware:[Og({mainAxis:i+R,alignmentAxis:l}),u&&Ig({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?Dg():void 0,...B}),u&&Bg({...B}),Fg({...B,apply:({elements:Ne,rects:xe,availableWidth:Re,availableHeight:Fe})=>{const{width:We,height:ke}=xe.reference,Ge=Ne.floating.style;Ge.setProperty("--radix-popper-available-width",`${Re}px`),Ge.setProperty("--radix-popper-available-height",`${Fe}px`),Ge.setProperty("--radix-popper-anchor-width",`${We}px`),Ge.setProperty("--radix-popper-anchor-height",`${ke}px`)}}),P&&zg({element:P,padding:d}),QM({arrowWidth:k,arrowHeight:R}),x&&$g({strategy:"referenceHidden",...B})]}),[re,V]=vb(X),W=Zo(b);gn(()=>{oe&&(W==null||W())},[oe,W]);const G=(ne=q.arrow)==null?void 0:ne.x,$=(pe=q.arrow)==null?void 0:pe.y,U=((Ae=q.arrow)==null?void 0:Ae.centerOffset)!==0,[ye,_e]=p.useState();return gn(()=>{C&&_e(window.getComputedStyle(C).zIndex)},[C]),r.jsx("div",{ref:J.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:oe?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[(K=q.transformOrigin)==null?void 0:K.x,(he=q.transformOrigin)==null?void 0:he.y].join(" "),...((ce=q.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:r.jsx(KM,{scope:n,placedSide:re,onArrowChange:T,arrowX:G,arrowY:$,shouldHideArrow:U,children:r.jsx(Dt.div,{"data-side":re,"data-align":V,..._,ref:S,style:{..._.style,animation:oe?void 0:"none"}})})})});pb.displayName=Kh;var gb="PopperArrow",XM={top:"bottom",right:"left",bottom:"top",left:"right"},xb=p.forwardRef(function(e,n){const{__scopePopper:s,...i}=e,a=YM(gb,s),l=XM[a.placedSide];return r.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:r.jsx(ZM,{...i,ref:n,style:{...i.style,display:"block"}})})});xb.displayName=gb;function JM(t){return t!==null}var QM=t=>({name:"transformOrigin",options:t,fn(e){var w,C,N;const{placement:n,rects:s,middlewareData:i}=e,l=((w=i.arrow)==null?void 0:w.centerOffset)!==0,d=l?0:t.arrowWidth,u=l?0:t.arrowHeight,[h,f]=vb(n),g={start:"0%",center:"50%",end:"100%"}[f],x=(((C=i.arrow)==null?void 0:C.x)??0)+d/2,v=(((N=i.arrow)==null?void 0:N.y)??0)+u/2;let b="",_="";return h==="bottom"?(b=l?g:`${x}px`,_=`${-u}px`):h==="top"?(b=l?g:`${x}px`,_=`${s.floating.height+u}px`):h==="right"?(b=`${-u}px`,_=l?g:`${v}px`):h==="left"&&(b=`${s.floating.width+u}px`,_=l?g:`${v}px`),{data:{x:b,y:_}}}});function vb(t){const[e,n="center"]=t.split("-");return[e,n]}var e3=hb,t3=mb,n3=pb,s3=xb,r3="Portal",yb=p.forwardRef((t,e)=>{var d;const{container:n,...s}=t,[i,a]=p.useState(!1);gn(()=>a(!0),[]);const l=n||i&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return l?Cu.createPortal(r.jsx(Dt.div,{...s,ref:e}),l):null});yb.displayName=r3;var i3=vi[" useInsertionEffect ".trim().toString()]||gn;function jg({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[i,a,l]=o3({defaultProp:e,onChange:n}),d=t!==void 0,u=d?t:i;{const f=p.useRef(t!==void 0);p.useEffect(()=>{const g=f.current;g!==d&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=d},[d,s])}const h=p.useCallback(f=>{var g;if(d){const x=a3(f)?f(t):f;x!==t&&((g=l.current)==null||g.call(l,x))}else a(f)},[d,t,a,l]);return[u,h]}function o3({defaultProp:t,onChange:e}){const[n,s]=p.useState(t),i=p.useRef(n),a=p.useRef(e);return i3(()=>{a.current=e},[e]),p.useEffect(()=>{var l;i.current!==n&&((l=a.current)==null||l.call(a,n),i.current=n)},[n,i]),[n,s,a]}function a3(t){return typeof t=="function"}function _b(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var bb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),l3="VisuallyHidden",c3=p.forwardRef((t,e)=>r.jsx(Dt.span,{...t,ref:e,style:{...bb,...t.style}}));c3.displayName=l3;var d3=[" ","Enter","ArrowUp","ArrowDown"],u3=[" ","Enter"],kr="Select",[Zl,Gl,h3]=SS(kr),[Ci,c6]=sb(kr,[h3,db]),ql=db(),[f3,Xs]=Ci(kr),[m3,p3]=Ci(kr),wb=t=>{const{__scopeSelect:e,children:n,open:s,defaultOpen:i,onOpenChange:a,value:l,defaultValue:d,onValueChange:u,dir:h,name:f,autoComplete:g,disabled:x,required:v,form:b}=t,_=ql(e),[w,C]=p.useState(null),[N,S]=p.useState(null),[P,T]=p.useState(!1),A=PM(h),[k,R]=jg({prop:s,defaultProp:i??!1,onChange:a,caller:kr}),[O,M]=jg({prop:l,defaultProp:d,onChange:u,caller:kr}),z=p.useRef(null),F=w?b||!!w.closest("form"):!0,[B,J]=p.useState(new Set),ee=Array.from(B).map(X=>X.props.value).join(";");return r.jsx(e3,{..._,children:r.jsxs(f3,{required:v,scope:e,trigger:w,onTriggerChange:C,valueNode:N,onValueNodeChange:S,valueNodeHasChildren:P,onValueNodeHasChildrenChange:T,contentId:Gh(),value:O,onValueChange:M,open:k,onOpenChange:R,dir:A,triggerPointerDownPosRef:z,disabled:x,children:[r.jsx(Zl.Provider,{scope:e,children:r.jsx(m3,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(X=>{J(oe=>new Set(oe).add(X))},[]),onNativeOptionRemove:p.useCallback(X=>{J(oe=>{const q=new Set(oe);return q.delete(X),q})},[]),children:n})}),F?r.jsxs(Zb,{"aria-hidden":!0,required:v,tabIndex:-1,name:f,autoComplete:g,value:O,onChange:X=>M(X.target.value),disabled:x,form:b,children:[O===void 0?r.jsx("option",{value:""}):null,Array.from(B)]},ee):null]})})};wb.displayName=kr;var jb="SelectTrigger",Sb=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:s=!1,...i}=t,a=ql(n),l=Xs(jb,n),d=l.disabled||s,u=sn(e,l.onTriggerChange),h=Gl(n),f=p.useRef("touch"),[g,x,v]=qb(_=>{const w=h().filter(S=>!S.disabled),C=w.find(S=>S.value===l.value),N=Kb(w,_,C);N!==void 0&&l.onValueChange(N.value)}),b=_=>{d||(l.onOpenChange(!0),v()),_&&(l.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return r.jsx(t3,{asChild:!0,...a,children:r.jsx(Dt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":Gb(l.value)?"":void 0,...i,ref:u,onClick:Mt(i.onClick,_=>{_.currentTarget.focus(),f.current!=="mouse"&&b(_)}),onPointerDown:Mt(i.onPointerDown,_=>{f.current=_.pointerType;const w=_.target;w.hasPointerCapture(_.pointerId)&&w.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(b(_),_.preventDefault())}),onKeyDown:Mt(i.onKeyDown,_=>{const w=g.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&x(_.key),!(w&&_.key===" ")&&d3.includes(_.key)&&(b(),_.preventDefault())})})})});Sb.displayName=jb;var Nb="SelectValue",Cb=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:i,children:a,placeholder:l="",...d}=t,u=Xs(Nb,n),{onValueNodeHasChildrenChange:h}=u,f=a!==void 0,g=sn(e,u.onValueNodeChange);return gn(()=>{h(f)},[h,f]),r.jsx(Dt.span,{...d,ref:g,style:{pointerEvents:"none"},children:Gb(u.value)?r.jsx(r.Fragment,{children:l}):a})});Cb.displayName=Nb;var g3="SelectIcon",Pb=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:s,...i}=t;return r.jsx(Dt.span,{"aria-hidden":!0,...i,ref:e,children:s||""})});Pb.displayName=g3;var x3="SelectPortal",Tb=t=>r.jsx(yb,{asChild:!0,...t});Tb.displayName=x3;var Lr="SelectContent",Eb=p.forwardRef((t,e)=>{const n=Xs(Lr,t.__scopeSelect),[s,i]=p.useState();if(gn(()=>{i(new DocumentFragment)},[]),!n.open){const a=s;return a?xi.createPortal(r.jsx(Ab,{scope:t.__scopeSelect,children:r.jsx(Zl.Slot,{scope:t.__scopeSelect,children:r.jsx("div",{children:t.children})})}),a):null}return r.jsx(kb,{...t,ref:e})});Eb.displayName=Lr;var Zn=10,[Ab,Js]=Ci(Lr),v3="SelectContentImpl",y3=rb("SelectContent.RemoveScroll"),kb=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:l,side:d,sideOffset:u,align:h,alignOffset:f,arrowPadding:g,collisionBoundary:x,collisionPadding:v,sticky:b,hideWhenDetached:_,avoidCollisions:w,...C}=t,N=Xs(Lr,n),[S,P]=p.useState(null),[T,A]=p.useState(null),k=sn(e,ne=>P(ne)),[R,O]=p.useState(null),[M,z]=p.useState(null),F=Gl(n),[B,J]=p.useState(!1),ee=p.useRef(!1);p.useEffect(()=>{if(S)return NS(S)},[S]),CS();const X=p.useCallback(ne=>{const[pe,...Ae]=F().map(ce=>ce.ref.current),[K]=Ae.slice(-1),he=document.activeElement;for(const ce of ne)if(ce===he||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===pe&&T&&(T.scrollTop=0),ce===K&&T&&(T.scrollTop=T.scrollHeight),ce==null||ce.focus(),document.activeElement!==he))return},[F,T]),oe=p.useCallback(()=>X([R,S]),[X,R,S]);p.useEffect(()=>{B&&oe()},[B,oe]);const{onOpenChange:q,triggerPointerDownPosRef:re}=N;p.useEffect(()=>{if(S){let ne={x:0,y:0};const pe=K=>{var he,ce;ne={x:Math.abs(Math.round(K.pageX)-(((he=re.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(K.pageY)-(((ce=re.current)==null?void 0:ce.y)??0))}},Ae=K=>{ne.x<=10&&ne.y<=10?K.preventDefault():S.contains(K.target)||q(!1),document.removeEventListener("pointermove",pe),re.current=null};return re.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",Ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",Ae,{capture:!0})}}},[S,q,re]),p.useEffect(()=>{const ne=()=>q(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[q]);const[V,W]=qb(ne=>{const pe=F().filter(he=>!he.disabled),Ae=pe.find(he=>he.ref.current===document.activeElement),K=Kb(pe,ne,Ae);K&&setTimeout(()=>K.ref.current.focus())}),G=p.useCallback((ne,pe,Ae)=>{const K=!ee.current&&!Ae;(N.value!==void 0&&N.value===pe||K)&&(O(ne),K&&(ee.current=!0))},[N.value]),$=p.useCallback(()=>S==null?void 0:S.focus(),[S]),U=p.useCallback((ne,pe,Ae)=>{const K=!ee.current&&!Ae;(N.value!==void 0&&N.value===pe||K)&&z(ne)},[N.value]),ye=s==="popper"?du:Lb,_e=ye===du?{side:d,sideOffset:u,align:h,alignOffset:f,arrowPadding:g,collisionBoundary:x,collisionPadding:v,sticky:b,hideWhenDetached:_,avoidCollisions:w}:{};return r.jsx(Ab,{scope:n,content:S,viewport:T,onViewportChange:A,itemRefCallback:G,selectedItem:R,onItemLeave:$,itemTextRefCallback:U,focusSelectedItem:oe,selectedItemText:M,position:s,isPositioned:B,searchRef:V,children:r.jsx(PS,{as:y3,allowPinchZoom:!0,children:r.jsx(TS,{asChild:!0,trapped:N.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:Mt(i,ne=>{var pe;(pe=N.trigger)==null||pe.focus({preventScroll:!0}),ne.preventDefault()}),children:r.jsx(ob,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:r.jsx(ye,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:ne=>ne.preventDefault(),...C,..._e,onPlaced:()=>J(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:Mt(C.onKeyDown,ne=>{const pe=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!pe&&ne.key.length===1&&W(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let K=F().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(K=K.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const he=ne.target,ce=K.indexOf(he);K=K.slice(ce+1)}setTimeout(()=>X(K)),ne.preventDefault()}})})})})})})});kb.displayName=v3;var _3="SelectItemAlignedPosition",Lb=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:s,...i}=t,a=Xs(Lr,n),l=Js(Lr,n),[d,u]=p.useState(null),[h,f]=p.useState(null),g=sn(e,k=>f(k)),x=Gl(n),v=p.useRef(!1),b=p.useRef(!0),{viewport:_,selectedItem:w,selectedItemText:C,focusSelectedItem:N}=l,S=p.useCallback(()=>{if(a.trigger&&a.valueNode&&d&&h&&_&&w&&C){const k=a.trigger.getBoundingClientRect(),R=h.getBoundingClientRect(),O=a.valueNode.getBoundingClientRect(),M=C.getBoundingClientRect();if(a.dir!=="rtl"){const he=M.left-R.left,ce=O.left-he,Ne=k.left-ce,xe=k.width+Ne,Re=Math.max(xe,R.width),Fe=window.innerWidth-Zn,We=yg(ce,[Zn,Math.max(Zn,Fe-Re)]);d.style.minWidth=xe+"px",d.style.left=We+"px"}else{const he=R.right-M.right,ce=window.innerWidth-O.right-he,Ne=window.innerWidth-k.right-ce,xe=k.width+Ne,Re=Math.max(xe,R.width),Fe=window.innerWidth-Zn,We=yg(ce,[Zn,Math.max(Zn,Fe-Re)]);d.style.minWidth=xe+"px",d.style.right=We+"px"}const z=x(),F=window.innerHeight-Zn*2,B=_.scrollHeight,J=window.getComputedStyle(h),ee=parseInt(J.borderTopWidth,10),X=parseInt(J.paddingTop,10),oe=parseInt(J.borderBottomWidth,10),q=parseInt(J.paddingBottom,10),re=ee+X+B+q+oe,V=Math.min(w.offsetHeight*5,re),W=window.getComputedStyle(_),G=parseInt(W.paddingTop,10),$=parseInt(W.paddingBottom,10),U=k.top+k.height/2-Zn,ye=F-U,_e=w.offsetHeight/2,ne=w.offsetTop+_e,pe=ee+X+ne,Ae=re-pe;if(pe<=U){const he=z.length>0&&w===z[z.length-1].ref.current;d.style.bottom="0px";const ce=h.clientHeight-_.offsetTop-_.offsetHeight,Ne=Math.max(ye,_e+(he?$:0)+ce+oe),xe=pe+Ne;d.style.height=xe+"px"}else{const he=z.length>0&&w===z[0].ref.current;d.style.top="0px";const Ne=Math.max(U,ee+_.offsetTop+(he?G:0)+_e)+Ae;d.style.height=Ne+"px",_.scrollTop=pe-U+_.offsetTop}d.style.margin=`${Zn}px 0`,d.style.minHeight=V+"px",d.style.maxHeight=F+"px",s==null||s(),requestAnimationFrame(()=>v.current=!0)}},[x,a.trigger,a.valueNode,d,h,_,w,C,a.dir,s]);gn(()=>S(),[S]);const[P,T]=p.useState();gn(()=>{h&&T(window.getComputedStyle(h).zIndex)},[h]);const A=p.useCallback(k=>{k&&b.current===!0&&(S(),N==null||N(),b.current=!1)},[S,N]);return r.jsx(w3,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:v,onScrollButtonChange:A,children:r.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:r.jsx(Dt.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Lb.displayName=_3;var b3="SelectPopperPosition",du=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=Zn,...a}=t,l=ql(n);return r.jsx(n3,{...l,...a,ref:e,align:s,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});du.displayName=b3;var[w3,Yh]=Ci(Lr,{}),uu="SelectViewport",Rb=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:s,...i}=t,a=Js(uu,n),l=Yh(uu,n),d=sn(e,a.onViewportChange),u=p.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(Zl.Slot,{scope:n,children:r.jsx(Dt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Mt(i.onScroll,h=>{const f=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:x}=l;if(x!=null&&x.current&&g){const v=Math.abs(u.current-f.scrollTop);if(v>0){const b=window.innerHeight-Zn*2,_=parseFloat(g.style.minHeight),w=parseFloat(g.style.height),C=Math.max(_,w);if(C<b){const N=C+v,S=Math.min(b,N),P=N-S;g.style.height=S+"px",g.style.bottom==="0px"&&(f.scrollTop=P>0?P:0,g.style.justifyContent="flex-end")}}}u.current=f.scrollTop})})})]})});Rb.displayName=uu;var Mb="SelectGroup",[j3,S3]=Ci(Mb),N3=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,i=Gh();return r.jsx(j3,{scope:n,id:i,children:r.jsx(Dt.div,{role:"group","aria-labelledby":i,...s,ref:e})})});N3.displayName=Mb;var Ob="SelectLabel",Ib=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,i=S3(Ob,n);return r.jsx(Dt.div,{id:i.id,...s,ref:e})});Ib.displayName=Ob;var gl="SelectItem",[C3,Db]=Ci(gl),Bb=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:a,...l}=t,d=Xs(gl,n),u=Js(gl,n),h=d.value===s,[f,g]=p.useState(a??""),[x,v]=p.useState(!1),b=sn(e,N=>{var S;return(S=u.itemRefCallback)==null?void 0:S.call(u,N,s,i)}),_=Gh(),w=p.useRef("touch"),C=()=>{i||(d.onValueChange(s),d.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(C3,{scope:n,value:s,disabled:i,textId:_,isSelected:h,onItemTextChange:p.useCallback(N=>{g(S=>S||((N==null?void 0:N.textContent)??"").trim())},[]),children:r.jsx(Zl.ItemSlot,{scope:n,value:s,disabled:i,textValue:f,children:r.jsx(Dt.div,{role:"option","aria-labelledby":_,"data-highlighted":x?"":void 0,"aria-selected":h&&x,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:b,onFocus:Mt(l.onFocus,()=>v(!0)),onBlur:Mt(l.onBlur,()=>v(!1)),onClick:Mt(l.onClick,()=>{w.current!=="mouse"&&C()}),onPointerUp:Mt(l.onPointerUp,()=>{w.current==="mouse"&&C()}),onPointerDown:Mt(l.onPointerDown,N=>{w.current=N.pointerType}),onPointerMove:Mt(l.onPointerMove,N=>{var S;w.current=N.pointerType,i?(S=u.onItemLeave)==null||S.call(u):w.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Mt(l.onPointerLeave,N=>{var S;N.currentTarget===document.activeElement&&((S=u.onItemLeave)==null||S.call(u))}),onKeyDown:Mt(l.onKeyDown,N=>{var P;((P=u.searchRef)==null?void 0:P.current)!==""&&N.key===" "||(u3.includes(N.key)&&C(),N.key===" "&&N.preventDefault())})})})})});Bb.displayName=gl;var io="SelectItemText",Fb=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:i,...a}=t,l=Xs(io,n),d=Js(io,n),u=Db(io,n),h=p3(io,n),[f,g]=p.useState(null),x=sn(e,C=>g(C),u.onItemTextChange,C=>{var N;return(N=d.itemTextRefCallback)==null?void 0:N.call(d,C,u.value,u.disabled)}),v=f==null?void 0:f.textContent,b=p.useMemo(()=>r.jsx("option",{value:u.value,disabled:u.disabled,children:v},u.value),[u.disabled,u.value,v]),{onNativeOptionAdd:_,onNativeOptionRemove:w}=h;return gn(()=>(_(b),()=>w(b)),[_,w,b]),r.jsxs(r.Fragment,{children:[r.jsx(Dt.span,{id:u.textId,...a,ref:x}),u.isSelected&&l.valueNode&&!l.valueNodeHasChildren?xi.createPortal(a.children,l.valueNode):null]})});Fb.displayName=io;var zb="SelectItemIndicator",$b=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return Db(zb,n).isSelected?r.jsx(Dt.span,{"aria-hidden":!0,...s,ref:e}):null});$b.displayName=zb;var hu="SelectScrollUpButton",Vb=p.forwardRef((t,e)=>{const n=Js(hu,t.__scopeSelect),s=Yh(hu,t.__scopeSelect),[i,a]=p.useState(!1),l=sn(e,s.onScrollButtonChange);return gn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const h=u.scrollTop>0;a(h)};const u=n.viewport;return d(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?r.jsx(Wb,{...t,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:u}=n;d&&u&&(d.scrollTop=d.scrollTop-u.offsetHeight)}}):null});Vb.displayName=hu;var fu="SelectScrollDownButton",Ub=p.forwardRef((t,e)=>{const n=Js(fu,t.__scopeSelect),s=Yh(fu,t.__scopeSelect),[i,a]=p.useState(!1),l=sn(e,s.onScrollButtonChange);return gn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const h=u.scrollHeight-u.clientHeight,f=Math.ceil(u.scrollTop)<h;a(f)};const u=n.viewport;return d(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?r.jsx(Wb,{...t,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:u}=n;d&&u&&(d.scrollTop=d.scrollTop+u.offsetHeight)}}):null});Ub.displayName=fu;var Wb=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=t,a=Js("SelectScrollButton",n),l=p.useRef(null),d=Gl(n),u=p.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return p.useEffect(()=>()=>u(),[u]),gn(()=>{var f;const h=d().find(g=>g.ref.current===document.activeElement);(f=h==null?void 0:h.ref.current)==null||f.scrollIntoView({block:"nearest"})},[d]),r.jsx(Dt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Mt(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(s,50))}),onPointerMove:Mt(i.onPointerMove,()=>{var h;(h=a.onItemLeave)==null||h.call(a),l.current===null&&(l.current=window.setInterval(s,50))}),onPointerLeave:Mt(i.onPointerLeave,()=>{u()})})}),P3="SelectSeparator",Hb=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return r.jsx(Dt.div,{"aria-hidden":!0,...s,ref:e})});Hb.displayName=P3;var mu="SelectArrow",T3=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,i=ql(n),a=Xs(mu,n),l=Js(mu,n);return a.open&&l.position==="popper"?r.jsx(s3,{...i,...s,ref:e}):null});T3.displayName=mu;var E3="SelectBubbleInput",Zb=p.forwardRef(({__scopeSelect:t,value:e,...n},s)=>{const i=p.useRef(null),a=sn(s,i),l=_b(e);return p.useEffect(()=>{const d=i.current;if(!d)return;const u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==e&&f){const g=new Event("change",{bubbles:!0});f.call(d,e),d.dispatchEvent(g)}},[l,e]),r.jsx(Dt.select,{...n,style:{...bb,...n.style},ref:a,defaultValue:e})});Zb.displayName=E3;function Gb(t){return t===""||t===void 0}function qb(t){const e=Zo(t),n=p.useRef(""),s=p.useRef(0),i=p.useCallback(l=>{const d=n.current+l;e(d),function u(h){n.current=h,window.clearTimeout(s.current),h!==""&&(s.current=window.setTimeout(()=>u(""),1e3))}(d)},[e]),a=p.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,a]}function Kb(t,e,n){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let l=A3(t,Math.max(a,0));i.length===1&&(l=l.filter(h=>h!==n));const u=l.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function A3(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var k3=wb,Yb=Sb,L3=Cb,R3=Pb,M3=Tb,Xb=Eb,O3=Rb,Jb=Ib,Qb=Bb,I3=Fb,D3=$b,ew=Vb,tw=Ub,nw=Hb;const ns=k3,ss=L3,Gn=p.forwardRef(({className:t,children:e,...n},s)=>r.jsxs(Yb,{ref:s,className:De("flex h-10 w-full items-center justify-between rounded-md border border-input  px-3 py-2 text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ",t),...n,children:[e,r.jsx(R3,{asChild:!0,children:r.jsx(ju,{className:"h-4 w-4  opacity-50"})})]}));Gn.displayName=Yb.displayName;const sw=p.forwardRef(({className:t,...e},n)=>r.jsx(ew,{ref:n,className:De("flex cursor-default items-center justify-center py-1",t),...e,children:r.jsx(Gg,{className:"h-4 w-4"})}));sw.displayName=ew.displayName;const rw=p.forwardRef(({className:t,...e},n)=>r.jsx(tw,{ref:n,className:De("flex cursor-default items-center justify-center py-1",t),...e,children:r.jsx(ju,{className:"h-4 w-4"})}));rw.displayName=tw.displayName;const qn=p.forwardRef(({className:t,children:e,position:n="popper",...s},i)=>r.jsx(M3,{children:r.jsxs(Xb,{ref:i,className:De("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[r.jsx(sw,{}),r.jsx(O3,{className:De("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),r.jsx(rw,{})]})}));qn.displayName=Xb.displayName;const B3=p.forwardRef(({className:t,...e},n)=>r.jsx(Jb,{ref:n,className:De("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));B3.displayName=Jb.displayName;const Ie=p.forwardRef(({className:t,children:e,...n},s)=>r.jsxs(Qb,{ref:s,className:De("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-white/10 hover:bg-white/10 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(D3,{children:r.jsx(cx,{className:"h-4 w-4"})})}),r.jsx(I3,{children:e})]}));Ie.displayName=Qb.displayName;const F3=p.forwardRef(({className:t,...e},n)=>r.jsx(nw,{ref:n,className:De("-mx-1 my-1 h-px bg-muted",t),...e}));F3.displayName=nw.displayName;function z3(t,e=[]){let n=[];function s(a,l){const d=p.createContext(l),u=n.length;n=[...n,l];const h=g=>{var C;const{scope:x,children:v,...b}=g,_=((C=x==null?void 0:x[t])==null?void 0:C[u])||d,w=p.useMemo(()=>b,Object.values(b));return r.jsx(_.Provider,{value:w,children:v})};h.displayName=a+"Provider";function f(g,x){var _;const v=((_=x==null?void 0:x[t])==null?void 0:_[u])||d,b=p.useContext(v);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[h,f]}const i=()=>{const a=n.map(l=>p.createContext(l));return function(d){const u=(d==null?void 0:d[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...d,[t]:u}}),[d,u])}};return i.scopeName=t,[s,$3(i,...e)]}function $3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=s.reduce((d,{useScope:u,scopeName:h})=>{const g=u(a)[`__scope${h}`];return{...d,...g}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function Sg(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function V3(...t){return e=>{let n=!1;const s=t.map(i=>{const a=Sg(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():Sg(t[i],null)}}}}function U3(t){const e=W3(t),n=p.forwardRef((s,i)=>{const{children:a,...l}=s,d=p.Children.toArray(a),u=d.find(Z3);if(u){const h=u.props.children,f=d.map(g=>g===u?p.Children.count(h)>1?p.Children.only(null):p.isValidElement(h)?h.props.children:null:g);return r.jsx(e,{...l,ref:i,children:p.isValidElement(h)?p.cloneElement(h,void 0,f):null})}return r.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function W3(t){const e=p.forwardRef((n,s)=>{const{children:i,...a}=n;if(p.isValidElement(i)){const l=q3(i),d=G3(a,i.props);return i.type!==p.Fragment&&(d.ref=s?V3(s,l):l),p.cloneElement(i,d)}return p.Children.count(i)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var H3=Symbol("radix.slottable");function Z3(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===H3}function G3(t,e){const n={...e};for(const s in e){const i=t[s],a=e[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...d)=>{const u=a(...d);return i(...d),u}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function q3(t){var s,i;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var K3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],iw=K3.reduce((t,e)=>{const n=U3(`Primitive.${e}`),s=p.forwardRef((i,a)=>{const{asChild:l,...d}=i,u=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(u,{...d,ref:a})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{}),Xh="Progress",Jh=100,[Y3,d6]=z3(Xh),[X3,J3]=Y3(Xh),ow=p.forwardRef((t,e)=>{const{__scopeProgress:n,value:s=null,max:i,getValueLabel:a=Q3,...l}=t;(i||i===0)&&!Ng(i)&&console.error(eO(`${i}`,"Progress"));const d=Ng(i)?i:Jh;s!==null&&!Cg(s,d)&&console.error(tO(`${s}`,"Progress"));const u=Cg(s,d)?s:null,h=xl(u)?a(u,d):void 0;return r.jsx(X3,{scope:n,value:u,max:d,children:r.jsx(iw.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":xl(u)?u:void 0,"aria-valuetext":h,role:"progressbar","data-state":cw(u,d),"data-value":u??void 0,"data-max":d,...l,ref:e})})});ow.displayName=Xh;var aw="ProgressIndicator",lw=p.forwardRef((t,e)=>{const{__scopeProgress:n,...s}=t,i=J3(aw,n);return r.jsx(iw.div,{"data-state":cw(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...s,ref:e})});lw.displayName=aw;function Q3(t,e){return`${Math.round(t/e*100)}%`}function cw(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function xl(t){return typeof t=="number"}function Ng(t){return xl(t)&&!isNaN(t)&&t>0}function Cg(t,e){return xl(t)&&!isNaN(t)&&t<=e&&t>=0}function eO(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Jh}\`.`}function tO(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Jh} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var dw=ow,nO=lw;const pu=p.forwardRef(({className:t,value:e,...n},s)=>r.jsx(dw,{ref:s,className:De("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:r.jsx(nO,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));pu.displayName=dw.displayName;function sO(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Pg(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function rO(...t){return e=>{let n=!1;const s=t.map(i=>{const a=Pg(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():Pg(t[i],null)}}}}function Qh(...t){return p.useCallback(rO(...t),t)}function iO(t,e=[]){let n=[];function s(a,l){const d=p.createContext(l),u=n.length;n=[...n,l];const h=g=>{var C;const{scope:x,children:v,...b}=g,_=((C=x==null?void 0:x[t])==null?void 0:C[u])||d,w=p.useMemo(()=>b,Object.values(b));return r.jsx(_.Provider,{value:w,children:v})};h.displayName=a+"Provider";function f(g,x){var _;const v=((_=x==null?void 0:x[t])==null?void 0:_[u])||d,b=p.useContext(v);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[h,f]}const i=()=>{const a=n.map(l=>p.createContext(l));return function(d){const u=(d==null?void 0:d[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...d,[t]:u}}),[d,u])}};return i.scopeName=t,[s,oO(i,...e)]}function oO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=s.reduce((d,{useScope:u,scopeName:h})=>{const g=u(a)[`__scope${h}`];return{...d,...g}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}var uw=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},aO=vi[" useInsertionEffect ".trim().toString()]||uw;function lO({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[i,a,l]=cO({defaultProp:e,onChange:n}),d=t!==void 0,u=d?t:i;{const f=p.useRef(t!==void 0);p.useEffect(()=>{const g=f.current;g!==d&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=d},[d,s])}const h=p.useCallback(f=>{var g;if(d){const x=dO(f)?f(t):f;x!==t&&((g=l.current)==null||g.call(l,x))}else a(f)},[d,t,a,l]);return[u,h]}function cO({defaultProp:t,onChange:e}){const[n,s]=p.useState(t),i=p.useRef(n),a=p.useRef(e);return aO(()=>{a.current=e},[e]),p.useEffect(()=>{var l;i.current!==n&&((l=a.current)==null||l.call(a,n),i.current=n)},[n,i]),[n,s,a]}function dO(t){return typeof t=="function"}function uO(t){const[e,n]=p.useState(void 0);return uw(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,d;if("borderBoxSize"in a){const u=a.borderBoxSize,h=Array.isArray(u)?u[0]:u;l=h.inlineSize,d=h.blockSize}else l=t.offsetWidth,d=t.offsetHeight;n({width:l,height:d})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}function hO(t){const e=fO(t),n=p.forwardRef((s,i)=>{const{children:a,...l}=s,d=p.Children.toArray(a),u=d.find(pO);if(u){const h=u.props.children,f=d.map(g=>g===u?p.Children.count(h)>1?p.Children.only(null):p.isValidElement(h)?h.props.children:null:g);return r.jsx(e,{...l,ref:i,children:p.isValidElement(h)?p.cloneElement(h,void 0,f):null})}return r.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function fO(t){const e=p.forwardRef((n,s)=>{const{children:i,...a}=n,l=p.isValidElement(i)?xO(i):void 0,d=Qh(l,s);if(p.isValidElement(i)){const u=gO(a,i.props);return i.type!==p.Fragment&&(u.ref=d),p.cloneElement(i,u)}return p.Children.count(i)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var mO=Symbol("radix.slottable");function pO(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mO}function gO(t,e){const n={...e};for(const s in e){const i=t[s],a=e[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...d)=>{const u=a(...d);return i(...d),u}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function xO(t){var s,i;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var vO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],hw=vO.reduce((t,e)=>{const n=hO(`Primitive.${e}`),s=p.forwardRef((i,a)=>{const{asChild:l,...d}=i,u=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(u,{...d,ref:a})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{}),Kl="Switch",[yO,u6]=iO(Kl),[_O,bO]=yO(Kl),fw=p.forwardRef((t,e)=>{const{__scopeSwitch:n,name:s,checked:i,defaultChecked:a,required:l,disabled:d,value:u="on",onCheckedChange:h,form:f,...g}=t,[x,v]=p.useState(null),b=Qh(e,S=>v(S)),_=p.useRef(!1),w=x?f||!!x.closest("form"):!0,[C,N]=lO({prop:i,defaultProp:a??!1,onChange:h,caller:Kl});return r.jsxs(_O,{scope:n,checked:C,disabled:d,children:[r.jsx(hw.button,{type:"button",role:"switch","aria-checked":C,"aria-required":l,"data-state":xw(C),"data-disabled":d?"":void 0,disabled:d,value:u,...g,ref:b,onClick:sO(t.onClick,S=>{N(P=>!P),w&&(_.current=S.isPropagationStopped(),_.current||S.stopPropagation())})}),w&&r.jsx(gw,{control:x,bubbles:!_.current,name:s,value:u,checked:C,required:l,disabled:d,form:f,style:{transform:"translateX(-100%)"}})]})});fw.displayName=Kl;var mw="SwitchThumb",pw=p.forwardRef((t,e)=>{const{__scopeSwitch:n,...s}=t,i=bO(mw,n);return r.jsx(hw.span,{"data-state":xw(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})});pw.displayName=mw;var wO="SwitchBubbleInput",gw=p.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:s=!0,...i},a)=>{const l=p.useRef(null),d=Qh(l,a),u=_b(n),h=uO(e);return p.useEffect(()=>{const f=l.current;if(!f)return;const g=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(g,"checked").set;if(u!==n&&v){const b=new Event("click",{bubbles:s});v.call(f,n),f.dispatchEvent(b)}},[u,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:d,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});gw.displayName=wO;function xw(t){return t?"checked":"unchecked"}var vw=fw,jO=pw;const SO=p.forwardRef(({className:t,...e},n)=>r.jsx(vw,{className:De("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:r.jsx(jO,{className:De("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));SO.displayName=vw.displayName;const NO=()=>{const[t,e]=p.useState("image"),[n,s]=p.useState(!1),[i,a]=p.useState(0),[l,d]=p.useState([]),[u,h]=p.useState(""),[f,g]=p.useState(!1),[x,v]=p.useState(""),[b,_]=p.useState([]),[w,C]=p.useState([]),[N,S]=p.useState(null),[P,T]=p.useState([]),[A,k]=p.useState(!1),[R,O]=p.useState(0),M=p.useRef(null),[z,F]=p.useState(!1),[B,J]=p.useState({product_name:"",product_description:"",target_audience:"",ad_goal:"",brand_colors:"",style:"modern",dimensions:"1080x1080",duration:"15",voice_over:"",music_style:"",video_style:"",quantity:1,add_text_overlay:!1,custom_text:"",call_to_action:"",logo_position:"bottom-right",enhance_quality:!0,use_uploaded_assets:!1,color_scheme:"auto",mood:"professional",language:"english",animation_style:"smooth",background_music:!1,voice_gender:"neutral"});p.useEffect(()=>{oe(),l.length===0&&ee(),X()},[]);const ee=async()=>{try{const he=(await Ce.get("/api/marketing-ads/history")).data.ads.filter(ce=>ce.status==="completed"&&ce.type==="video"&&ce.assets&&ce.assets.length>0);if(he.length>0){const ce=he[0];console.log(" Auto-loading most recent completed video:",ce.assets),d(ce.assets)}}catch(K){console.error("Error loading recent video:",K)}},X=async()=>{try{const K=localStorage.getItem("current_generation");if(K){const{adId:he,contentType:ce,startTime:Ne}=JSON.parse(K);if(Date.now()-Ne<15*60*1e3){console.log(" Resuming ongoing generation:",he),e(ce),s(!0),S(he);const Re=await Ce.get(`/api/marketing-ads/status/${he}`),{status:Fe,assets:We}=Re.data;Fe==="completed"?(d(We),s(!1),localStorage.removeItem("current_generation"),ie.success(` Your ${ce} generation completed while you were away!`)):Fe==="generating"?ne(he,300):localStorage.removeItem("current_generation")}else localStorage.removeItem("current_generation")}}catch(K){console.error("Error resuming generation:",K),localStorage.removeItem("current_generation")}},oe=async()=>{try{const K=await Ce.get("/api/marketing-ads/history");C(K.data.ads)}catch(K){console.error("Error loading history:",K)}},q=K=>{K.preventDefault(),K.stopPropagation(),K.type==="dragenter"||K.type==="dragover"?F(!0):K.type==="dragleave"&&F(!1)},re=K=>{K.preventDefault(),K.stopPropagation(),F(!1);const he=Array.from(K.dataTransfer.files);W(he)},V=K=>{const he=Array.from(K.target.files);W(he)},W=async K=>{const he=K.filter(ce=>{const Ne=ce.type.startsWith("image/"),xe=ce.type.startsWith("video/"),Re=xe?100*1024*1024:10*1024*1024;return!Ne&&!xe?(ie.error(`${ce.name} is not a valid image or video file`),!1):ce.size>Re?(ie.error(`${ce.name} is too large. Max size: ${xe?"100MB":"10MB"}`),!1):!0});if(he.length!==0){k(!0),O(0);try{const ce=he.map(async(xe,Re)=>{const Fe=new FormData;Fe.append("file",xe),Fe.append("purpose","marketing-asset"),Fe.append("metadata",JSON.stringify({originalName:xe.name,type:xe.type.startsWith("image/")?"image":"video",size:xe.size}));const We=await Ce.post("/api/files/upload",Fe,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:ke=>{const Ge=Math.round(ke.loaded*100/ke.total);O(Ke=>Math.max(Ke,(Re+Ge/100)/he.length*100))}});return{id:We.data.file.id,url:We.data.file.url,name:xe.name,type:xe.type.startsWith("image/")?"image":"video",size:xe.size,preview:xe.type.startsWith("image/")?URL.createObjectURL(xe):null}}),Ne=await Promise.all(ce);T(xe=>[...xe,...Ne]),ie.success(`${Ne.length} file(s) uploaded successfully!`)}catch(ce){console.error("Upload error:",ce),ie.error("Failed to upload files")}finally{k(!1),O(0)}}},G=K=>{T(he=>he.filter((ce,Ne)=>Ne!==K))},$=(K,he)=>{J(ce=>({...ce,[K]:he}))},U=K=>{e(K),h(""),d([])},ye=async()=>{if(!B.product_name||!B.product_description){ie.error("Please fill in product name and description");return}s(!0),a(0),d([]),_([]);try{console.log(" Generating Holo.ai-style variations...");const K=await Ce.post("/api/marketing-ads/generate-variations",{product_name:B.product_name,product_description:B.product_description,target_audience:B.target_audience,ad_goal:B.ad_goal,style:B.style,dimensions:B.dimensions,quantity:3,brand_website:x});K.data.success&&(_(K.data.data),ie.success(`Generated ${K.data.data.length} marketing variations!`))}catch(K){console.error(" Error generating variations:",K),ie.error("Failed to generate marketing variations")}finally{s(!1),a(0)}},_e=async()=>{var ce,Ne,xe,Re,Fe,We;if(!B.product_name||!B.product_description){ie.error("Please fill in required fields");return}const K=gt.getItem("token")||gt.getItem("authToken")||localStorage.getItem("token");console.log(" Debug - Token exists:",!!K),console.log(" Debug - Token preview:",K?String(K).substring(0,20)+"...":"null"),s(!0),a(0),d([]);const he=pe(B,t);h(he);try{const ke={product_name:B.product_name,product_description:B.product_description,target_audience:B.target_audience,ad_goal:B.ad_goal,brand_colors:B.brand_colors,style:B.style,dimensions:B.dimensions,type:t,quantity:t==="video"?1:B.quantity,use_uploaded_assets:B.use_uploaded_assets,enhance_quality:B.enhance_quality,add_text_overlay:B.add_text_overlay,custom_text:B.custom_text,logo_position:B.logo_position,color_scheme:B.color_scheme,mood:B.mood,call_to_action:B.call_to_action,language:B.language,uploaded_assets:P.map(Ke=>({id:Ke.id,url:Ke.url,type:Ke.type}))};t==="video"&&(ke.duration=B.duration,ke.voice_over=B.voice_over,ke.music_style=B.music_style,ke.video_style=B.video_style,ke.animation_style=B.animation_style,ke.background_music=B.background_music,ke.voice_gender=B.voice_gender),console.log(" Sending generation request with data:",ke);const Ge=await Ce.post("/api/marketing-ads/generate",ke);console.log(" Generation request successful:",Ge.data),S(Ge.data.ad_id),localStorage.setItem("current_generation",JSON.stringify({adId:Ge.data.ad_id,contentType:t,startTime:Date.now()})),ne(Ge.data.ad_id,Ge.data.estimated_time),ie.success("Advanced AI generation started! This will be amazing...")}catch(ke){console.error(" Generation error:",ke),console.error(" Error response:",(ce=ke.response)==null?void 0:ce.data),console.error(" Error status:",(Ne=ke.response)==null?void 0:Ne.status),s(!1),((xe=ke.response)==null?void 0:xe.status)===403?ie.error("Authentication failed. Please log in again."):((Re=ke.response)==null?void 0:Re.status)===401?ie.error("Session expired. Please log in again."):(We=(Fe=ke.response)==null?void 0:Fe.data)!=null&&We.message?ie.error(`Generation failed: ${ke.response.data.message}`):ie.error("Failed to start generation. Please try again.")}},ne=async(K,he)=>{const Ne=t==="video"?80:40,xe=Math.ceil(he/(3e3/1e3))+Ne;let Re=0;const Fe=async()=>{try{const We=await Ce.get(`/api/marketing-ads/status/${K}`),{status:ke,assets:Ge,progress_details:Ke}=We.data,st=(Ke==null?void 0:Ke.overall_progress)||Math.min(Re/xe*100,95);if(a(st),ke==="completed"){console.log(" Video generation completed!",{assets:Ge,contentType:t}),a(100),d(Ge),s(!1),localStorage.removeItem("current_generation"),oe(),ie.success(` Generated ${Ge.length} premium ${t}(s)!`);return}else if(ke==="failed"){s(!1),ie.error("Generation failed");return}Re++,Re<xe?setTimeout(Fe,3e3):(s(!1),ie.error("Generation timeout"))}catch{s(!1),ie.error("Error checking status")}};Fe()},pe=(K,he)=>{const{product_name:ce,product_description:Ne,target_audience:xe,ad_goal:Re,brand_colors:Fe,style:We,dimensions:ke,mood:Ge,call_to_action:Ke,custom_text:st,add_text_overlay:rn,enhance_quality:nt,logo_position:dt,color_scheme:rt,animation_style:jt,voice_over:ut,music_style:Ct,video_style:de,duration:Le,voice_gender:Qe,language:Xe,use_uploaded_assets:pt,background_music:ot}=K;let ge=` HOLO.AI MARKETING INTELLIGENCE PROMPT

`;ge+=` PRODUCT DETAILS:
`,ge+=` Product Name: "${ce}"
`,ge+=` Description: ${Ne}
`,ge+=` Content Type: ${he==="video"?"Marketing Video Advertisement":"Marketing Image Advertisement"}

`,ge+=` AUDIENCE & PSYCHOLOGY:
`,xe&&(ge+=` Target Audience: ${xe}
`),Re&&(ge+=` Marketing Goal: ${Re}
`,ge+=` Conversion Focus: Drive ${Re} through emotional engagement
`,ge+=` Psychology Triggers: ${{awareness:"Curiosity, Interest, Brand Recognition",leads:"Urgency, Value Proposition, FOMO",sales:"Trust, Social Proof, Scarcity",engagement:"Entertainment, Relatability, Shareability"}[Re]||"Trust, Quality, Value"}
`),ge+=`
`,ge+=` VISUAL IDENTITY:
`;const Q={modern:"sleek, contemporary, minimalist design with clean lines and professional marketing composition",classic:"timeless, elegant, sophisticated with traditional elements and premium advertising aesthetic",bold:"striking, vibrant, attention-grabbing with strong contrasts and high-impact marketing visuals",minimalist:"clean, simple, uncluttered with plenty of white space and conversion-focused layout",luxury:"premium, high-end, sophisticated with gold accents and exclusive marketing appeal",playful:"fun, colorful, energetic with dynamic elements and engaging marketing personality",corporate:"professional, trustworthy, business-focused with credible marketing presentation"},Pe={professional:"polished, credible, trustworthy atmosphere with marketing authority",friendly:"warm, approachable, welcoming tone with customer-centric marketing",energetic:"dynamic, exciting, high-energy vibe with action-driving marketing elements",calm:"peaceful, serene, relaxing ambiance with reassuring marketing message",urgent:"compelling, time-sensitive, action-oriented with scarcity marketing tactics",luxurious:"premium, exclusive, high-end feel with aspirational marketing appeal",innovative:"cutting-edge, futuristic, tech-forward with disruptive marketing approach"};if(ge+=` Style: ${Q[We]||We}
`,ge+=` Mood: ${Pe[Ge]||Ge}
`,Fe&&(ge+=` Brand Colors: ${Fe}
`),ge+=` Color Scheme: ${rt||"auto-optimized for conversion"}
`,ke){const[Ee,tt]=ke.split("x").map(Number);let H="",se="";Ee===tt?(H="Square composition with centered focal hierarchy",se="Instagram/Facebook feed optimized"):Ee>tt?(H="Landscape composition with horizontal marketing flow",se="Facebook cover/LinkedIn banner optimized"):(H="Portrait composition with vertical marketing narrative",se="Instagram story/Pinterest optimized"),ge+=` Dimensions: ${ke} (${H})
`,ge+=` Platform Optimization: ${se}
`}return ge+=`
`,ge+=` MARKETING ELEMENTS:
`,rn&&(ge+=` Text Overlay: Enabled with professional typography
`,st&&(ge+=` Primary Text: "${st}"
`),Ke&&(ge+=` Call-to-Action: "${Ke}"
`),dt&&(ge+=` Logo/Text Position: ${dt.replace("-"," ")} with optimal visibility
`)),ge+=` Marketing Layout: Professional advertisement composition with clear hierarchy
`,ge+=` Text Overlay Support: Space for headlines, CTAs, and brand messaging
`,ge+=` Conversion Elements: Trust indicators, value propositions, action drivers

`,he==="video"&&(ge+=` VIDEO SPECIFICATIONS:
`,Le&&(ge+=` Duration: ${Le} seconds (optimized pacing)
`),jt&&(ge+=` Animation Style: ${{smooth:"fluid, seamless transitions with professional marketing flow",dynamic:"energetic, fast-paced movements with high engagement factor",elegant:"graceful, sophisticated animations with premium brand feel",minimal:"subtle, understated motion with focus on message clarity"}[jt]||jt}
`),de&&(ge+=` Video Style: ${de} with marketing optimization
`),ut&&(ge+=` Voice-Over Script: "${ut}"
`,Qe&&(ge+=` Voice Gender: ${Qe} with professional delivery
`)),Ct&&(ge+=` Background Music: ${Ct} that enhances marketing message
`),ot&&(ge+=` Audio Enhancement: Professional background music integration
`),ge+=`
`),ge+=` TECHNICAL SPECIFICATIONS:
`,pt&&(ge+=` Brand Assets: Seamlessly integrate uploaded brand elements
`),nt&&(ge+=` Quality: High-definition 4K resolution with professional studio lighting
`),ge+=` Format: Marketing advertisement optimized for digital platforms
`,ge+=` Photography Style: Commercial-grade with brand-focused composition
`,ge+=` Industry Standards: Professional advertising design principles
`,ge+=` Layout Optimization: Conversion-focused with clear visual hierarchy

`,Xe&&Xe!=="en"&&(ge+=` LOCALIZATION:
`,ge+=` Language: Generate content in ${Xe} with cultural relevance
`,ge+=` Market Adaptation: Localized marketing approach for target region

`),ge+=` HOLO.AI GENERATION INSTRUCTIONS:
`,ge+=` Create a HIGH-CONVERTING marketing advertisement (not just product image)
`,ge+=` Use proven advertising psychology and visual hierarchy principles
`,ge+=` Optimize for ${xe||"target audience"} demographic preferences
`,ge+=` Include professional marketing composition with clear focal points
`,ge+=` Ensure mobile-first responsive design thinking
`,ge+=` Apply conversion rate optimization (CRO) principles
`,ge+=` Generate content that looks like it came from a top marketing agency
`,ge+=` Focus on emotional resonance and action-driving visuals
`,ge+=` Incorporate brand storytelling elements naturally
`,ge+=` Use marketing color psychology for maximum impact

`,ge+=` FINAL DIRECTIVE:
`,ge+=`Transform this into a swipe-ready, conversion-optimized marketing ${he} that drives ${Re||"engagement"} `,ge+=`for ${xe||"target audience"} using ${We||"modern"} aesthetic. `,ge+="This should be indistinguishable from professional marketing content created by top advertising agencies. ",ge+="Focus on: eye-catching design, memorable messaging, clear value proposition, and strong call-to-action. ",ge+="The final result must be marketing-grade content that converts viewers into customers.",ge},Ae=async(K,he)=>{try{const Ne=await(await fetch(K)).blob(),xe=window.URL.createObjectURL(Ne),Re=document.createElement("a");Re.href=xe,Re.download=he,document.body.appendChild(Re),Re.click(),Re.remove(),window.URL.revokeObjectURL(xe),ie.success("Download started")}catch{ie.error("Download failed")}};return r.jsxs("div",{className:"min-h-screen app-shell-bg relative overflow-hidden",children:[r.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 pointer-events-none bg-gradient-to-r from-indigo-500/10 via-purple-500/10 to-pink-500/10"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("div",{className:"bg-white/5 backdrop-blur-md border-b border-white/10",children:r.jsx("div",{className:"max-w-full mx-auto px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-semibold text-white flex items-center gap-2",children:[r.jsx(qa,{className:"h-6 w-6 text-indigo-400"}),"Marketing Ads Studio"]}),r.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Create professional marketing content with AI intelligence"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(Cn,{variant:"outline",className:"text-xs px-2 py-1 bg-indigo-500/20 text-indigo-300 border-indigo-500/30",children:[r.jsx(Xf,{className:"h-3 w-3 mr-1"}),"Holo.ai Powered"]}),r.jsxs(Cn,{variant:"outline",className:"text-xs px-2 py-1 bg-purple-500/20 text-purple-300 border-purple-500/30",children:[r.jsx(ES,{className:"h-3 w-3 mr-1"}),"Conversion Optimized"]})]})]})})}),r.jsx("div",{className:"max-w-full mx-auto px-6 py-6",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(Zt,{className:"shadow-sm bg-white/5 backdrop-blur-md border border-white/10",children:[r.jsx(ws,{className:"pb-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx(js,{className:"text-lg font-medium text-white",children:"Create Marketing Content"}),r.jsx(I_,{className:"text-sm text-gray-400",children:"Fill in the details to generate professional marketing assets"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(be,{variant:t==="image"?"default":"outline",size:"sm",onClick:()=>U("image"),className:`h-8 px-3 text-xs ${t==="image"?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white border-0":"bg-transparent border-white/20 text-white hover:bg-white/10"}`,children:[r.jsx(Yg,{className:"h-3 w-3 mr-1"}),"Image"]}),r.jsxs(be,{variant:t==="video"?"default":"outline",size:"sm",onClick:()=>U("video"),className:`h-8 px-3 text-xs ${t==="video"?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white border-0":"bg-transparent border-white/20 text-white hover:bg-white/10"}`,children:[r.jsx(od,{className:"h-3 w-3 mr-1"}),"Video"]})]})]})}),r.jsxs(Gt,{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(He,{htmlFor:"product_name",className:"text-sm font-medium text-gray-300",children:"Product Name"}),r.jsx(mt,{id:"product_name",value:B.product_name,onChange:K=>$("product_name",K.target.value),placeholder:"Enter product name",className:"mt-1 h-9 bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),r.jsxs("div",{children:[r.jsx(He,{htmlFor:"target_audience",className:"text-sm font-medium text-gray-300",children:"Target Audience"}),r.jsxs(ns,{value:B.target_audience,onValueChange:K=>$("target_audience",K),children:[r.jsx(Gn,{className:"mt-1 h-9 bg-white/5 border-white/20 text-white",children:r.jsx(ss,{placeholder:"Select audience"})}),r.jsxs(qn,{className:"bg-[#0e1340] border-white/10 text-white",children:[r.jsx(Ie,{value:"Young adults (18-35)",children:"Young adults (18-35)"}),r.jsx(Ie,{value:"Business professionals",children:"Business professionals"}),r.jsx(Ie,{value:"Families with children",children:"Families with children"}),r.jsx(Ie,{value:"Seniors (55+)",children:"Seniors (55+)"}),r.jsx(Ie,{value:"Students",children:"Students"})]})]})]})]}),r.jsxs("div",{children:[r.jsx(He,{htmlFor:"product_description",className:"text-sm font-medium text-gray-300",children:"Product Description"}),r.jsx(Zh,{id:"product_description",value:B.product_description,onChange:K=>$("product_description",K.target.value),placeholder:"Describe your product or service...",rows:3,className:"mt-1 bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx(He,{htmlFor:"ad_goal",className:"text-sm font-medium text-gray-300",children:"Marketing Goal"}),r.jsxs(ns,{value:B.ad_goal,onValueChange:K=>$("ad_goal",K),children:[r.jsx(Gn,{className:"mt-1 h-9 bg-white/5 border-white/20 text-white",children:r.jsx(ss,{placeholder:"Select goal"})}),r.jsxs(qn,{className:"bg-[#0e1340] border-white/10 text-white",children:[r.jsx(Ie,{value:"awareness",children:"Brand Awareness"}),r.jsx(Ie,{value:"leads",children:"Lead Generation"}),r.jsx(Ie,{value:"sales",children:"Drive Sales"}),r.jsx(Ie,{value:"engagement",children:"Engagement"})]})]})]}),r.jsxs("div",{children:[r.jsx(He,{htmlFor:"style",className:"text-sm font-medium text-gray-300",children:"Visual Style"}),r.jsxs(ns,{value:B.style,onValueChange:K=>$("style",K),children:[r.jsx(Gn,{className:"mt-1 h-9 bg-white/5 border-white/20 text-white",children:r.jsx(ss,{placeholder:"Select style"})}),r.jsxs(qn,{className:"bg-[#0e1340] border-white/10 text-white",children:[r.jsx(Ie,{value:"modern",children:"Modern"}),r.jsx(Ie,{value:"bold",children:"Bold"}),r.jsx(Ie,{value:"elegant",children:"Elegant"}),r.jsx(Ie,{value:"minimalist",children:"Minimalist"}),r.jsx(Ie,{value:"luxury",children:"Luxury"}),r.jsx(Ie,{value:"playful",children:"Playful"})]})]})]}),r.jsxs("div",{children:[r.jsx(He,{htmlFor:"dimensions",className:"text-sm font-medium text-gray-300",children:"Dimensions"}),r.jsxs(ns,{value:B.dimensions,onValueChange:K=>$("dimensions",K),children:[r.jsx(Gn,{className:"mt-1 h-9 bg-white/5 border-white/20 text-white",children:r.jsx(ss,{placeholder:"Select size"})}),r.jsxs(qn,{className:"bg-[#0e1340] border-white/10 text-white",children:[r.jsx(Ie,{value:"1080x1080",children:"Square (1080x1080)"}),r.jsx(Ie,{value:"1200x628",children:"Facebook Cover (1200x628)"}),r.jsx(Ie,{value:"1080x1920",children:"Instagram Story (1080x1920)"}),r.jsx(Ie,{value:"1200x675",children:"LinkedIn Banner (1200x675)"})]})]})]})]}),r.jsxs("div",{className:"border-t border-white/10 pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx(He,{className:"text-sm font-medium text-gray-300",children:"Holo.ai Intelligence Mode"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Advanced brand DNA analysis and marketing variations"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:f,onChange:K=>g(K.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-white/20 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-500/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),f&&r.jsx("div",{className:"bg-indigo-500/10 border border-indigo-500/30 rounded-lg p-4 space-y-3",children:r.jsxs("div",{children:[r.jsx(He,{htmlFor:"brand_website",className:"text-sm font-medium text-gray-300",children:"Brand Website (Optional)"}),r.jsx(mt,{id:"brand_website",value:x,onChange:K=>v(K.target.value),placeholder:"https://your-website.com",className:"mt-1 h-9 bg-white/5 border-white/20 text-white placeholder:text-gray-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"AI will analyze your brand for better targeting"})]})})]}),r.jsxs("div",{className:"border-t border-white/10 pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx(He,{className:"text-sm font-medium text-gray-300",children:"Add Text Overlay"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Add professional text overlays to your marketing content"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:B.add_text_overlay,onChange:K=>$("add_text_overlay",K.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-white/20 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-500/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),B.add_text_overlay&&r.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx(He,{htmlFor:"custom_text",className:"text-sm font-medium text-gray-300",children:"Custom Text"}),r.jsx(mt,{id:"custom_text",value:B.custom_text,onChange:K=>$("custom_text",K.target.value),placeholder:"Enter your main text",className:"mt-1 h-9 bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),r.jsxs("div",{children:[r.jsx(He,{htmlFor:"call_to_action",className:"text-sm font-medium text-gray-300",children:"Call to Action"}),r.jsx(mt,{id:"call_to_action",value:B.call_to_action,onChange:K=>$("call_to_action",K.target.value),placeholder:"e.g., Shop Now, Learn More",className:"mt-1 h-9 bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]})]}),r.jsxs("div",{children:[r.jsx(He,{htmlFor:"logo_position",className:"text-sm font-medium text-gray-300",children:"Text Position"}),r.jsxs(ns,{value:B.logo_position,onValueChange:K=>$("logo_position",K),children:[r.jsx(Gn,{className:"mt-1 h-9 bg-white/5 border-white/20 text-white",children:r.jsx(ss,{placeholder:"Select position"})}),r.jsxs(qn,{className:"bg-[#0e1340] border-white/10 text-white",children:[r.jsx(Ie,{value:"top-left",children:"Top Left"}),r.jsx(Ie,{value:"top-center",children:"Top Center"}),r.jsx(Ie,{value:"top-right",children:"Top Right"}),r.jsx(Ie,{value:"center",children:"Center"}),r.jsx(Ie,{value:"bottom-left",children:"Bottom Left"}),r.jsx(Ie,{value:"bottom-center",children:"Bottom Center"}),r.jsx(Ie,{value:"bottom-right",children:"Bottom Right"})]})]})]})]})]}),r.jsxs("div",{className:"border-t border-white/10 pt-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{children:[r.jsx(He,{className:"text-sm font-medium text-gray-300",children:"Upload Assets"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Add your own images or videos to incorporate into the marketing content"})]}),r.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:B.use_uploaded_assets,onChange:K=>$("use_uploaded_assets",K.target.checked),className:"sr-only peer"}),r.jsx("div",{className:"w-11 h-6 bg-white/20 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-500/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),B.use_uploaded_assets&&r.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 space-y-3",children:[r.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${z?"border-indigo-500 bg-indigo-500/10":"border-white/20 hover:border-white/40"}`,onDragEnter:q,onDragLeave:q,onDragOver:q,onDrop:re,children:[r.jsx(yo,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),r.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:["Drag and drop your images or videos here, or"," ",r.jsx("button",{type:"button",onClick:()=>{var K;return(K=M.current)==null?void 0:K.click()},className:"text-indigo-400 hover:text-indigo-300 font-medium",children:"browse files"})]}),r.jsx("p",{className:"text-xs text-gray-500",children:"Supports: JPG, PNG, GIF, MP4, MOV (Max: 10MB for images, 100MB for videos)"}),r.jsx("input",{ref:M,type:"file",multiple:!0,accept:"image/*,video/*",onChange:V,className:"hidden"})]}),A&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-400",children:"Uploading..."}),r.jsxs("span",{className:"text-gray-400",children:[Math.round(R),"%"]})]}),r.jsx(pu,{value:R,className:"h-2"})]}),P.length>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs(He,{className:"text-sm font-medium text-gray-300",children:["Uploaded Assets (",P.length,")"]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:P.map((K,he)=>r.jsxs("div",{className:"relative group border border-white/10 rounded-lg p-2 bg-white/5",children:[K.type==="image"&&K.preview?r.jsx("img",{src:K.preview,alt:K.name,className:"w-full h-20 object-cover rounded"}):r.jsx("div",{className:"w-full h-20 bg-white/10 rounded flex items-center justify-center",children:r.jsx(od,{className:"h-6 w-6 text-gray-400"})}),r.jsx("p",{className:"text-xs text-gray-400 mt-1 truncate",children:K.name}),r.jsx("button",{type:"button",onClick:()=>G(he),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(Sl,{className:"h-3 w-3"})})]},he))})]})]})]}),r.jsx("div",{className:"border-t border-white/10 pt-4",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx(be,{onClick:_e,disabled:n||!B.product_name||!B.product_description,className:"flex-1 h-10 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white border-0",children:n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Xf,{className:"h-4 w-4 mr-2"}),"Generate Premium ",t==="image"?"Image":"Video"]})}),f&&r.jsx(be,{onClick:ye,disabled:n||!B.product_name||!B.product_description,variant:"outline",className:"flex-1 h-10 border-white/20 text-white hover:bg-white/10",children:n?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-400 mr-2"}),"Generating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(qa,{className:"h-4 w-4 mr-2"}),"Generate 3 Swipe Ready Variations"]})})]})})]})]})}),r.jsxs("div",{className:"space-y-6",children:[u&&r.jsxs(Zt,{className:"shadow-sm bg-white/5 backdrop-blur-md border border-white/10",children:[r.jsx(ws,{className:"pb-3",children:r.jsxs(js,{className:"text-sm font-medium text-white flex items-center gap-2",children:[r.jsx(vo,{className:"h-4 w-4 text-indigo-400"}),"Master Prompt"]})}),r.jsxs(Gt,{children:[r.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-3 max-h-64 overflow-y-auto",children:r.jsx("pre",{className:"text-xs text-gray-300 whitespace-pre-wrap font-mono leading-relaxed",children:u})}),r.jsxs(be,{variant:"outline",size:"sm",onClick:()=>navigator.clipboard.writeText(u),className:"mt-2 h-7 text-xs border-white/20 text-white hover:bg-white/10",children:[r.jsx(Kg,{className:"h-3 w-3 mr-1"}),"Copy"]})]})]}),n&&r.jsxs(Zt,{className:"shadow-sm bg-white/5 backdrop-blur-md border border-white/10",children:[r.jsx(ws,{className:"pb-3",children:r.jsx(js,{className:"text-sm font-medium text-white",children:"Generation Progress"})}),r.jsx(Gt,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsx(pu,{value:i,className:"h-2"}),r.jsxs("p",{className:"text-xs text-gray-400",children:[i,"% complete"]})]})})]}),l.length>0&&r.jsxs(Zt,{className:"shadow-sm bg-white/5 backdrop-blur-md border border-white/10",children:[r.jsx(ws,{className:"pb-3",children:r.jsx(js,{className:"text-sm font-medium text-white",children:"Generated Assets"})}),r.jsx(Gt,{children:r.jsx("div",{className:"space-y-3",children:l.map((K,he)=>r.jsxs("div",{className:"border border-white/10 rounded-lg p-3 bg-white/5",children:[r.jsx("img",{src:K.url,alt:`Generated asset ${he+1}`,className:"w-full h-32 object-cover rounded mb-2"}),r.jsxs(be,{variant:"outline",size:"sm",onClick:()=>Ae(K.url,`marketing-ad-${he+1}`),className:"w-full h-7 text-xs border-white/20 text-white hover:bg-white/10",children:[r.jsx(Wa,{className:"h-3 w-3 mr-1"}),"Download"]})]},he))})})]}),b.length>0&&r.jsxs(Zt,{className:"shadow-sm bg-white/5 backdrop-blur-md border border-white/10",children:[r.jsx(ws,{className:"pb-3",children:r.jsx(js,{className:"text-sm font-medium text-white",children:"Marketing Variations"})}),r.jsx(Gt,{children:r.jsx("div",{className:"space-y-3",children:b.map((K,he)=>r.jsxs("div",{className:"border border-white/10 rounded-lg p-3 bg-white/5",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Cn,{variant:"outline",className:"text-xs bg-indigo-500/20 text-indigo-300 border-indigo-500/30",children:K.target_emotion}),r.jsx(Cn,{variant:"outline",className:"text-xs bg-purple-500/20 text-purple-300 border-purple-500/30",children:K.conversion_focus})]}),r.jsx("p",{className:"text-xs text-gray-400 mb-2",children:K.marketing_angle}),K.image_url&&r.jsx("img",{src:K.image_url,alt:`Variation ${he+1}`,className:"w-full h-32 object-cover rounded mb-2"}),r.jsxs(be,{variant:"outline",size:"sm",onClick:()=>Ae(K.image_url,`variation-${he+1}`),className:"w-full h-7 text-xs border-white/20 text-white hover:bg-white/10",children:[r.jsx(Wa,{className:"h-3 w-3 mr-1"}),"Download"]})]},he))})})]})]})]})})]})]})};function Ss(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function ef(t,e=[]){let n=[];function s(a,l){const d=p.createContext(l),u=n.length;n=[...n,l];const h=g=>{var C;const{scope:x,children:v,...b}=g,_=((C=x==null?void 0:x[t])==null?void 0:C[u])||d,w=p.useMemo(()=>b,Object.values(b));return r.jsx(_.Provider,{value:w,children:v})};h.displayName=a+"Provider";function f(g,x){var _;const v=((_=x==null?void 0:x[t])==null?void 0:_[u])||d,b=p.useContext(v);if(b)return b;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[h,f]}const i=()=>{const a=n.map(l=>p.createContext(l));return function(d){const u=(d==null?void 0:d[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...d,[t]:u}}),[d,u])}};return i.scopeName=t,[s,CO(i,...e)]}function CO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=s.reduce((d,{useScope:u,scopeName:h})=>{const g=u(a)[`__scope${h}`];return{...d,...g}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function Tg(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function yw(...t){return e=>{let n=!1;const s=t.map(i=>{const a=Tg(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():Tg(t[i],null)}}}}function vl(...t){return p.useCallback(yw(...t),t)}function gu(t){const e=PO(t),n=p.forwardRef((s,i)=>{const{children:a,...l}=s,d=p.Children.toArray(a),u=d.find(EO);if(u){const h=u.props.children,f=d.map(g=>g===u?p.Children.count(h)>1?p.Children.only(null):p.isValidElement(h)?h.props.children:null:g);return r.jsx(e,{...l,ref:i,children:p.isValidElement(h)?p.cloneElement(h,void 0,f):null})}return r.jsx(e,{...l,ref:i,children:a})});return n.displayName=`${t}.Slot`,n}function PO(t){const e=p.forwardRef((n,s)=>{const{children:i,...a}=n;if(p.isValidElement(i)){const l=kO(i),d=AO(a,i.props);return i.type!==p.Fragment&&(d.ref=s?yw(s,l):l),p.cloneElement(i,d)}return p.Children.count(i)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var TO=Symbol("radix.slottable");function EO(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===TO}function AO(t,e){const n={...e};for(const s in e){const i=t[s],a=e[s];/^on[A-Z]/.test(s)?i&&a?n[s]=(...d)=>{const u=a(...d);return i(...d),u}:i&&(n[s]=i):s==="style"?n[s]={...i,...a}:s==="className"&&(n[s]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function kO(t){var s,i;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function LO(t){const e=t+"CollectionProvider",[n,s]=ef(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=_=>{const{scope:w,children:C}=_,N=ae.useRef(null),S=ae.useRef(new Map).current;return r.jsx(i,{scope:w,itemMap:S,collectionRef:N,children:C})};l.displayName=e;const d=t+"CollectionSlot",u=gu(d),h=ae.forwardRef((_,w)=>{const{scope:C,children:N}=_,S=a(d,C),P=vl(w,S.collectionRef);return r.jsx(u,{ref:P,children:N})});h.displayName=d;const f=t+"CollectionItemSlot",g="data-radix-collection-item",x=gu(f),v=ae.forwardRef((_,w)=>{const{scope:C,children:N,...S}=_,P=ae.useRef(null),T=vl(w,P),A=a(f,C);return ae.useEffect(()=>(A.itemMap.set(P,{ref:P,...S}),()=>void A.itemMap.delete(P))),r.jsx(x,{[g]:"",ref:T,children:N})});v.displayName=f;function b(_){const w=a(t+"CollectionConsumer",_);return ae.useCallback(()=>{const N=w.collectionRef.current;if(!N)return[];const S=Array.from(N.querySelectorAll(`[${g}]`));return Array.from(w.itemMap.values()).sort((A,k)=>S.indexOf(A.ref.current)-S.indexOf(k.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:l,Slot:h,ItemSlot:v},b,s]}var yl=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},RO=vi[" useId ".trim().toString()]||(()=>{}),MO=0;function _w(t){const[e,n]=p.useState(RO());return yl(()=>{n(s=>s??String(MO++))},[t]),e?`radix-${e}`:""}var OO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pi=OO.reduce((t,e)=>{const n=gu(`Primitive.${e}`),s=p.forwardRef((i,a)=>{const{asChild:l,...d}=i,u=l?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(u,{...d,ref:a})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function IO(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}var DO=vi[" useInsertionEffect ".trim().toString()]||yl;function bw({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[i,a,l]=BO({defaultProp:e,onChange:n}),d=t!==void 0,u=d?t:i;{const f=p.useRef(t!==void 0);p.useEffect(()=>{const g=f.current;g!==d&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=d},[d,s])}const h=p.useCallback(f=>{var g;if(d){const x=FO(f)?f(t):f;x!==t&&((g=l.current)==null||g.call(l,x))}else a(f)},[d,t,a,l]);return[u,h]}function BO({defaultProp:t,onChange:e}){const[n,s]=p.useState(t),i=p.useRef(n),a=p.useRef(e);return DO(()=>{a.current=e},[e]),p.useEffect(()=>{var l;i.current!==n&&((l=a.current)==null||l.call(a,n),i.current=n)},[n,i]),[n,s,a]}function FO(t){return typeof t=="function"}var zO=p.createContext(void 0);function ww(t){const e=p.useContext(zO);return t||e||"ltr"}var rd="rovingFocusGroup.onEntryFocus",$O={bubbles:!1,cancelable:!0},Go="RovingFocusGroup",[xu,jw,VO]=LO(Go),[UO,Sw]=ef(Go,[VO]),[WO,HO]=UO(Go),Nw=p.forwardRef((t,e)=>r.jsx(xu.Provider,{scope:t.__scopeRovingFocusGroup,children:r.jsx(xu.Slot,{scope:t.__scopeRovingFocusGroup,children:r.jsx(ZO,{...t,ref:e})})}));Nw.displayName=Go;var ZO=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:u,onEntryFocus:h,preventScrollOnEntryFocus:f=!1,...g}=t,x=p.useRef(null),v=vl(e,x),b=ww(a),[_,w]=bw({prop:l,defaultProp:d??null,onChange:u,caller:Go}),[C,N]=p.useState(!1),S=IO(h),P=jw(n),T=p.useRef(!1),[A,k]=p.useState(0);return p.useEffect(()=>{const R=x.current;if(R)return R.addEventListener(rd,S),()=>R.removeEventListener(rd,S)},[S]),r.jsx(WO,{scope:n,orientation:s,dir:b,loop:i,currentTabStopId:_,onItemFocus:p.useCallback(R=>w(R),[w]),onItemShiftTab:p.useCallback(()=>N(!0),[]),onFocusableItemAdd:p.useCallback(()=>k(R=>R+1),[]),onFocusableItemRemove:p.useCallback(()=>k(R=>R-1),[]),children:r.jsx(Pi.div,{tabIndex:C||A===0?-1:0,"data-orientation":s,...g,ref:v,style:{outline:"none",...t.style},onMouseDown:Ss(t.onMouseDown,()=>{T.current=!0}),onFocus:Ss(t.onFocus,R=>{const O=!T.current;if(R.target===R.currentTarget&&O&&!C){const M=new CustomEvent(rd,$O);if(R.currentTarget.dispatchEvent(M),!M.defaultPrevented){const z=P().filter(X=>X.focusable),F=z.find(X=>X.active),B=z.find(X=>X.id===_),ee=[F,B,...z].filter(Boolean).map(X=>X.ref.current);Tw(ee,f)}}T.current=!1}),onBlur:Ss(t.onBlur,()=>N(!1))})})}),Cw="RovingFocusGroupItem",Pw=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:a,children:l,...d}=t,u=_w(),h=a||u,f=HO(Cw,n),g=f.currentTabStopId===h,x=jw(n),{onFocusableItemAdd:v,onFocusableItemRemove:b,currentTabStopId:_}=f;return p.useEffect(()=>{if(s)return v(),()=>b()},[s,v,b]),r.jsx(xu.ItemSlot,{scope:n,id:h,focusable:s,active:i,children:r.jsx(Pi.span,{tabIndex:g?0:-1,"data-orientation":f.orientation,...d,ref:e,onMouseDown:Ss(t.onMouseDown,w=>{s?f.onItemFocus(h):w.preventDefault()}),onFocus:Ss(t.onFocus,()=>f.onItemFocus(h)),onKeyDown:Ss(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const C=KO(w,f.orientation,f.dir);if(C!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let S=x().filter(P=>P.focusable).map(P=>P.ref.current);if(C==="last")S.reverse();else if(C==="prev"||C==="next"){C==="prev"&&S.reverse();const P=S.indexOf(w.currentTarget);S=f.loop?YO(S,P+1):S.slice(P+1)}setTimeout(()=>Tw(S))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:_!=null}):l})})});Pw.displayName=Cw;var GO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function qO(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function KO(t,e,n){const s=qO(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return GO[s]}function Tw(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function YO(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var XO=Nw,JO=Pw;function QO(t,e){return p.useReducer((n,s)=>e[n][s]??n,t)}var Ew=t=>{const{present:e,children:n}=t,s=eI(e),i=typeof n=="function"?n({present:s.isPresent}):p.Children.only(n),a=vl(s.ref,tI(i));return typeof n=="function"||s.isPresent?p.cloneElement(i,{ref:a}):null};Ew.displayName="Presence";function eI(t){const[e,n]=p.useState(),s=p.useRef(null),i=p.useRef(t),a=p.useRef("none"),l=t?"mounted":"unmounted",[d,u]=QO(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const h=Ta(s.current);a.current=d==="mounted"?h:"none"},[d]),yl(()=>{const h=s.current,f=i.current;if(f!==t){const x=a.current,v=Ta(h);t?u("MOUNT"):v==="none"||(h==null?void 0:h.display)==="none"?u("UNMOUNT"):u(f&&x!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),yl(()=>{if(e){let h;const f=e.ownerDocument.defaultView??window,g=v=>{const _=Ta(s.current).includes(v.animationName);if(v.target===e&&_&&(u("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",h=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},x=v=>{v.target===e&&(a.current=Ta(s.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{f.clearTimeout(h),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:p.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function Ta(t){return(t==null?void 0:t.animationName)||"none"}function tI(t){var s,i;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Yl="Tabs",[nI,h6]=ef(Yl,[Sw]),Aw=Sw(),[sI,tf]=nI(Yl),kw=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,onValueChange:i,defaultValue:a,orientation:l="horizontal",dir:d,activationMode:u="automatic",...h}=t,f=ww(d),[g,x]=bw({prop:s,onChange:i,defaultProp:a??"",caller:Yl});return r.jsx(sI,{scope:n,baseId:_w(),value:g,onValueChange:x,orientation:l,dir:f,activationMode:u,children:r.jsx(Pi.div,{dir:f,"data-orientation":l,...h,ref:e})})});kw.displayName=Yl;var Lw="TabsList",Rw=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:s=!0,...i}=t,a=tf(Lw,n),l=Aw(n);return r.jsx(XO,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:s,children:r.jsx(Pi.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});Rw.displayName=Lw;var Mw="TabsTrigger",Ow=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,disabled:i=!1,...a}=t,l=tf(Mw,n),d=Aw(n),u=Bw(l.baseId,s),h=Fw(l.baseId,s),f=s===l.value;return r.jsx(JO,{asChild:!0,...d,focusable:!i,active:f,children:r.jsx(Pi.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...a,ref:e,onMouseDown:Ss(t.onMouseDown,g=>{!i&&g.button===0&&g.ctrlKey===!1?l.onValueChange(s):g.preventDefault()}),onKeyDown:Ss(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&l.onValueChange(s)}),onFocus:Ss(t.onFocus,()=>{const g=l.activationMode!=="manual";!f&&!i&&g&&l.onValueChange(s)})})})});Ow.displayName=Mw;var Iw="TabsContent",Dw=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,forceMount:i,children:a,...l}=t,d=tf(Iw,n),u=Bw(d.baseId,s),h=Fw(d.baseId,s),f=s===d.value,g=p.useRef(f);return p.useEffect(()=>{const x=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(x)},[]),r.jsx(Ew,{present:i||f,children:({present:x})=>r.jsx(Pi.div,{"data-state":f?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!x,id:h,tabIndex:0,...l,ref:e,style:{...t.style,animationDuration:g.current?"0s":void 0},children:x&&a})})});Dw.displayName=Iw;function Bw(t,e){return`${t}-trigger-${e}`}function Fw(t,e){return`${t}-content-${e}`}var rI=kw,zw=Rw,$w=Ow,Vw=Dw;const f6=rI,iI=p.forwardRef(({className:t,...e},n)=>r.jsx(zw,{ref:n,className:De("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));iI.displayName=zw.displayName;const oI=p.forwardRef(({className:t,...e},n)=>r.jsx($w,{ref:n,className:De("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));oI.displayName=$w.displayName;const aI=p.forwardRef(({className:t,...e},n)=>r.jsx(Vw,{ref:n,className:De("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));aI.displayName=Vw.displayName;const lr={searchPlaces:async t=>{const e=await Ce.post("/api/lead-scraper/search",t);return console.log(e,"============ check google response======="),e.data},getPlaceDetails:async t=>(await Ce.get(`/api/lead-scraper/place/${t}`)).data,saveLead:async t=>(await Ce.post("/api/lead-scraper/leads",t)).data,getLeads:async(t={})=>{const e=new URLSearchParams;return Object.entries(t).forEach(([s,i])=>{i!=null&&i!==""&&e.append(s,i.toString())}),(await Ce.get(`/api/lead-scraper/leads?${e.toString()}`)).data},getLead:async t=>(await Ce.get(`/api/lead-scraper/leads/${t}`)).data,updateLead:async(t,e)=>(await Ce.put(`/api/lead-scraper/leads/${t}`,e)).data,deleteLead:async t=>(await Ce.delete(`/api/lead-scraper/leads/${t}`)).data,getStats:async()=>(await Ce.get("/api/lead-scraper/stats")).data,bulkSaveLeads:async t=>(await Ce.post("/api/lead-scraper/leads/bulk",t)).data};function lI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const cI=p.forwardRef(lI);function dI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const uI=p.forwardRef(dI);function hI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const Uw=p.forwardRef(hI);function fI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const mI=p.forwardRef(fI);function pI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const gI=p.forwardRef(pI);function xI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const vI=p.forwardRef(xI);function yI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const _I=p.forwardRef(yI);function bI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const wI=p.forwardRef(bI);function jI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const Ea=p.forwardRef(jI);function SI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const NI=p.forwardRef(SI);function CI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const PI=p.forwardRef(CI);function TI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const po=p.forwardRef(TI);function EI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Ww=p.forwardRef(EI);function AI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const kI=p.forwardRef(AI);function LI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const go=p.forwardRef(LI);function RI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const _l=p.forwardRef(RI);function MI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const bl=p.forwardRef(MI);function OI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const id=p.forwardRef(OI);function II({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const vu=p.forwardRef(II);function DI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const xo=p.forwardRef(DI);function BI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Eg=p.forwardRef(BI);function FI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const yu=p.forwardRef(FI);function zI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const Hw=p.forwardRef(zI);function $I({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const _u=p.forwardRef($I);function VI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const UI=p.forwardRef(VI);function WI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const HI=p.forwardRef(WI);function ZI({title:t,titleId:e,...n},s){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Ag=p.forwardRef(ZI),GI="AIzaSyC5V4eL4a8u2WerD28qGwIznpHyWeD7obU",qI=()=>{const[t,e]=p.useState(""),[n,s]=p.useState(""),[i,a]=p.useState(5e3),[l,d]=p.useState(!1),[u,h]=p.useState([]),[f,g]=p.useState(null),[x,v]=p.useState(!1),[b,_]=p.useState(!1),w=p.useRef(null),C=p.useRef(""),[N,S]=p.useState(""),[P,T]=p.useState(""),[A,k]=p.useState(""),[R,O]=p.useState(!1),[M,z]=p.useState(!1),[F,B]=p.useState([]),[J,ee]=p.useState(!1),[X,oe]=p.useState([]),[q,re]=p.useState(null),[V,W]=p.useState(null),[G,$]=p.useState(!1),[U,ye]=p.useState("search"),[_e,ne]=p.useState(1),[pe,Ae]=p.useState(1),[K,he]=p.useState(!1),[ce,Ne]=p.useState({search:"",status:"all",business_type:"all",rating_min:"all"}),[xe,Re]=p.useState([]),[Fe,We]=p.useState({lat:40.7128,lng:-74.006}),[ke,Ge]=p.useState(12),[Ke,st]=p.useState(null),[rn,nt]=p.useState(!0),dt=p.useRef(null),rt=p.useRef(null),jt=p.useRef([]),ut=p.useRef(null);p.useEffect(()=>{U==="saved"&&(ot(),ge())},[U,_e,ce]);const Ct=()=>new Promise((D,le)=>{if(window.google&&window.google.maps&&window.google.maps.Map){D(window.google);return}const fe=document.querySelector('script[src*="maps.googleapis.com"]');fe&&fe.remove();const je=document.createElement("script");je.src=`https://maps.googleapis.com/maps/api/js?key=${GI}&libraries=places,geometry,marker`,je.async=!0,je.defer=!0,je.onload=()=>{setTimeout(()=>{window.google&&window.google.maps&&window.google.maps.Map?D(window.google):le(new Error("Google Maps failed to load"))},200)},je.onerror=Be=>{le(new Error("Failed to load Google Maps script"))},document.head.appendChild(je)});p.useEffect(()=>{const D=async()=>{const je=()=>new Promise((Be,Je)=>{let at=0;const Bt=20,Yn=()=>{dt.current?Be(dt.current):at<Bt?(at++,setTimeout(Yn,100)):Je(new Error("Map container not found after waiting"))};Yn()});try{const Be=await je(),Je=await Ct();le(Je,Fe),navigator.geolocation?navigator.geolocation.getCurrentPosition(at=>{const Bt={lat:at.coords.latitude,lng:at.coords.longitude};st(Bt),We(Bt),nt(!1),rt.current&&(rt.current.setCenter(Bt),Je.maps.marker&&Je.maps.marker.AdvancedMarkerElement?new Je.maps.marker.AdvancedMarkerElement({position:Bt,map:rt.current,title:"Your Location"}):new Je.maps.Marker({position:Bt,map:rt.current,title:"Your Location",icon:{url:"https://maps.google.com/mapfiles/ms/icons/blue-dot.png"}}))},at=>{console.log("Geolocation error:",at),nt(!1)}):nt(!1)}catch(Be){console.error("Error loading Google Maps:",Be),ie.error("Failed to load Google Maps. Please check your internet connection.")}},le=(je,Be)=>{if(!je||!je.maps||!je.maps.Map){console.error("Google Maps API not properly loaded"),ie.error("Google Maps API not properly loaded");return}if(!dt.current){console.error("Map container not found"),ie.error("Map container not found");return}try{const Je={center:Be,zoom:ke,mapTypeControl:!0,streetViewControl:!0,fullscreenControl:!0,zoomControl:!0,mapTypeId:je.maps.MapTypeId.ROADMAP,mapId:"88f5b6f4a12cadf8f16b7bd5"};rt.current=new je.maps.Map(dt.current,Je),ut.current=new je.maps.InfoWindow,rt.current.addListener("click",at=>{const Bt=at.latLng;Qe(Bt.lat(),Bt.lng())}),console.log("Google Maps initialized successfully")}catch(Je){console.error("Error initializing Google Maps:",Je),ie.error("Failed to initialize Google Maps")}},fe=setTimeout(()=>{D()},100);return()=>{clearTimeout(fe),rt.current&&(rt.current=null),ut.current&&(ut.current=null)}},[]),p.useEffect(()=>{const le=setTimeout(async()=>{if(!(!rt.current||!window.google||!window.google.maps))try{jt.current.forEach(fe=>{fe&&fe.setMap&&fe.setMap(null)}),jt.current=[];for(let fe=0;fe<xe.length;fe++){const je=xe[fe];if(!je.position||!je.position.lat||!je.position.lng){console.warn("Invalid marker position:",je);continue}try{let Be;window.google.maps.marker&&window.google.maps.marker.AdvancedMarkerElement?Be=new window.google.maps.marker.AdvancedMarkerElement({position:je.position,map:rt.current,title:je.name}):Be=new window.google.maps.Marker({position:je.position,map:rt.current,title:je.name,icon:{url:"https://maps.google.com/mapfiles/ms/icons/red-dot.png"}});const Je=`
              <div style="max-width: 300px; padding: 10px;">
                <h3 style="font-weight: bold; font-size: 14px; margin-bottom: 8px;">${je.name||"Unknown"}</h3>
                <p style="font-size: 12px; color: #666; margin-bottom: 4px;">${je.address||"No address"}</p>
                ${je.phone?`<p style="font-size: 12px; margin-bottom: 4px;"> ${je.phone}</p>`:""}
                ${je.website?`<p style="font-size: 12px; margin-bottom: 4px;"> <a href="${je.website}" target="_blank" style="color: #1976d2;">Website</a></p>`:""}
                ${je.rating?`<p style="font-size: 12px; margin-bottom: 8px;"> ${je.rating}/5</p>`:""}
                <button onclick="window.saveLead(${fe})" style="background: #1976d2; color: white; padding: 6px 12px; border: none; border-radius: 4px; font-size: 12px; cursor: pointer;">
                  Save Lead
                </button>
              </div>
            `;Be.addListener("click",()=>{ut.current&&(ut.current.setContent(Je),ut.current.open(rt.current,Be))}),jt.current.push(Be)}catch(Be){console.error("Error creating marker:",Be)}}if(xe.length>0&&rt.current){const fe=new window.google.maps.LatLngBounds;xe.forEach(je=>{je.position&&je.position.lat&&je.position.lng&&fe.extend(je.position)}),fe.isEmpty()||rt.current.fitBounds(fe)}}catch(fe){console.error("Error updating markers:",fe)}},100);return()=>clearTimeout(le)},[xe]),p.useEffect(()=>(window.saveLead=D=>{xe[D]&&pt(xe[D])},()=>{delete window.saveLead}),[xe]);const de=async(D=!1)=>{if(!t.trim()){ie.error("Please enter a search query");return}const le=!D||t!==C.current;le?(d(!0),h([]),Re([]),g(null),v(!1)):_(!0);try{const fe={query:t,location:n,radius:i,maxResults:20,openNow:R};!n&&Ke?(fe.latitude=Ke.lat,fe.longitude=Ke.lng):!n&&Fe&&(fe.latitude=Fe.lat,fe.longitude=Fe.lng),N&&N!=="all"&&(fe.type=N),P&&P!=="all"&&(fe.priceLevel=parseInt(P)),A&&A!=="all"&&(fe.minRating=parseFloat(A)),!le&&f&&(fe.pageToken=f);const je=await lr.searchPlaces(fe);if(je.success){const Be=je.data.places||[];if(g(je.data.nextPageToken||null),v(je.data.hasMore||!1),C.current=t,le){h(Be),Xe(Be);const Je={query:t,location:n,timestamp:new Date().toISOString(),resultCount:Be.length};if(B(at=>[Je,...at.filter(Yn=>!(Yn.query===t&&Yn.location===n))].slice(0,10)),Be.length===0)ie.error("No results found. Try different search terms or expand the search radius.");else{const at=n?` in ${n}`:"",Bt=je.data.hasMore?" (scroll for more)":"";ie.success(`Found ${Be.length} businesses${at}${Bt}`)}}else h(Je=>[...Je,...Be]),Xe([...u,...Be])}else ie.error(je.message||"Search failed")}catch(fe){console.error("Search error:",fe),ie.error(`Search failed: ${fe.message}. Please try again with different search terms.`)}finally{d(!1),_(!1)}},Le=()=>{!b&&x&&f&&t===C.current&&de(!0)};p.useEffect(()=>{const D=w.current;if(!D)return;const le=()=>{const{scrollTop:fe,scrollHeight:je,clientHeight:Be}=D;je-fe-Be<100&&Le()};return D.addEventListener("scroll",le),()=>D.removeEventListener("scroll",le)},[x,f,b,u]);const Qe=async(D,le)=>{t.trim()||e("places"),s(`${D.toFixed(6)}, ${le.toFixed(6)}`),a(2e3),setTimeout(()=>{de()},100),ie.info("Searching for places near clicked location...")},Xe=D=>{if(D.length===0)return;const le=D.filter(fe=>fe.geometry&&fe.geometry.location&&fe.geometry.location.lat&&fe.geometry.location.lng).map(fe=>({position:{lat:fe.geometry.location.lat,lng:fe.geometry.location.lng},name:fe.name,address:fe.formatted_address,rating:fe.rating,business_type:fe.business_type,phone:fe.phone,website:fe.website,place_id:fe.place_id}));if(Re(le),le.length>0){const fe=le.reduce((Be,Je)=>Be+Je.position.lat,0)/le.length,je=le.reduce((Be,Je)=>Be+Je.position.lng,0)/le.length;We({lat:fe,lng:je}),Ge(le.length===1?15:12)}},pt=async D=>{var le,fe,je,Be;try{const Je={business_name:D.name,address:D.formatted_address,phone:D.phone||null,email:D.email||null,website:D.website||null,business_type:D.business_type||(D.types&&D.types.length>0?D.types[0]:null),latitude:((fe=(le=D.geometry)==null?void 0:le.location)==null?void 0:fe.lat)||D.lat,longitude:((Be=(je=D.geometry)==null?void 0:je.location)==null?void 0:Be.lng)||D.lon,place_id:D.place_id||D.id,search_query:t,search_location:n,rating:D.rating||null,total_ratings:D.user_ratings_total||null},at=await lr.saveLead(Je);at.success?(ie.success("Lead saved successfully!"),U==="saved"&&(ot(),ge())):ie.error(at.message||"Failed to save lead")}catch(Je){console.error("Save lead error:",Je),ie.error("Failed to save lead")}},ot=async()=>{he(!0);try{const D={page:_e,limit:10};ce.search&&(D.search=ce.search),ce.status&&ce.status!=="all"&&(D.status=ce.status),ce.business_type&&ce.business_type!=="all"&&(D.business_type=ce.business_type),ce.rating_min&&ce.rating_min!=="all"&&(D.rating_min=parseFloat(ce.rating_min));const le=await lr.getLeads(D);le.success?(oe(le.data.leads||[]),Ae(le.data.totalPages||1)):(ie.error(le.message||"Failed to load saved leads"),oe([]),Ae(1))}catch(D){console.error("Load leads error:",D),ie.error("Failed to load saved leads"),oe([]),Ae(1)}finally{he(!1)}},ge=async()=>{try{const D=await lr.getStats();if(D.success){const le={total:D.data.total_leads||0,new:D.data.new_leads||0,contacted:D.data.contacted_leads||0,interested:D.data.interested_leads||0,not_interested:D.data.not_interested_leads||0};re(le)}}catch(D){console.error("Load stats error:",D)}},Q=async(D,le)=>{try{const fe=await lr.updateLead(D,{status:le});fe.success?(ie.success("Lead status updated successfully!"),ot(),ge()):ie.error(fe.message||"Failed to update lead status")}catch(fe){console.error("Update lead error:",fe),ie.error("Failed to update lead status")}},Pe=async D=>{if(window.confirm("Are you sure you want to delete this lead?"))try{const le=await lr.deleteLead(D);le.success?(ie.success("Lead deleted successfully!"),ot(),ge()):ie.error(le.message||"Failed to delete lead")}catch(le){console.error("Delete lead error:",le),ie.error("Failed to delete lead")}},Ee=async()=>{if(u.length===0){ie.error("No search results to save");return}try{const D=u.map(fe=>{var je,Be,Je,at;return{business_name:fe.name,address:fe.formatted_address,phone:fe.phone||null,email:fe.email||null,website:fe.website||null,business_type:fe.business_type||(fe.types&&fe.types.length>0?fe.types[0]:null),latitude:((Be=(je=fe.geometry)==null?void 0:je.location)==null?void 0:Be.lat)||fe.lat,longitude:((at=(Je=fe.geometry)==null?void 0:Je.location)==null?void 0:at.lng)||fe.lon,place_id:fe.place_id||fe.id,search_query:t,search_location:n,rating:fe.rating||null,total_ratings:fe.user_ratings_total||null}}),le=await lr.bulkSaveLeads({leads:D});le.success?(ie.success(`${le.saved_count||D.length} leads saved successfully!${le.skipped_count>0?` (${le.skipped_count} already existed)`:""}`),U==="saved"&&(ot(),ge())):ie.error(le.message||"Failed to save leads")}catch(D){console.error("Bulk save error:",D),ie.error("Failed to bulk save leads")}},tt=async D=>{try{let le=u.find(fe=>fe.place_id===D);le||(le=JSON.parse(localStorage.getItem("demoLeads")||"[]").find(je=>je.place_id===D)),le?(W(le),$(!0)):ie.error("Place details not found")}catch(le){console.error("Get place details error:",le),ie.error("Failed to get place details")}},H=(D,le)=>D?` ${D.toFixed(1)} (${le||0} reviews)`:"No rating",se=D=>!D||D.length===0?"Unknown":D[0].replace(/_/g," ").replace(/\b\w/g,le=>le.toUpperCase()),me=D=>{switch(D){case"new":return"bg-blue-100 text-blue-800";case"contacted":return"bg-yellow-100 text-yellow-800";case"interested":return"bg-green-100 text-green-800";case"not_interested":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return r.jsxs("div",{className:"h-screen flex flex-col app-shell-bg relative overflow-hidden",children:[r.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 pointer-events-none bg-gradient-to-r from-indigo-500/10 via-purple-500/10 to-pink-500/10"}),r.jsx("div",{className:"relative z-10 bg-white/5 backdrop-blur-md border-b border-white/10 px-6 py-4 flex items-center justify-between",children:r.jsx("h1",{className:"text-2xl font-bold text-white",children:"Lead Scraper"})}),U==="search"&&r.jsxs("div",{className:"flex-1 flex h-full relative z-10",children:[r.jsxs("div",{className:"w-80 bg-white/5 backdrop-blur-md border-r border-white/10 flex flex-col h-full",children:[r.jsx("div",{className:"flex-shrink-0 p-3 border-b border-white/10 bg-white/5 backdrop-blur-md",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(mt,{placeholder:"Search for businesses, places, or services...",value:t,onChange:D=>e(D.target.value),onKeyDown:D=>D.key==="Enter"&&de(),onFocus:()=>ee(!0),onBlur:()=>setTimeout(()=>ee(!1),200),className:"w-full text-sm h-9 bg-white/5 border-white/20 text-white placeholder:text-gray-500"}),J&&(F.length>0||!t)&&r.jsxs("div",{className:"absolute top-full left-0 right-0 bg-[#0e1340] border border-white/10 rounded-md shadow-lg z-50 mt-1",children:[F.length>0&&r.jsxs("div",{className:"p-2 border-b border-white/10",children:[r.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Recent searches"}),F.slice(0,5).map((D,le)=>r.jsxs("button",{onClick:()=>{e(D.query),s(D.location||""),ee(!1)},className:"w-full text-left text-xs p-1 hover:bg-white/10 rounded flex items-center gap-2 text-gray-300",children:[r.jsx("span",{className:"text-gray-500",children:""}),r.jsx("span",{children:D.query}),D.location&&r.jsxs("span",{className:"text-gray-500",children:["in ",D.location]})]},le))]}),!t&&r.jsxs("div",{className:"p-2",children:[r.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Popular searches"}),["Restaurants near me","Gas stations","Hotels","Hospitals","Banks","Coffee shops"].map(D=>r.jsxs("button",{onClick:()=>{e(D),ee(!1)},className:"w-full text-left text-xs p-1 hover:bg-white/10 rounded flex items-center gap-2 text-gray-300",children:[r.jsx("span",{className:"text-gray-500",children:""}),r.jsx("span",{children:D})]},D))]})]})]}),r.jsx("div",{}),r.jsxs(be,{onClick:de,disabled:l||!t.trim(),className:"w-full h-8 text-sm bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white border-0",children:[r.jsx(_l,{className:"h-3 w-3 mr-1"}),l?"Searching...":"Search"]}),u.length>0&&r.jsxs(be,{variant:"outline",onClick:Ee,className:"w-full h-8 bg-white/10 text-sm border-white/20 text-white hover:bg-white/10",children:[r.jsx(Eg,{className:"h-3 w-3 mr-1"}),"Save All (",u.length,")"]})]})}),r.jsx("div",{className:"flex-1 overflow-hidden",children:u.length>0?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex-shrink-0 px-3 py-2 border-b border-white/10 bg-white/5 backdrop-blur-md",children:r.jsxs("h3",{className:"font-medium text-sm text-white",children:["Search Results (",u.length,")",x&&"+"]})}),r.jsx("div",{ref:w,className:"h-full overflow-y-auto",children:r.jsxs("div",{className:"p-2 space-y-2",children:[u.map((D,le)=>r.jsx("div",{className:"border border-white/10 rounded-lg p-3 hover:shadow-md transition-all bg-white/5 backdrop-blur-md hover:bg-white/10 cursor-pointer",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsx("h4",{className:"font-semibold text-sm leading-tight text-white",title:D.name,children:D.name}),D.business_status==="OPERATIONAL"&&r.jsx("span",{className:"text-xs text-green-400 font-medium",children:"Open"})]}),D.rating&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-yellow-500",children:""}),r.jsx("span",{className:"text-sm font-medium text-white",children:D.rating.toFixed(1)})]}),D.user_ratings_total>0&&r.jsxs("span",{className:"text-xs text-gray-400",children:["(",D.user_ratings_total.toLocaleString()," reviews)"]})]}),D.price_level!==void 0&&D.price_level!==null&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-xs text-gray-400",children:"Price:"}),r.jsx("span",{className:"text-sm font-medium text-green-400",children:"$".repeat(D.price_level+1)})]}),D.types&&D.types.length>0&&r.jsxs("div",{className:"flex flex-wrap gap-1",children:[D.types.slice(0,3).map((fe,je)=>r.jsx(Cn,{variant:"outline",className:"text-xs py-0 px-1 h-4 bg-indigo-500/20 text-indigo-300 border-indigo-500/30",children:fe.replace(/_/g," ").replace(/\b\w/g,Be=>Be.toUpperCase())},je)),D.types.length>3&&r.jsxs("span",{className:"text-xs text-gray-400",children:["+",D.types.length-3," more"]})]}),r.jsxs("div",{className:"flex items-start gap-1 text-xs text-gray-400",children:[r.jsx(bl,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),r.jsx("span",{className:"line-clamp-2 leading-tight",children:D.formatted_address})]}),D.phone&&r.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[r.jsx(xo,{className:"h-3 w-3 flex-shrink-0"}),r.jsx("span",{children:D.phone})]}),D.opening_hours&&r.jsx("div",{className:"text-xs",children:D.opening_hours.open_now||D.opening_hours.openNow?r.jsx("span",{className:"text-green-400 font-medium",children:"Open now"}):r.jsx("span",{className:"text-red-400 font-medium",children:"Closed"})}),r.jsxs("div",{className:"flex gap-1 pt-1",children:[r.jsxs(be,{size:"sm",onClick:()=>pt(D),className:"flex items-center gap-1 text-xs h-6 px-2 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white border-0",children:[r.jsx(Eg,{className:"h-3 w-3"}),"Save"]}),r.jsxs(be,{size:"sm",variant:"outline",onClick:()=>tt(D.place_id),className:"flex items-center gap-1 bg-white/5 text-xs h-6 px-2 border-white/20 text-white hover:bg-white/10",children:[r.jsx(Ww,{className:"h-3 w-3"}),"Details"]}),D.geometry&&D.geometry.location&&r.jsx(be,{size:"sm",variant:"ghost",onClick:()=>{const fe=D.geometry.location.lat,je=D.geometry.location.lng,Be=`https://www.google.com/maps/dir/?api=1&destination=${fe},${je}`;window.open(Be,"_blank")},className:"flex items-center gap-1 text-xs h-6 px-1 text-gray-300 hover:bg-white/10",title:"Get directions",children:""}),D.place_id&&r.jsx(be,{size:"sm",variant:"ghost",onClick:()=>{const fe=`https://www.google.com/maps/place/?q=place_id:${D.place_id}`;window.open(fe,"_blank")},className:"flex items-center gap-1 text-xs h-6 px-1 text-gray-300 hover:bg-white/10",title:"View on Google Maps",children:""})]})]})},D.place_id||le)),b&&r.jsx("div",{className:"flex items-center justify-center py-4",children:r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[r.jsxs("svg",{className:"animate-spin h-4 w-4 text-indigo-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r.jsx("span",{children:"Loading more leads..."})]})}),!x&&u.length>0&&!b&&r.jsx("div",{className:"flex items-center justify-center py-3",children:r.jsxs("span",{className:"text-xs text-gray-500",children:[" End of results (",u.length," total) "]})}),x&&!b&&r.jsx("div",{className:"flex items-center justify-center py-3",children:r.jsx(be,{variant:"outline",size:"sm",onClick:()=>de(!0),className:"text-xs border-white/20 text-white hover:bg-white/10",children:"Load More Results"})})]})})]}):r.jsxs("div",{className:"p-4 text-center text-gray-400",children:[r.jsx(_l,{className:"h-12 w-12 mx-auto mb-3 text-gray-500"}),r.jsx("p",{className:"text-sm text-gray-300",children:"Search for businesses to see results here"}),r.jsxs("div",{className:"mt-4 space-y-2",children:[r.jsx("p",{className:"text-xs font-medium text-gray-300",children:"Quick searches:"}),r.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.jsx("button",{size:"sm",variant:"outline",onClick:()=>e("hotels"),className:`px-3 py-1
    rounded-lg
    text-sm font-semibold
    text-white
    bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))]
    border border-white/15
    shadow-[0_2px_5px_rgba(90,110,255,0.45)]
    hover:shadow-[0_5px_10px_rgba(90,110,255,0.65)]
    hover:bg-[linear-gradient(180deg,rgba(90,110,255,0.6),rgba(36,46,151,0.45))]
    disabled:opacity-40
    disabled:cursor-not-allowed
    transition-all
    flex items-center gap-2`,children:"Hotels"}),r.jsx("button",{size:"sm",variant:"outline",onClick:()=>e("restaurants"),className:`px-3 py-1
    rounded-lg
    text-sm font-semibold
    text-white
    bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))]
    border border-white/15
    shadow-[0_2px_5px_rgba(90,110,255,0.45)]
    hover:shadow-[0_5px_10px_rgba(90,110,255,0.65)]
    hover:bg-[linear-gradient(180deg,rgba(90,110,255,0.6),rgba(36,46,151,0.45))]
    disabled:opacity-40
    disabled:cursor-not-allowed
    transition-all
    flex items-center gap-2`,children:"Restaurants"}),r.jsx("button",{size:"sm",variant:"outline",onClick:()=>e("shops"),className:`px-3 py-1
    rounded-lg
    text-sm font-semibold
    text-white
    bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))]
    border border-white/15
    shadow-[0_2px_5px_rgba(90,110,255,0.45)]
    hover:shadow-[0_5px_10px_rgba(90,110,255,0.65)]
    hover:bg-[linear-gradient(180deg,rgba(90,110,255,0.6),rgba(36,46,151,0.45))]
    disabled:opacity-40
    disabled:cursor-not-allowed
    transition-all
    flex items-center gap-2`,children:"Shops"}),r.jsx("button",{size:"sm",variant:"outline",onClick:()=>e("banks"),className:`px-3 py-1
    rounded-lg
    text-sm font-semibold
    text-white
    bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))]
    border border-white/15
    shadow-[0_2px_5px_rgba(90,110,255,0.45)]
    hover:shadow-[0_5px_10px_rgba(90,110,255,0.65)]
    hover:bg-[linear-gradient(180deg,rgba(90,110,255,0.6),rgba(36,46,151,0.45))]
    disabled:opacity-40
    disabled:cursor-not-allowed
    transition-all
    flex items-center gap-2`,children:"Banks"})]}),r.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[r.jsx("p",{className:"font-medium text-gray-300",children:"Tips for better results:"}),r.jsxs("ul",{className:"list-disc list-inside space-y-0.5 text-xs",children:[r.jsx("li",{children:'Use specific terms like "hotels" instead of "accommodation"'}),r.jsx("li",{children:"Try different radius settings (1-20km work best)"}),r.jsx("li",{children:"For international searches, include city name"})]})]})]})]})})]}),r.jsx("div",{className:"flex-1 relative overflow-hidden",children:r.jsx("div",{ref:dt,className:"w-full h-full",style:{height:"100%",width:"100%",overflow:"hidden"}})})]}),U==="saved"&&r.jsxs("div",{className:"flex-1 p-6 overflow-y-auto relative z-10",children:[q&&r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(Zt,{className:"bg-white/5 backdrop-blur-md border border-white/10",children:r.jsxs(Gt,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-400",children:q.total}),r.jsx("div",{className:"text-sm text-gray-400",children:"Total Leads"})]})}),r.jsx(Zt,{className:"bg-white/5 backdrop-blur-md border border-white/10",children:r.jsxs(Gt,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-green-400",children:q.new}),r.jsx("div",{className:"text-sm text-gray-400",children:"New Leads"})]})}),r.jsx(Zt,{className:"bg-white/5 backdrop-blur-md border border-white/10",children:r.jsxs(Gt,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:q.contacted}),r.jsx("div",{className:"text-sm text-gray-400",children:"Contacted"})]})}),r.jsx(Zt,{className:"bg-white/5 backdrop-blur-md border border-white/10",children:r.jsxs(Gt,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-400",children:q.interested}),r.jsx("div",{className:"text-sm text-gray-400",children:"Interested"})]})})]}),r.jsxs(Zt,{className:"mb-6 bg-white/5 backdrop-blur-md border border-white/10",children:[r.jsx(ws,{children:r.jsx(js,{className:"text-white",children:"Filter Leads"})}),r.jsx(Gt,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx(He,{htmlFor:"filterSearch",className:"text-gray-300",children:"Search"}),r.jsx(mt,{id:"filterSearch",placeholder:"Search leads...",value:ce.search,onChange:D=>Ne(le=>({...le,search:D.target.value})),className:"bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),r.jsxs("div",{children:[r.jsx(He,{htmlFor:"filterStatus",className:"text-gray-300",children:"Status"}),r.jsxs(ns,{value:ce.status,onValueChange:D=>Ne(le=>({...le,status:D})),children:[r.jsx(Gn,{className:"bg-white/5 border-white/20 text-white",children:r.jsx(ss,{placeholder:"All statuses"})}),r.jsxs(qn,{className:"bg-[#0e1340] border-white/10 text-white",children:[r.jsx(Ie,{value:"all",children:"All statuses"}),r.jsx(Ie,{value:"new",children:"New"}),r.jsx(Ie,{value:"contacted",children:"Contacted"}),r.jsx(Ie,{value:"interested",children:"Interested"}),r.jsx(Ie,{value:"not_interested",children:"Not Interested"})]})]})]}),r.jsxs("div",{children:[r.jsx(He,{htmlFor:"filterBusinessType",className:"text-gray-300",children:"Business Type"}),r.jsx(mt,{id:"filterBusinessType",placeholder:"e.g., restaurant",value:ce.business_type,onChange:D=>Ne(le=>({...le,business_type:D.target.value})),className:"bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),r.jsxs("div",{children:[r.jsx(He,{htmlFor:"filterRating",className:"text-gray-300",children:"Min Rating"}),r.jsxs(ns,{value:ce.rating_min,onValueChange:D=>Ne(le=>({...le,rating_min:D})),children:[r.jsx(Gn,{className:"bg-white/5 border-white/20 text-white",children:r.jsx(ss,{placeholder:"Any rating"})}),r.jsxs(qn,{className:"bg-[#0e1340] border-white/10 text-white",children:[r.jsx(Ie,{value:"all",children:"Any rating"}),r.jsx(Ie,{value:"1",children:"1+ stars"}),r.jsx(Ie,{value:"2",children:"2+ stars"}),r.jsx(Ie,{value:"3",children:"3+ stars"}),r.jsx(Ie,{value:"4",children:"4+ stars"}),r.jsx(Ie,{value:"4.5",children:"4.5+ stars"})]})]})]})]})})]}),r.jsxs(Zt,{className:"bg-white/5 backdrop-blur-md border border-white/10",children:[r.jsx(ws,{children:r.jsx(js,{className:"text-white",children:"Your Saved Leads"})}),r.jsx(Gt,{children:K?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx("p",{className:"text-gray-400",children:"Loading leads..."})}):X.length===0?r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Uw,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"No saved leads found"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Start by searching for leads in the Search tab"})]}):r.jsxs("div",{className:"space-y-4",children:[X.map(D=>r.jsx("div",{className:"border border-white/10 rounded-lg p-4 hover:shadow-md transition-shadow bg-white/5 hover:bg-white/10",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1 space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h3",{className:"font-semibold text-lg text-white",children:D.business_name}),r.jsx(Cn,{className:me(D.status),children:D.status.replace("_"," ")})]}),r.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-400",children:[r.jsx(bl,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:D.address})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[D.phone&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(xo,{className:"h-4 w-4"}),r.jsx("span",{children:D.phone})]}),D.website&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(go,{className:"h-4 w-4"}),r.jsx("a",{href:D.website,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:underline",children:"Website"})]}),D.rating&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(yu,{className:"h-4 w-4 text-yellow-500 fill-current"}),r.jsx("span",{className:"text-gray-300",children:H(D.rating,D.total_ratings)})]})]}),D.business_type&&r.jsx(Cn,{variant:"secondary",className:"text-xs bg-indigo-500/20 text-indigo-300 border border-indigo-500/30",children:se([D.business_type])}),D.notes&&r.jsxs("div",{className:"text-sm text-gray-400 bg-white/5 p-2 rounded",children:[r.jsx("strong",{className:"text-gray-300",children:"Notes:"})," ",D.notes]})]}),r.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[r.jsxs(ns,{value:D.status,onValueChange:le=>Q(D.id,le),children:[r.jsx(Gn,{className:"w-32 bg-white/5 border-white/20 text-white",children:r.jsx(ss,{})}),r.jsxs(qn,{className:"bg-[#0e1340] border-white/10 text-white",children:[r.jsx(Ie,{value:"new",children:"New"}),r.jsx(Ie,{value:"contacted",children:"Contacted"}),r.jsx(Ie,{value:"interested",children:"Interested"}),r.jsx(Ie,{value:"not_interested",children:"Not Interested"})]})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx(be,{size:"sm",variant:"outline",onClick:()=>{W(D),$(!0)},className:"border-white/20 text-white hover:bg-white/10",children:r.jsx(vu,{className:"h-3 w-3"})}),r.jsx(be,{size:"sm",variant:"outline",onClick:()=>Pe(D.id),className:"border-red-500/30 text-red-400 hover:bg-red-500/10",children:r.jsx(_u,{className:"h-3 w-3"})})]})]})]})},D.id)),pe>1&&r.jsxs("div",{className:"flex items-center justify-center gap-2 pt-4",children:[r.jsx(be,{variant:"outline",size:"sm",onClick:()=>ne(D=>Math.max(1,D-1)),disabled:_e===1,className:"border-white/20 text-white hover:bg-white/10",children:"Previous"}),r.jsxs("span",{className:"text-sm text-gray-400",children:["Page ",_e," of ",pe]}),r.jsx(be,{variant:"outline",size:"sm",onClick:()=>ne(D=>Math.min(pe,D+1)),disabled:_e===pe,className:"border-white/20 text-white hover:bg-white/10",children:"Next"})]})]})})]})]}),r.jsx(pi,{open:G,onOpenChange:$,children:r.jsxs(Er,{className:"max-w-2xl bg-[#0e1340] border border-white/10 text-white",children:[r.jsx(Oo,{children:r.jsx(Ar,{className:"text-white",children:(V==null?void 0:V.business_name)||(V==null?void 0:V.name)||"Lead Details"})}),V&&r.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[!1,r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(He,{className:"text-gray-300",children:"Business Name"}),r.jsx("p",{className:"text-sm font-medium text-white",children:V.business_name||V.name||"Unknown Business"})]}),r.jsxs("div",{children:[r.jsx(He,{className:"text-gray-300",children:"Business Type"}),r.jsx("p",{className:"text-sm text-gray-300",children:V.business_type||se(V.types)||"Unknown"})]})]}),r.jsxs("div",{children:[r.jsx(He,{className:"text-gray-300",children:"Address"}),r.jsx("p",{className:"text-sm text-gray-300",children:V.address||V.formatted_address||"Address not available"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[V.phone&&r.jsxs("div",{children:[r.jsxs(He,{className:"flex items-center gap-1 text-gray-300",children:[r.jsx(xo,{className:"h-4 w-4"}),"Phone"]}),r.jsx("p",{className:"text-sm text-gray-300",children:V.phone})]}),V.email&&r.jsxs("div",{children:[r.jsx(He,{className:"text-gray-300",children:"Email"}),r.jsx("a",{href:`mailto:${V.email}`,className:"text-sm text-indigo-400 hover:underline",children:V.email})]}),V.website&&r.jsxs("div",{children:[r.jsxs(He,{className:"flex items-center gap-1 text-gray-300",children:[r.jsx(go,{className:"h-4 w-4"}),"Website"]}),r.jsx("a",{href:V.website.startsWith("http")?V.website:`https://${V.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-indigo-400 hover:underline",children:V.website})]}),V.fax&&r.jsxs("div",{children:[r.jsx(He,{className:"text-gray-300",children:"Fax"}),r.jsx("p",{className:"text-sm text-gray-300",children:V.fax})]})]}),(V.facebook||V.instagram||V.twitter)&&r.jsxs("div",{children:[r.jsx(He,{className:"text-gray-300",children:"Social Media"}),r.jsxs("div",{className:"flex gap-2 flex-wrap",children:[V.facebook&&r.jsx("a",{href:V.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-blue-500/20 text-blue-300 px-2 py-1 rounded border border-blue-500/30",children:"Facebook"}),V.instagram&&r.jsx("a",{href:V.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-pink-500/20 text-pink-300 px-2 py-1 rounded border border-pink-500/30",children:"Instagram"}),V.twitter&&r.jsx("a",{href:V.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-sky-500/20 text-sky-300 px-2 py-1 rounded border border-sky-500/30",children:"Twitter"})]})]}),V.rating&&r.jsxs("div",{children:[r.jsx(He,{className:"text-gray-300",children:"Rating"}),r.jsx("p",{className:"text-sm text-gray-300",children:H(V.rating,V.total_ratings||V.user_ratings_total)})]}),V.opening_hours&&r.jsxs("div",{children:[r.jsx(He,{className:"text-gray-300",children:"Opening Hours"}),r.jsx("div",{className:"text-sm bg-white/5 p-2 rounded text-gray-300",children:typeof V.opening_hours=="string"?V.opening_hours:V.opening_hours.weekdayDescriptions?V.opening_hours.weekdayDescriptions.join(`
`):V.opening_hours.openNow!==void 0?V.opening_hours.openNow?"Open now":"Closed":JSON.stringify(V.opening_hours)})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[V.cuisine&&r.jsxs("div",{children:[r.jsx(He,{className:"text-gray-300",children:"Cuisine"}),r.jsx("p",{className:"text-sm text-gray-300",children:V.cuisine})]}),V.operator&&r.jsxs("div",{children:[r.jsx(He,{className:"text-gray-300",children:"Operator/Brand"}),r.jsx("p",{className:"text-sm text-gray-300",children:V.operator})]}),V.capacity&&r.jsxs("div",{children:[r.jsx(He,{className:"text-gray-300",children:"Capacity"}),r.jsx("p",{className:"text-sm text-gray-300",children:V.capacity})]}),V.wheelchair&&r.jsxs("div",{children:[r.jsx(He,{className:"text-gray-300",children:"Wheelchair Access"}),r.jsx("p",{className:"text-sm text-gray-300",children:V.wheelchair==="yes"?"Accessible":V.wheelchair})]}),V.internet_access&&r.jsxs("div",{children:[r.jsx(He,{className:"text-gray-300",children:"Internet/WiFi"}),r.jsx("p",{className:"text-sm text-gray-300",children:V.internet_access})]}),V.payment_methods&&r.jsxs("div",{children:[r.jsx(He,{className:"text-gray-300",children:"Payment Methods"}),r.jsx("p",{className:"text-sm text-gray-300",children:V.payment_methods})]})]}),V.description&&r.jsxs("div",{children:[r.jsx(He,{className:"text-gray-300",children:"Description"}),r.jsx("p",{className:"text-sm bg-white/5 p-2 rounded text-gray-300",children:V.description})]}),V.search_query&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(He,{className:"text-gray-300",children:"Search Query"}),r.jsx("p",{className:"text-sm text-gray-300",children:V.search_query})]}),V.search_location&&r.jsxs("div",{children:[r.jsx(He,{className:"text-gray-300",children:"Search Location"}),r.jsx("p",{className:"text-sm text-gray-300",children:V.search_location})]})]}),V.notes&&r.jsxs("div",{children:[r.jsx(He,{className:"text-gray-300",children:"Notes"}),r.jsx(Zh,{value:V.notes,onChange:D=>W(le=>({...le,notes:D.target.value})),placeholder:"Add notes about this lead...",rows:3,className:"bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]})]})]})})]})},m6=async t=>{try{const e=await Ce.post("/api/contacts",t);return ie.success("Contact list created successfully"),e.data}catch(e){throw console.error("Contact Service Error:",e),ie.error("Failed to create contact list"),e}},p6=async(t,e,n={})=>{var s,i,a,l,d,u,h;try{const f={page:t,search:e,...n};return(await Ce.get("/api/contacts",{params:f})).data}catch(f){throw console.error("Error fetching contacts:",f),((s=f.response)==null?void 0:s.status)===404||((l=(a=(i=f.response)==null?void 0:i.data)==null?void 0:a.message)==null?void 0:l.toLowerCase().includes("not found"))||((h=(u=(d=f.response)==null?void 0:d.data)==null?void 0:u.error)==null?void 0:h.toLowerCase().includes("not found"))||ie.error("Failed to fetch contacts"),f}},g6=async(t,e)=>{var n,s,i,a;try{const l={fullName:e.fullName,email:e.email,phoneNumber:e.phoneNumber};return(await Ce.patch(`/api/contacts/${t}`,l)).data}catch(l){console.error("Error updating contact:",l);const d=((s=(n=l.response)==null?void 0:n.data)==null?void 0:s.error)||((a=(i=l.response)==null?void 0:i.data)==null?void 0:a.message)||"Failed to update contact";throw ie.error(d),l}},x6=async t=>{var e,n;try{return(await Ce.delete(`/api/contacts/${t}`)).data}catch(s){console.error("Error deleting contact:",s);const i=((n=(e=s.response)==null?void 0:e.data)==null?void 0:n.message)||"Failed to delete contact";throw ie.error(i),s}},KI=async(t,e,n)=>{try{return(await Ce.get("/api/lists",{params:{page:t,search:e,includeDeleted:n}})).data}catch(s){throw console.error("Error fetching contact lists:",s),s}},v6=async t=>{try{return(await Ce.get(`/api/lists/${t}`)).data}catch(e){throw console.error("Error fetching contact list:",e),ie.error("Failed to fetch contact list"),e}},y6=async(t,e,n)=>{var s,i,a,l,d,u,h,f,g,x,v;try{return(await Ce.get(`/api/lists/${t}/contacts`,{params:{page:e,search:n}})).data}catch(b){if(console.error("Error fetching list contacts:",b),!(((s=b.response)==null?void 0:s.status)===404||((l=(a=(i=b.response)==null?void 0:i.data)==null?void 0:a.message)==null?void 0:l.toLowerCase().includes("not found"))||((h=(u=(d=b.response)==null?void 0:d.data)==null?void 0:u.error)==null?void 0:h.toLowerCase().includes("not found")))){const w=((g=(f=b.response)==null?void 0:f.data)==null?void 0:g.error)||((v=(x=b.response)==null?void 0:x.data)==null?void 0:v.message)||"Failed to fetch list contacts";ie.error(w)}throw b}},YI=async t=>{var e,n,s,i;try{const a={list_name:t.listName,list_description:t.description,type:t.type||"General"},l=await Ce.post("/api/lists",a);return ie.success("List created successfully"),l.data}catch(a){console.error("Error creating list:",a);const l=((n=(e=a.response)==null?void 0:e.data)==null?void 0:n.error)||((i=(s=a.response)==null?void 0:s.data)==null?void 0:i.message)||"Failed to create list";throw ie.error(l),a}},XI=async(t,e)=>{var n,s,i,a;try{const l={email:e.email,contact_number:e.phoneNumber||e.contact_number,first_name:e.fullName||e.firstName||""};return(await Ce.post(`/api/lists/${t}/contacts`,l)).data}catch(l){console.error("Error adding contact to list:",l);const d=((s=(n=l.response)==null?void 0:n.data)==null?void 0:s.error)||((a=(i=l.response)==null?void 0:i.data)==null?void 0:a.message)||"Failed to add contact to list";throw ie.error(d),l}},_6=async(t,e)=>{var n,s,i,a;try{const l=await Ce.delete(`/api/lists/${t}/contacts/${e}`);return ie.success("Contact removed from list successfully"),l.data}catch(l){console.error("Error removing contact from list:",l);const d=((s=(n=l.response)==null?void 0:n.data)==null?void 0:s.error)||((a=(i=l.response)==null?void 0:i.data)==null?void 0:a.message)||"Failed to remove contact from list";throw ie.error(d),l}},b6=async()=>{try{return(await Ce.get("/api/patients/stats")).data}catch(t){return console.error("Error fetching patient stats:",t),{total_patients:0,new_patients:0,contacted_patients:0,screening_patients:0,qualified_patients:0,enrolled_patients:0,banned_patients:0,dnq_patients:0}}},JI=()=>{var pt,ot,ge;const t=Gs(),[e,n]=p.useState(""),[s,i]=p.useState("all"),[a,l]=p.useState(1),[d,u]=p.useState(50),[h,f]=p.useState([]),[g,x]=p.useState("all"),[v,b]=p.useState({total:0,new_leads:0,contacted:0,interested:0,not_interested:0}),[_,w]=p.useState(!1),[C,N]=p.useState({business_name:"",phone:"",email:"",website:"",address:"",business_type:"",status:"new"}),[S,P]=p.useState(!1),[T,A]=p.useState(!1),[k,R]=p.useState(!1),[O,M]=p.useState([]),[z,F]=p.useState(!1),[B,J]=p.useState(!1),[ee,X]=p.useState(""),[oe,q]=p.useState(!1),[re,V]=p.useState({list_name:"",type:"General",list_description:""}),[W,G]=p.useState(!1),{data:$,isLoading:U,isError:ye,refetch:_e}=Ka({queryKey:["leads",{status:s,search:e,page:a,limit:d}],queryFn:async()=>{const Q=gt.getItem("token");if(!Q)throw new Error("No token");const Pe=new URLSearchParams;s!=="all"&&Pe.append("status",s),e.trim()&&Pe.append("search",e.trim()),d!=="all"&&(Pe.append("page",a.toString()),Pe.append("limit",d.toString()));const Ee=await Ce.get(`/api/leads-contacts?${Pe.toString()}`,{headers:{Authorization:`Bearer ${Q}`}});if(!Ee.data.success)throw new Error(Ee.data.message||"Failed to load leads");return Ee.data},placeholderData:OS}),ne=($==null?void 0:$.leads)||[],pe=((pt=$==null?void 0:$.pagination)==null?void 0:pt.totalPages)||1,Ae=((ot=$==null?void 0:$.pagination)==null?void 0:ot.totalRecords)||((ge=$==null?void 0:$.leads)==null?void 0:ge.length)||0,K=U,he=async()=>{try{const Q=gt.getItem("token");if(!Q)return;const Ee=(await Ce.get("/api/leads-contacts/stats",{headers:{Authorization:`Bearer ${Q}`}})).data;Ee.success&&b(Ee.stats)}catch(Q){console.error("Load stats error:",Q)}},ce=async()=>{try{if(!C.business_name.trim()){ie.error("Business name is required");return}const Q=gt.getItem("token");if(!Q){ie.error("Authentication required");return}const Ee=await(await fetch("https://ai.research-hero.com/api/leads-contacts/save",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`},body:JSON.stringify({...C,latitude:null,longitude:null,place_id:`manual_${Date.now()}`,search_query:"Manual Entry",search_location:"Manual Entry",rating:null,total_ratings:null})})).json();Ee.success?(ie.success("Lead added successfully"),w(!1),N({business_name:"",phone:"",email:"",website:"",address:"",business_type:"",status:"new"}),l(1),i("all"),n(""),await _e(),await he()):ie.error(Ee.message||"Failed to add lead")}catch(Q){console.error("Add lead error:",Q),ie.error("Failed to add lead")}},Ne=(Q,Pe)=>{N(Ee=>({...Ee,[Q]:Pe}))},xe=()=>{w(!1),N({business_name:"",phone:"",email:"",website:"",address:"",business_type:"",status:"new"})},Re=Q=>{const Pe=new Date(Q),tt=Math.floor((new Date-Pe)/(1e3*60*60));return tt<1?"Just now":tt<24?`${tt} hours ago`:Pe.toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})},Fe=Q=>new Date(Q).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),We=Q=>{if(!Q)return"UN";const Pe=Q.split(" ");return Pe.length>=2?(Pe[0][0]+Pe[1][0]).toUpperCase():Q.substring(0,2).toUpperCase()},ke=Q=>{if(!Q)return"bg-gray-500";const Pe=["bg-blue-500","bg-green-500","bg-yellow-500","bg-red-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-teal-500"],Ee=Q.charCodeAt(0)%Pe.length;return Pe[Ee]},Ge=Q=>{f(Pe=>Pe.includes(Q)?Pe.filter(Ee=>Ee!==Q):[...Pe,Q])},Ke=()=>{h.length===ne.length?f([]):f(ne.map(Q=>Q.id))},st=Q=>{t(`/leads/${Q}`)},rn=()=>{if(h.length===0){ie.error("Please select leads to delete");return}P(!0)},nt=async()=>{P(!1);try{const Q=gt.getItem("token");if(!Q){ie.error("Authentication required");return}const Pe=h.map(me=>fetch(`https://ai.research-hero.com/api/leads-contacts/${me}`,{method:"DELETE",headers:{Authorization:`Bearer ${Q}`}})),Ee=await Promise.all(Pe),tt=await Promise.all(Ee.map(me=>me.json())),H=tt.filter(me=>me.success).length,se=tt.length-H;H>0&&(ie.success(`Successfully deleted ${H} lead(s)`),f([]),_e(),he()),se>0&&ie.error(`Failed to delete ${se} lead(s)`)}catch(Q){console.error("Delete leads error:",Q),ie.error("Failed to delete selected leads")}},dt=()=>{if(h.length===0){ie.error("Please select leads to export");return}try{const Q=ne.filter(D=>h.includes(D.id)),Pe=["Business Name","Phone","Email","Website","Address","Business Type","Status","Rating","Total Ratings","Created Date"],Ee=Q.map(D=>[D.business_name||"",D.phone||"",D.email||"",D.website||"",D.address||"",D.business_type||"",D.status||"",D.rating||"",D.total_ratings||"",D.created_at?new Date(D.created_at).toLocaleDateString():""]),tt=[Pe,...Ee].map(D=>D.map(le=>`"${le}"`).join(",")).join(`
`),H=new Blob([tt],{type:"text/csv;charset=utf-8;"}),se=document.createElement("a"),me=URL.createObjectURL(H);se.setAttribute("href",me),se.setAttribute("download",`leads_export_${new Date().toISOString().split("T")[0]}.csv`),se.style.visibility="hidden",document.body.appendChild(se),se.click(),document.body.removeChild(se),ie.success(`Successfully exported ${h.length} lead(s) to CSV`)}catch(Q){console.error("Export leads error:",Q),ie.error("Failed to export leads")}},rt=Q=>{u(Q),l(1)},jt=Q=>{l(Q)},ut=async()=>{try{F(!0);const Q=await KI();Q.success&&Q.data&&M(Q.data)}catch(Q){console.error("Load contact lists error:",Q)}finally{F(!1)}},Ct=()=>{if(h.length===0){ie.error("Please select at least one lead");return}ut(),A(!0)},de=async()=>{if(!re.list_name.trim()){ie.error("List name is required");return}if(!re.list_description.trim()){ie.error("List description is required");return}try{G(!0),(await YI({listName:re.list_name,description:re.list_description,type:re.type})).success&&(await ut(),R(!1),V({list_name:"",type:"General",list_description:""}))}catch(Q){console.error("Create list error:",Q)}finally{G(!1)}},Le=async()=>{var Q;if(!ee){ie.error("Please select a list");return}try{q(!0);const Pe=ne.filter(Ee=>h.includes(Ee.id));for(const Ee of Pe)await XI(ee,{email:Ee.email||`${(Q=Ee.business_name)==null?void 0:Q.toLowerCase().replace(/\s+/g,"")}@placeholder.com`,contact_number:Ee.phone||"",phoneNumber:Ee.phone||"",fullName:Ee.business_name||""});ie.success(`Successfully added ${h.length} lead(s) to the list`),A(!1),J(!1),X(""),f([])}catch(Pe){console.error("Add to list error:",Pe)}finally{q(!1)}},Qe=()=>{A(!1),J(!1),X("")},Xe=()=>{R(!1),V({list_name:"",type:"General",list_description:""})};return p.useEffect(()=>{he()},[]),r.jsxs("div",{className:"min-h-screen app-shell-bg relative overflow-hidden",children:[r.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 pointer-events-none bg-gradient-to-r from-indigo-500/10 via-purple-500/10 to-pink-500/10"}),r.jsxs("div",{className:"relative z-10",children:[r.jsx("div",{className:"bg-white/5 backdrop-blur-md border-b border-white/10",children:r.jsxs("div",{className:"px-6 py-4",children:[r.jsxs("div",{className:"flex items-center  mb-6 gap-6",children:[r.jsx("h1",{className:"text-2xl font-semibold text-white",children:"Leads"}),r.jsxs("div",{className:"flex items-center gap-2 ",children:[r.jsxs(be,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:[r.jsx(vr,{className:"h-4 w-4 mr-2"}),"Create"]}),r.jsx(be,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:"Bulk Actions"}),r.jsx(be,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:"Restore"}),r.jsx(be,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:"Tasks"}),r.jsx(be,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:"Companies"}),r.jsx(be,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:"Manage Smart Lists"}),r.jsx(be,{size:"sm",variant:"ghost",className:"bg-transparent text-white hover:bg-white/10",children:r.jsx(wI,{className:"h-4 w-4 stroke-[2]"})})]})]}),r.jsxs("div",{className:"flex items-center gap-6 border-b border-white/10",children:[r.jsx("button",{onClick:()=>x("all"),className:`pb-3 px-1 text-sm font-medium border-b-2 transition-colors ${g==="all"?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:"All"}),r.jsx("button",{onClick:()=>x("new"),className:`pb-3 px-1 text-sm font-medium border-b-2 transition-colors ${g==="new"?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:"New"}),r.jsx("button",{onClick:()=>x("contacted"),className:`pb-3 px-1 text-sm font-medium border-b-2 transition-colors ${g==="contacted"?"border-indigo-500 text-indigo-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:"Contacted"})]})]})}),r.jsxs("div",{className:"px-6 py-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(be,{size:"sm",variant:"outline",title:"Add Contact",onClick:()=>w(!0),className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:r.jsx(vr,{className:"h-4 w-4"})}),r.jsx(be,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:r.jsx(kI,{className:"h-4 w-4 stroke-[2] "})}),r.jsx(be,{size:"sm",variant:"outline",title:"please select lead to add automation ",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:r.jsx(Jg,{className:"h-4 w-4"})}),r.jsx(be,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:r.jsx(po,{className:"h-4 w-4 stroke-[2]"})}),r.jsx(be,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:r.jsx(Ha,{className:"h-4 w-4"})}),r.jsx(be,{size:"sm",variant:"outline",title:"delete leads",onClick:rn,className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:r.jsx(_u,{className:"h-4 w-4 stroke-[2]"})}),r.jsx(be,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:r.jsx(Ww,{className:"h-4 w-4 stroke-[2]"})}),r.jsx(be,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:r.jsx(Hw,{className:"h-4 w-4 stroke-[2]"})}),r.jsx(be,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:r.jsx(cI,{className:"h-4 w-4 stroke-[2]"})}),r.jsx(be,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:r.jsx(NI,{className:"h-4 w-4 stroke-[2]"})}),r.jsx(be,{size:"sm",variant:"outline",title:"Export selected leads",onClick:dt,className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:r.jsx(Wa,{className:"h-4 w-4 stroke-[2]"})}),r.jsx(be,{size:"sm",variant:"outline",title:"Import leads from CSV",onClick:()=>t("/leads-contacts/import"),className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:r.jsx(yo,{className:"h-4 w-4 stroke-[2]"})}),r.jsxs(L_,{modal:!1,children:[r.jsx(R_,{asChild:!0,children:r.jsx(be,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:r.jsx(PI,{className:"h-4 w-4 stroke-[2]"})})}),r.jsx(Uh,{align:"end",className:"bg-[#0e1340] border-white/10 text-white",children:r.jsxs(ur,{onClick:Ct,disabled:h.length===0,className:h.length===0?"opacity-50 cursor-not-allowed text-gray-300":"cursor-pointer text-gray-300 hover:bg-white/10",children:[r.jsx(UI,{className:"h-4 w-4 mr-2 stroke-[2]"}),"Add to contact"]})})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(_l,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r.jsx(mt,{placeholder:"Quick search",value:e,onChange:Q=>n(Q.target.value),className:"pl-10 w-64 h-8 bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),r.jsx(be,{size:"sm",variant:"outline",className:"bg-transparent border-white/20 text-white hover:bg-white/10",children:"More Filters"})]})]}),r.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-lg border border-white/10 overflow-hidden",children:[r.jsx("div",{className:"bg-white/5 backdrop-blur-md border-b border-white/10 px-4 py-3",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:h.length===ne.length&&ne.length>0,onChange:Ke,className:"rounded border-white/30"}),r.jsxs("span",{className:"text-sm text-gray-400",children:["Total ",r.jsx("strong",{className:"text-white",children:Ae||v.total})," records.",d!=="all"&&r.jsxs("span",{children:[" Page ",a," of ",pe]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-gray-400",children:"Show:"}),r.jsxs("select",{value:d,onChange:Q=>rt(Q.target.value==="all"?"all":parseInt(Q.target.value)),className:"text-sm border border-white/20 rounded px-2 py-1 bg-white/5 text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[r.jsx("option",{value:25,className:"bg-[#0e1340]",children:"25"}),r.jsx("option",{value:50,className:"bg-[#0e1340]",children:"50"}),r.jsx("option",{value:100,className:"bg-[#0e1340]",children:"100"}),r.jsx("option",{value:"all",className:"bg-[#0e1340]",children:"All"})]}),r.jsx("span",{className:"text-sm text-gray-400",children:"per page"})]}),d!=="all"&&pe>1&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(be,{size:"sm",variant:"ghost",disabled:a===1,onClick:()=>jt(a-1),className:"text-white hover:bg-white/10",children:r.jsx(gI,{className:"h-4 w-4"})}),r.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,pe)},(Q,Pe)=>{let Ee;return pe<=5||a<=3?Ee=Pe+1:a>=pe-2?Ee=pe-4+Pe:Ee=a-2+Pe,r.jsx(be,{size:"sm",variant:a===Ee?"default":"ghost",onClick:()=>jt(Ee),className:`w-8 h-8 p-0 ${a===Ee?"bg-indigo-600 text-white":"text-gray-400 hover:bg-white/10"}`,children:Ee},Ee)})}),r.jsx(be,{size:"sm",variant:"ghost",disabled:a===pe,onClick:()=>jt(a+1),className:"text-white hover:bg-white/10",children:r.jsx(vI,{className:"h-4 w-4"})})]})]})]})}),r.jsxs("div",{className:"divide-y divide-white/10",children:[r.jsxs("div",{className:"bg-white/5 px-4 py-3 grid grid-cols-12 gap-4 text-sm font-medium text-gray-400 uppercase tracking-wider",children:[r.jsx("div",{className:"col-span-1"}),r.jsx("div",{className:"col-span-3",children:"Name"}),r.jsx("div",{className:"col-span-2",children:"Phone"}),r.jsx("div",{className:"col-span-2",children:"Email"}),r.jsx("div",{className:"col-span-1",children:"Tags"}),r.jsx("div",{className:"col-span-2",children:"Created"}),r.jsx("div",{className:"col-span-1",children:"Last Activity"})]}),K?r.jsxs("div",{className:"px-4 py-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500 mx-auto"}),r.jsx("p",{className:"mt-2 text-gray-400",children:"Loading contacts..."})]}):ne.length===0?r.jsxs("div",{className:"px-4 py-8 text-center text-gray-400",children:[r.jsx(_l,{className:"h-12 w-12 mx-auto mb-4 text-gray-500"}),r.jsx("p",{children:"No contacts found"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Try adjusting your search or filters"})]}):ne.map(Q=>r.jsxs("div",{className:"bg-white/5 px-4 py-3 grid grid-cols-12 gap-4 hover:bg-white/10 transition-colors cursor-pointer",children:[r.jsx("div",{className:"col-span-1 flex items-center",children:r.jsx("input",{type:"checkbox",checked:h.includes(Q.id),onChange:()=>Ge(Q.id),className:"rounded border-white/30"})}),r.jsxs("div",{className:"col-span-3 flex items-center gap-3",onClick:()=>st(Q.id),children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-medium ${ke(Q.business_name)}`,children:We(Q.business_name)}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium text-white",children:Q.business_name}),Q.business_type&&r.jsx("div",{className:"text-xs text-gray-400",children:Q.business_type})]})]}),r.jsx("div",{className:"col-span-2 flex items-center",onClick:()=>st(Q.id),children:Q.phone?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Ha,{className:"h-4 w-4 text-green-400"}),r.jsx("span",{className:"text-sm text-gray-300",children:Q.phone})]}):r.jsx("span",{className:"text-sm text-gray-500",children:"-"})}),r.jsx("div",{className:"col-span-2 flex items-center",onClick:()=>st(Q.id),children:Q.email?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(po,{className:"h-4 w-4 text-indigo-400"}),r.jsx("span",{className:"text-sm text-gray-300",children:Q.email})]}):r.jsx("span",{className:"text-sm text-gray-500",children:"-"})}),r.jsx("div",{className:"col-span-1 flex items-center",children:Q.tags&&Q.tags.length>0?r.jsxs("div",{className:"flex flex-wrap gap-1",children:[Q.tags.slice(0,2).map(Pe=>r.jsx(Cn,{variant:"secondary",className:"text-xs bg-indigo-500/20 text-indigo-300 border border-indigo-500/30",children:Pe.tag_name.replace("_"," ")},Pe.tag_id)),Q.tags.length>2&&r.jsxs(Cn,{variant:"outline",className:"text-xs border-white/20 text-gray-400",children:["+",Q.tags.length-2]})]}):r.jsx("span",{className:"text-xs text-gray-500",children:"No tags"})}),r.jsx("div",{className:"col-span-2 flex items-center",children:r.jsxs("div",{className:"text-sm",children:[r.jsx("div",{className:"text-gray-300",children:Re(Q.created_at)}),r.jsx("div",{className:"text-xs text-gray-500",children:Fe(Q.created_at)})]})}),r.jsx("div",{className:"col-span-1 flex items-center",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-300",children:Re(Q.updated_at||Q.created_at)})]})})]},Q.id))]})]})]}),_&&r.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:xe}),r.jsx("div",{className:"absolute right-0 top-0 h-full w-96 bg-[#0e1340] shadow-xl border-l border-white/10",children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsx("div",{className:"px-6 py-4 border-b border-white/10",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Add New Lead"}),r.jsx("button",{onClick:xe,className:"text-gray-400 hover:text-white",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Business Name ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx(mt,{value:C.business_name,onChange:Q=>Ne("business_name",Q.target.value),placeholder:"Enter business name",className:"w-full bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Phone"}),r.jsx(mt,{value:C.phone,onChange:Q=>Ne("phone",Q.target.value),placeholder:"Enter phone number",className:"w-full bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),r.jsx(mt,{value:C.email,onChange:Q=>Ne("email",Q.target.value),placeholder:"Enter email address",type:"email",className:"w-full bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Website"}),r.jsx(mt,{value:C.website,onChange:Q=>Ne("website",Q.target.value),placeholder:"Enter website URL",className:"w-full bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Address"}),r.jsx(mt,{value:C.address,onChange:Q=>Ne("address",Q.target.value),placeholder:"Enter business address",className:"w-full bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Business Type"}),r.jsx(mt,{value:C.business_type,onChange:Q=>Ne("business_type",Q.target.value),placeholder:"Enter business type",className:"w-full bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Status"}),r.jsxs("select",{value:C.status,onChange:Q=>Ne("status",Q.target.value),className:"w-full px-3 py-2 border border-white/20 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white/5 text-white",children:[r.jsx("option",{value:"new",className:"bg-[#0e1340]",children:"New"}),r.jsx("option",{value:"contacted",className:"bg-[#0e1340]",children:"Contacted"}),r.jsx("option",{value:"interested",className:"bg-[#0e1340]",children:"Interested"}),r.jsx("option",{value:"not_interested",className:"bg-[#0e1340]",children:"Not Interested"})]})]})]})}),r.jsx("div",{className:"px-6 py-4 border-t border-white/10",children:r.jsxs("div",{className:"flex space-x-3",children:[r.jsx(be,{variant:"outline",onClick:xe,className:"flex-1 border-white/20 text-white hover:bg-white/10",children:"Cancel"}),r.jsx(be,{onClick:ce,className:"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white border-0",children:"Add Lead"})]})})]})})]}),S&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-[#0e1340] rounded-lg p-6 w-full max-w-md mx-4 border border-white/10",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("div",{className:"w-10 h-10 bg-red-500/20 rounded-full flex items-center justify-center",children:r.jsx(_u,{className:"h-5 w-5 text-red-400"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Delete Leads"}),r.jsx("p",{className:"text-sm text-gray-400",children:"This action cannot be undone"})]})]}),r.jsx("div",{className:"mb-6",children:r.jsxs("p",{className:"text-gray-300",children:["Are you sure you want to delete ",r.jsx("span",{className:"font-semibold text-white",children:h.length})," selected lead(s)? This will permanently remove them from your database."]})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(be,{variant:"outline",onClick:()=>P(!1),className:"flex-1 border-white/20 text-white hover:bg-white/10",children:"Cancel"}),r.jsxs(be,{onClick:nt,className:"flex-1 bg-red-600 hover:bg-red-700 text-white",children:["Delete ",h.length," Lead",h.length>1?"s":""]})]})]})}),r.jsx(pi,{open:T,onOpenChange:A,children:r.jsxs(Er,{className:"sm:max-w-md bg-[#0e1340] border border-white/10 text-white",children:[r.jsx(Oo,{children:r.jsx(Ar,{className:"text-white",children:"Add to Contact List"})}),r.jsxs("div",{className:"py-4",children:[r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:["Selected Leads (",h.length,")"]}),r.jsx("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto",children:ne.filter(Q=>h.includes(Q.id)).map(Q=>r.jsxs("div",{className:"flex items-center gap-2 bg-white/10 rounded-full px-3 py-1",children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-white text-xs font-medium ${ke(Q.business_name)}`,children:We(Q.business_name)}),r.jsx("span",{className:"text-sm text-gray-300",children:Q.business_name})]},Q.id))})]}),r.jsxs(be,{variant:"outline",className:"w-full mb-4 border-white/20 text-white hover:bg-white/10",onClick:()=>R(!0),children:[r.jsx(vr,{className:"h-4 w-4 mr-2"}),"Create New List"]}),r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx("input",{type:"checkbox",id:"addToExisting",checked:B,onChange:Q=>J(Q.target.checked),className:"rounded border-white/30"}),r.jsx("label",{htmlFor:"addToExisting",className:"text-sm text-gray-300 cursor-pointer",children:"Add to Existing List"})]}),B&&r.jsx("div",{className:"mb-4",children:z?r.jsx("div",{className:"text-center py-2",children:r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-500 mx-auto"})}):O.length===0?r.jsx("p",{className:"text-sm text-gray-400 text-center py-2",children:"No lists available. Create one first."}):r.jsxs(ns,{value:ee,onValueChange:X,children:[r.jsx(Gn,{className:"w-full bg-white/5 border-white/20 text-white",children:r.jsx(ss,{placeholder:"Select a list"})}),r.jsx(qn,{className:"bg-[#0e1340] border-white/10 text-white",children:O.map(Q=>r.jsxs(Ie,{value:String(Q.id),children:[Q.listName||Q.list_name," (",Q.contacts_count||0," contacts)"]},Q.id))})]})})]}),r.jsxs(ru,{children:[r.jsx(be,{variant:"outline",onClick:Qe,className:"border-white/20 text-white hover:bg-white/10",children:"Cancel"}),B&&ee&&r.jsx(be,{onClick:Le,disabled:oe,className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white border-0",children:oe?"Adding...":"Save"})]})]})}),r.jsx(pi,{open:k,onOpenChange:R,children:r.jsxs(Er,{className:"sm:max-w-md bg-[#0e1340] border border-white/10 text-white",children:[r.jsx(Oo,{children:r.jsx(Ar,{className:"text-white",children:"Create New List"})}),r.jsxs("div",{className:"py-4 space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["List Name ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx(mt,{value:re.list_name,onChange:Q=>V(Pe=>({...Pe,list_name:Q.target.value})),placeholder:"Enter list name",className:"w-full bg-white/5 border-white/20 text-white placeholder:text-gray-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Type"}),r.jsxs(ns,{value:re.type,onValueChange:Q=>V(Pe=>({...Pe,type:Q})),children:[r.jsx(Gn,{className:"w-full bg-white/5 border-white/20 text-white",children:r.jsx(ss,{placeholder:"Select type"})}),r.jsxs(qn,{className:"bg-[#0e1340] border-white/10 text-white",children:[r.jsx(Ie,{value:"Marketing",children:"Marketing"}),r.jsx(Ie,{value:"Sales",children:"Sales"}),r.jsx(Ie,{value:"Event",children:"Event"}),r.jsx(Ie,{value:"Customer",children:"Customer"}),r.jsx(Ie,{value:"General",children:"General"})]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["List Description ",r.jsx("span",{className:"text-red-400",children:"*"})]}),r.jsx("textarea",{value:re.list_description,onChange:Q=>V(Pe=>({...Pe,list_description:Q.target.value})),placeholder:"Enter list description",className:"w-full px-3 py-2 border border-white/20 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent min-h-[80px] bg-white/5 text-white placeholder:text-gray-500"})]})]}),r.jsxs(ru,{children:[r.jsx(be,{variant:"outline",onClick:Xe,className:"border-white/20 text-white hover:bg-white/10",children:"Cancel"}),r.jsx(be,{onClick:de,disabled:W,className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white border-0",children:W?"Creating...":"Create List"})]})]})})]})]})},QI=()=>{const t=Gs(),[e,n]=p.useState(null),[s,i]=p.useState([]),[a,l]=p.useState([]),[d,u]=p.useState({}),[h,f]=p.useState(!1),g=b=>{const _=b.target.files[0];if(!_)return;if(_.type!=="text/csv"&&!_.name.endsWith(".csv")){ie.error("Please select a CSV file");return}n(_);const w=new FileReader;w.onload=C=>{const S=C.target.result.split(`
`).filter(k=>k.trim());if(S.length<2){ie.error("CSV file must contain at least a header row and one data row");return}const P=S[0].split(",").map(k=>k.replace(/"/g,"").trim()),T=S.slice(1).map(k=>{const R=k.split(",").map(O=>O.replace(/"/g,"").trim());return P.reduce((O,M,z)=>(O[M]=R[z]||"",O),{})});l(P),i(T);const A={};P.forEach(k=>{const R=k.toLowerCase();R.includes("business")||R.includes("company")||R.includes("name")?A[k]="business_name":R.includes("phone")||R.includes("mobile")?A[k]="phone":R.includes("email")?A[k]="email":R.includes("website")||R.includes("url")?A[k]="website":R.includes("address")||R.includes("location")?A[k]="address":R.includes("type")||R.includes("category")?A[k]="business_type":R.includes("status")&&(A[k]="status")}),u(A)},w.readAsText(_)},x=(b,_)=>{u(w=>({...w,[b]:_}))},v=async()=>{if(Object.keys(d).length===0){ie.error("Please map at least one field");return}f(!0);try{const b=gt.getItem("token");if(!b){ie.error("Authentication required");return}const w=s.map(T=>{const A={};return Object.keys(d).forEach(k=>{const R=d[k];R&&R!=="skip"&&(A[R]=T[k]||"")}),{...A,latitude:null,longitude:null,place_id:`import_${Date.now()}_${Math.random()}`,search_query:"CSV Import",search_location:"CSV Import",rating:null,total_ratings:null}}).map(T=>fetch("https://ai.research-hero.com/api/leads-contacts/save",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify(T)})),C=await Promise.all(w),N=await Promise.all(C.map(T=>T.json())),S=N.filter(T=>T.success).length,P=N.length-S;S>0&&ie.success(`Successfully imported ${S} lead(s)`),P>0&&ie.error(`Failed to import ${P} lead(s)`),setTimeout(()=>{t("/leads-contacts")},2e3)}catch(b){console.error("Import leads error:",b),ie.error("Failed to import leads")}finally{f(!1)}};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsx("div",{className:"flex items-center justify-between h-16",children:r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>t("/leads-contacts"),className:"flex items-center gap-2",children:[r.jsx(Zg,{className:"h-4 w-4"}),"Back to Leads"]}),r.jsx("div",{className:"h-6 w-px bg-gray-300"}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(yo,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Import Leads"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Upload and map your CSV data"})]})]})]})})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(vo,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Upload CSV File"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Select a CSV file containing your leads data"})]})]}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[r.jsx(yo,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e?e.name:"Choose CSV File"}),r.jsx("p",{className:"text-gray-500 mb-4",children:e?`${s.length} records found`:"Select a CSV file to get started"}),r.jsx("input",{type:"file",accept:".csv",onChange:g,className:"hidden",id:"csv-upload"}),r.jsx("label",{htmlFor:"csv-upload",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer",children:e?"Choose Different File":"Choose CSV File"})]}),e&&r.jsxs("div",{className:"mt-6 bg-blue-50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[r.jsx(Jf,{className:"h-4 w-4"}),r.jsx("span",{className:"font-medium",children:"File uploaded successfully!"})]}),r.jsxs("p",{className:"text-blue-700 text-sm mt-1",children:["Found ",a.length," columns and ",s.length," records"]})]})]}),a.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(Jf,{className:"h-4 w-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Map CSV Fields"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Match your CSV columns to our system fields"})]})]}),r.jsx(be,{onClick:v,disabled:h||Object.keys(d).filter(b=>d[b]!=="skip").length===0,className:"bg-blue-600 hover:bg-blue-700 text-white",children:h?"Importing...":`Import ${s.length} Lead${s.length>1?"s":""}`})]}),r.jsx("div",{className:"space-y-4",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map((b,_)=>r.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[r.jsxs("div",{className:"mb-3",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CSV Column"}),r.jsx("div",{className:"text-sm font-semibold text-gray-900 bg-white px-3 py-2 rounded border",children:b})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Map to Field"}),r.jsxs("select",{value:d[b]||"",onChange:w=>x(b,w.target.value),className:"w-full p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[r.jsx("option",{value:"",children:"Select field to map"}),r.jsx("option",{value:"business_name",children:"Business Name"}),r.jsx("option",{value:"phone",children:"Phone"}),r.jsx("option",{value:"email",children:"Email"}),r.jsx("option",{value:"website",children:"Website"}),r.jsx("option",{value:"address",children:"Address"}),r.jsx("option",{value:"business_type",children:"Business Type"}),r.jsx("option",{value:"status",children:"Status"}),r.jsx("option",{value:"skip",children:"Skip this field"})]})]}),s.length>0&&r.jsxs("div",{className:"mt-3",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Sample Data"}),r.jsx("div",{className:"text-xs text-gray-600 bg-white px-2 py-1 rounded border truncate",children:s[0][b]||"No data"})]})]},_))})}),r.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"CSV Format Requirements:"}),r.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[r.jsx("li",{children:" First row should contain column headers"}),r.jsx("li",{children:" Supported fields: Business Name, Phone, Email, Website, Address, Business Type, Status"}),r.jsx("li",{children:" Use comma-separated values (.csv format)"}),r.jsx("li",{children:" Maximum file size: 10MB"})]})]})]})]})})]})},eD=()=>{var Pe,Ee,tt;const{id:t}=_x(),e=Gs(),{user:n}=Ni(),[s,i]=p.useState(null),[a,l]=p.useState(!0),[d,u]=p.useState("sms"),[h,f]=p.useState(!1),[g,x]=p.useState({}),[v,b]=p.useState([]),[_,w]=p.useState(""),[C,N]=p.useState("sms"),[S,P]=p.useState(!1),[T,A]=p.useState([]),[k,R]=p.useState(!1),[O,M]=p.useState([]),[z,F]=p.useState([]),[B,J]=p.useState(""),[ee,X]=p.useState(""),[oe,q]=p.useState(!1),[re,V]=p.useState(null),[W,G]=p.useState(!0),[$,U]=p.useState(null),[ye,_e]=p.useState(!0),[ne,pe]=p.useState(!1);p.useEffect(()=>{const H=document.querySelector("#application-theme section > div.flex-1");if(H){const se=H.style.overflow;return H.style.overflow="hidden",()=>{H.style.overflow=se}}},[]);const Ae=[{value:"new",label:"New",color:"bg-blue-100 text-blue-800"},{value:"contacted",label:"Contacted",color:"bg-yellow-100 text-yellow-800"},{value:"qualified",label:"Qualified",color:"bg-green-100 text-green-800"},{value:"proposal",label:"Proposal",color:"bg-purple-100 text-purple-800"},{value:"closed",label:"Closed",color:"bg-gray-100 text-gray-800"},{value:"lost",label:"Lost",color:"bg-red-100 text-red-800"}],{data:K,isLoading:he,isError:ce,error:Ne}=Ka({queryKey:["lead",t],queryFn:async()=>{const H=gt.getItem("token");if(!H)throw new Error("No token");const me=await(await fetch(`https://ai.research-hero.com/api/leads-contacts/getleadsbyid/${t}`,{headers:{Authorization:`Bearer ${H}`,"Content-Type":"application/json"}})).json();if(!me.success)throw new Error(me.message);return me.lead}}),{data:xe}=Ka({queryKey:["lead-messages",t],queryFn:async()=>{const H=gt.getItem("token");if(!H)return{sms:[],whatsapp:[]};const me=await(await fetch(`https://ai.research-hero.com/api/leads-contacts/${t}/messages`,{headers:{Authorization:`Bearer ${H}`,"Content-Type":"application/json"}})).json();if(!me.success)throw new Error(me.message);return me.data},refetchInterval:3e3,enabled:!!t});p.useEffect(()=>{if(K&&(i(K),h||x(K),!h)){const H=K.tags||[];M(H),z.length===0&&F(H.map(se=>se.tag_id))}},[K,h]),p.useEffect(()=>{ce&&(console.error("Load lead error:",Ne),ie.error("Failed to load lead details"))},[ce,Ne]),p.useEffect(()=>{l(he&&!s)},[he,s]),p.useEffect(()=>{Fe(),Re()},[t]),p.useEffect(()=>{const H=(xe==null?void 0:xe.sms)||(s==null?void 0:s.sms_messages),se=(xe==null?void 0:xe.whatsapp)||(s==null?void 0:s.whatsapp_messages);let me=[];if(se)try{const D=typeof se=="string"?JSON.parse(se):se;me=[...me,...D.map(le=>({id:le.id,text:le.content,type:"whatsapp",timestamp:new Date(le.timestamp),sent:le.sender==="user",status:le.status}))]}catch(D){console.error("Error parsing WhatsApp messages:",D)}if(H)try{const D=typeof H=="string"?JSON.parse(H):H;me=[...me,...D.map(le=>({id:le.id,text:le.content,type:"sms",timestamp:new Date(le.timestamp),sent:le.sender==="user",status:le.status}))]}catch(D){console.error("Error parsing SMS messages:",D)}me.length>0&&(me.sort((D,le)=>D.timestamp-le.timestamp),b(me))},[s==null?void 0:s.whatsapp_messages,s==null?void 0:s.sms_messages,xe==null?void 0:xe.whatsapp,xe==null?void 0:xe.sms]);const Re=async()=>{var H;try{_e(!0);const se=await Ce.get("/api/whatsapp/auth/status");se.data.success&&se.data.data.isConnected?U(((H=se.data.data.profile)==null?void 0:H.email)||null):U(null)}catch(se){console.error("Error fetching WhatsApp status:",se),U(null)}finally{_e(!1)}},Fe=async()=>{var H;try{G(!0);const se=await Ce.get("/api/integration-gmail/auth/status");se.data.success&&se.data.data.isConnected?V(((H=se.data.data.profile)==null?void 0:H.email)||null):V(null)}catch(se){console.error("Error fetching Gmail status:",se),V(null)}finally{G(!1)}};p.useEffect(()=>{h&&We()},[h]);const We=async()=>{var H;try{if(R(!0),console.log(" Frontend: User from AuthContext:",n),!n||!n.id){console.log(" Frontend: No user found in AuthContext");return}console.log(" Frontend: Making API call to get tags for user ID:",n.id);const se=await Ce.get(`/api/tags/get-tags-by-user/${n.id}`);console.log(" Frontend: API response:",se.data),se.data.success?(console.log(" Frontend: Setting tags:",se.data.data),A(se.data.data)):console.log(" Frontend: API returned success=false:",se.data.message)}catch(se){console.error(" Frontend: Error fetching tags:",se),console.log(" Frontend: Error details:",(H=se.response)==null?void 0:H.data),ie.error("Failed to load tags")}finally{R(!1)}},ke=H=>{F(se=>se.includes(H)?se.filter(me=>me!==H):[...se,H])},Ge=async()=>{try{if((await Ce.post(`/api/leads-contacts/${t}/tags`,{tag_ids:z})).data.success){const se=T.filter(me=>z.includes(me.tag_id));M(se),ie.success("Tags updated successfully")}}catch(H){console.error("Error updating tags:",H),ie.error("Failed to update tags")}},Ke=async H=>{try{(await Ce.delete(`/api/leads-contacts/${t}/tags/${H}`)).data.success&&(M(me=>me.filter(D=>D.tag_id!==H)),F(me=>me.filter(D=>D!==H)),ie.success("Tag removed successfully"))}catch(se){console.error("Error removing tag:",se),ie.error("Failed to remove tag")}},st=H=>H?new Date(H).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",rn=H=>{const se=Ae.find(me=>me.value===H);return se?se.color:"bg-gray-100 text-gray-800"},nt=H=>H?H.split(" ").map(se=>se[0]).join("").toUpperCase().slice(0,2):"L",dt=H=>{if(!H)return"bg-blue-500";const se=["bg-blue-500","bg-green-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-yellow-500","bg-red-500","bg-teal-500"],me=H.charCodeAt(0)%se.length;return se[me]},rt=()=>{f(!0)},jt=async()=>{try{const H=gt.getItem("token"),me=await(await fetch(`https://ai.research-hero.com/api/leads-contacts/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${H}`,"Content-Type":"application/json"},body:JSON.stringify(g)})).json();me.success?(i(g),f(!1),ie.success("Lead updated successfully")):ie.error(me.message||"Failed to update lead")}catch(H){console.error("Update lead error:",H),ie.error("Failed to update lead")}},ut=()=>{x(s),f(!1)},Ct=(H,se)=>{x(me=>({...me,[H]:se}))},de=()=>{s!=null&&s.phone&&window.open(`tel:${s.phone}`,"_self")},Le=()=>{s!=null&&s.email&&(N("email"),u("conversation"))},Qe=()=>{s!=null&&s.phone&&(N("sms"),u("sms"))},Xe=()=>{s!=null&&s.phone&&(N("whatsapp"),u("whatsapp"))},pt=()=>{s!=null&&s.website&&window.open(s.website.startsWith("http")?s.website:`https://${s.website}`,"_blank")},ot=async()=>{if(_.trim())if(C==="sms")try{P(!0);const H=gt.getItem("token"),me=await(await fetch(`https://ai.research-hero.com/api/leads-contacts/${t}/sms`,{method:"POST",headers:{Authorization:`Bearer ${H}`,"Content-Type":"application/json"},body:JSON.stringify({message:_.trim()})})).json();if(me.success){const D={id:Date.now(),text:_,type:"sms",timestamp:new Date,sent:!0,status:"sent"};b(le=>[...le,D]),w(""),ie.success("SMS sent successfully")}else ie.error(me.message||"Failed to send SMS")}catch(H){console.error("Send SMS error:",H),ie.error("Failed to send SMS")}finally{P(!1)}else if(C==="whatsapp"){if(!$){ie.error("Please connect your WhatsApp account in Integrations first");return}try{pe(!0);const H=await Ce.post("/api/whatsapp/send-message",{to:s.phone,message:_.trim(),leadId:s.id});if(H.data.success){const se={id:Date.now(),text:_,type:"whatsapp",timestamp:new Date,sent:!0,status:"sent"};b(me=>[...me,se]),w(""),ie.success("WhatsApp message sent successfully")}else ie.error(H.data.message||"Failed to send WhatsApp message")}catch(H){console.error("Send WhatsApp error:",H),ie.error("Failed to send WhatsApp message")}finally{pe(!1)}}else{const H={id:Date.now(),text:_,type:C,timestamp:new Date,sent:!0};b(se=>[...se,H]),w(""),ie.success(`${C.toUpperCase()} sent successfully`)}},ge=async()=>{var H,se;if(!B.trim()){ie.error("Please enter email subject");return}if(!ee.trim()){ie.error("Please enter email message");return}if(!re){ie.error("Please connect your Gmail account in Integrations first");return}if(!(s!=null&&s.email)){ie.error("This lead does not have an email address");return}try{q(!0);const me=await Ce.post("/api/integration-gmail/send",{to:s.email,subject:B.trim(),body:ee.trim()});if(me.data.success){const D={id:Date.now(),text:`Subject: ${B}

${ee}`,type:"email",timestamp:new Date,sent:!0,from:re,to:s.email};b(le=>[...le,D]),J(""),X(""),ie.success("Email sent successfully!")}else ie.error(me.data.message||"Failed to send email")}catch(me){console.error("Send email error:",me),ie.error(((se=(H=me.response)==null?void 0:H.data)==null?void 0:se.message)||"Failed to send email")}finally{q(!1)}},Q=async H=>{try{const se=gt.getItem("token"),D=await(await fetch(`https://ai.research-hero.com/api/leads-contacts/${t}/status`,{method:"PUT",headers:{Authorization:`Bearer ${se}`,"Content-Type":"application/json"},body:JSON.stringify({status:H})})).json();D.success?(i(le=>({...le,status:H})),ie.success("Status updated successfully")):ie.error(D.message||"Failed to update status")}catch(se){console.error("Update status error:",se),ie.error("Failed to update status")}};return a?r.jsx("div",{className:"h-screen app-shell-bg flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500"})}):s?r.jsxs("div",{className:"h-full w-full bg-[#0b0f2e] flex flex-col overflow-hidden relative",children:[r.jsx("div",{className:"bg-[#0b0f2e]/90 backdrop-blur-sm border-b border-white/10 px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(be,{variant:"ghost",size:"sm",onClick:()=>e("/leads-contacts"),className:"flex items-center space-x-2 text-white hover:bg-white/10",children:[r.jsx(uI,{className:"h-4 w-4"}),r.jsx("span",{children:"Back to Leads"})]}),r.jsx("div",{className:"h-6 w-px bg-white/20"}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium ${dt(s==null?void 0:s.business_name)}`,children:nt(s==null?void 0:s.business_name)}),r.jsx("h1",{className:"text-xl font-bold text-white",children:(s==null?void 0:s.business_name)||"Lead Details"}),r.jsx(Cn,{className:`${rn(s==null?void 0:s.status)} px-2 py-1 text-xs font-medium`,children:((Pe=s==null?void 0:s.status)==null?void 0:Pe.replace("_"," ").toUpperCase())||"NEW"})]})]}),r.jsx("div",{className:"flex items-center space-x-2",children:h?r.jsxs(r.Fragment,{children:[r.jsxs(be,{variant:"outline",size:"sm",onClick:ut,className:"flex items-center space-x-2 border-white/20 text-white hover:bg-white/10",children:[r.jsx(Ag,{className:"h-4 w-4"}),r.jsx("span",{children:"Cancel"})]}),r.jsxs(be,{size:"sm",onClick:jt,className:"flex items-center space-x-2 bg-gradient-to-r from-indigo-600 to-purple-600",children:[r.jsx(mI,{className:"h-4 w-4"}),r.jsx("span",{children:"Save"})]})]}):r.jsxs(be,{variant:"outline",size:"sm",onClick:rt,className:"flex items-center bg-gradient-to-r from-indigo-600 to-purple-600 space-x-2 border-white/20 text-white hover:bg-white/10",children:[r.jsx(vu,{className:"h-4 w-4"}),r.jsx("span",{children:"Edit"})]})})]})}),r.jsxs("div",{className:"flex-1 flex min-h-0 overflow-hidden",children:[r.jsxs("div",{className:"w-80 border-r border-white/10 flex flex-col h-full min-h-0 star-background",children:[r.jsx("div",{className:"p-4 border-b border-white/10",children:r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("button",{variant:"outline",size:"sm",onClick:de,disabled:!(s!=null&&s.phone),className:"flex items-center rounded-lg  bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))] justify-center space-x-2 h-10 border-white/20 text-white hover:bg-white/10",children:[r.jsx(xo,{className:"h-4 w-4 stroke-2"}),r.jsx("span",{children:"Call"})]}),r.jsxs("button",{variant:"outline",size:"sm",onClick:Qe,disabled:!(s!=null&&s.phone),className:"flex items-center rounded-lg  bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))] justify-center space-x-2 h-10 border-white/20 text-white hover:bg-white/10",children:[r.jsx(Ea,{className:"h-4 w-4 stroke-2"}),r.jsx("span",{children:"SMS"})]}),r.jsxs("button",{variant:"outline",size:"sm",onClick:Le,disabled:!(s!=null&&s.email),className:"flex items-center rounded-lg  bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))] justify-center space-x-2 h-10 border-white/20 text-white hover:bg-white/10",children:[r.jsx(po,{className:"h-4 w-4 stroke-2 "}),r.jsx("span",{children:"Email"})]}),r.jsxs("button",{variant:"outline",size:"sm",onClick:pt,disabled:!(s!=null&&s.website),className:"flex items-center rounded-lg  bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))] justify-center space-x-2 h-10 border-white/20 text-white hover:bg-white/10",children:[r.jsx(go,{className:"h-4 w-4 stroke-2"}),r.jsx("span",{children:"Website"})]})]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 neon-fire-scroll space-y-4",children:[r.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 flex items-center space-x-4",children:[r.jsx("div",{className:`w-10 h-10 flex items-center justify-center text-white text-[12px] font-bold ${dt(s==null?void 0:s.business_name)} rounded-full `,children:nt(s==null?void 0:s.business_name)}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("h2",{className:"text-white font-bold truncate leading-tight",children:(s==null?void 0:s.business_name)||"Anonymous Business"}),r.jsxs("div",{className:"flex items-center mt-1",children:[r.jsx("div",{className:`h-2 w-2 rounded-full mr-2 ${(s==null?void 0:s.status)==="new"?"bg-blue-400":"bg-green-400 animate-pulse"}`}),r.jsx("span",{className:"text-[10px] text-white/50 uppercase tracking-widest font-bold",children:((Ee=s==null?void 0:s.status)==null?void 0:Ee.replace("_"," "))||"NEW"})]})]})]}),(h||O.length>0)&&r.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 text-indigo-400",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Hw,{className:"h-4 w-4"}),r.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Classification Tags"})]}),h&&r.jsx("button",{onClick:Ge,className:"text-[10px] bg-indigo-600 hover:bg-indigo-500 text-white px-2 py-0.5 rounded transition-colors",children:"Sync"})]}),h?r.jsx("div",{className:"space-y-2",children:k?r.jsx("div",{className:"flex items-center justify-center py-2",children:r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-500"})}):r.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto custom-scrollbar pr-1",children:T.map(H=>r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-white/5 p-1.5 rounded-md border border-transparent hover:border-white/10 transition-all",children:[r.jsx("input",{type:"checkbox",checked:z.includes(H.tag_id),onChange:()=>ke(H.tag_id),className:"h-3.5 w-3.5 text-indigo-500 focus:ring-indigo-500 border-white/30 bg-white/5 rounded"}),r.jsx("span",{className:"text-xs text-white/80",children:H.tag_name})]},H.tag_id))})}):r.jsx("div",{className:"flex flex-wrap gap-1.5",children:O.map(H=>r.jsxs(Cn,{variant:"secondary",className:"text-[10px] py-0 px-2 flex items-center space-x-1 bg-indigo-500/10 text-indigo-300 border border-indigo-500/20",children:[r.jsx("span",{children:H.tag_name}),r.jsx("button",{onClick:()=>Ke(H.tag_id),className:"hover:text-red-400 transition-colors",children:r.jsx(Ag,{className:"h-2.5 w-2.5"})})]},H.tag_id))})]}),r.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-5 space-y-5",children:[r.jsxs("h3",{className:"text-xs font-bold text-indigo-400 uppercase tracking-widest flex items-center space-x-2",children:[r.jsx(Uw,{className:"h-4 w-4"}),r.jsx("span",{children:"Primary Information"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-[10px] font-bold text-white/40 uppercase tracking-wider mb-1 px-1",children:"Business Name"}),h?r.jsx(mt,{value:g.business_name||"",onChange:H=>Ct("business_name",H.target.value),className:"h-8 text-xs bg-white/5 border-white/10 text-white focus:border-indigo-500/50"}):r.jsx("div",{className:"flex items-center space-x-3 px-1",children:r.jsx("div",{className:"text-sm text-white font-medium",children:s.business_name||"N/A"})})]}),r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-[10px] font-bold text-white/40 uppercase tracking-wider mb-1 px-1",children:"Phone Number"}),h?r.jsx(mt,{value:g.phone||"",onChange:H=>Ct("phone",H.target.value),className:"h-8 text-xs bg-white/5 border-white/10 text-white focus:border-indigo-500/50"}):r.jsxs("div",{className:"flex items-center space-x-2 text-white/80 hover:text-white transition-colors px-1",children:[r.jsx(xo,{className:"h-3.5 w-3.5 text-indigo-400"}),r.jsx("span",{className:"text-sm underline decoration-white/20 underline-offset-4",children:s.phone||"N/A"})]})]}),r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-[10px] font-bold text-white/40 uppercase tracking-wider mb-1 px-1",children:"Email Address"}),h?r.jsx(mt,{value:g.email||"",onChange:H=>Ct("email",H.target.value),className:"h-8 text-xs bg-white/5 border-white/10 text-white focus:border-indigo-500/50"}):r.jsxs("div",{className:"flex items-center space-x-2 text-white/80 hover:text-white transition-colors px-1",children:[r.jsx(po,{className:"h-3.5 w-3.5 text-indigo-400"}),r.jsx("span",{className:"text-sm truncate",children:s.email||"N/A"})]})]}),r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-[10px] font-bold text-white/40 uppercase tracking-wider mb-1 px-1",children:"Official Website"}),h?r.jsx(mt,{value:g.website||"",onChange:H=>Ct("website",H.target.value),className:"h-8 text-xs bg-white/5 border-white/10 text-white focus:border-indigo-500/50"}):r.jsxs("a",{href:(tt=s.website)!=null&&tt.startsWith("http")?s.website:`https://${s.website}`,target:"_blank",rel:"noreferrer",className:"flex items-center space-x-2 text-indigo-400 hover:text-indigo-300 transition-colors px-1",children:[r.jsx(go,{className:"h-3.5 w-3.5"}),r.jsx("span",{className:"text-sm truncate",children:s.website||"N/A"})]})]}),r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-[10px] font-bold text-white/40 uppercase tracking-wider mb-1 px-1",children:"Location / Address"}),h?r.jsx(mt,{value:g.address||"",onChange:H=>Ct("address",H.target.value),className:"h-8 text-xs bg-white/5 border-white/10 text-white focus:border-indigo-500/50"}):r.jsxs("div",{className:"flex items-start space-x-2 text-white/70 px-1 leading-relaxed",children:[r.jsx(bl,{className:"h-3.5 w-3.5 text-indigo-400 mt-1 flex-shrink-0"}),r.jsx("span",{className:"text-xs italic",children:s.address||"N/A"})]})]})]})]}),(s.business_type||s.rating||s.total_ratings||h)&&r.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-5 space-y-4 shadow-sm",children:[r.jsxs("h3",{className:"text-xs font-bold text-indigo-400 uppercase tracking-widest flex items-center space-x-2",children:[r.jsx(yu,{className:"h-4 w-4"}),r.jsx("span",{children:"Business Intelligence"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"group",children:[r.jsx("label",{className:"block text-[10px] font-bold text-white/40 uppercase tracking-wider mb-1 px-1",children:"Industry / Category"}),h?r.jsx(mt,{value:g.business_type||"",onChange:H=>Ct("business_type",H.target.value),className:"h-8 text-xs bg-white/5 border-white/10 text-white focus:border-indigo-500/50"}):r.jsx("div",{className:"text-sm text-indigo-200/90 font-medium px-1 underline decoration-indigo-500/30 underline-offset-4 decoration-2",children:s.business_type||"General Lead"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-[10px] font-bold text-white/40 uppercase tracking-wider mb-1 px-1",children:"Market Reputation"}),r.jsxs("div",{className:"flex items-center space-x-2 px-1",children:[r.jsxs("div",{className:"flex bg-indigo-500/10 px-2 py-1 rounded border border-indigo-500/20",children:[r.jsx("span",{className:"text-sm font-bold text-indigo-400 mr-1",children:s.rating||"0.0"}),r.jsx(yu,{className:"h-3.5 w-3.5 text-yellow-500 fill-yellow-500 mt-0.5"})]}),r.jsx("span",{className:"text-[11px] text-white/40",children:s.total_ratings?`${s.total_ratings} verified reviews`:"No reviews recorded"})]})]})]})]}),(s.search_query||s.search_location||h)&&r.jsxs("div",{className:"bg-indigo-500/5 border border-indigo-500/10 rounded-xl p-5 space-y-4",children:[r.jsxs("h3",{className:"text-xs font-bold text-indigo-400 uppercase tracking-widest flex items-center space-x-2",children:[r.jsx(go,{className:"h-4 w-4"}),r.jsx("span",{children:"Source & Acquisition"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-[10px] font-bold text-white/40 uppercase tracking-wider mb-1 px-1",children:"Discovery Query"}),r.jsxs("div",{className:"text-sm text-white/80 bg-black/20 p-2 rounded-lg border border-white/5 font-mono italic",children:['"',s.search_query||"Direct Entry",'"']})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-[10px] font-bold text-white/40 uppercase tracking-wider mb-1 px-1",children:"Geographic Targeting"}),r.jsxs("div",{className:"flex items-center space-x-2 px-1",children:[r.jsx(bl,{className:"h-3.5 w-3.5 text-indigo-400"}),r.jsx("span",{className:"text-sm text-white/80",children:s.search_location||"Global"})]})]})]})]}),r.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-5 space-y-4",children:[r.jsxs("h3",{className:"text-xs font-bold text-white/40 uppercase tracking-widest flex items-center space-x-2",children:[r.jsx(_I,{className:"h-4 w-4"}),r.jsx("span",{children:"Engagement Timeline"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[r.jsxs("div",{className:"flex items-center justify-between group",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-green-500"}),r.jsx("label",{className:"text-[10px] font-bold text-white/40 uppercase tracking-wider",children:"Entry Date"})]}),r.jsx("div",{className:"text-xs text-white/90 font-medium px-2 py-1 bg-white/5 rounded border border-white/5",children:st(s.created_at)})]}),s.updated_at&&s.updated_at!==s.created_at&&r.jsxs("div",{className:"flex items-center justify-between group",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-indigo-500"}),r.jsx("label",{className:"text-[10px] font-bold text-white/40 uppercase tracking-wider",children:"Last Sync"})]}),r.jsx("div",{className:"text-xs text-white/90 font-medium px-2 py-1 bg-white/5 rounded border border-white/5",children:st(s.updated_at)})]})]})]})]})]}),r.jsxs("div",{className:"flex-1 backdrop-blur-sm flex flex-col h-full min-h-0 overflow-hidden",children:[r.jsx("div",{className:"border-b border-white/10 px-6 py-3",children:r.jsxs("div",{className:"flex space-x-6",children:[r.jsx("button",{onClick:()=>{u("sms"),N("sms")},className:`pb-2 text-sm font-medium border-b-2 transition-colors ${d==="sms"?"border-indigo-500 text-indigo-400":"border-transparent text-white/50 hover:text-white/70"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Ea,{className:"h-4 w-4 stroke-2"}),r.jsx("span",{children:"SMS"})]})}),r.jsx("button",{onClick:()=>{u("email"),N("email")},className:`pb-2 text-sm font-medium border-b-2 transition-colors ${d==="email"?"border-indigo-500 text-indigo-400":"border-transparent text-white/50 hover:text-white/70"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(po,{className:"h-4 w-4 stroke-2"}),r.jsx("span",{children:"Email"})]})}),r.jsx("button",{onClick:Xe,className:`pb-2 text-sm font-medium border-b-2 transition-colors ${d==="whatsapp"?"border-indigo-500 text-indigo-400":"border-transparent text-white/50 hover:text-white/70"}`,children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-6",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25Z"})}),r.jsx("span",{children:"Whatsapp"})]})})]})}),r.jsx("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:d==="sms"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 chat-scroll-area neon-fire-scroll",children:[r.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(Ea,{className:"h-5 w-5 text-indigo-400"}),r.jsxs("span",{className:"font-medium text-white",children:["SMS to ",s==null?void 0:s.phone]})]}),r.jsx("p",{className:"text-sm text-white/60",children:"Send SMS message to this lead via Twilio"}),r.jsxs("p",{className:"text-xs text-white/40 mt-1",children:["From: ","+13465940138"]})]}),r.jsx("div",{className:"space-y-3",children:v.filter(H=>H.type==="sms").length===0?r.jsxs("div",{className:"text-center text-white/50 mt-8",children:[r.jsx(Ea,{className:"h-12 w-12 mx-auto mb-4 text-white/30"}),r.jsx("p",{children:"No SMS messages yet. Send your first message!"})]}):v.filter(H=>H.type==="sms").map(H=>r.jsx("div",{className:`flex ${H.sent?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-xs px-3 py-2 rounded-2xl ${H.sent?"bg-indigo-600 text-white":"bg-white/10 text-white border border-white/10"}`,children:[r.jsx("p",{className:"text-sm",children:H.text}),r.jsx("p",{className:"text-xs mt-1 opacity-75",children:st(H.timestamp)})]})},H.id))})]}),r.jsxs("div",{className:"flex-shrink-0 border-t border-white/5 p-4",children:[r.jsxs("div",{className:"relative flex items-center group",children:[r.jsx(mt,{value:_,onChange:H=>w(H.target.value),placeholder:"Type SMS message...",className:"flex-1 h-11 bg-white/5 border-white/10 text-white placeholder:text-white/30 focus:border-indigo-500/50 focus:ring-0 pr-12 transition-all duration-300 group-hover:bg-white/[0.07] rounded-xl",disabled:S||!(s!=null&&s.phone),onKeyDown:H=>{H.key==="Enter"&&!H.shiftKey&&(H.preventDefault(),ot())}}),r.jsx("button",{onClick:ot,disabled:!_.trim()||S||!(s!=null&&s.phone),className:`absolute right-1.5 h-8 w-8 flex items-center justify-center rounded-lg transition-all duration-300 ${!_.trim()||S||!(s!=null&&s.phone)?"text-white/20 bg-transparent":"bg-indigo-600 text-white hover:bg-indigo-500 shadow-lg shadow-indigo-600/20"}`,children:S?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):r.jsx(id,{className:"h-4 w-4"})})]}),!(s!=null&&s.phone)&&r.jsx("p",{className:"text-xs text-red-400 mt-2",children:"This lead does not have a phone number"})]})]}):d==="whatsapp"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 chat-scroll-area neon-fire-scroll",children:[r.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-green-500",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25Z"})}),r.jsxs("span",{className:"font-medium text-white",children:["WhatsApp to ",s==null?void 0:s.phone]})]}),r.jsx("div",{className:"space-y-1",children:ye?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-500"}),r.jsx("span",{className:"text-xs text-white/50",children:"Checking connection..."})]}):$?r.jsxs("p",{className:"text-xs text-white/60",children:["From connected number: ",r.jsx("span",{className:"text-green-400 font-medium",children:$})]}):r.jsxs("p",{className:"text-xs text-red-400 italic",children:["WhatsApp not connected. Please connect in ",r.jsx("a",{href:"/integrations",className:"underline hover:text-red-300",children:"Integrations"}),"."]})})]}),r.jsx("div",{className:"space-y-3",children:v.filter(H=>H.type==="whatsapp").length===0?r.jsxs("div",{className:"text-center text-white/50 mt-8",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"h-12 w-12 mx-auto mb-4 text-white/30",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25Z"})}),r.jsx("p",{children:"No WhatsApp messages yet. Send your first message!"})]}):v.filter(H=>H.type==="whatsapp").map(H=>r.jsx("div",{className:`flex ${H.sent?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-xs px-3 py-2 rounded-2xl ${H.sent?"bg-green-600 text-white":"bg-white/10 text-white border border-white/10"}`,children:[r.jsx("p",{className:"text-sm",children:H.text}),r.jsx("p",{className:"text-xs mt-1 opacity-75",children:st(H.timestamp)})]})},H.id))})]}),r.jsxs("div",{className:"flex-shrink-0 border-t border-white/5 p-4",children:[r.jsxs("div",{className:"relative flex items-center group",children:[r.jsx(mt,{value:_,onChange:H=>w(H.target.value),placeholder:$?"Type WhatsApp message...":"Type message to send via WhatsApp Web...",className:`flex-1 h-11 bg-white/5 border-white/10 text-white placeholder:text-white/30 transition-all duration-300 group-hover:bg-white/[0.07] rounded-xl pr-12 focus:ring-0 ${$?"focus:border-green-500/50":"focus:border-emerald-500/50"}`,disabled:ne||!(s!=null&&s.phone),onKeyDown:H=>{H.key==="Enter"&&!H.shiftKey&&(H.preventDefault(),ot())}}),r.jsx("button",{onClick:ot,disabled:!_.trim()||ne||!(s!=null&&s.phone),className:`absolute right-1.5 h-8 w-8 flex items-center justify-center rounded-lg transition-all duration-300 ${!_.trim()||ne||!(s!=null&&s.phone)?"text-white/20 bg-transparent":$?"bg-green-600 text-white hover:bg-green-500 shadow-lg shadow-green-600/20":"bg-emerald-600 text-white hover:bg-emerald-500 shadow-lg shadow-emerald-600/20"}`,title:$?"Send via Twilio":"Open in WhatsApp Web",children:ne?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):$?r.jsx(id,{className:"h-4 w-4"}):r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})})})]}),!$&&!ye&&r.jsxs("p",{className:"text-[10px] text-emerald-500/80 mt-2 px-1 flex items-center gap-1 font-medium",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-3 h-3",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),"Using direct link because Twilio is not connected."]}),!(s!=null&&s.phone)&&r.jsx("p",{className:"text-[10px] text-red-500 font-medium mt-2 px-1",children:"This lead does not have a phone number"})]})]}):d==="email"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex-1 overflow-y-auto p-6 chat-scroll-area star-background custom-scrollbar",children:[r.jsx("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 mb-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm font-medium text-white/50 w-12",children:"From:"}),W?r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-indigo-500"}),r.jsx("span",{className:"text-sm text-white/50",children:"Loading..."})]}):re?r.jsx("span",{className:"text-sm text-white",children:re}):r.jsxs("span",{className:"text-sm text-red-400",children:["Gmail not connected. ",r.jsx("a",{href:"/integrations",className:"text-indigo-400 hover:underline",children:"Connect in Integrations"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm font-medium text-white/50 w-12",children:"To:"}),r.jsx("span",{className:"text-sm text-white",children:(s==null?void 0:s.email)||"No email address"})]})]})}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"relative group",children:r.jsx(mt,{placeholder:"Subject",className:"w-full h-11 bg-white/5 border-white/10 text-white placeholder:text-white/30 rounded-xl focus:border-indigo-500/50 focus:ring-0 transition-all duration-300 group-hover:bg-white/[0.07] px-4",value:B,onChange:H=>J(H.target.value),disabled:oe||!re})}),r.jsx("div",{className:"relative group",children:r.jsx("textarea",{rows:6,placeholder:"Type your email message...",className:"w-full p-4 bg-white/5 border border-white/10 text-white placeholder:text-white/30 rounded-xl focus:outline-none focus:border-indigo-500/50 focus:ring-0 transition-all duration-300 group-hover:bg-white/[0.07] resize-none text-sm",value:ee,onChange:H=>X(H.target.value),disabled:oe||!re})})]}),v.filter(H=>H.type==="email").length>0&&r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Sent Emails"}),r.jsx("div",{className:"space-y-3",children:v.filter(H=>H.type==="email").map(H=>r.jsxs("div",{className:"bg-indigo-500/10 rounded-lg p-3 border border-indigo-500/30",children:[r.jsx("p",{className:"text-sm text-white whitespace-pre-wrap",children:H.text}),r.jsx("p",{className:"text-xs text-white/50 mt-2",children:st(H.timestamp)})]},H.id))})]})]}),r.jsx("div",{className:"flex-shrink-0 border-t border-white/5 p-4",children:r.jsxs("div",{className:"flex justify-end items-center space-x-3",children:[!re&&!W?r.jsx("p",{className:"text-[10px] text-red-500 font-medium px-1",children:"Connect Gmail to send emails"}):s!=null&&s.email?null:r.jsx("p",{className:"text-[10px] text-red-500 font-medium px-1",children:"This lead has no email"}),r.jsxs("button",{onClick:ge,disabled:!B.trim()||!ee.trim()||oe||!re||!(s!=null&&s.email),className:`h-11 px-6 rounded-xl flex items-center space-x-2 transition-all duration-300 ${!B.trim()||!ee.trim()||oe||!re||!(s!=null&&s.email)?"bg-white/5 text-white/20":"bg-indigo-600 text-white hover:bg-indigo-500 shadow-lg shadow-indigo-600/20"}`,children:[oe?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):r.jsx(id,{className:"h-4 w-4"}),r.jsx("span",{className:"text-sm font-bold uppercase tracking-widest",children:oe?"Sending...":"Send"})]})]})})]}):r.jsx("div",{className:"flex-1 overflow-y-auto p-6 chat-scroll-area star-background custom-scrollbar",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-green-500/20 rounded-full flex items-center justify-center",children:r.jsx(HI,{className:"h-4 w-4 text-green-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-white",children:"Lead created"}),r.jsx("p",{className:"text-xs text-white/50",children:st(s.created_at)})]})]}),s.updated_at&&s.updated_at!==s.created_at&&r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-indigo-500/20 rounded-full flex items-center justify-center",children:r.jsx(vu,{className:"h-4 w-4 text-indigo-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm text-white",children:"Lead updated"}),r.jsx("p",{className:"text-xs text-white/50",children:st(s.updated_at)})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsx("h4",{className:"text-sm font-medium text-white mb-3",children:"Update Status"}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:Ae.map(H=>r.jsx(be,{variant:"outline",size:"sm",onClick:()=>Q(H.value),className:`text-xs border-white/20 text-white hover:bg-white/10 ${s.status===H.value?H.color:""}`,children:H.label},H.value))})]})]})})})]})]})]}):r.jsx("div",{className:"h-screen app-shell-bg flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Lead not found"}),r.jsx(be,{onClick:()=>e("/leads-contacts"),className:"bg-gradient-to-r from-indigo-600 to-purple-600",children:"Back to Leads"})]})})},tD=6,nD=({study:t})=>{var g;const[e,n]=p.useState(0),[s,i]=p.useState({}),[a,l]=p.useState(!1);if(!t)return null;const d=x=>new Promise(v=>setTimeout(v,x)),u=(x,v,b,_)=>({nctId:t.protocolSection.identificationModule.nctId,phase:x.phase,studyType:x.studyType,conditionCount:x.conditionCount,eligibilityLength:x.eligibilityLength,durationMonths:x.durationMonths,complexityLabel:x.complexityLabel,difficultyLabel:v.label,enrollment:x.enrollment,cpe:b.cpe,estimatedTotalCost:b.estimatedTotalCost,confidence:_.confidence,geo:"US",siteCount:10}),h=async()=>{try{l(!0),i({}),n(1);const x=await Ce.post("/api/studies/analyze-protocol",{study:t});i(x.data),await d(500),n(2);const v=await Ce.post("/api/studies/difficulty",x.data);i(C=>({...C,...v.data})),await d(500),n(3);const b=await Ce.post("/api/studies/cost",{difficultyLabel:v.data.label,enrollment:x.data.enrollment});i(C=>({...C,...b.data})),await d(500),n(4);const _=await Ce.post("/api/studies/confidence",x.data);i(C=>({...C,..._.data})),await d(500);const w=u(x.data,v.data,b.data,_.data);i(C=>({...C,finalPayload:w})),n(6)}catch(x){console.error(x),n(0)}finally{l(!1)}},f=({label:x,value:v,color:b})=>{const _={cyan:"from-cyan-400/30 to-cyan-600/10 shadow-[0_0_18px_rgba(34,211,238,0.35)]",blue:"from-blue-400/30 to-blue-600/10 shadow-[0_0_18px_rgba(59,130,246,0.35)]",emerald:"from-emerald-400/30 to-emerald-600/10 shadow-[0_0_18px_rgba(16,185,129,0.35)]",pink:"from-pink-400/30 to-pink-600/10 shadow-[0_0_18px_rgba(250,24,96,0.35)]"};return r.jsxs("div",{className:`
          flex items-center justify-between
          px-4 py-2.5
          rounded-lg
          bg-gradient-to-r ${_[b]}
          border border-white/10
          backdrop-blur-md
        `,children:[r.jsx("span",{className:"text-sm tracking-wide text-white/60",children:x}),r.jsx("span",{className:"text-sm font-semibold text-white",children:v})]})};return r.jsxs("div",{className:`
    p-6 rounded-2xl space-y-6
    bg-[linear-gradient(180deg,#0b0f2e_0%,#090c26_100%)]
    border border-white/10
    shadow-[0_30px_80px_rgba(0,0,0,0.7)]
  `,children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Predictive Enrollment Engineering"}),r.jsx("button",{onClick:h,disabled:a,className:`
      px-4 py-2 rounded-lg font-semibold
      text-white
      bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))]
      shadow-[0_0_8px_rgba(34,211,238,0.7)]
      disabled:opacity-50
      transition
    `,children:a?"Processing":"Calculate"})]}),r.jsx("div",{className:"h-2 rounded bg-black/30 overflow-hidden",children:r.jsx("div",{className:`
      h-full
      bg-gradient-to-r from-cyan-400 to-blue-500
      shadow-[0_0_15px_rgba(34,211,238,0.8)]
      transition-all
    `,style:{width:`${e/tD*100}%`}})}),e>=5&&r.jsxs("div",{className:`
        p-5 rounded-xl space-y-3
       bg-[linear-gradient(180deg,#0b0f2e_0%,#090c26_100%)]
        
        text-white
        border border-cyan-400/20
      `,children:[r.jsx(f,{label:"Confidence",value:`${s.confidence}%`,color:"cyan"}),r.jsx(f,{label:"Difficulty",value:s.label,color:"blue"}),r.jsx(f,{label:"CPE",value:`$${s.cpe}`,color:"emerald"}),r.jsx(f,{label:"Total Cost",value:`$${(g=s.estimatedTotalCost)==null?void 0:g.toLocaleString()}`,color:"pink"})]})]})},sD=()=>{var Ke,st,rn,nt,dt,rt,jt,ut,Ct;const[t,e]=p.useState([]),[n,s]=p.useState(""),[i,a]=p.useState(1),[l,d]=p.useState(1),[u,h]=p.useState(0),[f,g]=p.useState(!1),[x,v]=p.useState(null),[b,_]=p.useState(!1),[w,C]=p.useState("list"),[N,S]=p.useState(!1),[P,T]=p.useState(!1),[A,k]=p.useState(null),R=Gs(),[O,M]=p.useState({phases:[],conditions:[],locations:[],enrollmentStats:{min:0,max:1e4}}),[z,F]=p.useState([]),[B,J]=p.useState([]),[ee,X]=p.useState(!1),[oe,q]=p.useState(!1),[re,V]=p.useState({phase:[],condition:"",location:"",enrollmentMin:"",enrollmentMax:""}),[W,G]=p.useState(""),[$,U]=p.useState(null),[ye,_e]=p.useState(!1),[ne,pe]=p.useState(""),Ae=10,K=async de=>{try{_(!0),v(null),k(de);const Le=await Ce.get(`/api/studies/db/${de}`);v(Le.data.study.raw_json)}catch(Le){console.error(Le)}finally{_(!1)}},he=async()=>{try{const de=await Ce.get("https://ai.research-hero.com/api/studies/clinical-trails-gov/filter-options");M({phases:de.data.phases||[],conditions:de.data.conditions||[],locations:de.data.locations||[],enrollmentStats:de.data.enrollmentStats||{min:0,max:1e4}}),de.data.enrollmentStats&&V(Le=>({...Le,enrollmentMin:de.data.enrollmentStats.min,enrollmentMax:de.data.enrollmentStats.max}))}catch(de){console.error("Error fetching filter options:",de)}},ce=async()=>{try{const de=await Ce.get("https://ai.research-hero.com/api/studies/clinical-trails-gov/available-locations");M(Le=>({...Le,locations:de.data.locations||[]}))}catch(de){console.error("Error fetching locations:",de)}},Ne=async de=>{if(!de||de.length<2){F([]),X(!1);return}try{const Le=await Ce.get("https://ai.research-hero.com/api/studies/clinical-trails-gov/search-conditions",{params:{query:de}});F(Le.data.results||[]),X(!0)}catch(Le){console.error("Error searching conditions:",Le)}},xe=async(de=1)=>{try{g(!0);const Le={page:de,limit:Ae,search:n,...re},Qe=await Ce.post("/api/studies/clinical-trails-gov/studies",{page:de,limit:Ae,expertQuery:{text:n,logic:"AND",phase:re.phase,locations:re.location?{city:re.location}:null,enrollment:{min:re.enrollmentMin||null,max:re.enrollmentMax||null}}});console.log("++++++++++++++++++++++++++++"),console.log("API Response:",Qe.data),e(Qe.data.studies||[]),h(Qe.data.total||0),d(Qe.data.totalPages||1),a(de)}catch(Le){console.error("Error fetching studies:",Le),e([])}finally{g(!1)}},Re=async()=>{try{S(!0);const de=await Ce.get("https://ai.research-hero.com/api/studies/clinical-trails-gov/all-studies");alert(` Synced successfully!
${de.data.message}
Total studies synced: ${de.data.total}`),await he(),await ce(),xe(1)}catch(de){console.error("Error syncing studies:",de),alert(" Failed to sync studies. Check console for details.")}finally{S(!1)}},Fe=(de,Le,Qe=!1)=>{V(Qe?Xe=>({...Xe,[de]:Xe[de].includes(Le)?Xe[de].filter(pt=>pt!==Le):[...Xe[de],Le]}):Xe=>({...Xe,[de]:Le}))},We=de=>{V(Le=>({...Le,condition:de})),X(!1)},ke=()=>{V({phase:[],condition:"",location:"",enrollmentMin:O.enrollmentStats.min,enrollmentMax:O.enrollmentStats.max}),a(1)};p.useEffect(()=>{he(),ce()},[]),p.useEffect(()=>{xe(1)},[n,re]);const Ge=(de,Le)=>{if(!de||!Le)return"-";const Qe=new Date(de),Xe=new Date(Le);if(isNaN(Qe)||isNaN(Xe))return"-";const pt=Xe.getFullYear()-Qe.getFullYear(),ot=Xe.getMonth()-Qe.getMonth();return pt*12+ot};return r.jsxs("div",{className:`min-h-screen  py-10 bg-gradient-to-r
        from-[#0b0f2e]
        via-[#0e1340]
        to-[#0b0f2e]
  text-slate-100`,children:[r.jsxs("div",{className:"max-w-auto mx-auto px-6",children:[r.jsxs("div",{className:"mb-6 flex gap-3 border-b border-white/10 pb-3",children:[r.jsx("button",{onClick:()=>C("list"),className:`
      relative px-6 py-2 text-sm font-semibold transition-all
      ${w==="list"?`
            text-white
            bg-gradient-to-r from-cyan-500/30 to-blue-600/30
            
            shadow-[0_0_30px_rgba(34,211,238,0.6)]
            flag-tab
          `:`
            text-white/50
            hover:text-white
            hover:bg-white/5
            rounded-md
          `}
    `,children:"All Studies"}),r.jsx("button",{onClick:()=>C("calculate"),className:`
      relative px-6 py-2 text-sm font-semibold transition-all
      ${w==="calculate"?`
            text-white
            bg-gradient-to-r from-blue-500/30 to-indigo-600/30
            
            shadow-[0_0_30px_rgba(59,130,246,0.6)]
            flag-tab
          `:`
            text-white/50
            hover:text-white
            hover:bg-white/5
            rounded-md
          `}
    `,children:"Calculate Study"})]}),w==="list"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-xl font-bold",children:"Clinical Trials Analysis"}),r.jsx("p",{className:"text-white/70 mt-1",children:"Search and analyze studies"})]}),r.jsxs("div",{className:"mb-4 flex gap-3 items-center",children:[r.jsx("input",{type:"text",placeholder:"Search: 'cancer in Houston' or NCT ID, Title, Condition, or Location",value:n,onChange:de=>s(de.target.value),className:`flex-1 px-4 py-2 rounded-xl
  bg-white/5 backdrop-blur-md
  border border-white/10
  text-white placeholder:text-slate-400
  focus:outline-none focus:ring-2 focus:ring-cyan-400/60
  shadow-[inset_0_0_12px_rgba(255,255,255,0.05)]`}),r.jsx("button",{onClick:()=>T(!P),className:`
    px-4 py-2
    rounded-lg
    text-sm font-medium
    text-cyan-300
    bg-cyan-400/10
    border border-cyan-400/30
    shadow-[0_3px_5px_rgba(34,211,238,0.35)]
    hover:bg-cyan-400/20
    hover:shadow-[0_10px_10px_rgba(34,211,238,0.55)]
    transition-all
    flex items-center gap-2
  `,children:" Filters"}),r.jsx("button",{onClick:Re,disabled:N,className:`
    px-5 py-2
    rounded-lg
    text-sm font-semibold
    text-white
    bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))]
    border border-white/15
    shadow-[0_2px_5px_rgba(90,110,255,0.45)]
    hover:shadow-[0_5px_10px_rgba(90,110,255,0.65)]
    hover:bg-[linear-gradient(180deg,rgba(90,110,255,0.6),rgba(36,46,151,0.45))]
    disabled:opacity-40
    disabled:cursor-not-allowed
    transition-all
    flex items-center gap-2
  `,children:N?"Syncing...":" Sync"})]}),P&&r.jsxs("div",{className:`mb-6 bg-white/5 backdrop-blur-xl
border border-white/10
p-6 rounded-2xl
shadow-[0_0_40px_rgba(255,255,255,0.05)] space-y-4`,children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Advanced Filters"}),r.jsx("button",{onClick:ke,className:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded hover:bg-red-200",children:"Clear All"})]}),O.phases.length>0&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Study Phase (",O.phases.length,")"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:O.phases.map(de=>r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",checked:re.phase.includes(de),onChange:()=>Fe("phase",de,!0),className:"mr-2"}),r.jsx("span",{className:"text-sm",children:de})]},de))})]}),O.conditions.length>0&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Condition (",O.conditions.length,")"]}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:"text",placeholder:"Search condition (e.g., diabetes, cancer)",value:re.condition,onChange:de=>{Fe("condition",de.target.value),Ne(de.target.value)},onFocus:()=>re.condition&&X(!0),className:"w-full px-4 py-2 border rounded-lg"}),ee&&z.length>0&&r.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border rounded-lg shadow-lg z-10 max-h-48 overflow-y-auto",children:z.map(de=>r.jsx("div",{onClick:()=>We(de),className:"px-4 py-2 hover:bg-blue-50 cursor-pointer border-b last:border-b-0",children:de},de))})]})]}),O.enrollmentStats&&r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Min Enrollment (0 - ",O.enrollmentStats.max,")"]}),r.jsx("input",{type:"number",placeholder:"0",value:re.enrollmentMin,onChange:de=>Fe("enrollmentMin",de.target.value),min:O.enrollmentStats.min,max:O.enrollmentStats.max,className:"w-full px-4 py-2 border rounded-lg"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Max Enrollment (0 - ",O.enrollmentStats.max,")"]}),r.jsx("input",{type:"number",placeholder:O.enrollmentStats.max,value:re.enrollmentMax,onChange:de=>Fe("enrollmentMax",de.target.value),min:O.enrollmentStats.min,max:O.enrollmentStats.max,className:"w-full px-4 py-2 border rounded-lg"})]})]})]}),r.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Total Studies: ",r.jsx("strong",{children:u}),n&&r.jsxs("span",{className:"ml-2",children:["| Search: ",r.jsxs("strong",{children:['"',n,'"']})]})]}),r.jsx("div",{className:`bg-white/5 backdrop-blur-xl
border border-white/10
rounded-2xl overflow-x-auto
shadow-[0_0_40px_rgba(255,255,255,0.05)]`,children:r.jsxs("table",{className:"min-w-full text-sm",children:[r.jsx("thead",{className:"bg-white/10 backdrop-blur-md text-cyan-300",children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-3 text-left",children:"NCT ID"}),r.jsx("th",{className:"p-3 text-left",children:"Title"}),r.jsx("th",{className:"p-3 text-left",children:"Phase"}),r.jsx("th",{className:"p-3 text-left",children:"Condition"}),r.jsx("th",{className:"p-3 text-left",children:"Location"}),r.jsx("th",{className:"p-3 text-left",children:"Enrollment"}),r.jsx("th",{className:"p-3 text-left",children:"Actions"})]})}),r.jsx("tbody",{children:f?r.jsx("tr",{children:r.jsx("td",{colSpan:"6",className:"p-4 text-center",children:"Loading..."})}):t.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"6",className:"p-4 text-center",children:'No studies found. Click "Sync" to fetch studies.'})}):t.map(de=>{var Le,Qe,Xe,pt;return r.jsxs("tr",{className:`
  border-t border-white/5
  cursor-pointer
  hover:bg-white/5
  hover:shadow-[inset_0_0_20px_rgba(56,189,248,0.15)]
  transition
`,children:[r.jsx("td",{className:"p-3 font-medium",children:de.nct_id}),r.jsx("td",{className:"p-3 text-cyan-400 hover:underline",onClick:()=>K(de.id),children:de.title}),r.jsx("td",{className:"p-3",children:de.phase||"-"}),r.jsx("td",{className:"p-3",children:de.condition_name||"-"}),r.jsx("td",{className:"p-3 text-sm",children:(pt=(Xe=(Qe=(Le=de.raw_json)==null?void 0:Le.protocolSection)==null?void 0:Qe.contactsLocationsModule)==null?void 0:Xe.locations)!=null&&pt.length?r.jsxs("span",{className:`
        inline-flex items-center gap-1
        px-3 py-1
        rounded-full
        text-xs font-medium
        text-cyan-300
        bg-cyan-400/10
        border border-cyan-400/25
        shadow-[0_0_10px_rgba(34,211,238,0.35)]
        backdrop-blur-sm
      `,children:["",de.raw_json.protocolSection.contactsLocationsModule.locations[0].city,",",de.raw_json.protocolSection.contactsLocationsModule.locations[0].country]}):r.jsx("span",{className:"text-white/40",children:""})}),r.jsx("td",{className:"p-3",children:de.enrollment||"-"}),r.jsx("td",{className:"p-3",children:r.jsx("button",{onClick:()=>R(`/studies/db/${de.id}`),className:"neo-btn",children:"Details"})})]},de.nct_id)})})]})}),r.jsxs("div",{className:"flex justify-between items-center mt-6",children:[r.jsx("button",{disabled:i===1||f,onClick:()=>xe(i-1),className:`
      px-4 py-2
      rounded-lg
      text-sm font-medium
      text-white
      bg-white/5
      border border-white/10
      shadow-[0_6px_20px_rgba(0,0,0,0.6)]
      hover:bg-white/10
      hover:shadow-[0_10px_30px_rgba(90,110,255,0.35)]
      disabled:opacity-40
      disabled:cursor-not-allowed
      transition-all
    `,children:" Previous"}),r.jsxs("span",{className:`
      text-sm font-medium
      text-white/70
      px-4 py-1.5
      rounded-full
      bg-white/5
      border border-white/10
    `,children:["Page ",r.jsx("span",{className:"text-white",children:i})," of"," ",r.jsx("span",{className:"text-white",children:l})]}),r.jsx("button",{disabled:i===l||f,onClick:()=>xe(i+1),className:`
      px-4 py-2
      rounded-lg
      text-sm font-medium
      text-white
      bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))]
      border border-white/15
      shadow-[0_8px_26px_rgba(90,110,255,0.45)]
      hover:shadow-[0_12px_38px_rgba(90,110,255,0.65)]
      hover:bg-[linear-gradient(180deg,rgba(90,110,255,0.6),rgba(36,46,151,0.45))]
      disabled:opacity-40
      disabled:cursor-not-allowed
      transition-all
    `,children:"Next "})]})]}),w==="calculate"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:`
    flex gap-4 items-center
    p-5 rounded-2xl
    bg-[linear-gradient(180deg,#0b0f2e_0%,#090c26_100%)]
    border border-white/10
    shadow-[0_30px_80px_rgba(0,0,0,0.7)]
  `,children:[r.jsx("input",{type:"text",placeholder:"Enter NCT ID (e.g. NCT04838808)",value:W,onChange:de=>G(de.target.value.toUpperCase()),className:`
    px-4 py-2 w-80 rounded-lg
    bg-black/30
    border border-cyan-400/20
    text-white placeholder-white/40
    focus:outline-none focus:ring-2 focus:ring-cyan-400/50
  `}),r.jsx("button",{onClick:async()=>{if(W)try{_e(!0),pe(""),U(null);const de=await Ce.get(`https://ai.research-hero.com/api/studies/clinical-trails-gov/live/${W}`);U(de.data.study)}catch{pe("Study not found on ClinicalTrials.gov")}finally{_e(!1)}},className:`
    px-5 py-2 rounded-lg font-medium
    text-white
    bg-[linear-gradient(180deg,rgba(90,110,255,0.45),rgba(36,46,151,0.35))]
    shadow-[0_0_5px_rgba(34,211,238,0.7)]
    hover:shadow-[0_0_8px_rgba(34,211,238,1)]
    transition-all
    disabled:opacity-50
    disabled:cursor-not-allowed
  `,children:"Load Study"})]}),ye&&r.jsx("p",{className:"text-gray-600",children:"Loading study"}),ne&&r.jsx("p",{className:"text-red-600",children:ne}),$&&r.jsxs("div",{className:`
                p-6 rounded-2xl space-y-6
                bg-[linear-gradient(180deg,#0b0f2e_0%,#090c26_100%)]
                border border-white/10
                shadow-[0_30px_80px_rgba(0,0,0,0.7)]
              `,children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:$.protocolSection.identificationModule.nctId}),r.jsx("p",{className:"text-white/60 mt-1",children:$.protocolSection.identificationModule.briefTitle})]}),r.jsxs("div",{className:`
    grid grid-cols-2 gap-4 p-4 rounded-xl text-sm
    bg-black/30
    border border-white/10
  `,children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Phase:"})," ",(st=(Ke=$.protocolSection.designModule)==null?void 0:Ke.phases)==null?void 0:st.join(", ")]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Status:"})," ",(rn=$.protocolSection.statusModule)==null?void 0:rn.overallStatus]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Enrollment:"})," ",((dt=(nt=$.protocolSection.designModule)==null?void 0:nt.enrollmentInfo)==null?void 0:dt.count)||"-"]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Conditions:"})," ",(jt=(rt=$.protocolSection.conditionsModule)==null?void 0:rt.conditions)==null?void 0:jt.join(", ")]})]})]}),$&&r.jsx(nD,{study:$})]})]}),(b||x)&&r.jsxs("div",{className:`
      fixed top-0 right-0 h-full w-1/2
      bg-gradient-to-r
        from-[#0b0f2e]
        via-[#0e1340]
        to-[#0b0f2e]
      backdrop-blur-xl
      border-l border-white/10
      shadow-[0_0_80px_rgba(36,46,151,0.35)]
      z-50 flex flex-col
    `,children:[r.jsxs("div",{className:`
        px-6 py-4
        flex justify-between items-center
        border-b border-white/10
        bg-[linear-gradient(180deg,rgba(63,78,255,0.18),rgba(9,12,38,0.9))]
      `,children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:((Ct=(ut=x==null?void 0:x.protocolSection)==null?void 0:ut.identificationModule)==null?void 0:Ct.nctId)||"Loading..."}),r.jsx("p",{className:"text-sm text-white/60",children:"ClinicalTrials.gov  Live Protocol"})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("button",{onClick:()=>R(`/studies/db/${A}`),className:"neo-btn",children:"View Full Details"}),r.jsx("button",{onClick:()=>v(null),className:`
            w-8 h-8 flex items-center justify-center
            rounded-full
            text-white/60
            hover:text-white
            hover:bg-white/10
            transition
          `,"aria-label":"Close sidebar",children:""})]})]}),r.jsx("div",{className:"p-6 overflow-y-auto text-sm space-y-8",children:b?r.jsx("p",{className:"text-white/60",children:"Fetching live data"}):x?(()=>{var pt,ot,ge,Q,Pe,Ee,tt,H,se,me,D,le,fe,je,Be,Je,at,Bt,Yn,Ko,Yo,vn,Te,Ti,Ei,Ai,ki,Or,Li,fs,Ri,Xo,Jo,Qo,ea,Mi;const de=(pt=x==null?void 0:x.protocolSection)==null?void 0:pt.statusModule,Le=((ot=de==null?void 0:de.startDateStruct)==null?void 0:ot.date)||"-",Qe=((ge=de==null?void 0:de.completionDateStruct)==null?void 0:ge.date)||((Q=de==null?void 0:de.primaryCompletionDateStruct)==null?void 0:Q.date)||"-",Xe=Le!=="-"&&Qe!=="-"?`${Ge(Le,Qe)} months`:"-";return r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-base font-semibold text-white",children:x.protocolSection.identificationModule.briefTitle}),r.jsx("p",{className:"text-white/60 mt-1",children:(Pe=x.protocolSection.descriptionModule)==null?void 0:Pe.briefSummary})]}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:[["Phase",((tt=(Ee=x.protocolSection.designModule)==null?void 0:Ee.phases)==null?void 0:tt.join(", "))||"-"],["Study Type",((H=x.protocolSection.designModule)==null?void 0:H.studyType)||"-"],["Enrollment",((me=(se=x.protocolSection.designModule)==null?void 0:se.enrollmentInfo)==null?void 0:me.count)||"-"],["Status",((D=x.protocolSection.statusModule)==null?void 0:D.overallStatus)||"-"]].map(([ms,kn],Qs)=>r.jsxs("div",{className:`
                      rounded-lg
                      bg-white/5
                      border border-white/10
                      p-4
                    `,children:[r.jsx("p",{className:"text-white/50",children:ms}),r.jsx("p",{className:"font-medium text-white",children:kn})]},Qs))}),r.jsx("div",{className:"grid grid-cols-3 gap-4",children:[["Study Start",Le],["Study End",Qe],["Duration",Xe]].map(([ms,kn],Qs)=>r.jsxs("div",{className:`
                      rounded-lg
                      bg-white/5
                      border border-white/10
                      p-4
                    `,children:[r.jsx("p",{className:"text-white/50",children:ms}),r.jsx("p",{className:"font-medium text-white",children:kn})]},Qs))}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white mb-2",children:"Conditions"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:(je=(fe=(le=x==null?void 0:x.protocolSection)==null?void 0:le.conditionsModule)==null?void 0:fe.conditions)==null?void 0:je.map((ms,kn)=>r.jsx("span",{className:`
                          px-3 py-1 text-xs
                          rounded-full
                          bg-cyan-400/10
                          text-cyan-300
                          border border-cyan-400/20
                          shadow-[0_0_12px_rgba(34,211,238,0.35)]
                        `,children:ms},kn))})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white mb-2",children:"Eligibility Criteria"}),r.jsx("div",{className:`
                    bg-white/5
                    border border-white/10
                    rounded-lg
                    p-4
                    text-xs
                    text-white/70
                    whitespace-pre-wrap
                  `,children:((Je=(Be=x==null?void 0:x.protocolSection)==null?void 0:Be.eligibilityModule)==null?void 0:Je.eligibilityCriteria)||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white mb-2",children:"Study Design"}),r.jsxs("ul",{className:"space-y-1 text-white/70",children:[r.jsxs("li",{children:[r.jsx("strong",{className:"text-white",children:"Allocation:"})," ",((Yn=(Bt=(at=x==null?void 0:x.protocolSection)==null?void 0:at.designModule)==null?void 0:Bt.designInfo)==null?void 0:Yn.allocation)||"-"]}),r.jsxs("li",{children:[r.jsx("strong",{className:"text-white",children:"Intervention Model:"})," ",((vn=(Yo=(Ko=x==null?void 0:x.protocolSection)==null?void 0:Ko.designModule)==null?void 0:Yo.designInfo)==null?void 0:vn.interventionModel)||"-"]}),r.jsxs("li",{children:[r.jsx("strong",{className:"text-white",children:"Masking:"})," ",((Ai=(Ei=(Ti=(Te=x==null?void 0:x.protocolSection)==null?void 0:Te.designModule)==null?void 0:Ti.designInfo)==null?void 0:Ei.maskingInfo)==null?void 0:Ai.masking)||"-"]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-white mb-2",children:"Lead Sponsor"}),r.jsx("p",{className:"text-white/70",children:((Or=(ki=x.protocolSection.sponsorCollaboratorsModule)==null?void 0:ki.leadSponsor)==null?void 0:Or.name)||"-"})]}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:[["Type",(fs=(Li=x.protocolSection.sponsorCollaboratorsModule)==null?void 0:Li.responsibleParty)==null?void 0:fs.type],["Investigator Name",(Xo=(Ri=x.protocolSection.sponsorCollaboratorsModule)==null?void 0:Ri.responsibleParty)==null?void 0:Xo.investigatorFullName],["Investigator Title",(Qo=(Jo=x.protocolSection.sponsorCollaboratorsModule)==null?void 0:Jo.responsibleParty)==null?void 0:Qo.investigatorTitle],["Affiliation",(Mi=(ea=x.protocolSection.sponsorCollaboratorsModule)==null?void 0:ea.responsibleParty)==null?void 0:Mi.investigatorAffiliation]].map(([ms,kn],Qs)=>r.jsxs("div",{className:`
                      rounded-lg
                      bg-white/5
                      border border-white/10
                      p-4
                    `,children:[r.jsx("p",{className:"text-white/50",children:ms}),r.jsx("p",{className:"font-medium text-white",children:kn||"-"})]},Qs))})]})})():null})]})]})};function Zw(t,e){const n=p.useRef(e);p.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const rD=1;function iD(t){return Object.freeze({__version:rD,map:t})}function oD(t,e){return Object.freeze({...t,...e})}const Gw=p.createContext(null),qw=Gw.Provider;function Kw(){const t=p.useContext(Gw);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function aD(t){function e(n,s){const{instance:i,context:a}=t(n).current;return p.useImperativeHandle(s,()=>i),n.children==null?null:ae.createElement(qw,{value:a},n.children)}return p.forwardRef(e)}function lD(t){function e(n,s){const[i,a]=p.useState(!1),{instance:l}=t(n,a).current;p.useImperativeHandle(s,()=>l),p.useEffect(function(){i&&l.update()},[l,i,n.children]);const d=l._contentNode;return d?xi.createPortal(n.children,d):null}return p.forwardRef(e)}function cD(t){function e(n,s){const{instance:i}=t(n).current;return p.useImperativeHandle(s,()=>i),null}return p.forwardRef(e)}function Yw(t,e){const n=p.useRef();p.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function nf(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function dD(t,e){return function(s,i){const a=Kw(),l=t(nf(s,a),a);return Zw(a.map,s.attribution),Yw(l.current,s.eventHandlers),e(l.current,a,s,i),l}}var bu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,s){s(e)})(us,function(n){var s="1.9.4";function i(o){var c,m,y,j;for(m=1,y=arguments.length;m<y;m++){j=arguments[m];for(c in j)o[c]=j[c]}return o}var a=Object.create||function(){function o(){}return function(c){return o.prototype=c,new o}}();function l(o,c){var m=Array.prototype.slice;if(o.bind)return o.bind.apply(o,m.call(arguments,1));var y=m.call(arguments,2);return function(){return o.apply(c,y.length?y.concat(m.call(arguments)):arguments)}}var d=0;function u(o){return"_leaflet_id"in o||(o._leaflet_id=++d),o._leaflet_id}function h(o,c,m){var y,j,E,I;return I=function(){y=!1,j&&(E.apply(m,j),j=!1)},E=function(){y?j=arguments:(o.apply(m,arguments),setTimeout(I,c),y=!0)},E}function f(o,c,m){var y=c[1],j=c[0],E=y-j;return o===y&&m?o:((o-j)%E+E)%E+j}function g(){return!1}function x(o,c){if(c===!1)return o;var m=Math.pow(10,c===void 0?6:c);return Math.round(o*m)/m}function v(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function b(o){return v(o).split(/\s+/)}function _(o,c){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?a(o.options):{});for(var m in c)o.options[m]=c[m];return o.options}function w(o,c,m){var y=[];for(var j in o)y.push(encodeURIComponent(m?j.toUpperCase():j)+"="+encodeURIComponent(o[j]));return(!c||c.indexOf("?")===-1?"?":"&")+y.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function N(o,c){return o.replace(C,function(m,y){var j=c[y];if(j===void 0)throw new Error("No value provided for variable "+m);return typeof j=="function"&&(j=j(c)),j})}var S=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function P(o,c){for(var m=0;m<o.length;m++)if(o[m]===c)return m;return-1}var T="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var k=0;function R(o){var c=+new Date,m=Math.max(0,16-(c-k));return k=c+m,window.setTimeout(o,m)}var O=window.requestAnimationFrame||A("RequestAnimationFrame")||R,M=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function z(o,c,m){if(m&&O===R)o.call(c);else return O.call(window,l(o,c))}function F(o){o&&M.call(window,o)}var B={__proto__:null,extend:i,create:a,bind:l,get lastId(){return d},stamp:u,throttle:h,wrapNum:f,falseFn:g,formatNum:x,trim:v,splitWords:b,setOptions:_,getParamString:w,template:N,isArray:S,indexOf:P,emptyImageUrl:T,requestFn:O,cancelFn:M,requestAnimFrame:z,cancelAnimFrame:F};function J(){}J.extend=function(o){var c=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=c.__super__=this.prototype,y=a(m);y.constructor=c,c.prototype=y;for(var j in this)Object.prototype.hasOwnProperty.call(this,j)&&j!=="prototype"&&j!=="__super__"&&(c[j]=this[j]);return o.statics&&i(c,o.statics),o.includes&&(ee(o.includes),i.apply(null,[y].concat(o.includes))),i(y,o),delete y.statics,delete y.includes,y.options&&(y.options=m.options?a(m.options):{},i(y.options,o.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,I=y._initHooks.length;E<I;E++)y._initHooks[E].call(this)}},c},J.include=function(o){var c=this.prototype.options;return i(this.prototype,o),o.options&&(this.prototype.options=c,this.mergeOptions(o.options)),this},J.mergeOptions=function(o){return i(this.prototype.options,o),this},J.addInitHook=function(o){var c=Array.prototype.slice.call(arguments,1),m=typeof o=="function"?o:function(){this[o].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function ee(o){if(!(typeof L>"u"||!L||!L.Mixin)){o=S(o)?o:[o];for(var c=0;c<o.length;c++)o[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var X={on:function(o,c,m){if(typeof o=="object")for(var y in o)this._on(y,o[y],c);else{o=b(o);for(var j=0,E=o.length;j<E;j++)this._on(o[j],c,m)}return this},off:function(o,c,m){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var y in o)this._off(y,o[y],c);else{o=b(o);for(var j=arguments.length===1,E=0,I=o.length;E<I;E++)j?this._off(o[E]):this._off(o[E],c,m)}return this},_on:function(o,c,m,y){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(o,c,m)===!1){m===this&&(m=void 0);var j={fn:c,ctx:m};y&&(j.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(j)}},_off:function(o,c,m){var y,j,E;if(this._events&&(y=this._events[o],!!y)){if(arguments.length===1){if(this._firingCount)for(j=0,E=y.length;j<E;j++)y[j].fn=g;delete this._events[o];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var I=this._listens(o,c,m);if(I!==!1){var Z=y[I];this._firingCount&&(Z.fn=g,this._events[o]=y=y.slice()),y.splice(I,1)}}},fire:function(o,c,m){if(!this.listens(o,m))return this;var y=i({},c,{type:o,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var j=this._events[o];if(j){this._firingCount=this._firingCount+1||1;for(var E=0,I=j.length;E<I;E++){var Z=j[E],Y=Z.fn;Z.once&&this.off(o,Y,Z.ctx),Y.call(Z.ctx||this,y)}this._firingCount--}}return m&&this._propagateEvent(y),this},listens:function(o,c,m,y){typeof o!="string"&&console.warn('"string" type argument expected');var j=c;typeof c!="function"&&(y=!!c,j=void 0,m=void 0);var E=this._events&&this._events[o];if(E&&E.length&&this._listens(o,j,m)!==!1)return!0;if(y){for(var I in this._eventParents)if(this._eventParents[I].listens(o,c,m,y))return!0}return!1},_listens:function(o,c,m){if(!this._events)return!1;var y=this._events[o]||[];if(!c)return!!y.length;m===this&&(m=void 0);for(var j=0,E=y.length;j<E;j++)if(y[j].fn===c&&y[j].ctx===m)return j;return!1},once:function(o,c,m){if(typeof o=="object")for(var y in o)this._on(y,o[y],c,!0);else{o=b(o);for(var j=0,E=o.length;j<E;j++)this._on(o[j],c,m,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[u(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[u(o)],this},_propagateEvent:function(o){for(var c in this._eventParents)this._eventParents[c].fire(o.type,i({layer:o.target,propagatedFrom:o.target},o),!0)}};X.addEventListener=X.on,X.removeEventListener=X.clearAllEventListeners=X.off,X.addOneTimeEventListener=X.once,X.fireEvent=X.fire,X.hasEventListeners=X.listens;var oe=J.extend(X);function q(o,c,m){this.x=m?Math.round(o):o,this.y=m?Math.round(c):c}var re=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};q.prototype={clone:function(){return new q(this.x,this.y)},add:function(o){return this.clone()._add(V(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(V(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new q(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new q(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=re(this.x),this.y=re(this.y),this},distanceTo:function(o){o=V(o);var c=o.x-this.x,m=o.y-this.y;return Math.sqrt(c*c+m*m)},equals:function(o){return o=V(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=V(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function V(o,c,m){return o instanceof q?o:S(o)?new q(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new q(o.x,o.y):new q(o,c,m)}function W(o,c){if(o)for(var m=c?[o,c]:o,y=0,j=m.length;y<j;y++)this.extend(m[y])}W.prototype={extend:function(o){var c,m;if(!o)return this;if(o instanceof q||typeof o[0]=="number"||"x"in o)c=m=V(o);else if(o=G(o),c=o.min,m=o.max,!c||!m)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=m.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(o){return V((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return V(this.min.x,this.max.y)},getTopRight:function(){return V(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var c,m;return typeof o[0]=="number"||o instanceof q?o=V(o):o=G(o),o instanceof W?(c=o.min,m=o.max):c=m=o,c.x>=this.min.x&&m.x<=this.max.x&&c.y>=this.min.y&&m.y<=this.max.y},intersects:function(o){o=G(o);var c=this.min,m=this.max,y=o.min,j=o.max,E=j.x>=c.x&&y.x<=m.x,I=j.y>=c.y&&y.y<=m.y;return E&&I},overlaps:function(o){o=G(o);var c=this.min,m=this.max,y=o.min,j=o.max,E=j.x>c.x&&y.x<m.x,I=j.y>c.y&&y.y<m.y;return E&&I},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var c=this.min,m=this.max,y=Math.abs(c.x-m.x)*o,j=Math.abs(c.y-m.y)*o;return G(V(c.x-y,c.y-j),V(m.x+y,m.y+j))},equals:function(o){return o?(o=G(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function G(o,c){return!o||o instanceof W?o:new W(o,c)}function $(o,c){if(o)for(var m=c?[o,c]:o,y=0,j=m.length;y<j;y++)this.extend(m[y])}$.prototype={extend:function(o){var c=this._southWest,m=this._northEast,y,j;if(o instanceof ye)y=o,j=o;else if(o instanceof $){if(y=o._southWest,j=o._northEast,!y||!j)return this}else return o?this.extend(_e(o)||U(o)):this;return!c&&!m?(this._southWest=new ye(y.lat,y.lng),this._northEast=new ye(j.lat,j.lng)):(c.lat=Math.min(y.lat,c.lat),c.lng=Math.min(y.lng,c.lng),m.lat=Math.max(j.lat,m.lat),m.lng=Math.max(j.lng,m.lng)),this},pad:function(o){var c=this._southWest,m=this._northEast,y=Math.abs(c.lat-m.lat)*o,j=Math.abs(c.lng-m.lng)*o;return new $(new ye(c.lat-y,c.lng-j),new ye(m.lat+y,m.lng+j))},getCenter:function(){return new ye((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ye(this.getNorth(),this.getWest())},getSouthEast:function(){return new ye(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof ye||"lat"in o?o=_e(o):o=U(o);var c=this._southWest,m=this._northEast,y,j;return o instanceof $?(y=o.getSouthWest(),j=o.getNorthEast()):y=j=o,y.lat>=c.lat&&j.lat<=m.lat&&y.lng>=c.lng&&j.lng<=m.lng},intersects:function(o){o=U(o);var c=this._southWest,m=this._northEast,y=o.getSouthWest(),j=o.getNorthEast(),E=j.lat>=c.lat&&y.lat<=m.lat,I=j.lng>=c.lng&&y.lng<=m.lng;return E&&I},overlaps:function(o){o=U(o);var c=this._southWest,m=this._northEast,y=o.getSouthWest(),j=o.getNorthEast(),E=j.lat>c.lat&&y.lat<m.lat,I=j.lng>c.lng&&y.lng<m.lng;return E&&I},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,c){return o?(o=U(o),this._southWest.equals(o.getSouthWest(),c)&&this._northEast.equals(o.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function U(o,c){return o instanceof $?o:new $(o,c)}function ye(o,c,m){if(isNaN(o)||isNaN(c))throw new Error("Invalid LatLng object: ("+o+", "+c+")");this.lat=+o,this.lng=+c,m!==void 0&&(this.alt=+m)}ye.prototype={equals:function(o,c){if(!o)return!1;o=_e(o);var m=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return m<=(c===void 0?1e-9:c)},toString:function(o){return"LatLng("+x(this.lat,o)+", "+x(this.lng,o)+")"},distanceTo:function(o){return pe.distance(this,_e(o))},wrap:function(){return pe.wrapLatLng(this)},toBounds:function(o){var c=180*o/40075017,m=c/Math.cos(Math.PI/180*this.lat);return U([this.lat-c,this.lng-m],[this.lat+c,this.lng+m])},clone:function(){return new ye(this.lat,this.lng,this.alt)}};function _e(o,c,m){return o instanceof ye?o:S(o)&&typeof o[0]!="object"?o.length===3?new ye(o[0],o[1],o[2]):o.length===2?new ye(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new ye(o.lat,"lng"in o?o.lng:o.lon,o.alt):c===void 0?null:new ye(o,c,m)}var ne={latLngToPoint:function(o,c){var m=this.projection.project(o),y=this.scale(c);return this.transformation._transform(m,y)},pointToLatLng:function(o,c){var m=this.scale(c),y=this.transformation.untransform(o,m);return this.projection.unproject(y)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var c=this.projection.bounds,m=this.scale(o),y=this.transformation.transform(c.min,m),j=this.transformation.transform(c.max,m);return new W(y,j)},infinite:!1,wrapLatLng:function(o){var c=this.wrapLng?f(o.lng,this.wrapLng,!0):o.lng,m=this.wrapLat?f(o.lat,this.wrapLat,!0):o.lat,y=o.alt;return new ye(m,c,y)},wrapLatLngBounds:function(o){var c=o.getCenter(),m=this.wrapLatLng(c),y=c.lat-m.lat,j=c.lng-m.lng;if(y===0&&j===0)return o;var E=o.getSouthWest(),I=o.getNorthEast(),Z=new ye(E.lat-y,E.lng-j),Y=new ye(I.lat-y,I.lng-j);return new $(Z,Y)}},pe=i({},ne,{wrapLng:[-180,180],R:6371e3,distance:function(o,c){var m=Math.PI/180,y=o.lat*m,j=c.lat*m,E=Math.sin((c.lat-o.lat)*m/2),I=Math.sin((c.lng-o.lng)*m/2),Z=E*E+Math.cos(y)*Math.cos(j)*I*I,Y=2*Math.atan2(Math.sqrt(Z),Math.sqrt(1-Z));return this.R*Y}}),Ae=6378137,K={R:Ae,MAX_LATITUDE:85.0511287798,project:function(o){var c=Math.PI/180,m=this.MAX_LATITUDE,y=Math.max(Math.min(m,o.lat),-m),j=Math.sin(y*c);return new q(this.R*o.lng*c,this.R*Math.log((1+j)/(1-j))/2)},unproject:function(o){var c=180/Math.PI;return new ye((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*c,o.x*c/this.R)},bounds:function(){var o=Ae*Math.PI;return new W([-o,-o],[o,o])}()};function he(o,c,m,y){if(S(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=c,this._c=m,this._d=y}he.prototype={transform:function(o,c){return this._transform(o.clone(),c)},_transform:function(o,c){return c=c||1,o.x=c*(this._a*o.x+this._b),o.y=c*(this._c*o.y+this._d),o},untransform:function(o,c){return c=c||1,new q((o.x/c-this._b)/this._a,(o.y/c-this._d)/this._c)}};function ce(o,c,m,y){return new he(o,c,m,y)}var Ne=i({},pe,{code:"EPSG:3857",projection:K,transformation:function(){var o=.5/(Math.PI*K.R);return ce(o,.5,-o,.5)}()}),xe=i({},Ne,{code:"EPSG:900913"});function Re(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Fe(o,c){var m="",y,j,E,I,Z,Y;for(y=0,E=o.length;y<E;y++){for(Z=o[y],j=0,I=Z.length;j<I;j++)Y=Z[j],m+=(j?"L":"M")+Y.x+" "+Y.y;m+=c?Te.svg?"z":"x":""}return m||"M0 0"}var We=document.documentElement.style,ke="ActiveXObject"in window,Ge=ke&&!document.addEventListener,Ke="msLaunchUri"in navigator&&!("documentMode"in document),st=vn("webkit"),rn=vn("android"),nt=vn("android 2")||vn("android 3"),dt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),rt=rn&&vn("Google")&&dt<537&&!("AudioNode"in window),jt=!!window.opera,ut=!Ke&&vn("chrome"),Ct=vn("gecko")&&!st&&!jt&&!ke,de=!ut&&vn("safari"),Le=vn("phantom"),Qe="OTransition"in We,Xe=navigator.platform.indexOf("Win")===0,pt=ke&&"transition"in We,ot="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!nt,ge="MozPerspective"in We,Q=!window.L_DISABLE_3D&&(pt||ot||ge)&&!Qe&&!Le,Pe=typeof orientation<"u"||vn("mobile"),Ee=Pe&&st,tt=Pe&&ot,H=!window.PointerEvent&&window.MSPointerEvent,se=!!(window.PointerEvent||H),me="ontouchstart"in window||!!window.TouchEvent,D=!window.L_NO_TOUCH&&(me||se),le=Pe&&jt,fe=Pe&&Ct,je=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Be=function(){var o=!1;try{var c=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",g,c),window.removeEventListener("testPassiveEventSupport",g,c)}catch{}return o}(),Je=function(){return!!document.createElement("canvas").getContext}(),at=!!(document.createElementNS&&Re("svg").createSVGRect),Bt=!!at&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Yn=!at&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var c=o.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),Ko=navigator.platform.indexOf("Mac")===0,Yo=navigator.platform.indexOf("Linux")===0;function vn(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var Te={ie:ke,ielt9:Ge,edge:Ke,webkit:st,android:rn,android23:nt,androidStock:rt,opera:jt,chrome:ut,gecko:Ct,safari:de,phantom:Le,opera12:Qe,win:Xe,ie3d:pt,webkit3d:ot,gecko3d:ge,any3d:Q,mobile:Pe,mobileWebkit:Ee,mobileWebkit3d:tt,msPointer:H,pointer:se,touch:D,touchNative:me,mobileOpera:le,mobileGecko:fe,retina:je,passiveEvents:Be,canvas:Je,svg:at,vml:Yn,inlineSvg:Bt,mac:Ko,linux:Yo},Ti=Te.msPointer?"MSPointerDown":"pointerdown",Ei=Te.msPointer?"MSPointerMove":"pointermove",Ai=Te.msPointer?"MSPointerUp":"pointerup",ki=Te.msPointer?"MSPointerCancel":"pointercancel",Or={touchstart:Ti,touchmove:Ei,touchend:Ai,touchcancel:ki},Li={touchstart:Qs,touchmove:kn,touchend:kn,touchcancel:kn},fs={},Ri=!1;function Xo(o,c,m){return c==="touchstart"&&ms(),Li[c]?(m=Li[c].bind(this,m),o.addEventListener(Or[c],m,!1),m):(console.warn("wrong event specified:",c),g)}function Jo(o,c,m){if(!Or[c]){console.warn("wrong event specified:",c);return}o.removeEventListener(Or[c],m,!1)}function Qo(o){fs[o.pointerId]=o}function ea(o){fs[o.pointerId]&&(fs[o.pointerId]=o)}function Mi(o){delete fs[o.pointerId]}function ms(){Ri||(document.addEventListener(Ti,Qo,!0),document.addEventListener(Ei,ea,!0),document.addEventListener(Ai,Mi,!0),document.addEventListener(ki,Mi,!0),Ri=!0)}function kn(o,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var m in fs)c.touches.push(fs[m]);c.changedTouches=[c],o(c)}}function Qs(o,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Vt(c),kn(o,c)}function Qw(o){var c={},m,y;for(y in o)m=o[y],c[y]=m&&m.bind?m.bind(o):m;return o=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var e1=200;function t1(o,c){o.addEventListener("dblclick",c);var m=0,y;function j(E){if(E.detail!==1){y=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var I=df(E);if(!(I.some(function(Y){return Y instanceof HTMLLabelElement&&Y.attributes.for})&&!I.some(function(Y){return Y instanceof HTMLInputElement||Y instanceof HTMLSelectElement}))){var Z=Date.now();Z-m<=e1?(y++,y===2&&c(Qw(E))):y=1,m=Z}}}return o.addEventListener("click",j),{dblclick:c,simDblclick:j}}function n1(o,c){o.removeEventListener("dblclick",c.dblclick),o.removeEventListener("click",c.simDblclick)}var Xl=sa(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Oi=sa(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),of=Oi==="webkitTransition"||Oi==="OTransition"?Oi+"End":"transitionend";function af(o){return typeof o=="string"?document.getElementById(o):o}function Ii(o,c){var m=o.style[c]||o.currentStyle&&o.currentStyle[c];if((!m||m==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(o,null);m=y?y[c]:null}return m==="auto"?null:m}function et(o,c,m){var y=document.createElement(o);return y.className=c||"",m&&m.appendChild(y),y}function vt(o){var c=o.parentNode;c&&c.removeChild(o)}function ta(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function Ir(o){var c=o.parentNode;c&&c.lastChild!==o&&c.appendChild(o)}function Dr(o){var c=o.parentNode;c&&c.firstChild!==o&&c.insertBefore(o,c.firstChild)}function Jl(o,c){if(o.classList!==void 0)return o.classList.contains(c);var m=na(o);return m.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(m)}function Ue(o,c){if(o.classList!==void 0)for(var m=b(c),y=0,j=m.length;y<j;y++)o.classList.add(m[y]);else if(!Jl(o,c)){var E=na(o);Ql(o,(E?E+" ":"")+c)}}function Pt(o,c){o.classList!==void 0?o.classList.remove(c):Ql(o,v((" "+na(o)+" ").replace(" "+c+" "," ")))}function Ql(o,c){o.className.baseVal===void 0?o.className=c:o.className.baseVal=c}function na(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function Ln(o,c){"opacity"in o.style?o.style.opacity=c:"filter"in o.style&&s1(o,c)}function s1(o,c){var m=!1,y="DXImageTransform.Microsoft.Alpha";try{m=o.filters.item(y)}catch{if(c===1)return}c=Math.round(c*100),m?(m.Enabled=c!==100,m.Opacity=c):o.style.filter+=" progid:"+y+"(opacity="+c+")"}function sa(o){for(var c=document.documentElement.style,m=0;m<o.length;m++)if(o[m]in c)return o[m];return!1}function er(o,c,m){var y=c||new q(0,0);o.style[Xl]=(Te.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(m?" scale("+m+")":"")}function kt(o,c){o._leaflet_pos=c,Te.any3d?er(o,c):(o.style.left=c.x+"px",o.style.top=c.y+"px")}function tr(o){return o._leaflet_pos||new q(0,0)}var Di,Bi,ec;if("onselectstart"in document)Di=function(){ze(window,"selectstart",Vt)},Bi=function(){lt(window,"selectstart",Vt)};else{var Fi=sa(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Di=function(){if(Fi){var o=document.documentElement.style;ec=o[Fi],o[Fi]="none"}},Bi=function(){Fi&&(document.documentElement.style[Fi]=ec,ec=void 0)}}function tc(){ze(window,"dragstart",Vt)}function nc(){lt(window,"dragstart",Vt)}var ra,sc;function rc(o){for(;o.tabIndex===-1;)o=o.parentNode;o.style&&(ia(),ra=o,sc=o.style.outlineStyle,o.style.outlineStyle="none",ze(window,"keydown",ia))}function ia(){ra&&(ra.style.outlineStyle=sc,ra=void 0,sc=void 0,lt(window,"keydown",ia))}function lf(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function ic(o){var c=o.getBoundingClientRect();return{x:c.width/o.offsetWidth||1,y:c.height/o.offsetHeight||1,boundingClientRect:c}}var r1={__proto__:null,TRANSFORM:Xl,TRANSITION:Oi,TRANSITION_END:of,get:af,getStyle:Ii,create:et,remove:vt,empty:ta,toFront:Ir,toBack:Dr,hasClass:Jl,addClass:Ue,removeClass:Pt,setClass:Ql,getClass:na,setOpacity:Ln,testProp:sa,setTransform:er,setPosition:kt,getPosition:tr,get disableTextSelection(){return Di},get enableTextSelection(){return Bi},disableImageDrag:tc,enableImageDrag:nc,preventOutline:rc,restoreOutline:ia,getSizedParentNode:lf,getScale:ic};function ze(o,c,m,y){if(c&&typeof c=="object")for(var j in c)ac(o,j,c[j],m);else{c=b(c);for(var E=0,I=c.length;E<I;E++)ac(o,c[E],m,y)}return this}var Xn="_leaflet_events";function lt(o,c,m,y){if(arguments.length===1)cf(o),delete o[Xn];else if(c&&typeof c=="object")for(var j in c)lc(o,j,c[j],m);else if(c=b(c),arguments.length===2)cf(o,function(Z){return P(c,Z)!==-1});else for(var E=0,I=c.length;E<I;E++)lc(o,c[E],m,y);return this}function cf(o,c){for(var m in o[Xn]){var y=m.split(/\d/)[0];(!c||c(y))&&lc(o,y,null,null,m)}}var oc={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ac(o,c,m,y){var j=c+u(m)+(y?"_"+u(y):"");if(o[Xn]&&o[Xn][j])return this;var E=function(Z){return m.call(y||o,Z||window.event)},I=E;!Te.touchNative&&Te.pointer&&c.indexOf("touch")===0?E=Xo(o,c,E):Te.touch&&c==="dblclick"?E=t1(o,E):"addEventListener"in o?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?o.addEventListener(oc[c]||c,E,Te.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(E=function(Z){Z=Z||window.event,dc(o,Z)&&I(Z)},o.addEventListener(oc[c],E,!1)):o.addEventListener(c,I,!1):o.attachEvent("on"+c,E),o[Xn]=o[Xn]||{},o[Xn][j]=E}function lc(o,c,m,y,j){j=j||c+u(m)+(y?"_"+u(y):"");var E=o[Xn]&&o[Xn][j];if(!E)return this;!Te.touchNative&&Te.pointer&&c.indexOf("touch")===0?Jo(o,c,E):Te.touch&&c==="dblclick"?n1(o,E):"removeEventListener"in o?o.removeEventListener(oc[c]||c,E,!1):o.detachEvent("on"+c,E),o[Xn][j]=null}function nr(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function cc(o){return ac(o,"wheel",nr),this}function zi(o){return ze(o,"mousedown touchstart dblclick contextmenu",nr),o._leaflet_disable_click=!0,this}function Vt(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function sr(o){return Vt(o),nr(o),this}function df(o){if(o.composedPath)return o.composedPath();for(var c=[],m=o.target;m;)c.push(m),m=m.parentNode;return c}function uf(o,c){if(!c)return new q(o.clientX,o.clientY);var m=ic(c),y=m.boundingClientRect;return new q((o.clientX-y.left)/m.x-c.clientLeft,(o.clientY-y.top)/m.y-c.clientTop)}var i1=Te.linux&&Te.chrome?window.devicePixelRatio:Te.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function hf(o){return Te.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/i1:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function dc(o,c){var m=c.relatedTarget;if(!m)return!0;try{for(;m&&m!==o;)m=m.parentNode}catch{return!1}return m!==o}var o1={__proto__:null,on:ze,off:lt,stopPropagation:nr,disableScrollPropagation:cc,disableClickPropagation:zi,preventDefault:Vt,stop:sr,getPropagationPath:df,getMousePosition:uf,getWheelDelta:hf,isExternalTarget:dc,addListener:ze,removeListener:lt},ff=oe.extend({run:function(o,c,m,y){this.stop(),this._el=o,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=tr(o),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=z(this._animate,this),this._step()},_step:function(o){var c=+new Date-this._startTime,m=this._duration*1e3;c<m?this._runFrame(this._easeOut(c/m),o):(this._runFrame(1),this._complete())},_runFrame:function(o,c){var m=this._startPos.add(this._offset.multiplyBy(o));c&&m._round(),kt(this._el,m),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),Ye=oe.extend({options:{crs:Ne,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,c){c=_(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(_e(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Oi&&Te.any3d&&!Te.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ze(this._proxy,of,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,c,m){if(c=c===void 0?this._zoom:this._limitZoom(c),o=this._limitCenter(_e(o),c,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=i({animate:m.animate},m.zoom),m.pan=i({animate:m.animate,duration:m.duration},m.pan));var y=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,c,m.zoom):this._tryAnimatedPan(o,m.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(o,c,m.pan&&m.pan.noMoveStart),this},setZoom:function(o,c){return this._loaded?this.setView(this.getCenter(),o,{zoom:c}):(this._zoom=o,this)},zoomIn:function(o,c){return o=o||(Te.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,c)},zoomOut:function(o,c){return o=o||(Te.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,c)},setZoomAround:function(o,c,m){var y=this.getZoomScale(c),j=this.getSize().divideBy(2),E=o instanceof q?o:this.latLngToContainerPoint(o),I=E.subtract(j).multiplyBy(1-1/y),Z=this.containerPointToLatLng(j.add(I));return this.setView(Z,c,{zoom:m})},_getBoundsCenterZoom:function(o,c){c=c||{},o=o.getBounds?o.getBounds():U(o);var m=V(c.paddingTopLeft||c.padding||[0,0]),y=V(c.paddingBottomRight||c.padding||[0,0]),j=this.getBoundsZoom(o,!1,m.add(y));if(j=typeof c.maxZoom=="number"?Math.min(c.maxZoom,j):j,j===1/0)return{center:o.getCenter(),zoom:j};var E=y.subtract(m).divideBy(2),I=this.project(o.getSouthWest(),j),Z=this.project(o.getNorthEast(),j),Y=this.unproject(I.add(Z).divideBy(2).add(E),j);return{center:Y,zoom:j}},fitBounds:function(o,c){if(o=U(o),!o.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(o,c);return this.setView(m.center,m.zoom,c)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,c){return this.setView(o,this._zoom,{pan:c})},panBy:function(o,c){if(o=V(o).round(),c=c||{},!o.x&&!o.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ff,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Ue(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,m,c.duration||.25,c.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,c,m){if(m=m||{},m.animate===!1||!Te.any3d)return this.setView(o,c,m);this._stop();var y=this.project(this.getCenter()),j=this.project(o),E=this.getSize(),I=this._zoom;o=_e(o),c=c===void 0?I:c;var Z=Math.max(E.x,E.y),Y=Z*this.getZoomScale(I,c),ue=j.distanceTo(y)||1,we=1.42,Me=we*we;function Ze(Lt){var xa=Lt?-1:1,q1=Lt?Y:Z,K1=Y*Y-Z*Z+xa*Me*Me*ue*ue,Y1=2*q1*Me*ue,bc=K1/Y1,Gf=Math.sqrt(bc*bc+1)-bc,X1=Gf<1e-9?-18:Math.log(Gf);return X1}function Jt(Lt){return(Math.exp(Lt)-Math.exp(-Lt))/2}function Ft(Lt){return(Math.exp(Lt)+Math.exp(-Lt))/2}function Mn(Lt){return Jt(Lt)/Ft(Lt)}var on=Ze(0);function Ur(Lt){return Z*(Ft(on)/Ft(on+we*Lt))}function W1(Lt){return Z*(Ft(on)*Mn(on+we*Lt)-Jt(on))/Me}function H1(Lt){return 1-Math.pow(1-Lt,1.5)}var Z1=Date.now(),Hf=(Ze(1)-on)/we,G1=m.duration?1e3*m.duration:1e3*Hf*.8;function Zf(){var Lt=(Date.now()-Z1)/G1,xa=H1(Lt)*Hf;Lt<=1?(this._flyToFrame=z(Zf,this),this._move(this.unproject(y.add(j.subtract(y).multiplyBy(W1(xa)/ue)),I),this.getScaleZoom(Z/Ur(xa),I),{flyTo:!0})):this._move(o,c)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),Zf.call(this),this},flyToBounds:function(o,c){var m=this._getBoundsCenterZoom(o,c);return this.flyTo(m.center,m.zoom,c)},setMaxBounds:function(o){return o=U(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var c=this.options.minZoom;return this.options.minZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var c=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&c!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,c){this._enforcingBounds=!0;var m=this.getCenter(),y=this._limitCenter(m,this._zoom,U(o));return m.equals(y)||this.panTo(y,c),this._enforcingBounds=!1,this},panInside:function(o,c){c=c||{};var m=V(c.paddingTopLeft||c.padding||[0,0]),y=V(c.paddingBottomRight||c.padding||[0,0]),j=this.project(this.getCenter()),E=this.project(o),I=this.getPixelBounds(),Z=G([I.min.add(m),I.max.subtract(y)]),Y=Z.getSize();if(!Z.contains(E)){this._enforcingBounds=!0;var ue=E.subtract(Z.getCenter()),we=Z.extend(E).getSize().subtract(Y);j.x+=ue.x<0?-we.x:we.x,j.y+=ue.y<0?-we.y:we.y,this.panTo(this.unproject(j),c),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=i({animate:!1,pan:!0},o===!0?{animate:!0}:o);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),y=c.divideBy(2).round(),j=m.divideBy(2).round(),E=y.subtract(j);return!E.x&&!E.y?this:(o.animate&&o.pan?this.panBy(E):(o.pan&&this._rawPanBy(E),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=i({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=l(this._handleGeolocationResponse,this),m=l(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,m,o):navigator.geolocation.getCurrentPosition(c,m,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(this._container._leaflet_id){var c=o.code,m=o.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(o){if(this._container._leaflet_id){var c=o.coords.latitude,m=o.coords.longitude,y=new ye(c,m),j=y.toBounds(o.coords.accuracy*2),E=this._locateOptions;if(E.setView){var I=this.getBoundsZoom(j);this.setView(y,E.maxZoom?Math.min(I,E.maxZoom):I)}var Z={latlng:y,bounds:j,timestamp:o.timestamp};for(var Y in o.coords)typeof o.coords[Y]=="number"&&(Z[Y]=o.coords[Y]);this.fire("locationfound",Z)}},addHandler:function(o,c){if(!c)return this;var m=this[o]=new c(this);return this._handlers.push(m),this.options[o]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),vt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)vt(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,c){var m="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),y=et("div",m,c||this._mapPane);return o&&(this._panes[o]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),c=this.unproject(o.getBottomLeft()),m=this.unproject(o.getTopRight());return new $(c,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,c,m){o=U(o),m=V(m||[0,0]);var y=this.getZoom()||0,j=this.getMinZoom(),E=this.getMaxZoom(),I=o.getNorthWest(),Z=o.getSouthEast(),Y=this.getSize().subtract(m),ue=G(this.project(Z,y),this.project(I,y)).getSize(),we=Te.any3d?this.options.zoomSnap:1,Me=Y.x/ue.x,Ze=Y.y/ue.y,Jt=c?Math.max(Me,Ze):Math.min(Me,Ze);return y=this.getScaleZoom(Jt,y),we&&(y=Math.round(y/(we/100))*(we/100),y=c?Math.ceil(y/we)*we:Math.floor(y/we)*we),Math.max(j,Math.min(E,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,c){var m=this._getTopLeftPoint(o,c);return new W(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,c){var m=this.options.crs;return c=c===void 0?this._zoom:c,m.scale(o)/m.scale(c)},getScaleZoom:function(o,c){var m=this.options.crs;c=c===void 0?this._zoom:c;var y=m.zoom(o*m.scale(c));return isNaN(y)?1/0:y},project:function(o,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(_e(o),c)},unproject:function(o,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(V(o),c)},layerPointToLatLng:function(o){var c=V(o).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(o){var c=this.project(_e(o))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(_e(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds(U(o))},distance:function(o,c){return this.options.crs.distance(_e(o),_e(c))},containerPointToLayerPoint:function(o){return V(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return V(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var c=this.containerPointToLayerPoint(V(o));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(_e(o)))},mouseEventToContainerPoint:function(o){return uf(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var c=this._container=af(o);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ze(c,"scroll",this._onScroll,this),this._containerId=u(c)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&Te.any3d,Ue(o,"leaflet-container"+(Te.touch?" leaflet-touch":"")+(Te.retina?" leaflet-retina":"")+(Te.ielt9?" leaflet-oldie":"")+(Te.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Ii(o,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),kt(this._mapPane,new q(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ue(o.markerPane,"leaflet-zoom-hide"),Ue(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,c,m){kt(this._mapPane,new q(0,0));var y=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var j=this._zoom!==c;this._moveStart(j,m)._move(o,c)._moveEnd(j),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(o,c){return o&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(o,c,m,y){c===void 0&&(c=this._zoom);var j=this._zoom!==c;return this._zoom=c,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),y?m&&m.pinch&&this.fire("zoom",m):((j||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){kt(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[u(this._container)]=this;var c=o?lt:ze;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Te.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,c){for(var m=[],y,j=c==="mouseout"||c==="mouseover",E=o.target||o.srcElement,I=!1;E;){if(y=this._targets[u(E)],y&&(c==="click"||c==="preclick")&&this._draggableMoved(y)){I=!0;break}if(y&&y.listens(c,!0)&&(j&&!dc(E,o)||(m.push(y),j))||E===this._container)break;E=E.parentNode}return!m.length&&!I&&!j&&this.listens(c,!0)&&(m=[this]),m},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var c=o.target||o.srcElement;if(!(!this._loaded||c._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(c))){var m=o.type;m==="mousedown"&&rc(c),this._fireDOMEvent(o,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,c,m){if(o.type==="click"){var y=i({},o);y.type="preclick",this._fireDOMEvent(y,y.type,m)}var j=this._findEventTargets(o,c);if(m){for(var E=[],I=0;I<m.length;I++)m[I].listens(c,!0)&&E.push(m[I]);j=E.concat(j)}if(j.length){c==="contextmenu"&&Vt(o);var Z=j[0],Y={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var ue=Z.getLatLng&&(!Z._radius||Z._radius<=10);Y.containerPoint=ue?this.latLngToContainerPoint(Z.getLatLng()):this.mouseEventToContainerPoint(o),Y.layerPoint=this.containerPointToLayerPoint(Y.containerPoint),Y.latlng=ue?Z.getLatLng():this.layerPointToLatLng(Y.layerPoint)}for(I=0;I<j.length;I++)if(j[I].fire(c,Y,!0),Y.originalEvent._stopped||j[I].options.bubblingMouseEvents===!1&&P(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,c=this._handlers.length;o<c;o++)this._handlers[o].disable()},whenReady:function(o,c){return this._loaded?o.call(c||this,{target:this}):this.on("load",o,c),this},_getMapPanePos:function(){return tr(this._mapPane)||new q(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,c){var m=o&&c!==void 0?this._getNewPixelOrigin(o,c):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,c){var m=this.getSize()._divideBy(2);return this.project(o,c)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,c,m){var y=this._getNewPixelOrigin(m,c);return this.project(o,c)._subtract(y)},_latLngBoundsToNewLayerBounds:function(o,c,m){var y=this._getNewPixelOrigin(m,c);return G([this.project(o.getSouthWest(),c)._subtract(y),this.project(o.getNorthWest(),c)._subtract(y),this.project(o.getSouthEast(),c)._subtract(y),this.project(o.getNorthEast(),c)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,c,m){if(!m)return o;var y=this.project(o,c),j=this.getSize().divideBy(2),E=new W(y.subtract(j),y.add(j)),I=this._getBoundsOffset(E,m,c);return Math.abs(I.x)<=1&&Math.abs(I.y)<=1?o:this.unproject(y.add(I),c)},_limitOffset:function(o,c){if(!c)return o;var m=this.getPixelBounds(),y=new W(m.min.add(o),m.max.add(o));return o.add(this._getBoundsOffset(y,c))},_getBoundsOffset:function(o,c,m){var y=G(this.project(c.getNorthEast(),m),this.project(c.getSouthWest(),m)),j=y.min.subtract(o.min),E=y.max.subtract(o.max),I=this._rebound(j.x,-E.x),Z=this._rebound(j.y,-E.y);return new q(I,Z)},_rebound:function(o,c){return o+c>0?Math.round(o-c)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(c))},_limitZoom:function(o){var c=this.getMinZoom(),m=this.getMaxZoom(),y=Te.any3d?this.options.zoomSnap:1;return y&&(o=Math.round(o/y)*y),Math.max(c,Math.min(m,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Pt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,c){var m=this._getCenterOffset(o)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,c),!0)},_createAnimProxy:function(){var o=this._proxy=et("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(c){var m=Xl,y=this._proxy.style[m];er(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),y===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){vt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),c=this.getZoom();er(this._proxy,this.project(o,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,c,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(c),j=this._getCenterOffset(o)._divideBy(1-1/y);return m.animate!==!0&&!this.getSize().contains(j)?!1:(z(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(o,c,!0)},this),!0)},_animateZoom:function(o,c,m,y){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=c,Ue(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:c,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Pt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function a1(o,c){return new Ye(o,c)}var Un=J.extend({options:{position:"topright"},initialize:function(o){_(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var c=this._map;return c&&c.removeControl(this),this.options.position=o,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var c=this._container=this.onAdd(o),m=this.getPosition(),y=o._controlCorners[m];return Ue(c,"leaflet-control"),m.indexOf("bottom")!==-1?y.insertBefore(c,y.firstChild):y.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(vt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),$i=function(o){return new Un(o)};Ye.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},c="leaflet-",m=this._controlContainer=et("div",c+"control-container",this._container);function y(j,E){var I=c+j+" "+c+E;o[j+E]=et("div",I,m)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)vt(this._controlCorners[o]);vt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var mf=Un.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,c,m,y){return m<y?-1:y<m?1:0}},initialize:function(o,c,m){_(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in o)this._addLayer(o[y],y);for(y in c)this._addLayer(c[y],y,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return Un.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,c){return this._addLayer(o,c),this._map?this._update():this},addOverlay:function(o,c){return this._addLayer(o,c,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var c=this._getLayer(u(o));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Ue(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Ue(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Pt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Pt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",c=this._container=et("div",o),m=this.options.collapsed;c.setAttribute("aria-haspopup",!0),zi(c),cc(c);var y=this._section=et("section",o+"-list");m&&(this._map.on("click",this.collapse,this),ze(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var j=this._layersLink=et("a",o+"-toggle",c);j.href="#",j.title="Layers",j.setAttribute("role","button"),ze(j,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){Vt(E),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=et("div",o+"-base",y),this._separator=et("div",o+"-separator",y),this._overlaysList=et("div",o+"-overlays",y),c.appendChild(y)},_getLayer:function(o){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&u(this._layers[c].layer)===o)return this._layers[c]},_addLayer:function(o,c,m){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:c,overlay:m}),this.options.sortLayers&&this._layers.sort(l(function(y,j){return this.options.sortFunction(y.layer,j.layer,y.name,j.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ta(this._baseLayersList),ta(this._overlaysList),this._layerControlInputs=[];var o,c,m,y,j=0;for(m=0;m<this._layers.length;m++)y=this._layers[m],this._addItem(y),c=c||y.overlay,o=o||!y.overlay,j+=y.overlay?0:1;return this.options.hideSingleBase&&(o=o&&j>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=c&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var c=this._getLayer(u(o.target)),m=c.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;m&&this._map.fire(m,c)},_createRadioElement:function(o,c){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(c?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=m,y.firstChild},_addItem:function(o){var c=document.createElement("label"),m=this._map.hasLayer(o.layer),y;o.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=m):y=this._createRadioElement("leaflet-base-layers_"+u(this),m),this._layerControlInputs.push(y),y.layerId=u(o.layer),ze(y,"click",this._onInputClick,this);var j=document.createElement("span");j.innerHTML=" "+o.name;var E=document.createElement("span");c.appendChild(E),E.appendChild(y),E.appendChild(j);var I=o.overlay?this._overlaysList:this._baseLayersList;return I.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,c,m,y=[],j=[];this._handlingClick=!0;for(var E=o.length-1;E>=0;E--)c=o[E],m=this._getLayer(c.layerId).layer,c.checked?y.push(m):c.checked||j.push(m);for(E=0;E<j.length;E++)this._map.hasLayer(j[E])&&this._map.removeLayer(j[E]);for(E=0;E<y.length;E++)this._map.hasLayer(y[E])||this._map.addLayer(y[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,c,m,y=this._map.getZoom(),j=o.length-1;j>=0;j--)c=o[j],m=this._getLayer(c.layerId).layer,c.disabled=m.options.minZoom!==void 0&&y<m.options.minZoom||m.options.maxZoom!==void 0&&y>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,ze(o,"click",Vt),this.expand();var c=this;setTimeout(function(){lt(o,"click",Vt),c._preventClick=!1})}}),l1=function(o,c,m){return new mf(o,c,m)},uc=Un.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var c="leaflet-control-zoom",m=et("div",c+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,c+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,c+"-out",m,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,c,m,y,j){var E=et("a",m,y);return E.innerHTML=o,E.href="#",E.title=c,E.setAttribute("role","button"),E.setAttribute("aria-label",c),zi(E),ze(E,"click",sr),ze(E,"click",j,this),ze(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var o=this._map,c="leaflet-disabled";Pt(this._zoomInButton,c),Pt(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Ue(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Ue(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ye.mergeOptions({zoomControl:!0}),Ye.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new uc,this.addControl(this.zoomControl))});var c1=function(o){return new uc(o)},pf=Un.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var c="leaflet-control-scale",m=et("div",c),y=this.options;return this._addScales(y,c+"-line",m),o.on(y.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),m},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,c,m){o.metric&&(this._mScale=et("div",c,m)),o.imperial&&(this._iScale=et("div",c,m))},_update:function(){var o=this._map,c=o.getSize().y/2,m=o.distance(o.containerPointToLatLng([0,c]),o.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(m)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var c=this._getRoundNum(o),m=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,m,c/o)},_updateImperial:function(o){var c=o*3.2808399,m,y,j;c>5280?(m=c/5280,y=this._getRoundNum(m),this._updateScale(this._iScale,y+" mi",y/m)):(j=this._getRoundNum(c),this._updateScale(this._iScale,j+" ft",j/c))},_updateScale:function(o,c,m){o.style.width=Math.round(this.options.maxWidth*m)+"px",o.innerHTML=c},_getRoundNum:function(o){var c=Math.pow(10,(Math.floor(o)+"").length-1),m=o/c;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,c*m}}),d1=function(o){return new pf(o)},u1='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',hc=Un.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Te.inlineSvg?u1+" ":"")+"Leaflet</a>"},initialize:function(o){_(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=et("div","leaflet-control-attribution"),zi(this._container);for(var c in o._layers)o._layers[c].getAttribution&&this.addAttribution(o._layers[c].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(this._map){var o=[];for(var c in this._attributions)this._attributions[c]&&o.push(c);var m=[];this.options.prefix&&m.push(this.options.prefix),o.length&&m.push(o.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});Ye.mergeOptions({attributionControl:!0}),Ye.addInitHook(function(){this.options.attributionControl&&new hc().addTo(this)});var h1=function(o){return new hc(o)};Un.Layers=mf,Un.Zoom=uc,Un.Scale=pf,Un.Attribution=hc,$i.layers=l1,$i.zoom=c1,$i.scale=d1,$i.attribution=h1;var Jn=J.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Jn.addTo=function(o,c){return o.addHandler(c,this),this};var f1={Events:X},gf=Te.touch?"touchstart mousedown":"mousedown",Es=oe.extend({options:{clickTolerance:3},initialize:function(o,c,m,y){_(this,y),this._element=o,this._dragStartTarget=c||o,this._preventOutline=m},enable:function(){this._enabled||(ze(this._dragStartTarget,gf,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Es._dragging===this&&this.finishDrag(!0),lt(this._dragStartTarget,gf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(this._enabled&&(this._moved=!1,!Jl(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Es._dragging===this&&this.finishDrag();return}if(!(Es._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Es._dragging=this,this._preventOutline&&rc(this._element),tc(),Di(),!this._moving)){this.fire("down");var c=o.touches?o.touches[0]:o,m=lf(this._element);this._startPoint=new q(c.clientX,c.clientY),this._startPos=tr(this._element),this._parentScale=ic(m);var y=o.type==="mousedown";ze(document,y?"mousemove":"touchmove",this._onMove,this),ze(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var c=o.touches&&o.touches.length===1?o.touches[0]:o,m=new q(c.clientX,c.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,Vt(o),this._moved||(this.fire("dragstart"),this._moved=!0,Ue(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ue(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),kt(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(o){Pt(document.body,"leaflet-dragging"),this._lastTarget&&(Pt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),lt(document,"mousemove touchmove",this._onMove,this),lt(document,"mouseup touchend touchcancel",this._onUp,this),nc(),Bi();var c=this._moved&&this._moving;this._moving=!1,Es._dragging=!1,c&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function xf(o,c,m){var y,j=[1,4,2,8],E,I,Z,Y,ue,we,Me,Ze;for(E=0,we=o.length;E<we;E++)o[E]._code=rr(o[E],c);for(Z=0;Z<4;Z++){for(Me=j[Z],y=[],E=0,we=o.length,I=we-1;E<we;I=E++)Y=o[E],ue=o[I],Y._code&Me?ue._code&Me||(Ze=oa(ue,Y,Me,c,m),Ze._code=rr(Ze,c),y.push(Ze)):(ue._code&Me&&(Ze=oa(ue,Y,Me,c,m),Ze._code=rr(Ze,c),y.push(Ze)),y.push(Y));o=y}return o}function vf(o,c){var m,y,j,E,I,Z,Y,ue,we;if(!o||o.length===0)throw new Error("latlngs not passed");Rn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Me=_e([0,0]),Ze=U(o),Jt=Ze.getNorthWest().distanceTo(Ze.getSouthWest())*Ze.getNorthEast().distanceTo(Ze.getNorthWest());Jt<1700&&(Me=fc(o));var Ft=o.length,Mn=[];for(m=0;m<Ft;m++){var on=_e(o[m]);Mn.push(c.project(_e([on.lat-Me.lat,on.lng-Me.lng])))}for(Z=Y=ue=0,m=0,y=Ft-1;m<Ft;y=m++)j=Mn[m],E=Mn[y],I=j.y*E.x-E.y*j.x,Y+=(j.x+E.x)*I,ue+=(j.y+E.y)*I,Z+=I*3;Z===0?we=Mn[0]:we=[Y/Z,ue/Z];var Ur=c.unproject(V(we));return _e([Ur.lat+Me.lat,Ur.lng+Me.lng])}function fc(o){for(var c=0,m=0,y=0,j=0;j<o.length;j++){var E=_e(o[j]);c+=E.lat,m+=E.lng,y++}return _e([c/y,m/y])}var m1={__proto__:null,clipPolygon:xf,polygonCenter:vf,centroid:fc};function yf(o,c){if(!c||!o.length)return o.slice();var m=c*c;return o=x1(o,m),o=g1(o,m),o}function _f(o,c,m){return Math.sqrt(Vi(o,c,m,!0))}function p1(o,c,m){return Vi(o,c,m)}function g1(o,c){var m=o.length,y=typeof Uint8Array<"u"?Uint8Array:Array,j=new y(m);j[0]=j[m-1]=1,mc(o,j,c,0,m-1);var E,I=[];for(E=0;E<m;E++)j[E]&&I.push(o[E]);return I}function mc(o,c,m,y,j){var E=0,I,Z,Y;for(Z=y+1;Z<=j-1;Z++)Y=Vi(o[Z],o[y],o[j],!0),Y>E&&(I=Z,E=Y);E>m&&(c[I]=1,mc(o,c,m,y,I),mc(o,c,m,I,j))}function x1(o,c){for(var m=[o[0]],y=1,j=0,E=o.length;y<E;y++)v1(o[y],o[j])>c&&(m.push(o[y]),j=y);return j<E-1&&m.push(o[E-1]),m}var bf;function wf(o,c,m,y,j){var E=y?bf:rr(o,m),I=rr(c,m),Z,Y,ue;for(bf=I;;){if(!(E|I))return[o,c];if(E&I)return!1;Z=E||I,Y=oa(o,c,Z,m,j),ue=rr(Y,m),Z===E?(o=Y,E=ue):(c=Y,I=ue)}}function oa(o,c,m,y,j){var E=c.x-o.x,I=c.y-o.y,Z=y.min,Y=y.max,ue,we;return m&8?(ue=o.x+E*(Y.y-o.y)/I,we=Y.y):m&4?(ue=o.x+E*(Z.y-o.y)/I,we=Z.y):m&2?(ue=Y.x,we=o.y+I*(Y.x-o.x)/E):m&1&&(ue=Z.x,we=o.y+I*(Z.x-o.x)/E),new q(ue,we,j)}function rr(o,c){var m=0;return o.x<c.min.x?m|=1:o.x>c.max.x&&(m|=2),o.y<c.min.y?m|=4:o.y>c.max.y&&(m|=8),m}function v1(o,c){var m=c.x-o.x,y=c.y-o.y;return m*m+y*y}function Vi(o,c,m,y){var j=c.x,E=c.y,I=m.x-j,Z=m.y-E,Y=I*I+Z*Z,ue;return Y>0&&(ue=((o.x-j)*I+(o.y-E)*Z)/Y,ue>1?(j=m.x,E=m.y):ue>0&&(j+=I*ue,E+=Z*ue)),I=o.x-j,Z=o.y-E,y?I*I+Z*Z:new q(j,E)}function Rn(o){return!S(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]<"u"}function jf(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Rn(o)}function Sf(o,c){var m,y,j,E,I,Z,Y,ue;if(!o||o.length===0)throw new Error("latlngs not passed");Rn(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var we=_e([0,0]),Me=U(o),Ze=Me.getNorthWest().distanceTo(Me.getSouthWest())*Me.getNorthEast().distanceTo(Me.getNorthWest());Ze<1700&&(we=fc(o));var Jt=o.length,Ft=[];for(m=0;m<Jt;m++){var Mn=_e(o[m]);Ft.push(c.project(_e([Mn.lat-we.lat,Mn.lng-we.lng])))}for(m=0,y=0;m<Jt-1;m++)y+=Ft[m].distanceTo(Ft[m+1])/2;if(y===0)ue=Ft[0];else for(m=0,E=0;m<Jt-1;m++)if(I=Ft[m],Z=Ft[m+1],j=I.distanceTo(Z),E+=j,E>y){Y=(E-y)/j,ue=[Z.x-Y*(Z.x-I.x),Z.y-Y*(Z.y-I.y)];break}var on=c.unproject(V(ue));return _e([on.lat+we.lat,on.lng+we.lng])}var y1={__proto__:null,simplify:yf,pointToSegmentDistance:_f,closestPointOnSegment:p1,clipSegment:wf,_getEdgeIntersection:oa,_getBitCode:rr,_sqClosestPointOnSegment:Vi,isFlat:Rn,_flat:jf,polylineCenter:Sf},pc={project:function(o){return new q(o.lng,o.lat)},unproject:function(o){return new ye(o.y,o.x)},bounds:new W([-180,-90],[180,90])},gc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new W([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var c=Math.PI/180,m=this.R,y=o.lat*c,j=this.R_MINOR/m,E=Math.sqrt(1-j*j),I=E*Math.sin(y),Z=Math.tan(Math.PI/4-y/2)/Math.pow((1-I)/(1+I),E/2);return y=-m*Math.log(Math.max(Z,1e-10)),new q(o.lng*c*m,y)},unproject:function(o){for(var c=180/Math.PI,m=this.R,y=this.R_MINOR/m,j=Math.sqrt(1-y*y),E=Math.exp(-o.y/m),I=Math.PI/2-2*Math.atan(E),Z=0,Y=.1,ue;Z<15&&Math.abs(Y)>1e-7;Z++)ue=j*Math.sin(I),ue=Math.pow((1-ue)/(1+ue),j/2),Y=Math.PI/2-2*Math.atan(E*ue)-I,I+=Y;return new ye(I*c,o.x*c/m)}},_1={__proto__:null,LonLat:pc,Mercator:gc,SphericalMercator:K},b1=i({},pe,{code:"EPSG:3395",projection:gc,transformation:function(){var o=.5/(Math.PI*gc.R);return ce(o,.5,-o,.5)}()}),Nf=i({},pe,{code:"EPSG:4326",projection:pc,transformation:ce(1/180,1,-1/180,.5)}),w1=i({},ne,{projection:pc,transformation:ce(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,c){var m=c.lng-o.lng,y=c.lat-o.lat;return Math.sqrt(m*m+y*y)},infinite:!0});ne.Earth=pe,ne.EPSG3395=b1,ne.EPSG3857=Ne,ne.EPSG900913=xe,ne.EPSG4326=Nf,ne.Simple=w1;var Wn=oe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[u(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[u(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var c=o.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var m=this.getEvents();c.on(m,this),this.once("remove",function(){c.off(m,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});Ye.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var c=u(o);return this._layers[c]?this:(this._layers[c]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var c=u(o);return this._layers[c]?(this._loaded&&o.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return u(o)in this._layers},eachLayer:function(o,c){for(var m in this._layers)o.call(c,this._layers[m]);return this},_addLayers:function(o){o=o?S(o)?o:[o]:[];for(var c=0,m=o.length;c<m;c++)this.addLayer(o[c])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[u(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var c=u(o);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,c=-1/0,m=this._getZoomSpan();for(var y in this._zoomBoundLayers){var j=this._zoomBoundLayers[y].options;o=j.minZoom===void 0?o:Math.min(o,j.minZoom),c=j.maxZoom===void 0?c:Math.max(c,j.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=o===1/0?void 0:o,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Br=Wn.extend({initialize:function(o,c){_(this,c),this._layers={};var m,y;if(o)for(m=0,y=o.length;m<y;m++)this.addLayer(o[m])},addLayer:function(o){var c=this.getLayerId(o);return this._layers[c]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var c=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(o){var c=typeof o=="number"?o:this.getLayerId(o);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var c=Array.prototype.slice.call(arguments,1),m,y;for(m in this._layers)y=this._layers[m],y[o]&&y[o].apply(y,c);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,c){for(var m in this._layers)o.call(c,this._layers[m]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return u(o)}}),j1=function(o,c){return new Br(o,c)},ps=Br.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Br.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Br.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new $;for(var c in this._layers){var m=this._layers[c];o.extend(m.getBounds?m.getBounds():m.getLatLng())}return o}}),S1=function(o,c){return new ps(o,c)},Fr=J.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){_(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,c){var m=this._getIconUrl(o);if(!m){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(m,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(y,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(o,c){var m=this.options,y=m[c+"Size"];typeof y=="number"&&(y=[y,y]);var j=V(y),E=V(c==="shadow"&&m.shadowAnchor||m.iconAnchor||j&&j.divideBy(2,!0));o.className="leaflet-marker-"+c+" "+(m.className||""),E&&(o.style.marginLeft=-E.x+"px",o.style.marginTop=-E.y+"px"),j&&(o.style.width=j.x+"px",o.style.height=j.y+"px")},_createImg:function(o,c){return c=c||document.createElement("img"),c.src=o,c},_getIconUrl:function(o){return Te.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function N1(o){return new Fr(o)}var Ui=Fr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof Ui.imagePath!="string"&&(Ui.imagePath=this._detectIconPath()),(this.options.imagePath||Ui.imagePath)+Fr.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var c=function(m,y,j){var E=y.exec(m);return E&&E[j]};return o=c(o,/^url\((['"])?(.+)\1\)$/,2),o&&c(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=et("div","leaflet-default-icon-path",document.body),c=Ii(o,"background-image")||Ii(o,"backgroundImage");if(document.body.removeChild(o),c=this._stripUrl(c),c)return c;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),Cf=Jn.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Es(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ue(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Pt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var c=this._marker,m=c._map,y=this._marker.options.autoPanSpeed,j=this._marker.options.autoPanPadding,E=tr(c._icon),I=m.getPixelBounds(),Z=m.getPixelOrigin(),Y=G(I.min._subtract(Z).add(j),I.max._subtract(Z).subtract(j));if(!Y.contains(E)){var ue=V((Math.max(Y.max.x,E.x)-Y.max.x)/(I.max.x-Y.max.x)-(Math.min(Y.min.x,E.x)-Y.min.x)/(I.min.x-Y.min.x),(Math.max(Y.max.y,E.y)-Y.max.y)/(I.max.y-Y.max.y)-(Math.min(Y.min.y,E.y)-Y.min.y)/(I.min.y-Y.min.y)).multiplyBy(y);m.panBy(ue,{animate:!1}),this._draggable._newPos._add(ue),this._draggable._startPos._add(ue),kt(c._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=z(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=z(this._adjustPan.bind(this,o)))},_onDrag:function(o){var c=this._marker,m=c._shadow,y=tr(c._icon),j=c._map.layerPointToLatLng(y);m&&kt(m,y),c._latlng=j,o.latlng=j,o.oldLatLng=this._oldLatLng,c.fire("move",o).fire("drag",o)},_onDragEnd:function(o){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),aa=Wn.extend({options:{icon:new Ui,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,c){_(this,c),this._latlng=_e(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var c=this._latlng;return this._latlng=_e(o),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=o.icon.createIcon(this._icon),y=!1;m!==this._icon&&(this._icon&&this._removeIcon(),y=!0,o.title&&(m.title=o.title),m.tagName==="IMG"&&(m.alt=o.alt||"")),Ue(m,c),o.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ze(m,"focus",this._panOnFocus,this);var j=o.icon.createShadow(this._shadow),E=!1;j!==this._shadow&&(this._removeShadow(),E=!0),j&&(Ue(j,c),j.alt=""),this._shadow=j,o.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),j&&E&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&lt(this._icon,"focus",this._panOnFocus,this),vt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&vt(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&kt(this._icon,o),this._shadow&&kt(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Ue(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Cf)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Cf(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&Ln(this._icon,o),this._shadow&&Ln(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(o){var c=this.options.icon.options,m=c.iconSize?V(c.iconSize):V(0,0),y=c.iconAnchor?V(c.iconAnchor):V(0,0);o.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:m.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function C1(o,c){return new aa(o,c)}var As=Wn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return _(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),la=As.extend({options:{fill:!0,radius:10},initialize:function(o,c){_(this,c),this._latlng=_e(o),this._radius=this.options.radius},setLatLng:function(o){var c=this._latlng;return this._latlng=_e(o),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var c=o&&o.radius||this._radius;return As.prototype.setStyle.call(this,o),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,c=this._radiusY||o,m=this._clickTolerance(),y=[o+m,c+m];this._pxBounds=new W(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function P1(o,c){return new la(o,c)}var xc=la.extend({initialize:function(o,c,m){if(typeof c=="number"&&(c=i({},m,{radius:c})),_(this,c),this._latlng=_e(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new $(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:As.prototype.setStyle,_project:function(){var o=this._latlng.lng,c=this._latlng.lat,m=this._map,y=m.options.crs;if(y.distance===pe.distance){var j=Math.PI/180,E=this._mRadius/pe.R/j,I=m.project([c+E,o]),Z=m.project([c-E,o]),Y=I.add(Z).divideBy(2),ue=m.unproject(Y).lat,we=Math.acos((Math.cos(E*j)-Math.sin(c*j)*Math.sin(ue*j))/(Math.cos(c*j)*Math.cos(ue*j)))/j;(isNaN(we)||we===0)&&(we=E/Math.cos(Math.PI/180*c)),this._point=Y.subtract(m.getPixelOrigin()),this._radius=isNaN(we)?0:Y.x-m.project([ue,o-we]).x,this._radiusY=Y.y-I.y}else{var Me=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Me).x}this._updateBounds()}});function T1(o,c,m){return new xc(o,c,m)}var gs=As.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,c){_(this,c),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var c=1/0,m=null,y=Vi,j,E,I=0,Z=this._parts.length;I<Z;I++)for(var Y=this._parts[I],ue=1,we=Y.length;ue<we;ue++){j=Y[ue-1],E=Y[ue];var Me=y(o,j,E,!0);Me<c&&(c=Me,m=y(o,j,E))}return m&&(m.distance=Math.sqrt(c)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Sf(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,c){return c=c||this._defaultShape(),o=_e(o),c.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new $,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Rn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var c=[],m=Rn(o),y=0,j=o.length;y<j;y++)m?(c[y]=_e(o[y]),this._bounds.extend(c[y])):c[y]=this._convertLatLngs(o[y]);return c},_project:function(){var o=new W;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),c=new q(o,o);this._rawPxBounds&&(this._pxBounds=new W([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(o,c,m){var y=o[0]instanceof ye,j=o.length,E,I;if(y){for(I=[],E=0;E<j;E++)I[E]=this._map.latLngToLayerPoint(o[E]),m.extend(I[E]);c.push(I)}else for(E=0;E<j;E++)this._projectLatlngs(o[E],c,m)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,m,y,j,E,I,Z,Y;for(m=0,j=0,E=this._rings.length;m<E;m++)for(Y=this._rings[m],y=0,I=Y.length;y<I-1;y++)Z=wf(Y[y],Y[y+1],o,y,!0),Z&&(c[j]=c[j]||[],c[j].push(Z[0]),(Z[1]!==Y[y+1]||y===I-2)&&(c[j].push(Z[1]),j++))}},_simplifyPoints:function(){for(var o=this._parts,c=this.options.smoothFactor,m=0,y=o.length;m<y;m++)o[m]=yf(o[m],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,c){var m,y,j,E,I,Z,Y=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(m=0,E=this._parts.length;m<E;m++)for(Z=this._parts[m],y=0,I=Z.length,j=I-1;y<I;j=y++)if(!(!c&&y===0)&&_f(o,Z[j],Z[y])<=Y)return!0;return!1}});function E1(o,c){return new gs(o,c)}gs._flat=jf;var zr=gs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return vf(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var c=gs.prototype._convertLatLngs.call(this,o),m=c.length;return m>=2&&c[0]instanceof ye&&c[0].equals(c[m-1])&&c.pop(),c},_setLatLngs:function(o){gs.prototype._setLatLngs.call(this,o),Rn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Rn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,c=this.options.weight,m=new q(c,c);if(o=new W(o.min.subtract(m),o.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,j=this._rings.length,E;y<j;y++)E=xf(this._rings[y],o,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var c=!1,m,y,j,E,I,Z,Y,ue;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(E=0,Y=this._parts.length;E<Y;E++)for(m=this._parts[E],I=0,ue=m.length,Z=ue-1;I<ue;Z=I++)y=m[I],j=m[Z],y.y>o.y!=j.y>o.y&&o.x<(j.x-y.x)*(o.y-y.y)/(j.y-y.y)+y.x&&(c=!c);return c||gs.prototype._containsPoint.call(this,o,!0)}});function A1(o,c){return new zr(o,c)}var xs=ps.extend({initialize:function(o,c){_(this,c),this._layers={},o&&this.addData(o)},addData:function(o){var c=S(o)?o:o.features,m,y,j;if(c){for(m=0,y=c.length;m<y;m++)j=c[m],(j.geometries||j.geometry||j.features||j.coordinates)&&this.addData(j);return this}var E=this.options;if(E.filter&&!E.filter(o))return this;var I=ca(o,E);return I?(I.feature=ha(o),I.defaultOptions=I.options,this.resetStyle(I),E.onEachFeature&&E.onEachFeature(o,I),this.addLayer(I)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=i({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(c){this._setLayerStyle(c,o)},this)},_setLayerStyle:function(o,c){o.setStyle&&(typeof c=="function"&&(c=c(o.feature)),o.setStyle(c))}});function ca(o,c){var m=o.type==="Feature"?o.geometry:o,y=m?m.coordinates:null,j=[],E=c&&c.pointToLayer,I=c&&c.coordsToLatLng||vc,Z,Y,ue,we;if(!y&&!m)return null;switch(m.type){case"Point":return Z=I(y),Pf(E,o,Z,c);case"MultiPoint":for(ue=0,we=y.length;ue<we;ue++)Z=I(y[ue]),j.push(Pf(E,o,Z,c));return new ps(j);case"LineString":case"MultiLineString":return Y=da(y,m.type==="LineString"?0:1,I),new gs(Y,c);case"Polygon":case"MultiPolygon":return Y=da(y,m.type==="Polygon"?1:2,I),new zr(Y,c);case"GeometryCollection":for(ue=0,we=m.geometries.length;ue<we;ue++){var Me=ca({geometry:m.geometries[ue],type:"Feature",properties:o.properties},c);Me&&j.push(Me)}return new ps(j);case"FeatureCollection":for(ue=0,we=m.features.length;ue<we;ue++){var Ze=ca(m.features[ue],c);Ze&&j.push(Ze)}return new ps(j);default:throw new Error("Invalid GeoJSON object.")}}function Pf(o,c,m,y){return o?o(c,m):new aa(m,y&&y.markersInheritOptions&&y)}function vc(o){return new ye(o[1],o[0],o[2])}function da(o,c,m){for(var y=[],j=0,E=o.length,I;j<E;j++)I=c?da(o[j],c-1,m):(m||vc)(o[j]),y.push(I);return y}function yc(o,c){return o=_e(o),o.alt!==void 0?[x(o.lng,c),x(o.lat,c),x(o.alt,c)]:[x(o.lng,c),x(o.lat,c)]}function ua(o,c,m,y){for(var j=[],E=0,I=o.length;E<I;E++)j.push(c?ua(o[E],Rn(o[E])?0:c-1,m,y):yc(o[E],y));return!c&&m&&j.length>0&&j.push(j[0].slice()),j}function $r(o,c){return o.feature?i({},o.feature,{geometry:c}):ha(c)}function ha(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var _c={toGeoJSON:function(o){return $r(this,{type:"Point",coordinates:yc(this.getLatLng(),o)})}};aa.include(_c),xc.include(_c),la.include(_c),gs.include({toGeoJSON:function(o){var c=!Rn(this._latlngs),m=ua(this._latlngs,c?1:0,!1,o);return $r(this,{type:(c?"Multi":"")+"LineString",coordinates:m})}}),zr.include({toGeoJSON:function(o){var c=!Rn(this._latlngs),m=c&&!Rn(this._latlngs[0]),y=ua(this._latlngs,m?2:c?1:0,!0,o);return c||(y=[y]),$r(this,{type:(m?"Multi":"")+"Polygon",coordinates:y})}}),Br.include({toMultiPoint:function(o){var c=[];return this.eachLayer(function(m){c.push(m.toGeoJSON(o).geometry.coordinates)}),$r(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(o){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(o);var m=c==="GeometryCollection",y=[];return this.eachLayer(function(j){if(j.toGeoJSON){var E=j.toGeoJSON(o);if(m)y.push(E.geometry);else{var I=ha(E);I.type==="FeatureCollection"?y.push.apply(y,I.features):y.push(I)}}}),m?$r(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function Tf(o,c){return new xs(o,c)}var k1=Tf,fa=Wn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,c,m){this._url=o,this._bounds=U(c),_(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ue(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){vt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&Ir(this._image),this},bringToBack:function(){return this._map&&Dr(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=U(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",c=this._image=o?this._url:et("img");if(Ue(c,"leaflet-image-layer"),this._zoomAnimated&&Ue(c,"leaflet-zoom-animated"),this.options.className&&Ue(c,this.options.className),c.onselectstart=g,c.onmousemove=g,c.onload=l(this.fire,this,"load"),c.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(o){var c=this._map.getZoomScale(o.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;er(this._image,m,c)},_reset:function(){var o=this._image,c=new W(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=c.getSize();kt(o,c.min),o.style.width=m.x+"px",o.style.height=m.y+"px"},_updateOpacity:function(){Ln(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),L1=function(o,c,m){return new fa(o,c,m)},Ef=fa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",c=this._image=o?this._url:et("video");if(Ue(c,"leaflet-image-layer"),this._zoomAnimated&&Ue(c,"leaflet-zoom-animated"),this.options.className&&Ue(c,this.options.className),c.onselectstart=g,c.onmousemove=g,c.onloadeddata=l(this.fire,this,"load"),o){for(var m=c.getElementsByTagName("source"),y=[],j=0;j<m.length;j++)y.push(m[j].src);this._url=m.length>0?y:[c.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var I=et("source");I.src=this._url[E],c.appendChild(I)}}});function R1(o,c,m){return new Ef(o,c,m)}var Af=fa.extend({_initImage:function(){var o=this._image=this._url;Ue(o,"leaflet-image-layer"),this._zoomAnimated&&Ue(o,"leaflet-zoom-animated"),this.options.className&&Ue(o,this.options.className),o.onselectstart=g,o.onmousemove=g}});function M1(o,c,m){return new Af(o,c,m)}var Qn=Wn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,c){o&&(o instanceof ye||S(o))?(this._latlng=_e(o),_(this,c)):(_(this,o),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&Ln(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&Ln(this._container,1),this.bringToFront(),this.options.interactive&&(Ue(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(Ln(this._container,0),this._removeTimeout=setTimeout(l(vt,void 0,this._container),200)):vt(this._container),this.options.interactive&&(Pt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=_e(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ir(this._container),this},bringToBack:function(){return this._map&&Dr(this._container),this},_prepareOpen:function(o){var c=this._source;if(!c._map)return!1;if(c instanceof ps){c=null;var m=this._source._layers;for(var y in m)if(m[y]._map){c=m[y];break}if(!c)return!1;this._source=c}if(!o)if(c.getCenter)o=c.getCenter();else if(c.getLatLng)o=c.getLatLng();else if(c.getBounds)o=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var o=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")o.innerHTML=c;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var o=this._map.latLngToLayerPoint(this._latlng),c=V(this.options.offset),m=this._getAnchor();this._zoomAnimated?kt(this._container,o.add(m)):c=c.add(o).add(m);var y=this._containerBottom=-c.y,j=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=y+"px",this._container.style.left=j+"px"}},_getAnchor:function(){return[0,0]}});Ye.include({_initOverlay:function(o,c,m,y){var j=c;return j instanceof o||(j=new o(y).setContent(c)),m&&j.setLatLng(m),j}}),Wn.include({_initOverlay:function(o,c,m,y){var j=m;return j instanceof o?(_(j,y),j._source=this):(j=c&&!y?c:new o(y,this),j.setContent(m)),j}});var ma=Qn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,Qn.prototype.openOn.call(this,o)},onAdd:function(o){Qn.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof As||this._source.on("preclick",nr))},onRemove:function(o){Qn.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof As||this._source.off("preclick",nr))},getEvents:function(){var o=Qn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",c=this._container=et("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=et("div",o+"-content-wrapper",c);if(this._contentNode=et("div",o+"-content",m),zi(c),cc(this._contentNode),ze(c,"contextmenu",nr),this._tipContainer=et("div",o+"-tip-container",c),this._tip=et("div",o+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=et("a",o+"-close-button",c);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',ze(y,"click",function(j){Vt(j),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,c=o.style;c.width="",c.whiteSpace="nowrap";var m=o.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),c.width=m+1+"px",c.whiteSpace="",c.height="";var y=o.offsetHeight,j=this.options.maxHeight,E="leaflet-popup-scrolled";j&&y>j?(c.height=j+"px",Ue(o,E)):Pt(o,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),m=this._getAnchor();kt(this._container,c.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,c=parseInt(Ii(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+c,y=this._containerWidth,j=new q(this._containerLeft,-m-this._containerBottom);j._add(tr(this._container));var E=o.layerPointToContainerPoint(j),I=V(this.options.autoPanPadding),Z=V(this.options.autoPanPaddingTopLeft||I),Y=V(this.options.autoPanPaddingBottomRight||I),ue=o.getSize(),we=0,Me=0;E.x+y+Y.x>ue.x&&(we=E.x+y-ue.x+Y.x),E.x-we-Z.x<0&&(we=E.x-Z.x),E.y+m+Y.y>ue.y&&(Me=E.y+m-ue.y+Y.y),E.y-Me-Z.y<0&&(Me=E.y-Z.y),(we||Me)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([we,Me]))}},_getAnchor:function(){return V(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),O1=function(o,c){return new ma(o,c)};Ye.mergeOptions({closePopupOnClick:!0}),Ye.include({openPopup:function(o,c,m){return this._initOverlay(ma,o,c,m).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),Wn.include({bindPopup:function(o,c){return this._popup=this._initOverlay(ma,this._popup,o,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof ps||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){sr(o);var c=o.layer||o.target;if(this._popup._source===c&&!(c instanceof As)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=c,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var pa=Qn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){Qn.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){Qn.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=Qn.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",c=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=et("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var c,m,y=this._map,j=this._container,E=y.latLngToContainerPoint(y.getCenter()),I=y.layerPointToContainerPoint(o),Z=this.options.direction,Y=j.offsetWidth,ue=j.offsetHeight,we=V(this.options.offset),Me=this._getAnchor();Z==="top"?(c=Y/2,m=ue):Z==="bottom"?(c=Y/2,m=0):Z==="center"?(c=Y/2,m=ue/2):Z==="right"?(c=0,m=ue/2):Z==="left"?(c=Y,m=ue/2):I.x<E.x?(Z="right",c=0,m=ue/2):(Z="left",c=Y+(we.x+Me.x)*2,m=ue/2),o=o.subtract(V(c,m,!0)).add(we).add(Me),Pt(j,"leaflet-tooltip-right"),Pt(j,"leaflet-tooltip-left"),Pt(j,"leaflet-tooltip-top"),Pt(j,"leaflet-tooltip-bottom"),Ue(j,"leaflet-tooltip-"+Z),kt(j,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&Ln(this._container,o)},_animateZoom:function(o){var c=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(c)},_getAnchor:function(){return V(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),I1=function(o,c){return new pa(o,c)};Ye.include({openTooltip:function(o,c,m){return this._initOverlay(pa,o,c,m).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),Wn.include({bindTooltip:function(o,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(pa,this._tooltip,o,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var c=o?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[c](m),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof ps||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var c=typeof o.getElement=="function"&&o.getElement();c&&(ze(c,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),ze(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var c=typeof o.getElement=="function"&&o.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var c=o.latlng,m,y;this._tooltip.options.sticky&&o.originalEvent&&(m=this._map.mouseEventToContainerPoint(o.originalEvent),y=this._map.containerPointToLayerPoint(m),c=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(c)}});var kf=Fr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var c=o&&o.tagName==="DIV"?o:document.createElement("div"),m=this.options;if(m.html instanceof Element?(ta(c),c.appendChild(m.html)):c.innerHTML=m.html!==!1?m.html:"",m.bgPos){var y=V(m.bgPos);c.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function D1(o){return new kf(o)}Fr.Default=Ui;var Wi=Wn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Te.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){_(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),vt(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ir(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Dr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof q?o:new q(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var c=this.getPane().children,m=-o(-1/0,1/0),y=0,j=c.length,E;y<j;y++)E=c[y].style.zIndex,c[y]!==this._container&&E&&(m=o(m,+E));isFinite(m)&&(this.options.zIndex=m+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Te.ielt9){Ln(this._container,this.options.opacity);var o=+new Date,c=!1,m=!1;for(var y in this._tiles){var j=this._tiles[y];if(!(!j.current||!j.loaded)){var E=Math.min(1,(o-j.loaded)/200);Ln(j.el,E),E<1?c=!0:(j.active?m=!0:this._onOpaqueTile(j),j.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),c&&(F(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=et("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,c=this.options.maxZoom;if(o!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===o?(this._levels[m].el.style.zIndex=c-Math.abs(o-m),this._onUpdateLevel(m)):(vt(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var y=this._levels[o],j=this._map;return y||(y=this._levels[o]={},y.el=et("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=c,y.origin=j.project(j.unproject(j.getPixelOrigin()),o).round(),y.zoom=o,this._setZoomTransform(y,j.getCenter(),j.getZoom()),g(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var o,c,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)c=this._tiles[o],c.retain=c.current;for(o in this._tiles)if(c=this._tiles[o],c.current&&!c.active){var y=c.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var c in this._tiles)this._tiles[c].coords.z===o&&this._removeTile(c)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)vt(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,c,m,y){var j=Math.floor(o/2),E=Math.floor(c/2),I=m-1,Z=new q(+j,+E);Z.z=+I;var Y=this._tileCoordsToKey(Z),ue=this._tiles[Y];return ue&&ue.active?(ue.retain=!0,!0):(ue&&ue.loaded&&(ue.retain=!0),I>y?this._retainParent(j,E,I,y):!1)},_retainChildren:function(o,c,m,y){for(var j=2*o;j<2*o+2;j++)for(var E=2*c;E<2*c+2;E++){var I=new q(j,E);I.z=m+1;var Z=this._tileCoordsToKey(I),Y=this._tiles[Z];if(Y&&Y.active){Y.retain=!0;continue}else Y&&Y.loaded&&(Y.retain=!0);m+1<y&&this._retainChildren(j,E,m+1,y)}},_resetView:function(o){var c=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var c=this.options;return c.minNativeZoom!==void 0&&o<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<o?c.maxNativeZoom:o},_setView:function(o,c,m,y){var j=Math.round(c);this.options.maxZoom!==void 0&&j>this.options.maxZoom||this.options.minZoom!==void 0&&j<this.options.minZoom?j=void 0:j=this._clampZoom(j);var E=this.options.updateWhenZooming&&j!==this._tileZoom;(!y||E)&&(this._tileZoom=j,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),j!==void 0&&this._update(o),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(o,c)},_setZoomTransforms:function(o,c){for(var m in this._levels)this._setZoomTransform(this._levels[m],o,c)},_setZoomTransform:function(o,c,m){var y=this._map.getZoomScale(m,o.zoom),j=o.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(c,m)).round();Te.any3d?er(o.el,j,y):kt(o.el,j)},_resetGrid:function(){var o=this._map,c=o.options.crs,m=this._tileSize=this.getTileSize(),y=this._tileZoom,j=this._map.getPixelWorldBounds(this._tileZoom);j&&(this._globalTileRange=this._pxBoundsToTileRange(j)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,c.wrapLng[0]],y).x/m.x),Math.ceil(o.project([0,c.wrapLng[1]],y).x/m.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([c.wrapLat[0],0],y).y/m.x),Math.ceil(o.project([c.wrapLat[1],0],y).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var c=this._map,m=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),y=c.getZoomScale(m,this._tileZoom),j=c.project(o,this._tileZoom).floor(),E=c.getSize().divideBy(y*2);return new W(j.subtract(E),j.add(E))},_update:function(o){var c=this._map;if(c){var m=this._clampZoom(c.getZoom());if(o===void 0&&(o=c.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(o),j=this._pxBoundsToTileRange(y),E=j.getCenter(),I=[],Z=this.options.keepBuffer,Y=new W(j.getBottomLeft().subtract([Z,-Z]),j.getTopRight().add([Z,-Z]));if(!(isFinite(j.min.x)&&isFinite(j.min.y)&&isFinite(j.max.x)&&isFinite(j.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ue in this._tiles){var we=this._tiles[ue].coords;(we.z!==this._tileZoom||!Y.contains(new q(we.x,we.y)))&&(this._tiles[ue].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(o,m);return}for(var Me=j.min.y;Me<=j.max.y;Me++)for(var Ze=j.min.x;Ze<=j.max.x;Ze++){var Jt=new q(Ze,Me);if(Jt.z=this._tileZoom,!!this._isValidTile(Jt)){var Ft=this._tiles[this._tileCoordsToKey(Jt)];Ft?Ft.current=!0:I.push(Jt)}}if(I.sort(function(on,Ur){return on.distanceTo(E)-Ur.distanceTo(E)}),I.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Mn=document.createDocumentFragment();for(Ze=0;Ze<I.length;Ze++)this._addTile(I[Ze],Mn);this._level.el.appendChild(Mn)}}}},_isValidTile:function(o){var c=this._map.options.crs;if(!c.infinite){var m=this._globalTileRange;if(!c.wrapLng&&(o.x<m.min.x||o.x>m.max.x)||!c.wrapLat&&(o.y<m.min.y||o.y>m.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(o);return U(this.options.bounds).overlaps(y)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var c=this._map,m=this.getTileSize(),y=o.scaleBy(m),j=y.add(m),E=c.unproject(y,o.z),I=c.unproject(j,o.z);return[E,I]},_tileCoordsToBounds:function(o){var c=this._tileCoordsToNwSe(o),m=new $(c[0],c[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var c=o.split(":"),m=new q(+c[0],+c[1]);return m.z=+c[2],m},_removeTile:function(o){var c=this._tiles[o];c&&(vt(c.el),delete this._tiles[o],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Ue(o,"leaflet-tile");var c=this.getTileSize();o.style.width=c.x+"px",o.style.height=c.y+"px",o.onselectstart=g,o.onmousemove=g,Te.ielt9&&this.options.opacity<1&&Ln(o,this.options.opacity)},_addTile:function(o,c){var m=this._getTilePos(o),y=this._tileCoordsToKey(o),j=this.createTile(this._wrapCoords(o),l(this._tileReady,this,o));this._initTile(j),this.createTile.length<2&&z(l(this._tileReady,this,o,null,j)),kt(j,m),this._tiles[y]={el:j,coords:o,current:!0},c.appendChild(j),this.fire("tileloadstart",{tile:j,coords:o})},_tileReady:function(o,c,m){c&&this.fire("tileerror",{error:c,tile:m,coords:o});var y=this._tileCoordsToKey(o);m=this._tiles[y],m&&(m.loaded=+new Date,this._map._fadeAnimated?(Ln(m.el,0),F(this._fadeFrame),this._fadeFrame=z(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),c||(Ue(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Te.ielt9||!this._map._fadeAnimated?z(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var c=new q(this._wrapX?f(o.x,this._wrapX):o.x,this._wrapY?f(o.y,this._wrapY):o.y);return c.z=o.z,c},_pxBoundsToTileRange:function(o){var c=this.getTileSize();return new W(o.min.unscaleBy(c).floor(),o.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function B1(o){return new Wi(o)}var Vr=Wi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,c){this._url=o,c=_(this,c),c.detectRetina&&Te.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,c){return this._url===o&&c===void 0&&(c=!0),this._url=o,c||this.redraw(),this},createTile:function(o,c){var m=document.createElement("img");return ze(m,"load",l(this._tileOnLoad,this,c,m)),ze(m,"error",l(this._tileOnError,this,c,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(o),m},getTileUrl:function(o){var c={r:Te.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-o.y;this.options.tms&&(c.y=m),c["-y"]=m}return N(this._url,i(c,this.options))},_tileOnLoad:function(o,c){Te.ielt9?setTimeout(l(o,this,null,c),0):o(null,c)},_tileOnError:function(o,c,m){var y=this.options.errorTileUrl;y&&c.getAttribute("src")!==y&&(c.src=y),o(m,c)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,c=this.options.maxZoom,m=this.options.zoomReverse,y=this.options.zoomOffset;return m&&(o=c-o),o+y},_getSubdomain:function(o){var c=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var o,c;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(c=this._tiles[o].el,c.onload=g,c.onerror=g,!c.complete)){c.src=T;var m=this._tiles[o].coords;vt(c),delete this._tiles[o],this.fire("tileabort",{tile:c,coords:m})}},_removeTile:function(o){var c=this._tiles[o];if(c)return c.el.setAttribute("src",T),Wi.prototype._removeTile.call(this,o)},_tileReady:function(o,c,m){if(!(!this._map||m&&m.getAttribute("src")===T))return Wi.prototype._tileReady.call(this,o,c,m)}});function Lf(o,c){return new Vr(o,c)}var Rf=Vr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,c){this._url=o;var m=i({},this.defaultWmsParams);for(var y in c)y in this.options||(m[y]=c[y]);c=_(this,c);var j=c.detectRetina&&Te.retina?2:1,E=this.getTileSize();m.width=E.x*j,m.height=E.y*j,this.wmsParams=m},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Vr.prototype.onAdd.call(this,o)},getTileUrl:function(o){var c=this._tileCoordsToNwSe(o),m=this._crs,y=G(m.project(c[0]),m.project(c[1])),j=y.min,E=y.max,I=(this._wmsVersion>=1.3&&this._crs===Nf?[j.y,j.x,E.y,E.x]:[j.x,j.y,E.x,E.y]).join(","),Z=Vr.prototype.getTileUrl.call(this,o);return Z+w(this.wmsParams,Z,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+I},setParams:function(o,c){return i(this.wmsParams,o),c||this.redraw(),this}});function F1(o,c){return new Rf(o,c)}Vr.WMS=Rf,Lf.wms=F1;var vs=Wn.extend({options:{padding:.1},initialize:function(o){_(this,o),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ue(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,c){var m=this._map.getZoomScale(c,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),j=this._map.project(this._center,c),E=y.multiplyBy(-m).add(j).subtract(this._map._getNewPixelOrigin(o,c));Te.any3d?er(this._container,E,m):kt(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,c=this._map.getSize(),m=this._map.containerPointToLayerPoint(c.multiplyBy(-o)).round();this._bounds=new W(m,m.add(c.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Mf=vs.extend({options:{tolerance:0},getEvents:function(){var o=vs.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){vs.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");ze(o,"mousemove",this._onMouseMove,this),ze(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ze(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,vt(this._container),lt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var c in this._layers)o=this._layers[c],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vs.prototype._update.call(this);var o=this._bounds,c=this._container,m=o.getSize(),y=Te.retina?2:1;kt(c,o.min),c.width=y*m.x,c.height=y*m.y,c.style.width=m.x+"px",c.style.height=m.y+"px",Te.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){vs.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[u(o)]=o;var c=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var c=o._order,m=c.next,y=c.prev;m?m.prev=y:this._drawLast=y,y?y.next=m:this._drawFirst=m,delete o._order,delete this._layers[u(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var c=o.options.dashArray.split(/[, ]+/),m=[],y,j;for(j=0;j<c.length;j++){if(y=Number(c[j]),isNaN(y))return;m.push(y)}o.options._dashArray=m}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){this._map&&(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||z(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var c=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new W,this._redrawBounds.extend(o._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(o._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var c=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,c=this._redrawBounds;if(this._ctx.save(),c){var m=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)o=y.layer,(!c||o._pxBounds&&o._pxBounds.intersects(c))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,c){if(this._drawing){var m,y,j,E,I=o._parts,Z=I.length,Y=this._ctx;if(Z){for(Y.beginPath(),m=0;m<Z;m++){for(y=0,j=I[m].length;y<j;y++)E=I[m][y],Y[y?"lineTo":"moveTo"](E.x,E.y);c&&Y.closePath()}this._fillStroke(Y,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var c=o._point,m=this._ctx,y=Math.max(Math.round(o._radius),1),j=(Math.max(Math.round(o._radiusY),1)||y)/y;j!==1&&(m.save(),m.scale(1,j)),m.beginPath(),m.arc(c.x,c.y/j,y,0,Math.PI*2,!1),j!==1&&m.restore(),this._fillStroke(m,o)}},_fillStroke:function(o,c){var m=c.options;m.fill&&(o.globalAlpha=m.fillOpacity,o.fillStyle=m.fillColor||m.color,o.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(o.setLineDash&&o.setLineDash(c.options&&c.options._dashArray||[]),o.globalAlpha=m.opacity,o.lineWidth=m.weight,o.strokeStyle=m.color,o.lineCap=m.lineCap,o.lineJoin=m.lineJoin,o.stroke())},_onClick:function(o){for(var c=this._map.mouseEventToLayerPoint(o),m,y,j=this._drawFirst;j;j=j.next)m=j.layer,m.options.interactive&&m._containsPoint(c)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(m))&&(y=m);this._fireEvent(y?[y]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,c)}},_handleMouseOut:function(o){var c=this._hoveredLayer;c&&(Pt(this._container,"leaflet-interactive"),this._fireEvent([c],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,c){if(!this._mouseHoverThrottled){for(var m,y,j=this._drawFirst;j;j=j.next)m=j.layer,m.options.interactive&&m._containsPoint(c)&&(y=m);y!==this._hoveredLayer&&(this._handleMouseOut(o),y&&(Ue(this._container,"leaflet-interactive"),this._fireEvent([y],o,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,c,m){this._map._fireDOMEvent(c,m||c.type,o)},_bringToFront:function(o){var c=o._order;if(c){var m=c.next,y=c.prev;if(m)m.prev=y;else return;y?y.next=m:m&&(this._drawFirst=m),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(o)}},_bringToBack:function(o){var c=o._order;if(c){var m=c.next,y=c.prev;if(y)y.next=m;else return;m?m.prev=y:y&&(this._drawLast=y),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(o)}}});function Of(o){return Te.canvas?new Mf(o):null}var Hi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),z1={_initContainer:function(){this._container=et("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(vs.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var c=o._container=Hi("shape");Ue(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",o._path=Hi("path"),c.appendChild(o._path),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){var c=o._container;this._container.appendChild(c),o.options.interactive&&o.addInteractiveTarget(c)},_removePath:function(o){var c=o._container;vt(c),o.removeInteractiveTarget(c),delete this._layers[u(o)]},_updateStyle:function(o){var c=o._stroke,m=o._fill,y=o.options,j=o._container;j.stroked=!!y.stroke,j.filled=!!y.fill,y.stroke?(c||(c=o._stroke=Hi("stroke")),j.appendChild(c),c.weight=y.weight+"px",c.color=y.color,c.opacity=y.opacity,y.dashArray?c.dashStyle=S(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=y.lineCap.replace("butt","flat"),c.joinstyle=y.lineJoin):c&&(j.removeChild(c),o._stroke=null),y.fill?(m||(m=o._fill=Hi("fill")),j.appendChild(m),m.color=y.fillColor||y.color,m.opacity=y.fillOpacity):m&&(j.removeChild(m),o._fill=null)},_updateCircle:function(o){var c=o._point.round(),m=Math.round(o._radius),y=Math.round(o._radiusY||m);this._setPath(o,o._empty()?"M0 0":"AL "+c.x+","+c.y+" "+m+","+y+" 0,"+65535*360)},_setPath:function(o,c){o._path.v=c},_bringToFront:function(o){Ir(o._container)},_bringToBack:function(o){Dr(o._container)}},ga=Te.vml?Hi:Re,Zi=vs.extend({_initContainer:function(){this._container=ga("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ga("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){vt(this._container),lt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vs.prototype._update.call(this);var o=this._bounds,c=o.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,m.setAttribute("width",c.x),m.setAttribute("height",c.y)),kt(m,o.min),m.setAttribute("viewBox",[o.min.x,o.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(o){var c=o._path=ga("path");o.options.className&&Ue(c,o.options.className),o.options.interactive&&Ue(c,"leaflet-interactive"),this._updateStyle(o),this._layers[u(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){vt(o._path),o.removeInteractiveTarget(o._path),delete this._layers[u(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var c=o._path,m=o.options;c&&(m.stroke?(c.setAttribute("stroke",m.color),c.setAttribute("stroke-opacity",m.opacity),c.setAttribute("stroke-width",m.weight),c.setAttribute("stroke-linecap",m.lineCap),c.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?c.setAttribute("stroke-dasharray",m.dashArray):c.removeAttribute("stroke-dasharray"),m.dashOffset?c.setAttribute("stroke-dashoffset",m.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),m.fill?(c.setAttribute("fill",m.fillColor||m.color),c.setAttribute("fill-opacity",m.fillOpacity),c.setAttribute("fill-rule",m.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(o,c){this._setPath(o,Fe(o._parts,c))},_updateCircle:function(o){var c=o._point,m=Math.max(Math.round(o._radius),1),y=Math.max(Math.round(o._radiusY),1)||m,j="a"+m+","+y+" 0 1,0 ",E=o._empty()?"M0 0":"M"+(c.x-m)+","+c.y+j+m*2+",0 "+j+-m*2+",0 ";this._setPath(o,E)},_setPath:function(o,c){o._path.setAttribute("d",c)},_bringToFront:function(o){Ir(o._path)},_bringToBack:function(o){Dr(o._path)}});Te.vml&&Zi.include(z1);function If(o){return Te.svg||Te.vml?new Zi(o):null}Ye.include({getRenderer:function(o){var c=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var c=this._paneRenderers[o];return c===void 0&&(c=this._createRenderer({pane:o}),this._paneRenderers[o]=c),c},_createRenderer:function(o){return this.options.preferCanvas&&Of(o)||If(o)}});var Df=zr.extend({initialize:function(o,c){zr.prototype.initialize.call(this,this._boundsToLatLngs(o),c)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=U(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function $1(o,c){return new Df(o,c)}Zi.create=ga,Zi.pointsToPath=Fe,xs.geometryToLayer=ca,xs.coordsToLatLng=vc,xs.coordsToLatLngs=da,xs.latLngToCoords=yc,xs.latLngsToCoords=ua,xs.getFeature=$r,xs.asFeature=ha,Ye.mergeOptions({boxZoom:!0});var Bf=Jn.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){lt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){vt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Di(),tc(),this._startPoint=this._map.mouseEventToContainerPoint(o),ze(document,{contextmenu:sr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=et("div","leaflet-zoom-box",this._container),Ue(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var c=new W(this._point,this._startPoint),m=c.getSize();kt(this._box,c.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(vt(this._box),Pt(this._container,"leaflet-crosshair")),Bi(),nc(),lt(document,{contextmenu:sr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var c=new $(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ye.addInitHook("addHandler","boxZoom",Bf),Ye.mergeOptions({doubleClickZoom:!0});var Ff=Jn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var c=this._map,m=c.getZoom(),y=c.options.zoomDelta,j=o.originalEvent.shiftKey?m-y:m+y;c.options.doubleClickZoom==="center"?c.setZoom(j):c.setZoomAround(o.containerPoint,j)}});Ye.addInitHook("addHandler","doubleClickZoom",Ff),Ye.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var zf=Jn.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Es(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Ue(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Pt(this._map._container,"leaflet-grab"),Pt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=U(this._map.options.maxBounds);this._offsetLimit=G(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var c=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(c),this._prunePositions(c)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,c){return o-(o-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;o.x<c.min.x&&(o.x=this._viscousLimit(o.x,c.min.x)),o.y<c.min.y&&(o.y=this._viscousLimit(o.y,c.min.y)),o.x>c.max.x&&(o.x=this._viscousLimit(o.x,c.max.x)),o.y>c.max.y&&(o.y=this._viscousLimit(o.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,c=Math.round(o/2),m=this._initialWorldOffset,y=this._draggable._newPos.x,j=(y-c+m)%o+c-m,E=(y+c+m)%o-c-m,I=Math.abs(j+m)<Math.abs(E+m)?j:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=I},_onDragEnd:function(o){var c=this._map,m=c.options,y=!m.inertia||o.noInertia||this._times.length<2;if(c.fire("dragend",o),y)c.fire("moveend");else{this._prunePositions(+new Date);var j=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,I=m.easeLinearity,Z=j.multiplyBy(I/E),Y=Z.distanceTo([0,0]),ue=Math.min(m.inertiaMaxSpeed,Y),we=Z.multiplyBy(ue/Y),Me=ue/(m.inertiaDeceleration*I),Ze=we.multiplyBy(-Me/2).round();!Ze.x&&!Ze.y?c.fire("moveend"):(Ze=c._limitOffset(Ze,c.options.maxBounds),z(function(){c.panBy(Ze,{duration:Me,easeLinearity:I,noMoveStart:!0,animate:!0})}))}}});Ye.addInitHook("addHandler","dragging",zf),Ye.mergeOptions({keyboard:!0,keyboardPanDelta:80});var $f=Jn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),ze(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),lt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,c=document.documentElement,m=o.scrollTop||c.scrollTop,y=o.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(y,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var c=this._panKeys={},m=this.keyCodes,y,j;for(y=0,j=m.left.length;y<j;y++)c[m.left[y]]=[-1*o,0];for(y=0,j=m.right.length;y<j;y++)c[m.right[y]]=[o,0];for(y=0,j=m.down.length;y<j;y++)c[m.down[y]]=[0,o];for(y=0,j=m.up.length;y<j;y++)c[m.up[y]]=[0,-1*o]},_setZoomDelta:function(o){var c=this._zoomKeys={},m=this.keyCodes,y,j;for(y=0,j=m.zoomIn.length;y<j;y++)c[m.zoomIn[y]]=o;for(y=0,j=m.zoomOut.length;y<j;y++)c[m.zoomOut[y]]=-o},_addHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){lt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var c=o.keyCode,m=this._map,y;if(c in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(y=this._panKeys[c],o.shiftKey&&(y=V(y).multiplyBy(3)),m.options.maxBounds&&(y=m._limitOffset(V(y),m.options.maxBounds)),m.options.worldCopyJump){var j=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(y)));m.panTo(j)}else m.panBy(y)}else if(c in this._zoomKeys)m.setZoom(m.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;sr(o)}}});Ye.addInitHook("addHandler","keyboard",$f),Ye.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Vf=Jn.extend({addHooks:function(){ze(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){lt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var c=hf(o),m=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var y=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),y),sr(o)},_performZoom:function(){var o=this._map,c=o.getZoom(),m=this._map.options.zoomSnap||0;o._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),j=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,E=m?Math.ceil(j/m)*m:j,I=o._limitZoom(c+(this._delta>0?E:-E))-c;this._delta=0,this._startTime=null,I&&(o.options.scrollWheelZoom==="center"?o.setZoom(c+I):o.setZoomAround(this._lastMousePos,c+I))}});Ye.addInitHook("addHandler","scrollWheelZoom",Vf);var V1=600;Ye.mergeOptions({tapHold:Te.touchNative&&Te.safari&&Te.mobile,tapTolerance:15});var Uf=Jn.extend({addHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){lt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var c=o.touches[0];this._startPos=this._newPos=new q(c.clientX,c.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(ze(document,"touchend",Vt),ze(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),V1),ze(document,"touchend touchcancel contextmenu",this._cancel,this),ze(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){lt(document,"touchend",Vt),lt(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),lt(document,"touchend touchcancel contextmenu",this._cancel,this),lt(document,"touchmove",this._onMove,this)},_onMove:function(o){var c=o.touches[0];this._newPos=new q(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,c){var m=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});m._simulated=!0,c.target.dispatchEvent(m)}});Ye.addInitHook("addHandler","tapHold",Uf),Ye.mergeOptions({touchZoom:Te.touch,bounceAtZoomLimits:!0});var Wf=Jn.extend({addHooks:function(){Ue(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Pt(this._map._container,"leaflet-touch-zoom"),lt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var c=this._map;if(!(!o.touches||o.touches.length!==2||c._animatingZoom||this._zooming)){var m=c.mouseEventToContainerPoint(o.touches[0]),y=c.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(m.add(y)._divideBy(2))),this._startDist=m.distanceTo(y),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),ze(document,"touchmove",this._onTouchMove,this),ze(document,"touchend touchcancel",this._onTouchEnd,this),Vt(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var c=this._map,m=c.mouseEventToContainerPoint(o.touches[0]),y=c.mouseEventToContainerPoint(o.touches[1]),j=m.distanceTo(y)/this._startDist;if(this._zoom=c.getScaleZoom(j,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&j<1||this._zoom>c.getMaxZoom()&&j>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,j===1)return}else{var E=m._add(y)._divideBy(2)._subtract(this._centerPoint);if(j===1&&E.x===0&&E.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var I=l(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=z(I,this,!0),Vt(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),lt(document,"touchmove",this._onTouchMove,this),lt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ye.addInitHook("addHandler","touchZoom",Wf),Ye.BoxZoom=Bf,Ye.DoubleClickZoom=Ff,Ye.Drag=zf,Ye.Keyboard=$f,Ye.ScrollWheelZoom=Vf,Ye.TapHold=Uf,Ye.TouchZoom=Wf,n.Bounds=W,n.Browser=Te,n.CRS=ne,n.Canvas=Mf,n.Circle=xc,n.CircleMarker=la,n.Class=J,n.Control=Un,n.DivIcon=kf,n.DivOverlay=Qn,n.DomEvent=o1,n.DomUtil=r1,n.Draggable=Es,n.Evented=oe,n.FeatureGroup=ps,n.GeoJSON=xs,n.GridLayer=Wi,n.Handler=Jn,n.Icon=Fr,n.ImageOverlay=fa,n.LatLng=ye,n.LatLngBounds=$,n.Layer=Wn,n.LayerGroup=Br,n.LineUtil=y1,n.Map=Ye,n.Marker=aa,n.Mixin=f1,n.Path=As,n.Point=q,n.PolyUtil=m1,n.Polygon=zr,n.Polyline=gs,n.Popup=ma,n.PosAnimation=ff,n.Projection=_1,n.Rectangle=Df,n.Renderer=vs,n.SVG=Zi,n.SVGOverlay=Af,n.TileLayer=Vr,n.Tooltip=pa,n.Transformation=he,n.Util=B,n.VideoOverlay=Ef,n.bind=l,n.bounds=G,n.canvas=Of,n.circle=T1,n.circleMarker=P1,n.control=$i,n.divIcon=D1,n.extend=i,n.featureGroup=S1,n.geoJSON=Tf,n.geoJson=k1,n.gridLayer=B1,n.icon=N1,n.imageOverlay=L1,n.latLng=_e,n.latLngBounds=U,n.layerGroup=j1,n.map=a1,n.marker=C1,n.point=V,n.polygon=A1,n.polyline=E1,n.popup=O1,n.rectangle=$1,n.setOptions=_,n.stamp=u,n.svg=If,n.svgOverlay=M1,n.tileLayer=Lf,n.tooltip=I1,n.transformation=ce,n.version=s,n.videoOverlay=R1;var U1=window.L;n.noConflict=function(){return window.L=U1,this},window.L=n})})(bu,bu.exports);var qo=bu.exports;const Xw=yx(qo);function sf(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function rf(t,e){return e==null?function(s,i){const a=p.useRef();return a.current||(a.current=t(s,i)),a}:function(s,i){const a=p.useRef();a.current||(a.current=t(s,i));const l=p.useRef(s),{instance:d}=a.current;return p.useEffect(function(){l.current!==s&&(e(d,s,l.current),l.current=s)},[d,s,i]),a}}function uD(t,e){p.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var a;(a=e.layerContainer)==null||a.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function Jw(t){return function(n){const s=Kw(),i=t(nf(n,s),s);return Zw(s.map,n.attribution),Yw(i.current,n.eventHandlers),uD(i.current,s),i}}function hD(t,e){const n=rf(t,e),s=Jw(n);return aD(s)}function fD(t,e){const n=rf(t),s=dD(n,e);return lD(s)}function mD(t,e){const n=rf(t,e),s=Jw(n);return cD(s)}function pD(t,e,n){const{opacity:s,zIndex:i}=e;s!=null&&s!==n.opacity&&t.setOpacity(s),i!=null&&i!==n.zIndex&&t.setZIndex(i)}function wu(){return wu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},wu.apply(this,arguments)}function gD({bounds:t,boundsOptions:e,center:n,children:s,className:i,id:a,placeholder:l,style:d,whenReady:u,zoom:h,...f},g){const[x]=p.useState({className:i,id:a,style:d}),[v,b]=p.useState(null);p.useImperativeHandle(g,()=>(v==null?void 0:v.map)??null,[v]);const _=p.useCallback(C=>{if(C!==null&&v===null){const N=new qo.Map(C,f);n!=null&&h!=null?N.setView(n,h):t!=null&&N.fitBounds(t,e),u!=null&&N.whenReady(u),b(iD(N))}},[]);p.useEffect(()=>()=>{v==null||v.map.remove()},[v]);const w=v?ae.createElement(qw,{value:v},s):l??null;return ae.createElement("div",wu({},x,{ref:_}),w)}const xD=p.forwardRef(gD),vD=hD(function({position:e,...n},s){const i=new qo.Marker(e,n);return sf(i,oD(s,{overlayContainer:i}))},function(e,n,s){n.position!==s.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==s.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==s.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==s.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==s.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),yD=fD(function(e,n){const s=new qo.Popup(e,n.overlayContainer);return sf(s,n)},function(e,n,{position:s},i){p.useEffect(function(){const{instance:l}=e;function d(h){h.popup===l&&(l.update(),i(!0))}function u(h){h.popup===l&&i(!1)}return n.map.on({popupopen:d,popupclose:u}),n.overlayContainer==null?(s!=null&&l.setLatLng(s),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var f;n.map.off({popupopen:d,popupclose:u}),(f=n.overlayContainer)==null||f.unbindPopup(),n.map.removeLayer(l)}},[e,n,i,s])}),_D=mD(function({url:e,...n},s){const i=new qo.TileLayer(e,nf(n,s));return sf(i,s)},function(e,n,s){pD(e,n,s);const{url:i}=n;i!=null&&i!==s.url&&e.setUrl(i)}),bD="/assets/linkedin-IvJfUnL2.png",wD=(t,e=", ")=>Array.isArray(t)&&t.length?t.join(e):"",Ms=({title:t,children:e})=>e?r.jsxs("div",{className:`
        relative
        rounded-2xl
        border
        overflow-hidden
        shadow-[0_30px_80px_rgba(0,0,0,0.7)]
      `,style:{background:`
          radial-gradient(120% 120% at 0% 0%, rgba(63,78,255,0.18), transparent 40%),
          radial-gradient(120% 120% at 100% 100%, rgba(255,68,150,0.16), transparent 40%),
          linear-gradient(180deg, #0b0f2e 0%, #090c26 100%)
        `,borderColor:"rgba(255,255,255,0.06)"},children:[r.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-2xl shadow-[inset_0_0_0_1px_rgba(255,255,255,0.03)]"}),r.jsxs("div",{className:"px-6 py-4",children:[r.jsx("h2",{className:"text-base font-semibold text-white",children:t}),r.jsx("div",{className:"mt-3 h-px w-full bg-gradient-to-r from-transparent via-white/20 to-transparent"})]}),r.jsx("div",{className:"px-6 pb-6 text-[rgba(255,255,255,0.65)]",children:e})]}):null;delete Xw.Icon.Default.prototype._getIconUrl;Xw.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});const jD=(t=[])=>t.reduce((e,n)=>{const s=n.country||"Unknown";return e[s]||(e[s]=[]),e[s].push(n),e},{}),SD=({locations:t})=>{var s;if(!Array.isArray(t)||t.length===0)return null;const e=jD(t),n=(s=t.find(i=>i.geoPoint))==null?void 0:s.geoPoint;return r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[500px]",children:[r.jsx("div",{className:"space-y-10 overflow-y-auto pr-2",children:Object.entries(e).map(([i,a])=>r.jsxs("div",{className:"space-y-5",children:[r.jsx("h3",{className:"text-base font-semibold text-white border-b border-white/10 pb-2",children:i}),r.jsx("div",{className:"space-y-4",children:a.map((l,d)=>r.jsxs("div",{className:`
                      relative
                      rounded-xl
                      bg-white/5 backdrop-blur-md
                      border border-white/10
                      p-4
                      shadow-[0_10px_30px_rgba(0,0,0,0.6)]
                      hover:shadow-[0_20px_50px_rgba(0,0,0,0.8)]
                      transition
                    `,children:[r.jsx("span",{className:`
                        absolute left-0 top-0 h-full w-1 rounded-l-xl
                        bg-gradient-to-b
                        from-[#242E97]
                        via-[#FA1860]
                        to-[#00DAA6]
                        opacity-80
                      `}),r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsxs("span",{className:"text-sm font-semibold text-white",children:[" ",l.city||""]}),l.status&&r.jsx("span",{className:`
                            px-2 py-0.5 text-xs rounded-full
                            bg-white/10
                            border border-white/20
                            text-white
                          `,children:l.status})]}),r.jsx("p",{className:"text-sm text-white/80 font-medium",children:l.facility||""}),Array.isArray(l.contacts)&&l.contacts.length>0&&r.jsx("div",{className:"mt-2 space-y-1 text-xs text-white/60",children:l.contacts.map((u,h)=>r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-white/80",children:u.name||"Contact"}),u.phone&&r.jsxs(r.Fragment,{children:["  ",u.phone]}),u.email&&r.jsxs(r.Fragment,{children:[" ",""," ",r.jsx("a",{href:`mailto:${u.email}`,className:"text-[#03A2DC] hover:underline",children:u.email})]})]},h))})]},d))})]},i))}),r.jsxs("div",{className:`
            relative
            h-[500px]
            rounded-2xl
            overflow-hidden
            border border-white/10
            shadow-[0_30px_80px_rgba(0,0,0,0.7)]
          `,children:[r.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-2xl",style:{boxShadow:"inset 0 0 0 1px rgba(255,255,255,0.04)"}}),n?r.jsxs(xD,{center:[n.lat,n.lon],zoom:4,style:{height:"100%",width:"100%"},children:[r.jsx(_D,{attribution:" OpenStreetMap",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.filter(i=>i.geoPoint).map((i,a)=>r.jsx(vD,{position:[i.geoPoint.lat,i.geoPoint.lon],children:r.jsxs(yD,{children:[r.jsx("strong",{children:i.facility}),r.jsx("br",{}),i.city,", ",i.country,r.jsx("br",{}),"Status: ",i.status]})},a))]}):r.jsx("div",{className:"flex items-center justify-center h-full text-white/50",children:"No map data available"})]})]})},ND=({centralContacts:t})=>!Array.isArray(t)||t.length===0?null:r.jsx("div",{className:"space-y-4",children:t.map((e,n)=>r.jsxs("div",{className:`
            relative
            rounded-xl
            p-5
            bg-[linear-gradient(180deg,#0b0f2e_0%,#090c26_100%)]
            border border-white/10
            shadow-[0_20px_60px_rgba(0,0,0,0.7)]
          `,children:[r.jsx("span",{className:`
              absolute left-0 top-0 h-full w-[3px]
              rounded-l-xl
              bg-gradient-to-b
              from-cyan-400/80
              via-blue-500/70
              to-transparent
              shadow-[0_0_12px_rgba(34,211,238,0.6)]
            `}),r.jsx("p",{className:"font-semibold text-white",children:e.name||""}),r.jsx("p",{className:"text-sm text-white/60 mt-1",children:e.role||""}),r.jsxs("div",{className:"mt-3 space-y-1 text-sm",children:[e.email&&r.jsxs("div",{className:"text-white/80",children:[r.jsx("span",{className:"text-white/50",children:"Email:"})," ",r.jsx("a",{href:`mailto:${e.email}`,className:"text-cyan-300 hover:text-cyan-200 transition",children:e.email})]}),e.phone&&r.jsxs("div",{className:"text-white/80",children:[r.jsx("span",{className:"text-white/50",children:"Phone:"})," ",e.phone]})]})]},n))}),CD=({sponsorModule:t,isLinkedinConnected:e,isSearching:n,investigatorProfileUrl:s,onLinkedinSearch:i})=>{var u;if(!t)return null;const a=(u=t.leadSponsor)==null?void 0:u.name,l=t.collaborators||[],d=t.responsibleParty||null;return r.jsxs("div",{className:"space-y-4 text-sm",children:[a?r.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[r.jsx("p",{className:"text-white",children:"Lead Sponsor"}),r.jsx("p",{className:"font-semibold text-white mt-1",children:a})]}):null,Array.isArray(l)&&l.length>0?r.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[r.jsx("p",{className:"text-white/70",children:"Collaborators"}),r.jsx("ul",{className:"mt-2 list-disc ml-5 text-white/70 space-y-1",children:l.map((h,f)=>r.jsx("li",{children:h.name},f))})]}):null,d?r.jsxs("div",{className:"border border-gray-100 rounded-lg p-4",children:[r.jsx("p",{className:"text-white",children:"Responsible Party"}),r.jsxs("div",{className:"mt-2 space-y-1",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-white",children:"Type:"})," ",d.type||""]}),d.investigatorFullName?r.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[r.jsx("span",{className:"text-white",children:"Investigator:"}),e?r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-semibold text-white",children:d.investigatorFullName}),r.jsx("img",{src:bD,alt:"LinkedIn",className:`w-6 h-6 cursor-pointer hover:scale-110 transition-transform shadow-[0_0_8px_rgba(0,119,181,0.5)] ${n?"animate-pulse":""}`,onClick:()=>!n&&i(d.investigatorFullName,d.investigatorTitle,d.investigatorAffiliation,a,l)}),n&&r.jsx("span",{className:"text-xs text-yellow-400 animate-pulse",children:"Searching..."}),s&&r.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-cyan-400 hover:underline flex items-center gap-1",children:s})]}):r.jsx("span",{className:"font-semibold text-white",children:d.investigatorFullName})]}):null,d.investigatorTitle?r.jsxs("div",{children:[r.jsx("span",{className:"text-white",children:"Title:"})," ",d.investigatorTitle]}):null,d.investigatorAffiliation?r.jsxs("div",{children:[r.jsx("span",{className:"text-white",children:"Affiliation:"})," ",d.investigatorAffiliation]}):null]})]}):null]})},kg=({title:t,outcomes:e})=>!Array.isArray(e)||e.length===0?null:r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-white pb-2 border-b border-white/10",children:t}),r.jsx("div",{className:`
          overflow-x-auto
          rounded-xl
          border border-white/10
          bg-white/5 backdrop-blur-md
          shadow-[0_20px_60px_rgba(0,0,0,0.7)]
        `,children:r.jsxs("table",{className:"w-full text-sm border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{className:`
                neon-login
              `,children:[r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-white w-1/4",children:"Outcome Measure"}),r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-white",children:"Measure Description"}),r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-white w-1/4",children:"Time Frame"})]})}),r.jsx("tbody",{children:e.map((n,s)=>r.jsxs("tr",{className:`
                  border-t border-white/10
                  hover:bg-white/5
                  transition
                `,children:[r.jsx("td",{className:"px-4 py-4 align-top font-medium text-white whitespace-pre-wrap",children:n.measure||""}),r.jsx("td",{className:"px-4 py-4 align-top text-white/70 whitespace-pre-wrap",children:n.description||""}),r.jsx("td",{className:"px-4 py-4 align-top text-white/70 whitespace-pre-wrap",children:n.timeFrame||""})]},s))})]})})]}),PD=({armsModule:t})=>{var i;if(!((i=t==null?void 0:t.armGroups)!=null&&i.length))return null;const e=t.armGroups||[],n=t.interventions||[],s={};return n.forEach(a=>{Array.isArray(a.armGroupLabels)&&a.armGroupLabels.forEach(l=>{s[l]||(s[l]=[]),s[l].push(a)})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-white border-b border-white/10 pb-2",children:"Arms and Interventions"}),r.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-white/5 backdrop-blur-md shadow-[0_20px_60px_rgba(0,0,0,0.7)]",children:r.jsxs("table",{className:"w-full text-sm border-collapse",children:[r.jsx("thead",{children:r.jsxs("tr",{className:` bg-[linear-gradient(180deg,#0b0f2e_0%,#090c26_100%)]
    shadow-[0_25px_70px_rgba(0,0,0,0.75)]`,children:[r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-white w-1/3",children:"Participant Group / Arm"}),r.jsx("th",{className:"px-4 py-3 text-left font-semibold text-white",children:"Intervention / Treatment"})]})}),r.jsx("tbody",{children:e.map((a,l)=>r.jsxs("tr",{className:`border-t  bg-[linear-gradient(180deg,#0b0f2e_0%,#090c26_100%)]
    shadow-[0_25px_70px_rgba(0,0,0,0.75)] border-white/10 hover:bg-white/5 transition`,children:[r.jsxs("td",{className:"px-4 py-4 align-top",children:[r.jsxs("p",{className:"font-semibold text-white/70",children:[a.type==="EXPERIMENTAL"?"Experimental:":"Comparator:"," ",a.label]}),a.description&&r.jsx("p",{className:"mt-2 text-white/65 whitespace-pre-line",children:a.description})]}),r.jsx("td",{className:"px-4 py-4 align-top space-y-3",children:(s[a.label]||[]).map((d,u)=>r.jsxs("div",{children:[r.jsxs("p",{className:"font-semibold text-white/70",children:[d.type.replace(/_/g," "),":"," ",r.jsx("span",{className:"px-1 rounded bg-white/10 border border-white/20",children:d.name})]}),d.description&&r.jsxs("p",{className:"mt-1 text-white/65 ml-4",children:[" ",d.description]})]},u))})]},l))})]})})]})},TD=()=>{var R,O,M,z,F,B,J,ee,X,oe,q,re,V,W,G,$,U,ye,_e;const{id:t}=_x(),[e,n]=p.useState(null),[s,i]=p.useState(!1),[a,l]=p.useState(!1),[d,u]=p.useState(null),h=async(ne,pe,Ae,K,he)=>{if(ne){l(!0),u(null);try{const ce=await Ce.post("/api/linkedin/search-investigator",{name:ne,title:pe,affiliation:Ae,leadSponsor:K,collaborators:he});ce.data.success&&ce.data.data.profileUrl&&u(ce.data.data.profileUrl)}catch(ce){console.error("Search failed:",ce)}finally{l(!1)}}};if(p.useEffect(()=>{Ce.get("/api/linkedin/auth/status").then(ne=>{i(ne.data.success&&ne.data.data.isConnected)}).catch(()=>{i(!1)})},[]),p.useEffect(()=>{Ce.get(`/api/studies/db/${t}`).then(ne=>n(ne.data.study.raw_json)).catch(()=>n(null))},[t]),!e)return r.jsx(Wh,{});const f=e.protocolSection||{},g=f.identificationModule||{},x=f.statusModule||{},v=f.designModule||{},b=f.descriptionModule||{},_=f.conditionsModule||{},w=f.outcomesModule||{},C=f.eligibilityModule||{},N=f.contactsLocationsModule||{},S=f.sponsorCollaboratorsModule||{},P=((R=x.completionDateStruct)==null?void 0:R.date)||((O=x.primaryCompletionDateStruct)==null?void 0:O.date)||"",T=({label:ne,value:pe})=>r.jsxs("div",{className:"border-b pb-2",children:[r.jsx("p",{className:"text-xs font-semibold text-white",children:ne}),r.jsx("p",{className:"text-sm text-white mt-1",children:pe||""})]}),A=({status:ne})=>{var pe,Ae;return ne?r.jsxs("div",{className:"neo-card",children:[r.jsxs("div",{className:"px-6 py-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Study Record Dates"}),r.jsx("p",{className:"text-sm text-white/60 mt-1",children:"These dates track study record and results submission progress."}),r.jsx("div",{className:"neo-divider mt-4"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 px-6 pb-6 text-sm",children:[{title:"Study Registration Dates",items:[["First Submitted",ne.studyFirstSubmitDate],["First Submitted that Met QC Criteria",ne.studyFirstSubmitQcDate],["First Posted (Estimated)",(pe=ne.studyFirstPostDateStruct)==null?void 0:pe.date]]},{title:"Study Record Updates",items:[["Last Update Submitted that Met QC Criteria",ne.lastUpdateSubmitDate],["Last Update Posted (Estimated)",(Ae=ne.lastUpdatePostDateStruct)==null?void 0:Ae.date],["Last Verified",ne.statusVerifiedDate]]}].map((K,he)=>r.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 backdrop-blur-md p-4",children:[r.jsx("p",{className:"font-semibold text-white mb-3",children:K.title}),r.jsx("div",{className:"space-y-3",children:K.items.map(([ce,Ne],xe)=>r.jsxs("div",{children:[r.jsx("p",{className:"text-white/60",children:ce}),r.jsx("p",{className:"text-white",children:Ne||""})]},xe))})]},he))})]}):null},k=({conditionsModule:ne,conditionBrowseModule:pe})=>{const Ae=(ne==null?void 0:ne.keywords)||[],K=(pe==null?void 0:pe.meshes)||[],he=(pe==null?void 0:pe.ancestors)||[];return!Ae.length&&!K.length&&!he.length?null:r.jsxs("div",{className:"neo-card",children:[r.jsxs("div",{className:"px-6 py-4",children:[r.jsx("h2",{className:"text-base font-semibold text-white",children:"Terms related to this study"}),r.jsx("div",{className:"neo-divider mt-3"})]}),r.jsxs("div",{className:"px-6 pb-6 grid grid-cols-1 md:grid-cols-2 gap-10 text-sm",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-white mb-3",children:"Keywords Provided by Study Sponsor"}),Ae.length?r.jsx("ul",{className:"space-y-1 text-white/70",children:Ae.map((ce,Ne)=>r.jsxs("li",{children:[" ",ce]},Ne))}):r.jsx("p",{className:"text-white/40",children:""})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-white mb-3",children:"Additional Relevant MeSH Terms"}),[...K,...he].length?r.jsx("ul",{className:"space-y-1 text-white/70",children:[...K,...he].map((ce,Ne)=>r.jsxs("li",{children:[" ",ce.term]},Ne))}):r.jsx("p",{className:"text-white/40",children:""})]})]})]})};return r.jsxs("div",{className:`
    min-h-screen p-6 space-y-6
    bg-[#05070c]
    relative overflow-hidden
  `,children:[r.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[r.jsx("div",{className:`
    absolute -top-48 -left-48
    w-[720px] h-[520px]
    rounded-full blur-[180px]
    opacity-70
  `,style:{background:"rgba(36,46,151,0.30)"}}),r.jsx("div",{className:`
    absolute -top-40 -right-40
    w-[620px] h-[480px]
    rounded-full blur-[160px]
    opacity-60
  `,style:{background:"rgba(250,24,96,0.22)"}}),r.jsx("div",{className:`
    absolute bottom-[-20%] right-[20%]
    w-[680px] h-[520px]
    rounded-full blur-[200px]
    opacity-55
  `,style:{background:"rgba(0,218,166,0.20)"}})]}),r.jsxs("div",{className:"relative z-10 space-y-6",children:[r.jsxs("div",{className:".neo-login px-6 py-5 border-b space-y-4",children:[x.overallStatus&&r.jsx("div",{children:r.jsx("span",{className:`inline-flex items-center px-4 py-1 rounded-full text-xs font-bold
    ${x.overallStatus==="RECRUITING"?"bg-gradient-to-r from-amber-400 via-orange-500 to-red-500 text-black shadow-[0_0_22px_rgba(255,140,0,0.9)]":"bg-white/10 text-slate-200 border border-white/20"}
    backdrop-blur-md
  `,children:x.overallStatus})}),r.jsx("h1",{className:"text-xl font-bold text-gray-900 leading-snug",children:r.jsx("span",{className:`
 
  text-white px-2 py-0.5 rounded
 
`,children:g.briefTitle||""})}),r.jsxs("div",{className:`
    space-y-3 text-sm
    bg-white/5 backdrop-blur-md
    border border-orange-400/20
    rounded-xl
    p-4
    shadow-[0_0_25px_rgba(255,140,0,0.25)]
  `,children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx("span",{className:`
        px-2 py-0.5 text-xs font-semibold rounded
        bg-blue-500/20 text-blue-300
        border border-blue-400/30
        shadow-[0_0_8px_rgba(59,130,246,0.6)]
      `,children:"NCT ID"}),r.jsx("span",{className:"text-slate-100 font-medium",children:g.nctId||""})]}),((M=S.leadSponsor)==null?void 0:M.name)&&r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx("span",{className:`
          px-2 py-0.5 text-xs font-semibold rounded
          bg-emerald-500/20 text-emerald-300
          border border-emerald-400/30
          shadow-[0_0_8px_rgba(16,185,129,0.6)]
        `,children:"Sponsor"}),r.jsx("span",{className:"text-slate-200",children:S.leadSponsor.name})]}),((z=S.responsibleParty)==null?void 0:z.organization)&&r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx("span",{className:`
          px-2 py-0.5 text-xs font-semibold rounded
          bg-purple-500/20 text-purple-300
          border border-purple-400/30
          shadow-[0_0_8px_rgba(168,85,247,0.6)]
        `,children:"Information provided by"}),r.jsx("span",{className:"text-slate-200",children:S.responsibleParty.organization})]}),((F=x.lastUpdatePostDateStruct)==null?void 0:F.date)&&r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsx("span",{className:`
          px-2 py-0.5 text-xs font-semibold rounded
          bg-orange-500/20 text-orange-300
          border border-orange-400/30
          shadow-[0_0_8px_rgba(255,140,0,0.7)]
        `,children:"Last Update Posted"}),r.jsx("span",{className:"text-slate-200",children:x.lastUpdatePostDateStruct.date})]})]})]}),r.jsx(Ms,{title:"Study Overview",children:r.jsx("div",{className:".neo-login  px-6 py-4",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[r.jsxs("div",{className:"lg:col-span-2 text-sm text-gray-800 space-y-6",children:[b.briefSummary&&r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-white border-b pb-1 mb-2",children:"Brief Summary"}),r.jsx("p",{className:"leading-relaxed text-white whitespace-pre-line",children:b.briefSummary})]}),g.officialTitle&&r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-white border-b pb-1 mb-2",children:"Official Title"}),r.jsx("p",{className:"leading-relaxed text-white whitespace-pre-line",children:g.officialTitle})]}),Array.isArray(_.conditions)&&_.conditions.length>0&&r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-white border-b pb-1 mb-2",children:"Conditions"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:_.conditions.map((ne,pe)=>r.jsx("span",{className:`px-2 py-0.5 text-xs rounded bg-orange-400/20 text-orange-300
border border-orange-400/30
shadow-[0_0_10px_rgba(255,140,0,0.6)]
`,children:ne},pe))})]}),((J=(B=f.armsInterventionsModule)==null?void 0:B.interventions)==null?void 0:J.length)>0&&r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-white border-b pb-1 mb-2",children:"Intervention / Treatment"}),r.jsx("ul",{className:"list-disc ml-5 text-white space-y-1",children:f.armsInterventionsModule.interventions.map((ne,pe)=>r.jsxs("li",{children:[ne.type,": ",r.jsx("strong",{children:ne.name})]},pe))})]})]}),r.jsxs("div",{className:"text-sm text-white  space-y-4",children:[r.jsx(T,{label:"Study Start (Actual)",value:(ee=x.startDateStruct)==null?void 0:ee.date}),r.jsx(T,{label:"Primary Completion (Estimated)",value:(X=x.primaryCompletionDateStruct)==null?void 0:X.date}),r.jsx(T,{label:"Study Completion (Estimated)",value:P}),r.jsx(T,{label:"Enrollment (Estimated)",value:(oe=v.enrollmentInfo)==null?void 0:oe.count}),r.jsx(T,{label:"Study Type",value:v.studyType}),r.jsx(T,{label:"Phase",value:wD(v.phases)})]})]})})}),r.jsx(Ms,{title:"Study Description",children:r.jsxs("div",{className:"space-y-4",children:[b.briefSummary?r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Brief Summary"}),r.jsx("p",{className:"text-sm text-white mt-1 whitespace-pre-line",children:b.briefSummary})]}):null,b.detailedDescription?r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Detailed Description"}),r.jsx("p",{className:"text-sm text-white mt-1 whitespace-pre-line",children:b.detailedDescription})]}):null,!b.briefSummary&&!b.detailedDescription?r.jsx("p",{className:"text-sm text-gray-500",children:""}):null]})}),r.jsx(Ms,{title:"Conditions and Keywords",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-white",children:"Conditions"}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:Array.isArray(_.conditions)&&_.conditions.length?_.conditions.map((ne,pe)=>r.jsx("span",{className:`px-3 py-1 rounded-full text-xs bg-orange-400/20 text-orange-300
border border-orange-400/30`,children:ne},pe)):r.jsx("span",{className:"text-sm text-white",children:""})})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-white",children:"Keywords"}),r.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:Array.isArray(_.keywords)&&_.keywords.length?_.keywords.map((ne,pe)=>r.jsx("span",{className:`px-3 py-1 rounded-full text-xs bg-orange-400/20 text-orange-300
border border-orange-400/30`,children:ne},pe)):r.jsx("span",{className:"text-sm text-white",children:""})})]})]})}),(((q=w.primaryOutcomes)==null?void 0:q.length)||((re=w.secondaryOutcomes)==null?void 0:re.length))&&r.jsx(Ms,{title:"What is the study measuring?",children:r.jsxs("div",{className:"space-y-10",children:[r.jsx(kg,{title:"Primary Outcome Measures",outcomes:w.primaryOutcomes}),r.jsx(kg,{title:"Secondary Outcome Measures",outcomes:w.secondaryOutcomes})]})}),Array.isArray(N.locations)&&N.locations.length?r.jsx(Ms,{title:"Locations",children:r.jsx(SD,{locations:N.locations})}):null,Array.isArray(N.centralContacts)&&N.centralContacts.length?r.jsx(Ms,{title:"Central Contacts",children:r.jsx(ND,{centralContacts:N.centralContacts})}):null,r.jsx(Ms,{title:"Eligibility Criteria",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-white/70 border-b pb-2",children:"Description"}),C.eligibilityCriteria?r.jsx("div",{className:"text-sm text-white/70 leading-relaxed whitespace-pre-wrap",children:C.eligibilityCriteria}):r.jsx("p",{className:"text-sm text-gray-500",children:""})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:`bg-white/5 backdrop-blur-md
border border-orange-400/20
rounded-xl
shadow-[inset_0_0_20px_rgba(255,140,0,0.08)]
 p-4`,children:[r.jsxs("p",{className:"text-xs text-white/70 flex items-center gap-1",children:["Ages Eligible for Study",r.jsx("span",{className:"cursor-help",children:""})]}),r.jsxs("p",{className:"text-sm font-semibold text-white/70 mt-1",children:[C.minimumAge||"",C.maximumAge?` to ${C.maximumAge}`:"",C.minimumAge?" (Adult)":""]})]}),r.jsxs("div",{className:`bg-white/5 backdrop-blur-md
border border-orange-400/20
rounded-xl
shadow-[inset_0_0_20px_rgba(255,140,0,0.08)]
 p-4`,children:[r.jsxs("p",{className:"text-xs text-white/70 flex items-center gap-1",children:["Sexes Eligible for Study",r.jsx("span",{className:"cursor-help",children:""})]}),r.jsx("p",{className:"text-sm font-semibold text-white/70 mt-1",children:C.sex||""})]}),r.jsxs("div",{className:`bg-white/5 backdrop-blur-md
border border-orange-400/20
rounded-xl
shadow-[inset_0_0_20px_rgba(255,140,0,0.08)]
 p-4`,children:[r.jsxs("p",{className:"text-xs text-white/70 flex items-center gap-1",children:["Accepts Healthy Volunteers",r.jsx("span",{className:"cursor-help",children:""})]}),r.jsx("p",{className:"text-sm font-semibold text-white/70 mt-1",children:C.healthyVolunteers===!0?"Yes":C.healthyVolunteers===!1?"No":""})]})]})]})}),f.armsInterventionsModule&&r.jsxs("div",{className:"neon-card",children:[r.jsxs("div",{className:"px-6 py-4 border-b",children:[r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Study Plan"}),r.jsx("p",{className:"text-sm text-white mt-1",children:"This section provides details of the study plan, including how the study is designed and what the study is measuring."})]}),r.jsx("div",{className:"neo-divider my-4"}),r.jsxs("div",{className:"neo-login px-6 py-3 flex items-center justify-between",children:[r.jsx("h3",{className:"text-base font-semibold text-white",children:"How is the study designed?"}),r.jsx("span",{className:"text-xl font-semibold text-white/70",children:""})]}),r.jsxs("div",{className:"px-6 py-5 space-y-4",children:[r.jsxs("div",{className:`
    rounded-xl
    bg-[linear-gradient(180deg,#0b0f2e_0%,#090c26_100%)]
    shadow-[0_25px_70px_rgba(0,0,0,0.75)]
    backdrop-blur-md
    border border-white/10
    px-6 py-5
  `,children:[r.jsx("h4",{className:"text-sm font-semibold text-white mb-4",children:"Design Details"}),r.jsxs("div",{className:"space-y-3 text-sm text-white/80",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-white",children:"Primary Purpose:"})," ",(V=v.designInfo)!=null&&V.primaryPurpose?v.designInfo.primaryPurpose.replace(/_/g," "):""]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-white",children:"Allocation:"})," ",((W=v.designInfo)==null?void 0:W.allocation)||"N/A"]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-white",children:"Interventional Model:"})," ",(G=v.designInfo)!=null&&G.interventionModel?v.designInfo.interventionModel.replace(/_/g," "):""]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-white",children:"Masking:"})," ",(U=($=v.designInfo)==null?void 0:$.maskingInfo)!=null&&U.masking?v.designInfo.maskingInfo.masking.replace(/_/g," "):""]})]})]}),r.jsx("hr",{className:"border-t border-blue-200"}),r.jsx(PD,{armsModule:f.armsInterventionsModule})]})]}),r.jsx(A,{status:x}),(_||((ye=e.derivedSection)==null?void 0:ye.conditionBrowseModule))&&r.jsx(k,{conditionsModule:_,conditionBrowseModule:(_e=e.derivedSection)==null?void 0:_e.conditionBrowseModule}),r.jsx(Ms,{title:"Sponsors and Collaborators",children:r.jsx(CD,{sponsorModule:S,isLinkedinConnected:s,isSearching:a,investigatorProfileUrl:d,onLinkedinSearch:h})})]})]})},ED=p.lazy(()=>Se(()=>import("./Login-DKH-G943.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),AD=p.lazy(()=>Se(()=>import("./Register-CylguP7m.js"),__vite__mapDeps([7,1,2,3,4,5,6]))),kD=p.lazy(()=>Se(()=>import("./GmailCallback-CCMBkJWQ.js"),__vite__mapDeps([8,1,2,5,6]))),LD=p.lazy(()=>Se(()=>import("./GmailPopupCallback-CMYO3I3E.js"),__vite__mapDeps([9,1,2,5]))),RD=p.lazy(()=>Se(()=>import("./FacebookPopupCallback-B6XbT1Ff.js"),__vite__mapDeps([10,1,2,5]))),MD=p.lazy(()=>Se(()=>import("./LinkedinPopupCallback-Csfw_ogb.js"),__vite__mapDeps([11,1,2,5]))),OD=p.lazy(()=>Se(()=>import("./FacebookCallback-6ZqCta1P.js"),__vite__mapDeps([12,1,2,5]))),Lg=p.lazy(()=>Se(()=>import("./Dashboard-ByNAF-Ah.js"),__vite__mapDeps([13,1,2,6,14,15,16,17,18,19,20,21,5]))),ID=p.lazy(()=>Se(()=>import("./KnowledgeBases-CmE1ke-D.js"),__vite__mapDeps([22,1,2,23,24,25,15,16,14,5,26,27,28,29,30,6]))),DD=p.lazy(()=>Se(()=>import("./Action-DLTQI1mc.js"),__vite__mapDeps([31,1,2,23,24,25,15,16,14,5,26,27,29,30,6]))),BD=p.lazy(()=>Se(()=>import("./Contacts-CEjarnez.js"),__vite__mapDeps([32,1,2,24,25,15,16,14,33,4,34,35,36,37,38,39,6,40,41,5,26,27,29]))),FD=p.lazy(()=>Se(()=>import("./Messages-D9mU4bwD.js"),__vite__mapDeps([42,1,2,14,15,16,36,37,39,6,38,40,5]))),zD=p.lazy(()=>Se(()=>import("./Patients-BxE3MES8.js"),__vite__mapDeps([43,1,2,6,5,36,25,14,15,16,30]))),$D=p.lazy(()=>Se(()=>import("./ClinicalRoles-BrKUtqfb.js"),__vite__mapDeps([44,1,2,6,45,25,5]))),VD=p.lazy(()=>Se(()=>import("./ClinicalDashboard-DFGnbUEn.js"),__vite__mapDeps([46,1,2,6,47,48,49,50,5]))),UD=p.lazy(()=>Se(()=>import("./ClinicalSites-C_ngqlba.js"),__vite__mapDeps([51,1,2,6,47,5]))),WD=p.lazy(()=>Se(()=>import("./ClinicalStudies-BxMKkY1M.js"),__vite__mapDeps([52,1,2,6,48,47,49,45,5]))),HD=p.lazy(()=>Se(()=>import("./ClinicalUsers-BRbkFkck.js"),__vite__mapDeps([53,1,2,6,49,45,47,5]))),ZD=p.lazy(()=>Se(()=>import("./StudyParticipants-BRqPLi-W.js"),__vite__mapDeps([54,1,2,6,50,48,5]))),GD=p.lazy(()=>Se(()=>import("./Lists-BRlTN5W-.js"),__vite__mapDeps([55,1,2,14,56,5,6,40,38,57,28,4,34,35,36,37,39,41,16,58,59]))),qD=p.lazy(()=>Se(()=>import("./ListDetails-DZxj8H00.js"),__vite__mapDeps([60,1,2,24,25,14,16,58,4,34,5,6]))),KD=p.lazy(()=>Se(()=>import("./Campaigns-KtUX38Ht.js"),__vite__mapDeps([61,1,2,24,25,15,16,14,62,63,26,5,29,30,6]))),YD=p.lazy(()=>Se(()=>import("./Recordings-BIV01NlC.js"),__vite__mapDeps([64,1,2,24,25,15,16,14,5,30,62,63,26,28,65,6]))),XD=p.lazy(()=>Se(()=>import("./RecordingDetail-Cs80RVho.js"),__vite__mapDeps([66,1,2,6,29,65,28,14,5]))),JD=p.lazy(()=>Se(()=>import("./Support-Yydxu871.js"),__vite__mapDeps([67,1,2,5,24,25,15,16,14,4,34,6,68,69,36,26,59]))),QD=p.lazy(()=>Se(()=>import("./SupportTicketDetail-zyRw8qet.js"),__vite__mapDeps([70,1,2,6,36,68,69,5])).then(t=>({default:t.SupportTicketDetail}))),eB=p.lazy(()=>Se(()=>import("./AdminSupport-DZjU8stC.js"),__vite__mapDeps([71,1,2,24,25,15,16,14,33,6,69,30,5,4,34,17,18,19])));p.lazy(()=>Se(()=>import("./Agents-90ZpU-w1.js"),__vite__mapDeps([72,1,2,73,6,40,36,25,74,28,69,75,5])));const Rg=p.lazy(()=>Se(()=>import("./VapiStyleAgents-DQ1Bntxs.js"),__vite__mapDeps([73,1,2,6,40,36,25,74,28,69,75,5]))),tB=p.lazy(()=>Se(()=>import("./AddAgent-DknAQ6HM.js"),__vite__mapDeps([76,1,2,5,14,69,6])).then(t=>({default:t.AddAgent}))),nB=p.lazy(()=>Se(()=>import("./Models-5R-wBTLY.js"),__vite__mapDeps([77,1,2,6,14,5]))),sB=p.lazy(()=>Se(()=>import("./Voices-CLER75WU.js"),__vite__mapDeps([78,1,2,6,14,5]))),rB=p.lazy(()=>Se(()=>import("./VoicePreviewTest-CBzbJjqT.js"),__vite__mapDeps([79,1,2,75,5,6]))),iB=p.lazy(()=>Se(()=>import("./PhoneNumbers-D2sLtnUn.js"),__vite__mapDeps([80,1,2,6,25,39,38,40,81,58,5]))),oB=p.lazy(()=>Se(()=>import("./OutboundCalls-BM8h8XFA.js"),__vite__mapDeps([82,1,2,6,25,65,28,14,56,5,40,38]))),aB=p.lazy(()=>Se(()=>import("./Outbound-CPv5LOpY.js"),__vite__mapDeps([83,1,2,6,25,84,38,40,57,28,5]))),lB=p.lazy(()=>Se(()=>import("./CreateCampaignPage-DSDJw6o4.js"),__vite__mapDeps([85,1,2,6,27,84,40,38,5])).then(t=>({default:t.CreateCampaignPage}))),cB=p.lazy(()=>Se(()=>import("./Webhooks-C6vBa4PZ.js"),__vite__mapDeps([86,1,2,5,14,25,58,16,87,38,40,27,6]))),dB=p.lazy(()=>Se(()=>import("./AuditLogs-BrsehbPl.js"),__vite__mapDeps([88,1,2,6,62,63,26,25,5]))),uB=p.lazy(()=>Se(()=>import("./Integrations-DaL9nzDP.js"),__vite__mapDeps([89,1,2,14,16,87,5,6]))),hB=p.lazy(()=>Se(()=>import("./SuperAdminDashboard-Cs_q9_Zl.js"),__vite__mapDeps([90,1,2,14,15,16,5,6]))),fB=p.lazy(()=>Se(()=>import("./Roles-asASsAZ0.js"),__vite__mapDeps([91,1,2,6,14,15,16,92,93,58,5]))),mB=p.lazy(()=>Se(()=>import("./RolePermissionManagement-D62lIucx.js"),__vite__mapDeps([94,1,2,6,14,15,16,21,92,93,58,5]))),pB=p.lazy(()=>Se(()=>import("./Permissions-C-0F7MJB.js"),__vite__mapDeps([95,1,2,6,14,15,16,21,25,5]))),gB=p.lazy(()=>Se(()=>import("./DefaultAssistants-Cutcjzeh.js"),__vite__mapDeps([96,1,2,6,74,29,5]))),xB=p.lazy(()=>Se(()=>import("./UserManagement-cNI9RN9L.js"),__vite__mapDeps([97,1,2,6,14,15,16,36,21,81,93,58,5,59,63]))),vB=p.lazy(()=>Se(()=>import("./CreditManagement-BnpvuFAh.js"),__vite__mapDeps([98,1,2,25,5,6]))),yB=p.lazy(()=>Se(()=>import("./UserCreditPortal-BcrfKOWB.js"),__vite__mapDeps([99,1,2,17,18,20,5,6]))),_B=p.lazy(()=>Se(()=>import("./TestCreditsPage-C1mPohOg.js"),__vite__mapDeps([100,1,2,5,6]))),bB=p.lazy(()=>Se(()=>import("./CreditPurchasePage-DdGLJqY4.js"),__vite__mapDeps([101,1,2,5,6]))),Aa=p.lazy(()=>Se(()=>import("./TestPurchasePage-D7fa20da.js"),__vite__mapDeps([102,1,2]))),wB=p.lazy(()=>Se(()=>import("./CreditDebug-CWkJUGis.js"),__vite__mapDeps([103,1,2,5,6]))),jB=p.lazy(()=>Se(()=>import("./SimpleCreditTest-BDBEHEw9.js"),__vite__mapDeps([104,1,2,5,6]))),SB=p.lazy(()=>Se(()=>import("./GmailDebug-3FhewOzx.js"),__vite__mapDeps([105,1,2,5,6]))),NB=p.lazy(()=>Se(()=>import("./ModalTestPage-BQF9Wsy0.js"),__vite__mapDeps([106,1,2,5,6]))),CB=p.lazy(()=>Se(()=>import("./Settings-CDaZ7b4C.js"),__vite__mapDeps([107,1,2,81,36,5,6])));p.lazy(()=>Se(()=>import("./TestLogout-DVTN7sye.js"),__vite__mapDeps([108,1,2,5,6])));const PB=p.lazy(()=>Se(()=>import("./Privacy-AWOl4sdE.js"),__vite__mapDeps([109,1,2]))),TB=p.lazy(()=>Se(()=>import("./Terms-BhDVdhIl.js"),__vite__mapDeps([110,1,2]))),EB=p.lazy(()=>Se(()=>import("./NotFound-Bw1gw_ff.js"),__vite__mapDeps([111,1,2,5,6]))),AB=p.lazy(()=>Se(()=>import("./EmailManagement-D3uUEimO.js"),__vite__mapDeps([112,1,2,5,6]))),kB=p.lazy(()=>Se(()=>import("./WorkflowLayout-XMtkU5KR.js"),__vite__mapDeps([113,1,2,24,25,15,16,5,6]))),LB=p.lazy(()=>Se(()=>import("./CreateWorkflowCanvas-gfFT-PWd.js"),__vite__mapDeps([114,1,2,5,18,6,115])));function RB(){const t=Pu(),[e,n]=p.useState(!0),{isRefresh:s}=bM(),i=new IS({defaultOptions:{queries:{staleTime:30*1e3,gcTime:2*60*1e3,retry:1,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchInterval:5*60*1e3,refetchIntervalInBackground:!1},mutations:{onSuccess:()=>{i.invalidateQueries()}}}});return p.useEffect(()=>{au.setQueryClient(i),au.setupAutoCacheManagement(),_M.setupAutoMonitoring(),console.log(" Cache management and performance monitoring initialized");const a=setTimeout(()=>{n(!1)},100);return()=>clearTimeout(a)},[i]),p.useEffect(()=>{!e&&!s&&(console.log(" Route changed, clearing cache for fresh data..."),Se(async()=>{const{cacheManager:a}=await Promise.resolve().then(()=>ri);return{cacheManager:a}},void 0).then(({cacheManager:a})=>{a.clearCacheForNavigation(),a.invalidateQueriesByPage(t.pathname)}).catch(a=>{console.warn("Could not clear cache for navigation:",a)}))},[t.pathname,e,s]),r.jsx(r.Fragment,{children:r.jsxs(DS,{client:i,children:[r.jsx(_4,{children:r.jsx(AL,{children:r.jsx(kL,{children:r.jsx(LL,{children:r.jsx(p.Suspense,{fallback:r.jsx(Hh,{delay:100}),children:r.jsxs(LS,{children:[r.jsx(ve,{path:"privacy",element:r.jsx(PB,{})}),r.jsx(ve,{path:"terms",element:r.jsx(TB,{})}),r.jsxs(ve,{element:r.jsx(vM,{}),children:[r.jsx(ve,{path:"login",element:r.jsx(ED,{})}),r.jsx(ve,{path:"register",element:r.jsx(AD,{})}),r.jsx(ve,{path:"gmail/callback",element:r.jsx(kD,{})}),r.jsx(ve,{path:"gmail/popup-callback",element:r.jsx(LD,{})}),r.jsx(ve,{path:"facebook/popup-callback",element:r.jsx(RD,{})}),r.jsx(ve,{path:"linkedin/popup-callback",element:r.jsx(MD,{})}),r.jsx(ve,{path:"integration/facebook/callback",element:r.jsx(OD,{})})]}),r.jsx(ve,{element:r.jsx(yM,{}),children:r.jsxs(ve,{path:"/",element:r.jsx(pM,{}),children:[r.jsx(ve,{index:!0,element:r.jsx(Lg,{})}),r.jsx(ve,{path:"dashboard",element:r.jsx(Lg,{})}),r.jsx(ve,{path:"agents",element:r.jsx(Rg,{})}),r.jsx(ve,{path:"agents/list",element:r.jsx(Rg,{})}),r.jsx(ve,{path:"agents/add",element:r.jsx(tB,{})}),r.jsx(ve,{path:"models",element:r.jsx(nB,{})}),r.jsx(ve,{path:"voices",element:r.jsx(sB,{})}),r.jsx(ve,{path:"voice-test",element:r.jsx(rB,{})}),r.jsx(ve,{path:"phone-numbers",element:r.jsx(iB,{})}),r.jsx(ve,{path:"outbound-calls",element:r.jsx(oB,{})}),r.jsx(ve,{path:"outbound",element:r.jsx(aB,{})}),r.jsx(ve,{path:"outbound/create-campaign",element:r.jsx(lB,{})}),r.jsx(ve,{path:"webhooks",element:r.jsx(cB,{})}),r.jsx(ve,{path:"credits",element:r.jsx(yB,{})}),r.jsx(ve,{path:"credits/purchase",element:r.jsx(bB,{})}),r.jsx(ve,{path:"purchase-credits",element:r.jsx(Aa,{})}),r.jsx(ve,{path:"buy-credits",element:r.jsx(Aa,{})}),r.jsx(ve,{path:"test-purchase",element:r.jsx(Aa,{})}),r.jsx(ve,{path:"test-credits",element:r.jsx(_B,{})}),r.jsx(ve,{path:"debug-credits",element:r.jsx(wB,{})}),r.jsx(ve,{path:"simple-credit-test",element:r.jsx(jB,{})}),r.jsx(ve,{path:"debug-gmail",element:r.jsx(SB,{})}),r.jsx(ve,{path:"modal-test",element:r.jsx(NB,{})}),r.jsx(ve,{path:"audit-logs",element:r.jsx(dB,{})}),r.jsx(ve,{path:"knowledge-bases",element:r.jsx(ID,{})}),r.jsx(ve,{path:"actions",element:r.jsx(DD,{})}),r.jsx(ve,{path:"contacts",element:r.jsx(BD,{})}),r.jsx(ve,{path:"messages",element:r.jsx(FD,{})}),r.jsx(ve,{path:"patients",element:r.jsx(zD,{})}),r.jsx(ve,{path:"clinical-roles",element:r.jsx($D,{})}),r.jsx(ve,{path:"clinical-dashboard",element:r.jsx(VD,{})}),r.jsx(ve,{path:"clinical-users",element:r.jsx(HD,{})}),r.jsx(ve,{path:"clinical-sites",element:r.jsx(UD,{})}),r.jsx(ve,{path:"clinical-studies",element:r.jsx(WD,{})}),r.jsx(ve,{path:"study-participants",element:r.jsx(ZD,{})}),r.jsx(ve,{path:"lists",element:r.jsx(GD,{})}),r.jsx(ve,{path:"lists/:id",element:r.jsx(qD,{})}),r.jsx(ve,{path:"campaigns",element:r.jsx(KD,{})}),r.jsx(ve,{path:"recordings",element:r.jsx(YD,{})}),r.jsx(ve,{path:"recordings/:id",element:r.jsx(XD,{})}),r.jsx(ve,{path:"support",element:r.jsx(JD,{})}),r.jsx(ve,{path:"support/ticket/:ticketId",element:r.jsx(QD,{})}),r.jsx(ve,{path:"admin-support",element:r.jsx(eB,{})}),r.jsx(ve,{path:"users",element:r.jsx(xB,{})}),r.jsx(ve,{path:"marketing-ads",element:r.jsx(NO,{})}),r.jsx(ve,{path:"leads-scraper",element:r.jsx(qI,{})}),r.jsx(ve,{path:"leads-contacts",element:r.jsx(JI,{})}),r.jsx(ve,{path:"leads-contacts/import",element:r.jsx(QI,{})}),r.jsx(ve,{path:"leads/:id",element:r.jsx(eD,{})}),r.jsx(ve,{path:"integration",element:r.jsx(uB,{})}),r.jsx(ve,{path:"super-admin",element:r.jsx(hB,{})}),r.jsx(ve,{path:"roles",element:r.jsx(mB,{})}),r.jsx(ve,{path:"roles/old",element:r.jsx(fB,{})}),r.jsx(ve,{path:"permissions",element:r.jsx(pB,{})}),r.jsx(ve,{path:"default-assistants",element:r.jsx(gB,{})}),r.jsx(ve,{path:"admin/credits",element:r.jsx(vB,{})}),r.jsx(ve,{path:"settings",element:r.jsx(CB,{})}),r.jsx(ve,{path:"studies_calculator",element:r.jsx(sD,{})}),r.jsx(ve,{path:"/studies/db/:id",element:r.jsx(TD,{})}),r.jsx(ve,{path:"email_management",element:r.jsx(AB,{})}),r.jsx(ve,{path:"workflows",element:r.jsx(kB,{})}),r.jsx(ve,{path:"workflows/create",element:r.jsx(LB,{})})]})}),r.jsx(ve,{path:"/test-route-direct",element:r.jsx(Aa,{})}),r.jsx(ve,{path:"*",element:r.jsx(EB,{})})]})})})})})}),r.jsx(mN,{richColors:!0,position:"top-right"}),r.jsx(eb,{})]})})}bx(document.getElementById("root")).render(r.jsx(p.StrictMode,{children:r.jsx(RS,{children:r.jsx(RB,{})})}));export{s_ as $,o6 as A,be as B,Zt as C,L_ as D,Dy as E,gt as F,og as G,YI as H,mt as I,m6 as J,KI as K,He as L,y6 as M,Va as N,XI as O,g6 as P,f6 as Q,iI as R,Mh as S,Zh as T,oI as U,aI as V,_6 as W,ru as X,v6 as Y,x6 as Z,gR as _,Ce as a,Vh as a0,Ey as a1,ft as a2,x4 as a3,_b as a4,l4 as a5,a6,Se as a7,bD as a8,uM as a9,J_ as aa,Y_ as ab,oM as ac,nM as ad,l6 as ae,B4 as af,c4 as ag,Jd as ah,Gt as b,De as c,ws as d,js as e,I_ as f,ns as g,Gn as h,ss as i,qn as j,Ie as k,R_ as l,an as m,Uh as n,ur as o,Cn as p,SO as q,p6 as r,pi as s,ie as t,Ni as u,Er as v,Oo as w,Ar as x,ml as y,b6 as z};
//# sourceMappingURL=index-BJQAqHy1.js.map
