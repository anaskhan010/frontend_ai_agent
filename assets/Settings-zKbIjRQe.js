import{j as e,Y as he,ba as xe,bj as pe,bT as ge,aG as ue,ao as we,cu as q,c1 as J,H as M,I}from"./ui-CZ40mCLE.js";import{r as i}from"./vendor-DG599jyl.js";import{u as fe,a as u,t as o,n as N,B as d,L as w,I as g,ab as be}from"./index-D2HGmCxA.js";import{a as Q,b as je}from"./userService-CAewk4Cu.js";import{A as ye,b as Ne,a as ve}from"./avatar-DgnSVKvc.js";import"./router-BnJytTjr.js";import"./query-Dkjx6fBT.js";const Te=()=>{const{user:n}=fe(),[a,v]=i.useState(null),[f,T]=i.useState(!1),[_e,z]=i.useState(!0),[_,P]=i.useState(!1),[l,b]=i.useState("profile"),[p,j]=i.useState({first_name:"",last_name:"",username:"",email:"",phone_number:""}),[m,y]=i.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[U,X]=i.useState(!1),[L,Z]=i.useState(!1),[D,ee]=i.useState(!1),[H,se]=i.useState([]),[k,R]=i.useState(""),[W,B]=i.useState(null),[C,A]=i.useState(""),[ae,K]=i.useState(!1);i.useEffect(()=>{te()},[n]),i.useEffect(()=>{l==="tags"&&E()},[l,n]);const te=async()=>{try{if(z(!0),n&&typeof n=="object"&&n!==null){let s={...n,phone_number:n.phone_number||"",created_at:n.created_at||"",last_login:n.last_login||""};try{const t=await Q();t&&t.id===n.id&&(s={...s,roles:t.roles,role:t.role,permissions:t.permissions,pagePermissions:t.pagePermissions,created_at:t.created_at||s.created_at,updated_at:t.updated_at,last_login:t.last_login||s.last_login})}catch(t){console.warn("Could not fetch additional role data from API:",t)}v(s),j({first_name:s.first_name||(s.name?s.name.split(" ")[0]:""),last_name:s.last_name||(s.name?s.name.split(" ").slice(1).join(" "):""),username:s.username||"",email:s.email||"",phone_number:s.phone_number||""})}else{const s=await Q();s&&(v(s),j({first_name:s.first_name||(s.name?s.name.split(" ")[0]:""),last_name:s.last_name||(s.name?s.name.split(" ").slice(1).join(" "):""),username:s.username||"",email:s.email||"",phone_number:s.phone_number||""}))}}catch(s){if(console.error("Error fetching user profile:",s),n&&typeof n=="object"&&n!==null){const t={...n,phone_number:n.phone_number||"",created_at:n.created_at||"",last_login:n.last_login||""};v(t),j({first_name:t.first_name||(t.name?t.name.split(" ")[0]:""),last_name:t.last_name||(t.name?t.name.split(" ").slice(1).join(" "):""),username:t.username||"",email:t.email||"",phone_number:t.phone_number||""})}}finally{z(!1)}},S=(s,t)=>{j(c=>({...c,[s]:t}))},re=async()=>{if(a)try{P(!0);const s=await je({id:a.id,...p});s&&(v(s),T(!1),o.success("Profile updated successfully!"))}catch(s){console.error("Error updating profile:",s),o.error("Failed to update profile")}finally{P(!1)}},ne=async()=>{var s,t,c;if(!m.currentPassword||!m.newPassword||!m.confirmPassword){o.error("Please fill in all password fields");return}if(m.newPassword!==m.confirmPassword){o.error("New passwords do not match");return}if(m.newPassword.length<6){o.error("New password must be at least 6 characters long");return}try{P(!0),(await u.post("/api/auth/change-password",{currentPassword:m.currentPassword,newPassword:m.newPassword})).data.success&&(o.success("Password changed successfully!"),y({currentPassword:"",newPassword:"",confirmPassword:""}))}catch(x){console.error("Error changing password:",x),((s=x.response)==null?void 0:s.status)===404?o.error("Password change functionality is not yet implemented"):o.error(((c=(t=x.response)==null?void 0:t.data)==null?void 0:c.message)||"Failed to change password")}finally{P(!1)}},E=async()=>{try{K(!0);const s=await u.get(`/api/tags/get-tags-by-user/${n.id}`);s.data.success&&se(s.data.data)}catch(s){console.error("Error fetching tags:",s),o.error("Failed to load tags")}finally{K(!1)}},V=async()=>{if(!k.trim()){o.error("Please enter a tag name");return}try{(await u.post("/api/tags/create-tags",{tag_name:k.trim(),user_id:n.id})).data.success&&(o.success("Tag created successfully"),R(""),E())}catch(s){console.error("Error creating tag:",s),o.error("Failed to create tag")}},ie=s=>{B(s.tag_id),A(s.tag_name)},Y=async s=>{if(!C.trim()){o.error("Please enter a tag name");return}try{(await u.put(`/api/tags/update-tags/${s}`,{tag_name:C.trim()})).data.success&&(o.success("Tag updated successfully"),B(null),A(""),E())}catch(t){console.error("Error updating tag:",t),o.error("Failed to update tag")}},le=async s=>{if(window.confirm("Are you sure you want to delete this tag?"))try{(await u.delete(`/api/tags/delete-tags/${s}`)).data.success&&(o.success("Tag deleted successfully"),E())}catch(t){console.error("Error deleting tag:",t),o.error("Failed to delete tag")}},G=()=>{B(null),A("")},oe=()=>{if(a!=null&&a.first_name&&(a!=null&&a.last_name))return`${a.first_name.charAt(0)}${a.last_name.charAt(0)}`.toUpperCase();if(a!=null&&a.name){const s=a.name.split(" ");return s.length>=2?`${s[0].charAt(0)}${s[1].charAt(0)}`.toUpperCase():a.name.charAt(0).toUpperCase()}else{if(a!=null&&a.username)return a.username.charAt(0).toUpperCase();if(a!=null&&a.email)return a.email.charAt(0).toUpperCase()}return"U"},O=()=>a!=null&&a.first_name&&(a!=null&&a.last_name)?`${a.first_name} ${a.last_name}`:a!=null&&a.name?a.name:a!=null&&a.username?a.username:"User",ce=s=>{if(console.log("ðŸ” getRoleDisplayName - user data:",{is_super_admin:s==null?void 0:s.is_super_admin,isSuperAdmin:s==null?void 0:s.isSuperAdmin,role_id:s==null?void 0:s.role_id,roles:s==null?void 0:s.roles,role:s==null?void 0:s.role}),s!=null&&s.is_super_admin||s!=null&&s.isSuperAdmin||(s==null?void 0:s.role_id)===1)return console.log("âœ… Detected as Super Administrator"),"Super Administrator";if(s!=null&&s.roles&&s.roles.length>0){const t=s.roles.map(c=>c.display_name).join(", ");return console.log("âœ… Using roles array:",t),t}if(s!=null&&s.role&&s.role.display_name)return console.log("âœ… Using primary role:",s.role.display_name),s.role.display_name;if(s!=null&&s.role_id){const c={1:"Super Administrator",2:"Administrator",3:"Manager",4:"User"}[s.role_id]||"User";return console.log("âœ… Using role_id mapping:",s.role_id,"â†’",c),c}return console.log("âš ï¸ Falling back to default 'User' role"),"User"},de=()=>{const[s,t]=i.useState([]),[c,x]=i.useState(!0);i.useEffect(()=>{$()},[]);const $=async()=>{try{x(!0);const r=n!=null&&n.isSuperAdmin?"/api/credits/admin/transactions":"/api/credits/transactions",h=await u.get(r);console.log("Transaction API Response:",h.data);let F=[];h.data.data&&(Array.isArray(h.data.data.transactions)?F=h.data.data.transactions:Array.isArray(h.data.data)&&(F=h.data.data)),console.log("Processed transaction data:",F),t(F)}catch(r){console.error("Error fetching transactions:",r),o.error("Failed to load transaction history"),t([])}finally{x(!1)}};return c?e.jsx("div",{className:"text-center py-8",children:"Loading transaction history..."}):s.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No transactions found"}):e.jsx("div",{className:"space-y-4",children:Array.isArray(s)&&s.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${r.type==="purchase"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:r.type==="purchase"?"+":"-"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:r.description||`${r.type} transaction`}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("p",{children:new Date(r.created_at).toLocaleDateString()}),(n==null?void 0:n.isSuperAdmin)&&r.user_email&&e.jsxs("p",{children:["User: ",r.user_email]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`font-semibold ${r.type==="purchase"?"text-green-600":"text-red-600"}`,children:[r.type==="purchase"?"+":"-",Math.abs(r.amount)," credits"]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Balance: ",r.balance_after]})]})]},r.id))})},me=()=>{const[s,t]=i.useState([]),[c,x]=i.useState(!0);i.useEffect(()=>{$()},[]);const $=async()=>{try{x(!0);const r=await u.get("/api/credits/admin/users");console.log("Users Credits API Response:",r.data);let h=[];r.data.data&&(Array.isArray(r.data.data.users)?h=r.data.data.users:Array.isArray(r.data.data)&&(h=r.data.data)),console.log("Processed users data:",h),t(h)}catch(r){console.error("Error fetching all users credits:",r),o.error("Failed to load users billing information"),t([])}finally{x(!1)}};return c?e.jsx("div",{className:"text-center py-8",children:"Loading users billing information..."}):e.jsxs("div",{className:"neo-card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"All Users Plans & Billing"}),e.jsx("div",{className:"space-y-4",children:s.length===0?e.jsx("div",{className:"text-center py-8 text-gray-400",children:"No users found"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-white/10",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-white",children:"User"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-white",children:"Email"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-white",children:"Total Credits"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-white",children:"Used Credits"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-white",children:"Available"}),e.jsx("th",{className:"text-center py-3 px-4 font-medium text-white",children:"Status"})]})}),e.jsx("tbody",{children:Array.isArray(s)&&s.map(r=>e.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"font-medium text-white",children:[r.first_name," ",r.last_name]})}),e.jsx("td",{className:"py-3 px-4 text-gray-400",children:r.email}),e.jsx("td",{className:"py-3 px-4 text-right text-white",children:parseFloat(r.total_credits||0).toFixed(2)}),e.jsx("td",{className:"py-3 px-4 text-right text-gray-400",children:parseFloat(r.used_credits||0).toFixed(2)}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsx("span",{className:`font-medium ${parseFloat(r.available_credits||0)<=10?"text-red-400":"text-green-400"}`,children:parseFloat(r.available_credits||0).toFixed(2)})}),e.jsx("td",{className:"py-3 px-4 text-center",children:e.jsx(N,{variant:parseFloat(r.available_credits||0)<=0?"destructive":parseFloat(r.available_credits||0)<=10?"secondary":"default",className:parseFloat(r.available_credits||0)>10?"bg-green-500/20 text-green-400 hover:bg-green-500/30 border-green-500/50":"",children:parseFloat(r.available_credits||0)<=0?"No Credits":parseFloat(r.available_credits||0)<=10?"Low Credits":"Active"})})]},r.user_id))})]})})})]})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"app-shell-bg",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-74 neo-sidebar min-h-screen",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[e.jsx(he,{className:"h-6 w-6 text-white"}),e.jsx("h1",{className:"text-xl font-semibold text-white",children:"Settings"})]}),e.jsxs("nav",{className:"space-y-2",children:[e.jsxs("div",{className:`p-3 flex items-center justify-between rounded-lg cursor-pointer transition-colors ${l==="profile"?"neo-sidebar-item-active text-white font-medium":"neo-sidebar-item text-gray-400 hover:text-white"}`,onClick:()=>b("profile"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(xe,{className:"w-4 h-4"}),e.jsx("span",{children:"My Profile"})]}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsxs("div",{className:`p-3 flex items-center justify-between rounded-lg cursor-pointer transition-colors ${l==="billing"?"neo-sidebar-item-active text-white font-medium":"neo-sidebar-item text-gray-400 hover:text-white"}`,onClick:()=>b("billing"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(pe,{className:"w-4 h-4"}),e.jsx("span",{children:"Plan & Billing"})]}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsxs("div",{className:`p-3 flex items-center justify-between rounded-lg cursor-pointer transition-colors ${l==="transactions"?"neo-sidebar-item-active text-white font-medium":"neo-sidebar-item text-gray-400 hover:text-white"}`,onClick:()=>b("transactions"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ge,{className:"w-4 h-4"}),e.jsx("span",{children:"Transaction History"})]}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsxs("div",{className:`p-3 flex items-center justify-between rounded-lg cursor-pointer transition-colors ${l==="security"?"neo-sidebar-item-active text-white font-medium":"neo-sidebar-item text-gray-400 hover:text-white"}`,onClick:()=>b("security"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ue,{className:"w-4 h-4"}),e.jsx("span",{children:"Security"})]}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsxs("div",{className:`p-3 flex items-center justify-between rounded-lg cursor-pointer transition-colors ${l==="tags"?"neo-sidebar-item-active text-white font-medium":"neo-sidebar-item text-gray-400 hover:text-white"}`,onClick:()=>b("tags"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(we,{className:"w-4 h-4"}),e.jsx("span",{children:"Tags"})]}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})}),e.jsxs("div",{className:"flex-1 p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm neo-breadcrumbs",children:[e.jsx("span",{children:"Account"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),e.jsxs("span",{className:"text-white font-medium",children:[l==="profile"&&"Profile",l==="billing"&&"Plan & Billing",l==="transactions"&&"Transaction History",l==="security"&&"Security",l==="tags"&&"Tags"]})]})}),e.jsx("div",{className:"mb-8",children:e.jsxs("h1",{className:"text-2xl font-bold text-white mb-2",children:[l==="profile"&&"My Profile",l==="billing"&&"Plan & Billing",l==="transactions"&&"Transaction History",l==="security"&&"Security Settings",l==="tags"&&"Tags"]})}),l==="profile"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"neo-card p-6 mb-6 relative overflow-hidden",children:e.jsx("div",{className:"relative flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(ye,{className:"h-16 w-16 border-2 border-white/20",children:[e.jsx(Ne,{src:"",alt:O()}),e.jsx(ve,{className:"bg-primary/20 text-white text-lg font-semibold border border-primary/40",children:oe()})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-1",children:O()}),e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:a==null?void 0:a.email}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(N,{className:"bg-white/10 text-white border-white/20 hover:bg-white/20",children:ce(a)}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full shadow-[0_0_8px_rgba(74,222,128,0.6)]"}),e.jsx("span",{className:"text-green-400 text-sm font-medium",children:"Active"})]})]})]})]})})}),e.jsxs("div",{className:"neo-card",children:[e.jsx("div",{className:"p-6 border-b border-white/10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Personal Information"}),!f&&e.jsxs(d,{onClick:()=>T(!0),className:"neo-btn",children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"first_name",className:"text-sm font-medium text-gray-300",children:"First Name"}),f?e.jsx(g,{className:"bg-black/20 border-white/10 text-white placeholder:text-gray-500 focus:border-primary/50",id:"first_name",value:p.first_name,onChange:s=>S("first_name",s.target.value),placeholder:"Enter your first name"}):e.jsx("div",{className:"text-white font-medium pl-1",children:p.first_name||"N/A"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"last_name",className:"text-sm font-medium text-gray-300",children:"Last Name"}),f?e.jsx(g,{className:"bg-black/20 border-white/10 text-white placeholder:text-gray-500 focus:border-primary/50",id:"last_name",value:p.last_name,onChange:s=>S("last_name",s.target.value),placeholder:"Enter your last name"}):e.jsx("div",{className:"text-white font-medium pl-1",children:p.last_name||"N/A"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"email",className:"text-sm font-medium text-gray-300",children:"Email"}),f?e.jsx(g,{className:"bg-black/20 border-white/10 text-white placeholder:text-gray-500 focus:border-primary/50",id:"email",type:"email",value:p.email,onChange:s=>S("email",s.target.value),placeholder:"Enter your email address"}):e.jsx("div",{className:"text-white font-medium pl-1",children:p.email||"N/A"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"phone_number",className:"text-sm font-medium text-gray-300",children:"Cell Phone"}),f?e.jsx(g,{className:"bg-black/20 border-white/10 text-white placeholder:text-gray-500 focus:border-primary/50",id:"phone_number",value:p.phone_number,onChange:s=>S("phone_number",s.target.value),placeholder:"Enter your phone number"}):e.jsx("div",{className:"text-white font-medium pl-1",children:p.phone_number||"N/A"})]})]}),f&&e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-white/10",children:[e.jsx(d,{variant:"outline",className:"border-white/10 text-white hover:bg-white/10 bg-transparent",onClick:()=>{T(!1);const s=(a==null?void 0:a.first_name)||(a!=null&&a.name?a.name.split(" ")[0]:""),t=(a==null?void 0:a.last_name)||(a!=null&&a.name?a.name.split(" ").slice(1).join(" "):"");j({first_name:s,last_name:t,username:(a==null?void 0:a.username)||"",email:(a==null?void 0:a.email)||"",phone_number:(a==null?void 0:a.phone_number)||""})},children:"Cancel"}),e.jsxs(d,{onClick:re,disabled:_,className:"neo-btn",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),_?"Saving...":"Save Changes"]})]})]})]})]}),l==="billing"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"neo-card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Current Plan & Credits"}),e.jsx(be,{showPurchaseButton:!0,compact:!1,showUsageButton:!0,className:"bg-transparent border-0 shadow-none !p-0"})]}),e.jsxs("div",{className:"neo-card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Plan Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[e.jsx("span",{className:"text-gray-400",children:"Plan Type"}),e.jsx(N,{variant:"default",className:"bg-primary/20 text-white border-primary/40 hover:bg-primary/30",children:n!=null&&n.isSuperAdmin?"Super Admin (Unlimited)":"Credit-Based Plan"})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[e.jsx("span",{className:"text-gray-400",children:"Status"}),e.jsx(N,{variant:"outline",className:"text-green-400 border-green-500/50 bg-green-500/10",children:"Active"})]}),(n==null?void 0:n.isSuperAdmin)&&e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-gray-400",children:"Access Level"}),e.jsx("span",{className:"text-white font-medium",children:"Unlimited Access to All Features"})]})]})]}),(n==null?void 0:n.isSuperAdmin)&&e.jsx(me,{})]}),l==="transactions"&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Transaction History"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1",children:n!=null&&n.isSuperAdmin?"View all users credit transactions and purchases":"View all your credit transactions and purchases"})]}),e.jsx("div",{className:"p-6",children:e.jsx(de,{})})]}),l==="security"&&e.jsxs("div",{className:"neo-card",children:[e.jsxs("div",{className:"p-6 border-b border-white/10",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Security Settings"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Manage your account security and password"})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"currentPassword",className:"text-sm font-semibold text-gray-300",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(g,{id:"currentPassword",type:U?"text":"password",value:m.currentPassword,onChange:s=>y(t=>({...t,currentPassword:s.target.value})),placeholder:"Enter your current password",className:`
    w-full
    rounded-md
    border
    border-white/10
    bg-black/20
    px-3 py-2
    text-sm
    text-white
    placeholder-gray-500
    focus:border-primary/50
    focus:ring-1
    focus:ring-primary/50
    transition
    duration-200
  `}),e.jsx(d,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white hover:bg-white/10",onClick:()=>X(!U),children:U?e.jsx(M,{className:"h-4 w-4"}):e.jsx(I,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"newPassword",className:"text-sm font-semibold text-gray-300",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(g,{id:"newPassword",type:L?"text":"password",value:m.newPassword,onChange:s=>y(t=>({...t,newPassword:s.target.value})),placeholder:"Enter your new password",className:"pr-10 rounded-lg border-white/10 bg-black/20 text-white placeholder:text-gray-500 focus:border-primary/50 focus:ring-primary/50"}),e.jsx(d,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white hover:bg-white/10",onClick:()=>Z(!L),children:L?e.jsx(M,{className:"h-4 w-4"}):e.jsx(I,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"confirmPassword",className:"text-sm font-semibold text-gray-300",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(g,{id:"confirmPassword",type:D?"text":"password",value:m.confirmPassword,onChange:s=>y(t=>({...t,confirmPassword:s.target.value})),placeholder:"Confirm your new password",className:"pr-10 rounded-lg border-white/10 bg-black/20 text-white placeholder:text-gray-500 focus:border-primary/50 focus:ring-primary/50"}),e.jsx(d,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white hover:bg-white/10",onClick:()=>ee(!D),children:D?e.jsx(M,{className:"h-4 w-4"}):e.jsx(I,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-white/10",children:[e.jsx(d,{variant:"outline",className:"rounded-lg border-white/10 text-white hover:bg-white/10 bg-transparent",onClick:()=>y({currentPassword:"",newPassword:"",confirmPassword:""}),children:"Cancel"}),e.jsxs(d,{onClick:ne,disabled:_,className:"neo-btn rounded-lg shadow-md",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),_?"Changing...":"Change Password"]})]})]})})})]}),l==="tags"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"neo-card p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Add New Tag"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(g,{placeholder:"Enter tag name",value:k,onChange:s=>R(s.target.value),onKeyDown:s=>{s.key==="Enter"&&V()},className:"flex-1 bg-black/20 border-white/10 text-white placeholder:text-gray-500 focus:border-primary/50"}),e.jsx(d,{onClick:V,disabled:!k.trim(),className:"neo-btn",children:"Add Tag"})]})]}),e.jsxs("div",{className:"neo-card",children:[e.jsxs("div",{className:"p-6 border-b border-white/10",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Your Tags"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Manage your personal tags"})]}),e.jsx("div",{className:"p-6",children:ae?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"Loading tags..."})]}):H.length===0?e.jsx("div",{className:"text-center py-8 text-gray-400",children:"No tags found. Create your first tag above."}):e.jsx("div",{className:"space-y-3",children:H.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-white/10 rounded-lg hover:bg-white/5 transition-colors",children:[e.jsx("div",{className:"flex-1",children:W===s.tag_id?e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(g,{value:C,onChange:t=>A(t.target.value),onKeyDown:t=>{t.key==="Enter"?Y(s.tag_id):t.key==="Escape"&&G()},className:"flex-1 bg-black/20 border-white/10 text-white focus:border-primary/50",autoFocus:!0}),e.jsx(d,{size:"sm",onClick:()=>Y(s.tag_id),disabled:!C.trim(),className:"neo-btn",children:"Save"}),e.jsx(d,{size:"sm",variant:"outline",onClick:G,className:"border-white/10 text-white hover:bg-white/10 bg-transparent",children:"Cancel"})]}):e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx(N,{variant:"secondary",className:"text-sm bg-primary/20 text-white hover:bg-primary/30 border-transparent",children:s.tag_name})})}),W!==s.tag_id&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(d,{size:"sm",variant:"outline",onClick:()=>ie(s),className:"border-white/10 text-gray-400 hover:text-white hover:bg-white/10 bg-transparent",children:e.jsx(q,{className:"h-4 w-4"})}),e.jsx(d,{size:"sm",variant:"destructive",onClick:()=>le(s.tag_id),className:"bg-red-500/20 text-red-400 hover:bg-red-500/30 border-transparent shadow-none",children:"Delete"})]})]},s.tag_id))})})]})]})]})]})})})};export{Te as default};
//# sourceMappingURL=Settings-zKbIjRQe.js.map
