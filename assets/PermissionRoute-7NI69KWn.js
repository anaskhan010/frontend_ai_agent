import{j as e,aQ as P}from"./ui-DHRUPyaA.js";import{u as R}from"./index-kojKzVbx.js";import{u as w}from"./usePermissions-Kfk46XwT.js";import{L}from"./Loading-C1jVdMEL.js";import{C as k,b as T,c as q,d as F,a as B}from"./card-DNPHHQQ5.js";import{a as D,N as E}from"./router-BavLd_S0.js";const O=({children:m,permission:t,permissions:s,requireAll:i=!1,role:c,roles:a,requireAllRoles:d=!1,page:n,requireSuperAdmin:l=!1,redirectTo:G="/dashboard",loginRedirect:u="/login",accessDeniedComponent:o})=>{const{isLoggedIn:f,loading:g}=R(),j=D(),{hasPermission:y,hasAnyPermission:N,hasAllPermissions:p,hasRole:h,hasAnyRole:b,isSuperAdmin:x,canAccessPage:A,loading:v}=w();return g||v?e.jsx(L,{}):f?(l?x:x&&!t&&!s&&!c&&!a&&!n?!0:!(t&&!y(t)||s&&s.length>0&&!(i?p(s):N(s))||c&&!h(c)||a&&a.length>0&&!(d?a.every(C=>h(C)):b(a))||n&&!A(n)))?e.jsx(e.Fragment,{children:m}):o?e.jsx(e.Fragment,{children:o}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs(k,{className:"w-full max-w-md",children:[e.jsxs(T,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-red-100",children:e.jsx(P,{className:"h-6 w-6 text-red-600"})}),e.jsx(q,{className:"text-xl font-semibold text-gray-900",children:"Access Denied"}),e.jsx(F,{className:"text-gray-600",children:"You don't have permission to access this page."})]}),e.jsxs(B,{className:"text-center",children:[e.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[l&&e.jsx("p",{children:"This page requires super administrator privileges."}),t&&e.jsxs("p",{children:["Required permission: ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:t})]}),s&&s.length>0&&e.jsxs("p",{children:["Required permissions (",i?"all":"any","): "," ",s.map(r=>e.jsx("code",{className:"bg-gray-100 px-1 rounded mr-1",children:r},r))]}),c&&e.jsxs("p",{children:["Required role: ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:c})]}),a&&a.length>0&&e.jsxs("p",{children:["Required roles (",d?"all":"any","): "," ",a.map(r=>e.jsx("code",{className:"bg-gray-100 px-1 rounded mr-1",children:r},r))]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>window.history.back(),className:"text-blue-600 hover:text-blue-500 font-medium",children:"Go Back"})})]})]})}):e.jsx(E,{to:u,state:{from:j},replace:!0})};export{O as P};
//# sourceMappingURL=PermissionRoute-7NI69KWn.js.map
