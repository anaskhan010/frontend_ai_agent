import{j as e}from"./ui-D0JisYOU.js";import{t as f,z as n,F as j,a as l,b as m,c,d,e as u}from"./index-DWh-pLL6.js";import{j as w,t as i,u as b,I as x,B as y}from"./index-jnVRPwrZ.js";import{A as F}from"./AuthCard-CP3dVRgk.js";import{u as N}from"./resolvers-BDyAs6MX.js";import{u as E,L as v}from"./router-jXXg-8rg.js";import{r as S}from"./vendor-D6QveUxv.js";import"./query-CXvbhbrr.js";const L=async o=>{try{const s=await w.post("/api/users/login",o);if(s.status===200)return i.success(s.data.message),s.data.data;throw new Error("Login failed")}catch(s){throw s.response&&s.response.data&&s.response.data.message?i.error(s.response.data.message):i.error("An unexpected error occurred."),s}},k=n.object({email:n.string().email({message:"Invalid email address"}),password:n.string().min(4,{message:"Password must be at least 6 characters"}).max(100)}),T=()=>{const[o,s]=S.useState(!1),p=E(),{login:g}=b(),t=N({resolver:f(k),defaultValues:{email:"",password:""}}),h=async r=>{s(!0);try{const a=await L(r);console.log("Token:",a),a&&(g(a),p("/"))}catch(a){console.error("Login failed:",a)}finally{s(!1)}};return e.jsx(F,{children:e.jsxs(j,{...t,children:[e.jsx("h1",{className:"text-3xl text-foreground font-bold tracking-wide mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Sign in to your account to continue"}),e.jsxs("form",{onSubmit:t.handleSubmit(h),className:"space-y-6",children:[e.jsx(l,{control:t.control,name:"email",render:({field:r})=>e.jsxs(m,{children:[e.jsx(c,{className:"text-sm font-medium",children:"Email"}),e.jsx(d,{children:e.jsx(x,{placeholder:"Enter your email",...r,className:"bg-white border-[#E4E8F0]"})}),e.jsx(u,{})]})}),e.jsx(l,{control:t.control,name:"password",render:({field:r})=>e.jsxs(m,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(c,{className:"text-sm font-medium",children:"Password"}),e.jsx(v,{to:"/forgot-password",className:"text-xs text-primary hover:underline",children:"Forgot password?"})]}),e.jsx(d,{children:e.jsx(x,{type:"password",placeholder:"Enter your password",...r,className:"bg-white border-[#E4E8F0]"})}),e.jsx(u,{})]})}),e.jsx(y,{type:"submit",className:"w-full mt-4",disabled:o,style:{background:"linear-gradient(135deg, hsl(var(--primary)), hsl(var(--primary) / 0.9))"},children:o?"Signing in...":"Sign In"})]})]})})};export{T as default};
//# sourceMappingURL=Login-BAWmYLTe.js.map
