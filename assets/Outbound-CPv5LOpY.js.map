{"version":3,"file":"Outbound-CPv5LOpY.js","sources":["../../src/pages/Outbound/CampaignDetailsModal.tsx","../../src/pages/Outbound/Outbound.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { DialogHeader, DialogTitle, DialogDescription } from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Loader2, Phone, Users, Clock, CheckCircle, BarChart3, Play, Activity, TrendingUp, Voicemail, XCircle } from \"lucide-react\";\n\nimport {\n  getCampaignById,\n  getCampaignCalls,\n  type Campaign,\n  type CampaignCall\n} from \"@/api/services/outbound/campaignService\";\nimport { getPhoneNumberById } from \"@/api/services/phoneNumbers/phoneNumberService\";\nimport { getAssistantById } from \"@/api/services/agents/agentService\";\nimport { getCampaignCallRecording, getCampaignCallTranscript } from \"@/api/services/callHistory/callHistoryService\";\nimport { CallRecordingPlayer } from \"@/components/CallRecordingPlayer\";\n\ninterface CampaignDetailsModalProps {\n  campaignId: string;\n  onClose: () => void;\n}\n\nexport function CampaignDetailsModal({ campaignId, onClose }: CampaignDetailsModalProps) {\n  const [activeTab, setActiveTab] = useState(\"overview\");\n  const [selectedCallForRecording, setSelectedCallForRecording] = useState<CampaignCall | null>(null);\n  const [showRecordingPlayer, setShowRecordingPlayer] = useState(false);\n\n  // Fetch campaign details\n  const { data: campaignData, isLoading: campaignLoading } = useQuery({\n    queryKey: [\"campaign\", campaignId],\n    queryFn: () => getCampaignById(campaignId),\n    retry: 1,\n  });\n\n  // Fetch campaign calls\n  const { data: callsData, isLoading: callsLoading } = useQuery({\n    queryKey: [\"campaignCalls\", campaignId],\n    queryFn: () => getCampaignCalls(campaignId),\n    retry: 1,\n  });\n\n  const campaign: Campaign = campaignData?.data;\n  const calls: Record<string, CampaignCall> = callsData?.data || {};\n  const callsList = Object.values(calls);\n\n  // Debug: Log the actual call data structure\n  console.log('ðŸ” Campaign calls data:', calls);\n  console.log('ðŸ” Calls list:', callsList);\n  if (callsList.length > 0) {\n    console.log('ðŸ” First call structure:', callsList[0]);\n    console.log('ðŸ” First call customer:', callsList[0].customer);\n    console.log('ðŸ” First call status:', callsList[0].status);\n  }\n\n  // Helper function to format call data for display\n  const formatCallForDisplay = (call: CampaignCall) => {\n    // Calculate duration from timestamps if not provided\n    let duration = call.duration || 0;\n    if (!duration && call.startedAt && call.endedAt) {\n      const start = new Date(call.startedAt).getTime();\n      const end = new Date(call.endedAt).getTime();\n      duration = Math.round((end - start) / 1000); // duration in seconds\n    }\n\n    return {\n      ...call,\n      duration,\n      // Ensure customer data is accessible\n      customer: call.customer || { name: null, email: null, number: null }\n    };\n  };\n\n  // Debug the calls data structure\n  console.log('Raw calls data:', callsData?.data);\n  console.log('Calls object:', calls);\n  console.log('Calls list:', callsList);\n  console.log('First call in list:', callsList[0]);\n  if (callsList[0]) {\n    console.log('First call ID access:', callsList[0].id);\n    console.log('First call keys:', Object.keys(callsList[0]));\n  }\n\n  // Fetch phone number details\n  const { data: phoneNumberData } = useQuery({\n    queryKey: [\"phoneNumber\", campaign?.phoneNumberId],\n    queryFn: () => getPhoneNumberById(campaign.phoneNumberId),\n    enabled: !!campaign?.phoneNumberId,\n    retry: 1,\n  });\n\n  // Fetch assistant details\n  const { data: assistantData } = useQuery({\n    queryKey: [\"assistant\", campaign?.assistantId],\n    queryFn: () => getAssistantById(campaign.assistantId!),\n    enabled: !!campaign?.assistantId,\n    retry: 1,\n  });\n\n  // Convert CampaignCall to CallHistoryItem for recording player\n  const convertToCallHistoryItem = (call: CampaignCall) => {\n    console.log('Converting campaign call to CallHistoryItem:', call);\n\n    // Since the backend now properly parses the JSON strings, we can access properties directly\n    const callId = call.id;\n\n    const converted = {\n      id: callId,\n      call_id: callId, // Use the same ID for call_id\n      customer_number: call.customer?.number || '',\n      status: call.status as any,\n      type: 'outbound' as const,\n      duration: call.duration || 0,\n      cost: call.cost || 0,\n      transcript: call.transcript || call.analysis?.summary || '',\n      recording_url: call.recording,\n      recordingUrl: call.recording,\n      recording: call.recording,\n      assistant_id: campaign?.assistantId,\n      assistant_name: assistantData?.data?.name,\n      end_reason: call.endedReason,\n      started_at: call.startedAt,\n      ended_at: call.endedAt,\n      created_at: call.startedAt || new Date().toISOString(),\n      updated_at: call.endedAt || new Date().toISOString(),\n      metadata: { customer: call.customer }\n    };\n\n    console.log('Converted CallHistoryItem:', converted);\n    return converted;\n  };\n\n  const getStatusBadge = (status: string) => {\n    const configs: Record<string, { className: string, icon: React.ReactNode }> = {\n      scheduled: {\n        className: \"bg-blue-500/20 text-blue-400 border-blue-500/30\",\n        icon: <Clock className=\"h-3 w-3 mr-1\" />\n      },\n      \"in-progress\": {\n        className: \"bg-gradient-to-r from-orange-500/30 to-yellow-500/30 text-yellow-400 border-orange-500/50 shadow-lg shadow-orange-500/10\",\n        icon: <Play className=\"h-3 w-3 mr-1\" />\n      },\n      ended: {\n        className: \"bg-green-500/20 text-green-400 border-green-500/30\",\n        icon: <CheckCircle className=\"h-3 w-3 mr-1\" />\n      },\n    };\n\n    const config = configs[status] || { className: \"bg-white/10 text-white/70 border-white/20\", icon: null };\n\n    return (\n      <Badge variant=\"outline\" className={`flex items-center ${config.className}`}>\n        {config.icon}\n        {status === \"in-progress\" ? \"Running\" : status.charAt(0).toUpperCase() + status.slice(1)}\n      </Badge>\n    );\n  };\n\n  const getCallStatusBadge = (status: string) => {\n    const configs: Record<string, string> = {\n      queued: \"bg-purple-500/20 text-purple-400 border-purple-500/30\",\n      ringing: \"bg-yellow-500/20 text-yellow-400 border-yellow-500/30\",\n      \"in-progress\": \"bg-gradient-to-r from-orange-500/30 to-yellow-500/30 text-yellow-400 border-orange-500/50\",\n      ended: \"bg-green-500/20 text-green-400 border-green-500/30\",\n      failed: \"bg-red-500/20 text-red-400 border-red-500/30\",\n    };\n    return (\n      <Badge variant=\"outline\" className={configs[status] || \"bg-white/10 text-white/70 border-white/20\"}>\n        {status}\n      </Badge>\n    );\n  };\n\n  const formatDuration = (seconds?: number) => {\n    if (!seconds) return \"0:00\";\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  if (campaignLoading) {\n    return (\n      <>\n        <DialogHeader>\n          <DialogTitle className=\"text-white\">Campaign Details</DialogTitle>\n        </DialogHeader>\n        <div className=\"flex items-center justify-center h-32\">\n          <Loader2 className=\"h-8 w-8 animate-spin text-orange-500\" />\n        </div>\n      </>\n    );\n  }\n\n  if (!campaign) {\n    return (\n      <>\n        <DialogHeader>\n          <DialogTitle className=\"text-white\">Campaign Details</DialogTitle>\n        </DialogHeader>\n        <div className=\"text-center py-8\">\n          <p className=\"text-white/60\">Campaign not found</p>\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <DialogHeader className=\"border-b border-white/10  pb-4\">\n        <DialogTitle className=\"flex items-center gap-3 text-white text-xl\">\n          <div className=\"w-10 h-10 bg-gradient-to-br from-orange-500 via-orange-600 to-red-600 rounded-xl shadow-lg shadow-orange-500/20 flex items-center justify-center\">\n            <Phone className=\"h-5 w-5 text-white\" />\n          </div>\n          {campaign.name}\n          {getStatusBadge(campaign.status)}\n        </DialogTitle>\n        <DialogDescription className=\"text-white/50 ml-13\">\n          Created on {new Date(campaign.createdAt).toLocaleDateString()}\n        </DialogDescription>\n      </DialogHeader>\n\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\n        <TabsList className=\"grid w-full grid-cols-3 bg-white/5 border border-white/10 p-1 rounded-lg\">\n          <TabsTrigger\n            value=\"overview\"\n            className=\"data-[state=active]:bg-gradient-to-r data-[state=active]:from-orange-500/30 data-[state=active]:to-yellow-500/30 data-[state=active]:text-yellow-400 data-[state=active]:border-orange-500/50 data-[state=active]:shadow-lg data-[state=active]:shadow-orange-500/10 text-white/60 hover:text-white/80 transition-all rounded-md\"\n          >\n            Overview\n          </TabsTrigger>\n          <TabsTrigger\n            value=\"calls\"\n            className=\"data-[state=active]:bg-gradient-to-r data-[state=active]:from-orange-500/30 data-[state=active]:to-yellow-500/30 data-[state=active]:text-yellow-400 data-[state=active]:border-orange-500/50 data-[state=active]:shadow-lg data-[state=active]:shadow-orange-500/10 text-white/60 hover:text-white/80 transition-all rounded-md\"\n          >\n            Calls\n          </TabsTrigger>\n          <TabsTrigger\n            value=\"analytics\"\n            className=\"data-[state=active]:bg-gradient-to-r data-[state=active]:from-orange-500/30 data-[state=active]:to-yellow-500/30 data-[state=active]:text-yellow-400 data-[state=active]:border-orange-500/50 data-[state=active]:shadow-lg data-[state=active]:shadow-orange-500/10 text-white/60 hover:text-white/80 transition-all rounded-md\"\n          >\n            Analytics\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"overview\" className=\"space-y-4 mt-4\">\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n            <Card className=\"bg-white/[0.02] border border-white/5 hover:border-orange-500/30 transition-all\">\n              <CardHeader className=\"pb-2\">\n                <CardTitle className=\"text-sm font-medium flex items-center gap-2 text-white/70\">\n                  <div className=\"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-lg shadow-blue-500/20\">\n                    <Users className=\"h-4 w-4 text-white\" />\n                  </div>\n                  Total Calls\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-2xl font-bold text-white\">\n                  {callsList.length}\n                </div>\n                <p className=\"text-xs text-white/50 mt-1\">\n                  Actual calls made\n                </p>\n              </CardContent>\n            </Card>\n\n            <Card className=\"bg-white/[0.02] border border-white/5 hover:border-green-500/30 transition-all\">\n              <CardHeader className=\"pb-2\">\n                <CardTitle className=\"text-sm font-medium flex items-center gap-2 text-white/70\">\n                  <div className=\"w-8 h-8 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center shadow-lg shadow-green-500/20\">\n                    <CheckCircle className=\"h-4 w-4 text-white\" />\n                  </div>\n                  Completed\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-2xl font-bold text-green-400\">{campaign.callsCounterEnded || 0}</div>\n              </CardContent>\n            </Card>\n\n            <Card className=\"bg-white/[0.02] border border-white/5 hover:border-orange-500/30 transition-all\">\n              <CardHeader className=\"pb-2\">\n                <CardTitle className=\"text-sm font-medium flex items-center gap-2 text-white/70\">\n                  <div className=\"w-8 h-8 bg-gradient-to-br from-orange-500 to-yellow-500 rounded-lg flex items-center justify-center shadow-lg shadow-orange-500/20\">\n                    <BarChart3 className=\"h-4 w-4 text-white\" />\n                  </div>\n                  Pick Up Rate\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-2xl font-bold text-yellow-400\">\n                  {campaign.callsCounterEnded > 0\n                    ? `${Math.round(((campaign.callsCounterEnded - campaign.callsCounterEndedVoicemail) / campaign.callsCounterEnded) * 100)}%`\n                    : \"0%\"\n                  }\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card className=\"bg-white/[0.02] border border-white/5 hover:border-purple-500/30 transition-all\">\n              <CardHeader className=\"pb-2\">\n                <CardTitle className=\"text-sm font-medium flex items-center gap-2 text-white/70\">\n                  <div className=\"w-8 h-8 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg shadow-purple-500/20\">\n                    <Phone className=\"h-4 w-4 text-white\" />\n                  </div>\n                  Voicemail\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"text-2xl font-bold text-purple-400\">{campaign.callsCounterEndedVoicemail || 0}</div>\n              </CardContent>\n            </Card>\n          </div>\n\n          <Card className=\"bg-white/[0.02] border border-white/5\">\n            <CardHeader className=\"border-b border-white/5\">\n              <CardTitle className=\"text-white flex items-center gap-2\">\n                <div className=\"w-8 h-8 bg-gradient-to-br from-orange-500 to-red-500 rounded-lg flex items-center justify-center shadow-lg shadow-orange-500/20\">\n                  <Activity className=\"h-4 w-4 text-white\" />\n                </div>\n                Campaign Information\n              </CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-3 pt-4\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"p-3 bg-white/[0.02] rounded-lg border border-white/5\">\n                  <p className=\"text-sm font-medium text-white/50\">Phone Number</p>\n                  <p className=\"text-sm font-mono text-orange-400\">\n                    {phoneNumberData?.data?.number || phoneNumberData?.data?.friendlyName || campaign.phoneNumberId}\n                  </p>\n                  {phoneNumberData?.data?.number && (\n                    <p className=\"text-xs text-white/40\">\n                      {phoneNumberData.data.friendlyName || 'AI CRUITMENT Number'}\n                    </p>\n                  )}\n                </div>\n                <div className=\"p-3 bg-white/[0.02] rounded-lg border border-white/5\">\n                  <p className=\"text-sm font-medium text-white/50\">Assistant</p>\n                  <p className=\"text-sm text-white\">\n                    {assistantData?.data?.name || campaign.assistantId || campaign.workflowId || \"N/A\"}\n                  </p>\n                  {assistantData?.data?.name && (\n                    <p className=\"text-xs text-white/40\">\n                      ID: {campaign.assistantId}\n                    </p>\n                  )}\n                </div>\n                <div className=\"p-3 bg-white/[0.02] rounded-lg border border-white/5\">\n                  <p className=\"text-sm font-medium text-white/50\">Created</p>\n                  <p className=\"text-sm text-white\">{new Date(campaign.createdAt).toLocaleString()}</p>\n                </div>\n                <div className=\"p-3 bg-white/[0.02] rounded-lg border border-white/5\">\n                  <p className=\"text-sm font-medium text-white/50\">Last Updated</p>\n                  <p className=\"text-sm text-white\">{new Date(campaign.updatedAt).toLocaleString()}</p>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"calls\" className=\"space-y-4 mt-4\">\n          <Card className=\"bg-white/[0.02] border border-white/5\">\n            <CardHeader className=\"border-b border-white/5\">\n              <CardTitle className=\"flex items-center gap-2 text-white\">\n                <div className=\"w-8 h-8 bg-gradient-to-br from-orange-500 to-red-500 rounded-lg flex items-center justify-center shadow-lg shadow-orange-500/20\">\n                  <Phone className=\"h-4 w-4 text-white\" />\n                </div>\n                Campaign Calls\n              </CardTitle>\n              <CardDescription className=\"text-white/50\">\n                Individual call details and outcomes\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"pt-4\">\n              {callsLoading ? (\n                <div className=\"flex items-center justify-center h-32\">\n                  <Loader2 className=\"h-8 w-8 animate-spin text-orange-500\" />\n                </div>\n              ) : (\n                <div className=\"rounded-lg border border-white/10 overflow-hidden\">\n                  <Table>\n                    <TableHeader>\n                      <TableRow className=\"bg-white/[0.02] border-b border-white/10 hover:bg-white/[0.03]\">\n                        <TableHead className=\"text-white/60\">Customer</TableHead>\n                        <TableHead className=\"text-white/60\">Phone Number</TableHead>\n                        <TableHead className=\"text-white/60\">Status</TableHead>\n                        <TableHead className=\"text-white/60\">Duration</TableHead>\n                        <TableHead className=\"text-white/60\">Started</TableHead>\n                        <TableHead className=\"text-white/60\">Recording</TableHead>\n                      </TableRow>\n                    </TableHeader>\n                    <TableBody>\n                      {callsList.length === 0 ? (\n                        <TableRow>\n                          <TableCell colSpan={6} className=\"text-center text-white/50 py-8\">\n                            No calls found for this campaign\n                          </TableCell>\n                        </TableRow>\n                      ) : (\n                        callsList.map((call) => {\n                          const formattedCall = formatCallForDisplay(call);\n                          return (\n                          <TableRow key={call.id} className=\"border-b border-white/5 hover:bg-white/[0.03] transition-colors\">\n                            <TableCell>\n                              <div>\n                                <div className=\"font-medium text-white\">{formattedCall.customer?.name || \"Unknown Customer\"}</div>\n                                <div className=\"text-xs text-white/40\">{formattedCall.customer?.email || \"-\"}</div>\n                              </div>\n                            </TableCell>\n                            <TableCell className=\"font-mono text-orange-400\">{formattedCall.customer?.number || \"-\"}</TableCell>\n                            <TableCell>{getCallStatusBadge(formattedCall.status)}</TableCell>\n                            <TableCell className=\"text-white\">{formatDuration(formattedCall.duration)}</TableCell>\n                            <TableCell className=\"text-white/70\">\n                              {formattedCall.startedAt ? new Date(formattedCall.startedAt).toLocaleString() : \"-\"}\n                            </TableCell>\n                            <TableCell>\n                              <div className=\"flex gap-2\">\n                                <Button\n                                  size=\"sm\"\n                                  variant=\"outline\"\n                                  className=\"bg-gradient-to-r from-orange-500/10 to-yellow-500/10 border-orange-500/30 text-orange-400 hover:bg-orange-500/20 hover:border-orange-500/50 hover:text-orange-300\"\n                                  onClick={() => {\n                                    setSelectedCallForRecording(call);\n                                    setShowRecordingPlayer(true);\n                                  }}\n                                  title=\"Play Recording & View Transcript\"\n                                >\n                                  <Play className=\"h-3 w-3 mr-1\" />\n                                  Recording\n                                </Button>\n                              </div>\n                            </TableCell>\n                          </TableRow>\n                          );\n                        })\n                      )}\n                    </TableBody>\n                  </Table>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"analytics\" className=\"space-y-4 mt-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <Card className=\"bg-white/[0.02] border border-white/5\">\n              <CardHeader className=\"border-b border-white/5\">\n                <CardTitle className=\"text-white flex items-center gap-2\">\n                  <div className=\"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-lg shadow-blue-500/20\">\n                    <BarChart3 className=\"h-4 w-4 text-white\" />\n                  </div>\n                  Call Status Distribution\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"pt-4\">\n                <div className=\"space-y-3\">\n                  <div className=\"flex justify-between items-center p-2 rounded-lg bg-white/[0.02]\">\n                    <span className=\"text-sm text-white/70\">Scheduled</span>\n                    <span className=\"text-sm font-medium text-blue-400\">{campaign.callsCounterScheduled || 0}</span>\n                  </div>\n                  <div className=\"flex justify-between items-center p-2 rounded-lg bg-white/[0.02]\">\n                    <span className=\"text-sm text-white/70\">Queued</span>\n                    <span className=\"text-sm font-medium text-purple-400\">{campaign.callsCounterQueued || 0}</span>\n                  </div>\n                  <div className=\"flex justify-between items-center p-2 rounded-lg bg-white/[0.02]\">\n                    <span className=\"text-sm text-white/70\">In Progress</span>\n                    <span className=\"text-sm font-medium text-yellow-400\">{campaign.callsCounterInProgress || 0}</span>\n                  </div>\n                  <div className=\"flex justify-between items-center p-2 rounded-lg bg-white/[0.02]\">\n                    <span className=\"text-sm text-white/70\">Completed</span>\n                    <span className=\"text-sm font-medium text-green-400\">{campaign.callsCounterEnded || 0}</span>\n                  </div>\n                  <div className=\"flex justify-between items-center p-2 rounded-lg bg-white/[0.02]\">\n                    <span className=\"text-sm text-white/70\">Voicemail</span>\n                    <span className=\"text-sm font-medium text-orange-400\">{campaign.callsCounterEndedVoicemail || 0}</span>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card className=\"bg-white/[0.02] border border-white/5\">\n              <CardHeader className=\"border-b border-white/5\">\n                <CardTitle className=\"text-white flex items-center gap-2\">\n                  <div className=\"w-8 h-8 bg-gradient-to-br from-orange-500 to-red-500 rounded-lg flex items-center justify-center shadow-lg shadow-orange-500/20\">\n                    <TrendingUp className=\"h-4 w-4 text-white\" />\n                  </div>\n                  Performance Metrics\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"pt-4\">\n                <div className=\"space-y-3\">\n                  <div className=\"flex justify-between items-center p-2 rounded-lg bg-white/[0.02]\">\n                    <span className=\"text-sm text-white/70\">Success Rate</span>\n                    <span className=\"text-sm font-medium text-green-400\">\n                      {campaign.callsCounterEnded > 0\n                        ? `${Math.round(((campaign.callsCounterEnded - campaign.callsCounterEndedVoicemail) / campaign.callsCounterEnded) * 100)}%`\n                        : \"0%\"\n                      }\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between items-center p-2 rounded-lg bg-white/[0.02]\">\n                    <span className=\"text-sm text-white/70\">Completion Rate</span>\n                    <span className=\"text-sm font-medium text-blue-400\">\n                      {campaign.customers?.length > 0\n                        ? `${Math.round((campaign.callsCounterEnded / campaign.customers.length) * 100)}%`\n                        : \"0%\"\n                      }\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between items-center p-2 rounded-lg bg-white/[0.02]\">\n                    <span className=\"text-sm text-white/70\">Avg Duration</span>\n                    <span className=\"text-sm font-medium text-yellow-400\">\n                      {callsList.length > 0\n                        ? formatDuration(Math.round(callsList.reduce((sum, call) => sum + (call.duration || 0), 0) / callsList.length))\n                        : \"0:00\"\n                      }\n                    </span>\n                  </div>\n                  <div className=\"flex justify-between items-center p-2 rounded-lg bg-white/[0.02]\">\n                    <span className=\"text-sm text-white/70\">Total Cost</span>\n                    <span className=\"text-sm font-medium text-orange-400\">\n                      ${callsList.reduce((sum, call) => sum + (call.cost || 0), 0).toFixed(2)}\n                    </span>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card className=\"md:col-span-2 bg-white/[0.02] border border-white/5\">\n              <CardHeader className=\"border-b border-white/5\">\n                <CardTitle className=\"text-white flex items-center gap-2\">\n                  <div className=\"w-8 h-8 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg shadow-purple-500/20\">\n                    <Activity className=\"h-4 w-4 text-white\" />\n                  </div>\n                  Call Outcomes\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"pt-4\">\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                  <div className=\"text-center p-4 rounded-lg bg-green-500/10 border border-green-500/20\">\n                    <div className=\"w-10 h-10 mx-auto bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center shadow-lg shadow-green-500/20 mb-2\">\n                      <CheckCircle className=\"h-5 w-5 text-white\" />\n                    </div>\n                    <div className=\"text-2xl font-bold text-green-400\">\n                      {callsList.filter(call => call.status === 'ended' && call.duration && call.duration > 30).length}\n                    </div>\n                    <div className=\"text-xs text-green-400/70\">Successful Calls</div>\n                  </div>\n                  <div className=\"text-center p-4 rounded-lg bg-yellow-500/10 border border-yellow-500/20\">\n                    <div className=\"w-10 h-10 mx-auto bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-full flex items-center justify-center shadow-lg shadow-yellow-500/20 mb-2\">\n                      <Clock className=\"h-5 w-5 text-white\" />\n                    </div>\n                    <div className=\"text-2xl font-bold text-yellow-400\">\n                      {callsList.filter(call => call.status === 'ended' && (!call.duration || call.duration <= 30)).length}\n                    </div>\n                    <div className=\"text-xs text-yellow-400/70\">Short Calls</div>\n                  </div>\n                  <div className=\"text-center p-4 rounded-lg bg-orange-500/10 border border-orange-500/20\">\n                    <div className=\"w-10 h-10 mx-auto bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center shadow-lg shadow-orange-500/20 mb-2\">\n                      <Voicemail className=\"h-5 w-5 text-white\" />\n                    </div>\n                    <div className=\"text-2xl font-bold text-orange-400\">\n                      {campaign.callsCounterEndedVoicemail || 0}\n                    </div>\n                    <div className=\"text-xs text-orange-400/70\">Voicemails</div>\n                  </div>\n                  <div className=\"text-center p-4 rounded-lg bg-red-500/10 border border-red-500/20\">\n                    <div className=\"w-10 h-10 mx-auto bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center shadow-lg shadow-red-500/20 mb-2\">\n                      <XCircle className=\"h-5 w-5 text-white\" />\n                    </div>\n                    <div className=\"text-2xl font-bold text-red-400\">\n                      {callsList.filter(call => call.status !== 'ended').length}\n                    </div>\n                    <div className=\"text-xs text-red-400/70\">Failed Calls</div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </TabsContent>\n      </Tabs>\n\n      <div className=\"flex justify-end pt-4 border-t border-white/10\">\n        <Button\n          onClick={onClose}\n          className=\"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white shadow-lg shadow-orange-500/20\"\n        >\n          Close\n        </Button>\n      </div>\n\n      {/* Call Recording Player Modal */}\n      {showRecordingPlayer && selectedCallForRecording && (\n        <CallRecordingPlayer\n          call={convertToCallHistoryItem(selectedCallForRecording)}\n          isOpen={showRecordingPlayer}\n          onClose={() => {\n            setShowRecordingPlayer(false);\n            setSelectedCallForRecording(null);\n          }}\n          customGetRecording={getCampaignCallRecording}\n          customGetTranscript={getCampaignCallTranscript}\n        />\n      )}\n    </>\n  );\n}\n","import { useState } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Loader2, Plus, Play, Pause, Square, BarChart3, Phone, Users, Clock, CheckCircle, AlertCircle, Trash2, Eye, RefreshCw } from \"lucide-react\";\nimport { toast } from \"sonner\";\nimport { CampaignDetailsModal } from \"./CampaignDetailsModal\";\nimport axiosInstance from \"@/api/axios/axiosInstance\";\nimport { useAuth } from \"@/context/AuthContext\";\nimport { usePermissions } from \"@/context/PermissionContext\";\n\nimport {\n  getAllCampaigns,\n  launchCampaign,\n  pauseCampaign,\n  resumeCampaign,\n  cancelCampaign,\n  deleteCampaign,\n  testVapiConnection,\n  type Campaign\n} from \"@/api/services/outbound/campaignService\";\n\nconst Outbound = () => {\n  const navigate = useNavigate();\n  const [isDetailsModalOpen, setIsDetailsModalOpen] = useState(false);\n  const [selectedCampaign, setSelectedCampaign] = useState<Campaign | null>(null);\n  const [showInsufficientCreditsModal, setShowInsufficientCreditsModal] = useState(false);\n  const [currentBalance, setCurrentBalance] = useState(0);\n\n  const queryClient = useQueryClient();\n  const { user } = useAuth();\n  const { isSuperAdmin } = usePermissions();\n\n  // Fetch campaigns\n  const { data: campaignsData, isLoading: campaignsLoading, error: campaignsError } = useQuery({\n    queryKey: [\"outboundCampaigns\"],\n    queryFn: () => getAllCampaigns(),\n    retry: (failureCount, error: any) => {\n      // Don't retry for expected scenarios (normal for new users)\n      const expectedStatuses = [404, 204, 402]; // 402 = Payment Required (no credits)\n      if (expectedStatuses.includes(error?.response?.status)) {\n        return false;\n      }\n      return failureCount < 1; // Retry once for other errors\n    },\n  });\n\n  // Launch campaign mutation\n  const launchMutation = useMutation({\n    mutationFn: launchCampaign,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"outboundCampaigns\"] });\n      toast.success(\"Campaign launched successfully\");\n    },\n    onError: (error: any) => {\n      const message = error.response?.data?.message || \"Failed to launch campaign\";\n      const currentStatus = error.response?.data?.currentStatus;\n\n      if (currentStatus === \"in-progress\") {\n        toast.info(\"Campaign is already running\");\n      } else {\n        toast.error(message);\n      }\n\n      // Refresh data to show current status\n      queryClient.invalidateQueries({ queryKey: [\"outboundCampaigns\"] });\n    },\n  });\n\n  // Pause campaign mutation\n  const pauseMutation = useMutation({\n    mutationFn: pauseCampaign,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"outboundCampaigns\"] });\n    },\n  });\n\n  // Resume campaign mutation\n  const resumeMutation = useMutation({\n    mutationFn: resumeCampaign,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"outboundCampaigns\"] });\n    },\n  });\n\n  // Cancel campaign mutation\n  const cancelMutation = useMutation({\n    mutationFn: cancelCampaign,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"outboundCampaigns\"] });\n    },\n  });\n\n  // Delete campaign mutation\n  const deleteMutation = useMutation({\n    mutationFn: deleteCampaign,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"outboundCampaigns\"] });\n    },\n  });\n\n  const handleLaunchCampaign = (campaignId: string) => {\n    launchMutation.mutate(campaignId);\n  };\n\n  const handlePauseCampaign = (campaignId: string) => {\n    pauseMutation.mutate(campaignId);\n  };\n\n  const handleResumeCampaign = (campaignId: string) => {\n    resumeMutation.mutate(campaignId);\n  };\n\n  const handleCancelCampaign = (campaignId: string) => {\n    if (confirm(\"Are you sure you want to cancel this campaign?\")) {\n      cancelMutation.mutate(campaignId);\n    }\n  };\n\n  const handleDeleteCampaign = (campaignId: string) => {\n    if (confirm(\"Are you sure you want to delete this campaign? This action cannot be undone.\")) {\n      deleteMutation.mutate(campaignId);\n    }\n  };\n\n  const handleViewCampaign = (campaign: Campaign) => {\n    setSelectedCampaign(campaign);\n    setIsDetailsModalOpen(true);\n  };\n\n  const handleTestVapi = async (campaignId?: string) => {\n    try {\n      const result = await testVapiConnection(campaignId);\n      console.log(\"VAPI Test Result:\", result);\n      toast.success(\"VAPI connection test successful\");\n    } catch (error) {\n      console.error(\"VAPI Test Error:\", error);\n      toast.error(\"VAPI connection test failed\");\n    }\n  };\n\n  const handleRefresh = () => {\n    queryClient.invalidateQueries({ queryKey: [\"outboundCampaigns\"] });\n    toast.success(\"Campaigns refreshed\");\n  };\n\n  const handleCreateCampaign = async () => {\n    // Super admins have unlimited access\n    if (isSuperAdmin) {\n      navigate(\"/outbound/create-campaign\");\n      return;\n    }\n\n    try {\n      // Check credit balance for regular users\n      const response = await axiosInstance.get('/api/credits/balance');\n      const balance = response.data.data;\n\n      if (!balance || parseFloat(balance.available_credits) < 1) {\n        // Store current balance and show insufficient credits modal\n        setCurrentBalance(balance?.available_credits || 0);\n        setShowInsufficientCreditsModal(true);\n        return;\n      }\n\n      // User has sufficient credits, proceed to create campaign page\n      navigate(\"/outbound/create-campaign\");\n    } catch (error) {\n      console.error('Error checking credit balance:', error);\n      toast.error('Unable to verify credit balance. Please try again.');\n    }\n  };\n\n  const getStatusBadge = (status: string) => {\n    const variants: Record<string, { variant: \"default\" | \"secondary\" | \"destructive\" | \"outline\", icon: React.ReactNode, label: string }> = {\n      scheduled: { variant: \"outline\", icon: <Clock className=\"h-3 w-3 mr-1\" />, label: \"Scheduled\" },\n      \"in-progress\": { variant: \"default\", icon: <Play className=\"h-3 w-3 mr-1\" />, label: \"Running\" },\n      ended: { variant: \"secondary\", icon: <CheckCircle className=\"h-3 w-3 mr-1\" />, label: \"Ended\" },\n    };\n\n    const config = variants[status] || {\n      variant: \"outline\",\n      icon: <AlertCircle className=\"h-3 w-3 mr-1\" />,\n      label: status.charAt(0).toUpperCase() + status.slice(1)\n    };\n\n    return (\n      <Badge variant={config.variant} className=\"flex items-center\">\n        {config.icon}\n        {config.label}\n      </Badge>\n    );\n  };\n\n  const campaigns = Array.isArray(campaignsData?.data) ? campaignsData.data : [];\n\n  if (campaignsError) {\n    const errorStatus = (campaignsError as any)?.response?.status;\n    const isInsufficientCredits = errorStatus === 402;\n\n    return (\n      <div className=\"app-shell-bg min-h-screen w-full overflow-auto\">\n        <div className=\"p-6 max-w-[1600px] mx-auto space-y-6\">\n          <div>\n            <h1 className=\"text-3xl font-bold tracking-tight text-white\">Outbound</h1>\n            <p className=\"text-white/65\">\n              Create and manage outbound campaigns\n            </p>\n          </div>\n          <Card className=\"neo-card\">\n            <CardContent className=\"pt-6\">\n              <div className=\"text-center\">\n                {isInsufficientCredits ? (\n                  <>\n                    <AlertCircle className=\"h-12 w-12 text-orange-400 mx-auto mb-4\" />\n                    <h3 className=\"text-lg font-semibold mb-2 text-white\">Insufficient Credits</h3>\n                    <p className=\"text-white/65 mb-4\">\n                      You need credits to access campaign features. Please purchase credits to continue.\n                    </p>\n                    <div className=\"flex gap-2 justify-center\">\n                      <Button onClick={() => navigate('/credits/purchase')} className=\"neo-btn bg-orange-500 hover:bg-orange-600\">\n                        Purchase Credits\n                      </Button>\n                      <Button variant=\"outline\" onClick={() => window.location.reload()} className=\"neo-topbar-btn\">\n                        <RefreshCw className=\"h-4 w-4 mr-2\" />\n                        Refresh\n                      </Button>\n                    </div>\n                  </>\n                ) : (\n                  <>\n                    <p className=\"text-white/65 mb-4\">\n                      Unable to connect to the backend API. Please ensure the backend server is running.\n                    </p>\n                    <Button onClick={() => window.location.reload()} className=\"neo-btn\">\n                      Retry Connection\n                    </Button>\n                  </>\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"app-shell-bg min-h-screen w-full overflow-auto\">\n      <div className=\"p-6 max-w-[1600px] mx-auto space-y-6\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold tracking-tight text-white\">Outbound</h1>\n            <p className=\"text-white/65\">\n              Create and manage outbound campaigns\n            </p>\n          </div>\n          <div className=\"flex gap-2\">\n            <button\n              style={{\n                background: 'linear-gradient(180deg, rgba(255,77,79,0.25), rgba(168,14,34,0.25))',\n                borderColor: 'rgba(255,77,79,0.35)'\n            }}\n              onClick={handleRefresh}\n              title=\"Refresh Campaigns\"\n              className=\"neo-btn flex items-center gap-2 text-red-300 hover:text-red-200\"\n            >\n              <RefreshCw className=\"h-4 w-4 mr-2\" />\n              Refresh\n            </button>\n           \n            <Button\n              className=\"neo-btn\"\n              onClick={handleCreateCampaign}\n            >\n              <Plus className=\"h-4 w-4 mr-2\" />\n              Create Campaign\n            </Button>\n          </div>\n        </div>\n\n        {/* Campaigns Section */}\n        <Card className=\"neo-card\">\n          \n          <CardContent>\n            {campaignsLoading ? (\n              <div className=\"flex items-center justify-center h-32\">\n                <Loader2 className=\"h-8 w-8 animate-spin\" />\n              </div>\n            ) : (\n              <Table>\n                <TableHeader>\n                  <TableRow className=\"border-b border-white/10 hover:bg-transparent\">\n                    <TableHead className=\"text-white/65\">Campaign Name</TableHead>\n                    <TableHead className=\"text-white/65\">Status</TableHead>\n                    <TableHead className=\"text-white/65\">Total Calls</TableHead>\n                    <TableHead className=\"text-white/65\">Completed</TableHead>\n                    <TableHead className=\"text-white/65\">Pick Up</TableHead>\n                    {/* <TableHead>Voicemail</TableHead> */}\n                    <TableHead className=\"text-white/65\">Actions</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {campaigns.length === 0 ? (\n                    <TableRow className=\"border-b border-white/5\">\n                      <TableCell colSpan={7} className=\"text-center text-white/65 py-8\">\n                        No campaigns found. Create your first campaign to get started.\n                      </TableCell>\n                    </TableRow>\n                  ) : (\n                    campaigns.map((campaign: Campaign) => (\n                      <TableRow key={campaign.id} className=\"border-b border-white/5 hover:bg-white/5\">\n                        <TableCell>\n                          <div>\n                            <div className=\"font-medium text-white\">{campaign.name}</div>\n                            <div className=\"text-xs text-white/65\">\n                              Created on {new Date(campaign.createdAt).toLocaleDateString()}\n                            </div>\n                          </div>\n                        </TableCell>\n                        <TableCell>{getStatusBadge(campaign.status)}</TableCell>\n                        <TableCell>\n                          <div className=\"flex items-center gap-1 text-white\">\n                            <Users className=\"h-3 w-3\" />\n                            {/* Show actual calls count - use customers length or ended calls */}\n                            {campaign.customers?.length || campaign.callsCounterEnded || 0}\n                            {campaign.status === \"in-progress\" && (\n                              <span className=\"ml-2 text-xs text-green-400 font-medium\">\n                                ({campaign.callsCounterInProgress || 0} active)\n                              </span>\n                            )}\n                          </div>\n                        </TableCell>\n                        <TableCell>\n                          <div className=\"flex items-center gap-1 text-white\">\n                            <CheckCircle className=\"h-3 w-3\" />\n                            {campaign.callsCounterEnded || 0}\n                          </div>\n                        </TableCell>\n                        <TableCell>\n                          <div className=\"flex items-center gap-1 text-white\">\n                            <BarChart3 className=\"h-3 w-3\" />\n                            {campaign.callsCounterEnded > 0 \n                              ? `${Math.round(((campaign.callsCounterEnded - campaign.callsCounterEndedVoicemail) / campaign.callsCounterEnded) * 100)}%`\n                              : \"0%\"\n                            }\n                          </div>\n                        </TableCell>\n                        {/* <TableCell>\n                          <div className=\"flex items-center gap-1\">\n                            <Phone className=\"h-3 w-3\" />\n                            {campaign.callsCounterEndedVoicemail || 0}\n                          </div>\n                        </TableCell> */}\n                        <TableCell>\n                          <div className=\"flex gap-2\">\n                            {campaign.status === \"scheduled\" && (\n                              <Button\n                                size=\"sm\"\n                                variant=\"outline\"\n                                onClick={() => handleLaunchCampaign(campaign.id)}\n                                disabled={launchMutation.isPending}\n                                title=\"Launch Campaign\"\n                                className=\"neo-topbar-btn\"\n                              >\n                                {launchMutation.isPending ? <Loader2 className=\"h-3 w-3 animate-spin\" /> : <Play className=\"h-3 w-3\" />}\n                              </Button>\n                            )}\n                            {campaign.status === \"in-progress\" && (\n                              <Button\n                                size=\"sm\"\n                                variant=\"outline\"\n                                onClick={() => handlePauseCampaign(campaign.id)}\n                                disabled={pauseMutation.isPending}\n                                title=\"Pause Campaign\"\n                                className=\"neo-topbar-btn\"\n                              >\n                                {pauseMutation.isPending ? <Loader2 className=\"h-3 w-3 animate-spin\" /> : <Pause className=\"h-3 w-3\" />}\n                              </Button>\n                            )}\n                            {(campaign.status === \"scheduled\" || campaign.status === \"in-progress\") && (\n                              <Button\n                                size=\"sm\"\n                                variant=\"outline\"\n                                onClick={() => handleCancelCampaign(campaign.id)}\n                                disabled={cancelMutation.isPending}\n                                title=\"Cancel Campaign\"\n                                className=\"neo-topbar-btn\"\n                              >\n                                {cancelMutation.isPending ? <Loader2 className=\"h-3 w-3 animate-spin\" /> : <Square className=\"h-3 w-3\" />}\n                              </Button>\n                            )}\n                            \n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              onClick={() => handleViewCampaign(campaign)}\n                              title=\"View Details\"\n                              className=\"neo-topbar-btn bg-gradient-to-r from-orange-500/10 to-yellow-500/10 border-orange-500/30 text-orange-400 hover:bg-orange-500/20 hover:border-orange-500/50 hover:text-orange-300\"\n                            >\n                              <Eye className=\"h-3 w-3\" />\n                            </Button>\n                            {campaign.status === \"ended\" && (\n                              <Button\n                                size=\"sm\"\n                                variant=\"outline\"\n                                onClick={() => handleDeleteCampaign(campaign.id)}\n                                disabled={deleteMutation.isPending}\n                                title=\"Delete Campaign\"\n                                className=\"neo-topbar-btn\"\n                              >\n                                {deleteMutation.isPending ? <Loader2 className=\"h-3 w-3 animate-spin\" /> : <Trash2 className=\"h-3 w-3 text-red-400\" />}\n                              </Button>\n                            )}\n                          </div>\n                        </TableCell>\n                      </TableRow>\n                    ))\n                  )}\n                </TableBody>\n              </Table>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* Campaign Details Modal */}\n        {selectedCampaign && (\n          <Dialog open={isDetailsModalOpen} onOpenChange={setIsDetailsModalOpen}>\n            <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto neon-fire-scroll bg-[#0b0f2e] border-white/10 text-white\">\n              <CampaignDetailsModal\n                campaignId={selectedCampaign.id}\n                onClose={() => setIsDetailsModalOpen(false)}\n              />\n            </DialogContent>\n          </Dialog>\n        )}\n\n        {/* Insufficient Credits Modal */}\n        <Dialog open={showInsufficientCreditsModal} onOpenChange={setShowInsufficientCreditsModal}>\n          <DialogContent className=\"max-w-md bg-[#0b0f2e] border-white/10 text-white\">\n            <div className=\"text-center p-6\">\n              <div className=\"flex justify-center mb-4\">\n                <div className=\"p-3 bg-orange-500/10 rounded-full\">\n                  <AlertCircle className=\"h-8 w-8 text-orange-400\" />\n                </div>\n              </div>\n\n              <h3 className=\"text-lg font-semibold text-white mb-2\">\n                Insufficient Credits\n              </h3>\n\n              <p className=\"text-white/65 mb-6\">\n                You need at least 1 credit to use campaign creation.\n                <span className=\"block mt-1\">\n                  Current balance: {currentBalance} credits\n                </span>\n              </p>\n\n              <div className=\"space-y-3\">\n                {/* <Button\n                  onClick={() => {\n                    setShowInsufficientCreditsModal(false);\n                    navigate('/credits/purchase');\n                  }}\n                  className=\"w-full bg-blue-600 hover:bg-blue-700 text-white\"\n                >\n                  <RefreshCw className=\"h-4 w-4 mr-2\" />\n                  Purchase Credits\n                </Button> */}\n\n                {/* <Button\n                  variant=\"outline\"\n                  onClick={() => setShowInsufficientCreditsModal(false)}\n                  className=\"w-full\"\n                >\n                  Cancel\n                </Button> */}\n\n                <p className=\"text-xs text-white/65\">\n                  Credits are added instantly after purchase\n                </p>\n              </div>\n            </div>\n          </DialogContent>\n        </Dialog>\n      </div>\n    </div>\n  );\n};\n\nexport default Outbound;\n"],"names":["CampaignDetailsModal","campaignId","onClose","activeTab","setActiveTab","useState","selectedCallForRecording","setSelectedCallForRecording","showRecordingPlayer","setShowRecordingPlayer","campaignData","campaignLoading","useQuery","getCampaignById","callsData","callsLoading","getCampaignCalls","campaign","calls","callsList","formatCallForDisplay","call","duration","start","end","phoneNumberData","getPhoneNumberById","assistantData","getAssistantById","convertToCallHistoryItem","callId","converted","_a","_b","_c","getStatusBadge","status","config","jsx","Clock","Play","CheckCircle","jsxs","Badge","getCallStatusBadge","configs","formatDuration","seconds","mins","secs","Fragment","DialogHeader","DialogTitle","Loader2","Phone","DialogDescription","Tabs","TabsList","TabsTrigger","TabsContent","Card","CardHeader","CardTitle","Users","CardContent","BarChart3","Activity","_d","_e","CardDescription","Table","TableHeader","TableRow","TableHead","TableBody","TableCell","formattedCall","Button","TrendingUp","_f","sum","Voicemail","XCircle","CallRecordingPlayer","getCampaignCallRecording","getCampaignCallTranscript","Outbound","navigate","useNavigate","isDetailsModalOpen","setIsDetailsModalOpen","selectedCampaign","setSelectedCampaign","showInsufficientCreditsModal","setShowInsufficientCreditsModal","currentBalance","setCurrentBalance","queryClient","useQueryClient","user","useAuth","isSuperAdmin","usePermissions","campaignsData","campaignsLoading","campaignsError","getAllCampaigns","failureCount","error","launchMutation","useMutation","launchCampaign","toast","message","pauseMutation","pauseCampaign","resumeCampaign","cancelMutation","cancelCampaign","deleteMutation","deleteCampaign","handleLaunchCampaign","handlePauseCampaign","handleCancelCampaign","handleDeleteCampaign","handleViewCampaign","handleRefresh","handleCreateCampaign","balance","axiosInstance","AlertCircle","campaigns","isInsufficientCredits","RefreshCw","Plus","Pause","Square","Eye","Trash2","Dialog","DialogContent"],"mappings":"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"}