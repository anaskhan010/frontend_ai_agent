import{j as e,bu as C,a5 as Q,bU as $,aa as ce,bc as de,a$ as oe,a3 as ne,bw as W,bx as le,a1 as he,bV as je,ac as ge,at as pe,aw as Ne}from"./ui-Bcnk-Zux.js";import{r as b}from"./vendor-D6QveUxv.js";import{b as R,u as fe,c as k}from"./query-CO-DO_55.js";import{A as X,E as J,v as se,F as Ce,U as be,V as ve,W as Z,X as ee,C as x,l as g,n as p,k as u,o as we,B as h,u as ye,a as Se,t as E,j as Ae,y as ie,z as re}from"./index-CBGUjL3x.js";import{T as me,a as xe,b as v,c as o,d as ue,e as r}from"./table-COynQWRt.js";import{g as Ie,a as Pe,b as Fe,l as Te,p as ke,r as Ee,c as Re,d as qe}from"./campaignService-CeBdDIZq.js";import{h as Me}from"./phoneNumberService-z2hm7hn6.js";import{g as De}from"./agentService-DODtkdow.js";import{C as Le,d as Ve,e as Oe}from"./CallRecordingPlayer-FJPNeRNX.js";import{u as Be}from"./router-jXXg-8rg.js";import"./slider-69ejy2xl.js";function Ue({campaignId:N,onClose:z}){var O,B,U,K,_,F;const[w,q]=b.useState("overview"),[M,D]=b.useState(null),[y,L]=b.useState(!1),{data:S,isLoading:j}=R({queryKey:["campaign",N],queryFn:()=>Ie(N),retry:1}),{data:f,isLoading:H}=R({queryKey:["campaignCalls",N],queryFn:()=>Pe(N),retry:1}),t=S==null?void 0:S.data,A=(f==null?void 0:f.data)||{},l=Object.values(A);console.log("ðŸ” Campaign calls data:",A),console.log("ðŸ” Calls list:",l),l.length>0&&(console.log("ðŸ” First call structure:",l[0]),console.log("ðŸ” First call customer:",l[0].customer),console.log("ðŸ” First call status:",l[0].status));const I=a=>{let s=a.duration||0;if(!s&&a.startedAt&&a.endedAt){const n=new Date(a.startedAt).getTime(),d=new Date(a.endedAt).getTime();s=Math.round((d-n)/1e3)}return{...a,duration:s,customer:a.customer||{name:null,email:null,number:null}}};console.log("Raw calls data:",f==null?void 0:f.data),console.log("Calls object:",A),console.log("Calls list:",l),console.log("First call in list:",l[0]),l[0]&&(console.log("First call ID access:",l[0].id),console.log("First call keys:",Object.keys(l[0])));const{data:i}=R({queryKey:["phoneNumber",t==null?void 0:t.phoneNumberId],queryFn:()=>Me(t.phoneNumberId),enabled:!!(t!=null&&t.phoneNumberId),retry:1}),{data:c}=R({queryKey:["assistant",t==null?void 0:t.assistantId],queryFn:()=>De(t.assistantId),enabled:!!(t!=null&&t.assistantId),retry:1}),P=a=>{var d,m,T;console.log("Converting campaign call to CallHistoryItem:",a);const s=a.id,n={id:s,call_id:s,customer_number:((d=a.customer)==null?void 0:d.number)||"",status:a.status,type:"outbound",duration:a.duration||0,cost:a.cost||0,transcript:a.transcript||((m=a.analysis)==null?void 0:m.summary)||"",recording_url:a.recording,recordingUrl:a.recording,recording:a.recording,assistant_id:t==null?void 0:t.assistantId,assistant_name:(T=c==null?void 0:c.data)==null?void 0:T.name,end_reason:a.endedReason,started_at:a.startedAt,ended_at:a.endedAt,created_at:a.startedAt||new Date().toISOString(),updated_at:a.endedAt||new Date().toISOString(),metadata:{customer:a.customer}};return console.log("Converted CallHistoryItem:",n),n},G=a=>{const n={scheduled:{variant:"outline",icon:e.jsx(ce,{className:"h-3 w-3 mr-1"})},"in-progress":{variant:"default",icon:e.jsx($,{className:"h-3 w-3 mr-1"})},ended:{variant:"secondary",icon:e.jsx(Q,{className:"h-3 w-3 mr-1"})}}[a]||{variant:"outline",icon:null};return e.jsxs(se,{variant:n.variant,className:"flex items-center",children:[n.icon,a==="in-progress"?"Running":a.charAt(0).toUpperCase()+a.slice(1)]})},Y=a=>{const s={queued:"outline",ringing:"secondary","in-progress":"default",ended:"secondary",failed:"destructive"};return e.jsx(se,{variant:s[a]||"outline",children:a})},V=a=>{if(!a)return"0:00";const s=Math.floor(a/60),n=a%60;return`${s}:${n.toString().padStart(2,"0")}`};return j?e.jsxs(e.Fragment,{children:[e.jsx(X,{children:e.jsx(J,{children:"Campaign Details"})}),e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(C,{className:"h-8 w-8 animate-spin"})})]}):t?e.jsxs(e.Fragment,{children:[e.jsxs(X,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[t.name,G(t.status)]}),e.jsxs(Ce,{children:["Created on ",new Date(t.createdAt).toLocaleDateString()]})]}),e.jsxs(be,{value:w,onValueChange:q,className:"w-full",children:[e.jsxs(ve,{className:"grid w-full grid-cols-3",children:[e.jsx(Z,{value:"overview",children:"Overview"}),e.jsx(Z,{value:"calls",children:"Calls"}),e.jsx(Z,{value:"analytics",children:"Analytics"})]}),e.jsxs(ee,{value:"overview",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(x,{children:[e.jsx(g,{className:"pb-2",children:e.jsxs(p,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4"}),"Total Calls"]})}),e.jsxs(u,{children:[e.jsx("div",{className:"text-2xl font-bold",children:l.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Actual calls made"})]})]}),e.jsxs(x,{children:[e.jsx(g,{className:"pb-2",children:e.jsxs(p,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4"}),"Completed"]})}),e.jsx(u,{children:e.jsx("div",{className:"text-2xl font-bold",children:t.callsCounterEnded||0})})]}),e.jsxs(x,{children:[e.jsx(g,{className:"pb-2",children:e.jsxs(p,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(oe,{className:"h-4 w-4"}),"Pick Up"]})}),e.jsx(u,{children:e.jsx("div",{className:"text-2xl font-bold",children:t.callsCounterEnded>0?`${Math.round((t.callsCounterEnded-t.callsCounterEndedVoicemail)/t.callsCounterEnded*100)}%`:"0%"})})]}),e.jsxs(x,{children:[e.jsx(g,{className:"pb-2",children:e.jsxs(p,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4"}),"Voicemail"]})}),e.jsx(u,{children:e.jsx("div",{className:"text-2xl font-bold",children:t.callsCounterEndedVoicemail||0})})]})]}),e.jsxs(x,{children:[e.jsx(g,{children:e.jsx(p,{children:"Campaign Information"})}),e.jsx(u,{className:"space-y-3",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Phone Number"}),e.jsx("p",{className:"text-sm font-mono",children:((O=i==null?void 0:i.data)==null?void 0:O.number)||((B=i==null?void 0:i.data)==null?void 0:B.friendlyName)||t.phoneNumberId}),((U=i==null?void 0:i.data)==null?void 0:U.number)&&e.jsx("p",{className:"text-xs text-muted-foreground",children:i.data.friendlyName||"AI CRUITMENT Number"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Assistant"}),e.jsx("p",{className:"text-sm",children:((K=c==null?void 0:c.data)==null?void 0:K.name)||t.assistantId||t.workflowId||"N/A"}),((_=c==null?void 0:c.data)==null?void 0:_.name)&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",t.assistantId]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),e.jsx("p",{className:"text-sm",children:new Date(t.createdAt).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),e.jsx("p",{className:"text-sm",children:new Date(t.updatedAt).toLocaleString()})]})]})})]})]}),e.jsx(ee,{value:"calls",className:"space-y-4",children:e.jsxs(x,{children:[e.jsxs(g,{children:[e.jsxs(p,{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-5 w-5"}),"Campaign Calls"]}),e.jsx(we,{children:"Individual call details and outcomes"})]}),e.jsx(u,{children:H?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(C,{className:"h-8 w-8 animate-spin"})}):e.jsxs(me,{children:[e.jsx(xe,{children:e.jsxs(v,{children:[e.jsx(o,{children:"Customer"}),e.jsx(o,{children:"Phone Number"}),e.jsx(o,{children:"Status"}),e.jsx(o,{children:"Duration"}),e.jsx(o,{children:"Started"}),e.jsx(o,{children:"Recording"})]})}),e.jsx(ue,{children:l.length===0?e.jsx(v,{children:e.jsx(r,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No calls found for this campaign"})}):l.map(a=>{var n,d,m;const s=I(a);return e.jsxs(v,{children:[e.jsx(r,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:((n=s.customer)==null?void 0:n.name)||"Unknown Customer"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:((d=s.customer)==null?void 0:d.email)||"-"})]})}),e.jsx(r,{className:"font-mono",children:((m=s.customer)==null?void 0:m.number)||"-"}),e.jsx(r,{children:Y(s.status)}),e.jsx(r,{children:V(s.duration)}),e.jsx(r,{children:s.startedAt?new Date(s.startedAt).toLocaleString():"-"}),e.jsx(r,{children:e.jsx("div",{className:"flex gap-2",children:e.jsxs(h,{size:"sm",variant:"outline",onClick:()=>{D(a),L(!0)},title:"Play Recording & View Transcript",children:[e.jsx($,{className:"h-3 w-3 mr-1"}),"Recording"]})})})]},a.id)})})]})})]})}),e.jsx(ee,{value:"analytics",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(x,{children:[e.jsx(g,{children:e.jsx(p,{children:"Call Status Distribution"})}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Scheduled"}),e.jsx("span",{className:"text-sm font-medium",children:t.callsCounterScheduled||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Queued"}),e.jsx("span",{className:"text-sm font-medium",children:t.callsCounterQueued||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"In Progress"}),e.jsx("span",{className:"text-sm font-medium",children:t.callsCounterInProgress||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Completed"}),e.jsx("span",{className:"text-sm font-medium",children:t.callsCounterEnded||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Voicemail"}),e.jsx("span",{className:"text-sm font-medium",children:t.callsCounterEndedVoicemail||0})]})]})})]}),e.jsxs(x,{children:[e.jsx(g,{children:e.jsx(p,{children:"Performance Metrics"})}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Success Rate"}),e.jsx("span",{className:"text-sm font-medium",children:t.callsCounterEnded>0?`${Math.round((t.callsCounterEnded-t.callsCounterEndedVoicemail)/t.callsCounterEnded*100)}%`:"0%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Completion Rate"}),e.jsx("span",{className:"text-sm font-medium",children:((F=t.customers)==null?void 0:F.length)>0?`${Math.round(t.callsCounterEnded/t.customers.length*100)}%`:"0%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Avg Duration"}),e.jsx("span",{className:"text-sm font-medium",children:l.length>0?V(Math.round(l.reduce((a,s)=>a+(s.duration||0),0)/l.length)):"0:00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Total Cost"}),e.jsxs("span",{className:"text-sm font-medium",children:["$",l.reduce((a,s)=>a+(s.cost||0),0).toFixed(2)]})]})]})})]}),e.jsxs(x,{className:"md:col-span-2",children:[e.jsx(g,{children:e.jsx(p,{children:"Call Outcomes"})}),e.jsx(u,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.filter(a=>a.status==="ended"&&a.duration&&a.duration>30).length}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Successful Calls"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:l.filter(a=>a.status==="ended"&&(!a.duration||a.duration<=30)).length}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Short Calls"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t.callsCounterEndedVoicemail||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Voicemails"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:l.filter(a=>a.status!=="ended").length}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Failed Calls"})]})]})})]})]})})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t",children:e.jsx(h,{onClick:z,children:"Close"})}),y&&M&&e.jsx(Le,{call:P(M),isOpen:y,onClose:()=>{L(!1),D(null)},customGetRecording:Oe,customGetTranscript:Ve})]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{children:e.jsx(J,{children:"Campaign Details"})}),e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:"Campaign not found"})})]})}const Ze=()=>{var a;const N=Be(),[z,w]=b.useState(!1),[q,M]=b.useState(null),[D,y]=b.useState(!1),[L,S]=b.useState(0),j=fe(),{user:f}=ye(),{isSuperAdmin:H}=Se(),{data:t,isLoading:A,error:l}=R({queryKey:["outboundCampaigns"],queryFn:()=>Fe(),retry:(s,n)=>{var m;return[404,204,402].includes((m=n==null?void 0:n.response)==null?void 0:m.status)?!1:s<1}}),I=k({mutationFn:Te,onSuccess:()=>{j.invalidateQueries({queryKey:["outboundCampaigns"]}),E.success("Campaign launched successfully")},onError:s=>{var m,T,ae,te;const n=((T=(m=s.response)==null?void 0:m.data)==null?void 0:T.message)||"Failed to launch campaign";((te=(ae=s.response)==null?void 0:ae.data)==null?void 0:te.currentStatus)==="in-progress"?E.info("Campaign is already running"):E.error(n),j.invalidateQueries({queryKey:["outboundCampaigns"]})}}),i=k({mutationFn:ke,onSuccess:()=>{j.invalidateQueries({queryKey:["outboundCampaigns"]})}});k({mutationFn:Ee,onSuccess:()=>{j.invalidateQueries({queryKey:["outboundCampaigns"]})}});const c=k({mutationFn:Re,onSuccess:()=>{j.invalidateQueries({queryKey:["outboundCampaigns"]})}}),P=k({mutationFn:qe,onSuccess:()=>{j.invalidateQueries({queryKey:["outboundCampaigns"]})}}),G=s=>{I.mutate(s)},Y=s=>{i.mutate(s)},V=s=>{confirm("Are you sure you want to cancel this campaign?")&&c.mutate(s)},O=s=>{confirm("Are you sure you want to delete this campaign? This action cannot be undone.")&&P.mutate(s)},B=s=>{M(s),w(!0)},U=()=>{j.invalidateQueries({queryKey:["outboundCampaigns"]}),E.success("Campaigns refreshed")},K=async()=>{if(H){N("/outbound/create-campaign");return}try{const n=(await Ae.get("/api/credits/balance")).data.data;if(!n||parseFloat(n.available_credits)<1){S((n==null?void 0:n.available_credits)||0),y(!0);return}N("/outbound/create-campaign")}catch(s){console.error("Error checking credit balance:",s),E.error("Unable to verify credit balance. Please try again.")}},_=s=>{const d={scheduled:{variant:"outline",icon:e.jsx(ce,{className:"h-3 w-3 mr-1"}),label:"Scheduled"},"in-progress":{variant:"default",icon:e.jsx($,{className:"h-3 w-3 mr-1"}),label:"Running"},ended:{variant:"secondary",icon:e.jsx(Q,{className:"h-3 w-3 mr-1"}),label:"Ended"}}[s]||{variant:"outline",icon:e.jsx(W,{className:"h-3 w-3 mr-1"}),label:s.charAt(0).toUpperCase()+s.slice(1)};return e.jsxs(se,{variant:d.variant,className:"flex items-center",children:[d.icon,d.label]})},F=Array.isArray(t==null?void 0:t.data)?t.data:[];if(l){const n=((a=l==null?void 0:l.response)==null?void 0:a.status)===402;return e.jsx("div",{className:"app-shell-bg min-h-screen w-full overflow-auto",children:e.jsxs("div",{className:"p-6 max-w-[1600px] mx-auto space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Outbound"}),e.jsx("p",{className:"text-white/65",children:"Create and manage outbound campaigns"})]}),e.jsx(x,{className:"neo-card",children:e.jsx(u,{className:"pt-6",children:e.jsx("div",{className:"text-center",children:n?e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"h-12 w-12 text-orange-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2 text-white",children:"Insufficient Credits"}),e.jsx("p",{className:"text-white/65 mb-4",children:"You need credits to access campaign features. Please purchase credits to continue."}),e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsx(h,{onClick:()=>N("/credits/purchase"),className:"neo-btn bg-orange-500 hover:bg-orange-600",children:"Purchase Credits"}),e.jsxs(h,{variant:"outline",onClick:()=>window.location.reload(),className:"neo-topbar-btn",children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-white/65 mb-4",children:"Unable to connect to the backend API. Please ensure the backend server is running."}),e.jsx(h,{onClick:()=>window.location.reload(),className:"neo-btn",children:"Retry Connection"})]})})})})]})})}return e.jsx("div",{className:"app-shell-bg min-h-screen w-full overflow-auto",children:e.jsxs("div",{className:"p-6 max-w-[1600px] mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Outbound"}),e.jsx("p",{className:"text-white/65",children:"Create and manage outbound campaigns"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{style:{background:"linear-gradient(180deg, rgba(255,77,79,0.25), rgba(168,14,34,0.25))",borderColor:"rgba(255,77,79,0.35)"},onClick:U,title:"Refresh Campaigns",className:"neo-btn flex items-center gap-2 text-red-300 hover:text-red-200",children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(h,{className:"neo-btn",onClick:K,children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),"Create Campaign"]})]})]}),e.jsx(x,{className:"neo-card",children:e.jsx(u,{children:A?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(C,{className:"h-8 w-8 animate-spin"})}):e.jsxs(me,{children:[e.jsx(xe,{children:e.jsxs(v,{className:"border-b border-white/10 hover:bg-transparent",children:[e.jsx(o,{className:"text-white/65",children:"Campaign Name"}),e.jsx(o,{className:"text-white/65",children:"Status"}),e.jsx(o,{className:"text-white/65",children:"Total Calls"}),e.jsx(o,{className:"text-white/65",children:"Completed"}),e.jsx(o,{className:"text-white/65",children:"Pick Up"}),e.jsx(o,{className:"text-white/65",children:"Actions"})]})}),e.jsx(ue,{children:F.length===0?e.jsx(v,{className:"border-b border-white/5",children:e.jsx(r,{colSpan:7,className:"text-center text-white/65 py-8",children:"No campaigns found. Create your first campaign to get started."})}):F.map(s=>{var n;return e.jsxs(v,{className:"border-b border-white/5 hover:bg-white/5",children:[e.jsx(r,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-white",children:s.name}),e.jsxs("div",{className:"text-xs text-white/65",children:["Created on ",new Date(s.createdAt).toLocaleDateString()]})]})}),e.jsx(r,{children:_(s.status)}),e.jsx(r,{children:e.jsxs("div",{className:"flex items-center gap-1 text-white",children:[e.jsx(de,{className:"h-3 w-3"}),((n=s.customers)==null?void 0:n.length)||s.callsCounterEnded||0,s.status==="in-progress"&&e.jsxs("span",{className:"ml-2 text-xs text-green-400 font-medium",children:["(",s.callsCounterInProgress||0," active)"]})]})}),e.jsx(r,{children:e.jsxs("div",{className:"flex items-center gap-1 text-white",children:[e.jsx(Q,{className:"h-3 w-3"}),s.callsCounterEnded||0]})}),e.jsx(r,{children:e.jsxs("div",{className:"flex items-center gap-1 text-white",children:[e.jsx(oe,{className:"h-3 w-3"}),s.callsCounterEnded>0?`${Math.round((s.callsCounterEnded-s.callsCounterEndedVoicemail)/s.callsCounterEnded*100)}%`:"0%"]})}),e.jsx(r,{children:e.jsxs("div",{className:"flex gap-2",children:[s.status==="scheduled"&&e.jsx(h,{size:"sm",variant:"outline",onClick:()=>G(s.id),disabled:I.isPending,title:"Launch Campaign",className:"neo-topbar-btn",children:I.isPending?e.jsx(C,{className:"h-3 w-3 animate-spin"}):e.jsx($,{className:"h-3 w-3"})}),s.status==="in-progress"&&e.jsx(h,{size:"sm",variant:"outline",onClick:()=>Y(s.id),disabled:i.isPending,title:"Pause Campaign",className:"neo-topbar-btn",children:i.isPending?e.jsx(C,{className:"h-3 w-3 animate-spin"}):e.jsx(je,{className:"h-3 w-3"})}),(s.status==="scheduled"||s.status==="in-progress")&&e.jsx(h,{size:"sm",variant:"outline",onClick:()=>V(s.id),disabled:c.isPending,title:"Cancel Campaign",className:"neo-topbar-btn",children:c.isPending?e.jsx(C,{className:"h-3 w-3 animate-spin"}):e.jsx(ge,{className:"h-3 w-3"})}),e.jsx(h,{size:"sm",variant:"outline",onClick:()=>B(s),title:"View Details",className:"neo-topbar-btn",children:e.jsx(pe,{className:"h-3 w-3"})}),s.status==="ended"&&e.jsx(h,{size:"sm",variant:"outline",onClick:()=>O(s.id),disabled:P.isPending,title:"Delete Campaign",className:"neo-topbar-btn",children:P.isPending?e.jsx(C,{className:"h-3 w-3 animate-spin"}):e.jsx(Ne,{className:"h-3 w-3"})})]})})]},s.id)})})]})})}),q&&e.jsx(ie,{open:z,onOpenChange:w,children:e.jsx(re,{className:"max-w-4xl max-h-[90vh] overflow-y-auto neon-fire-scroll bg-[#0b0f2e] border-white/10 text-white",children:e.jsx(Ue,{campaignId:q.id,onClose:()=>w(!1)})})}),e.jsx(ie,{open:D,onOpenChange:y,children:e.jsx(re,{className:"max-w-md bg-[#0b0f2e] border-white/10 text-white",children:e.jsxs("div",{className:"text-center p-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"p-3 bg-orange-500/10 rounded-full",children:e.jsx(W,{className:"h-8 w-8 text-orange-400"})})}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Insufficient Credits"}),e.jsxs("p",{className:"text-white/65 mb-6",children:["You need at least 1 credit to use campaign creation.",e.jsxs("span",{className:"block mt-1",children:["Current balance: ",L," credits"]})]}),e.jsx("div",{className:"space-y-3",children:e.jsx("p",{className:"text-xs text-white/65",children:"Credits are added instantly after purchase"})})]})})})]})})};export{Ze as default};
//# sourceMappingURL=Outbound-DEksEDyV.js.map
