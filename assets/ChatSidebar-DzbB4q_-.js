import{e as qt,r as ke}from"./vendor-D6QveUxv.js";import{j as s,b4 as Ht,a3 as _t,bX as Wt,bY as Jt,X as Zt,bu as St,b3 as Lt,bw as Yt,bH as Qt,m as Xt,a1 as er,bI as tr}from"./ui-Bcnk-Zux.js";import{t as mt,v as rr,B as gt,c as et,S as nr,p as ar,q as or,r as ir,s as sr,I as ur,y as cr,z as lr,A as dr,E as fr,F as pr}from"./index-CnGOntes.js";import{A as hr,a as mr}from"./avatar--ery3aDa.js";import{b as gr,c as br,f as tt,d as yr,s as vr}from"./messagingService-CjfKYTcK.js";import{g as xr}from"./phoneNumberService-D5lNpD_H.js";import{C as Cr}from"./CreatePhoneNumberForm-ACbnf5kv.js";var wr=function(G){var T={};function h(c){if(T[c])return T[c].exports;var D=T[c]={i:c,l:!1,exports:{}};return G[c].call(D.exports,D,D.exports,h),D.l=!0,D.exports}return h.m=G,h.c=T,h.d=function(c,D,R){h.o(c,D)||Object.defineProperty(c,D,{enumerable:!0,get:R})},h.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},h.t=function(c,D){if(1&D&&(c=h(c)),8&D||4&D&&typeof c=="object"&&c&&c.__esModule)return c;var R=Object.create(null);if(h.r(R),Object.defineProperty(R,"default",{enumerable:!0,value:c}),2&D&&typeof c!="string")for(var ne in c)h.d(R,ne,(function(ue){return c[ue]}).bind(null,ne));return R},h.n=function(c){var D=c&&c.__esModule?function(){return c.default}:function(){return c};return h.d(D,"a",D),D},h.o=function(c,D){return Object.prototype.hasOwnProperty.call(c,D)},h.p="",h(h.s=9)}([function(G,T){G.exports=ke},function(G,T,h){var c;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var D={}.hasOwnProperty;function R(){for(var ne=[],ue=0;ue<arguments.length;ue++){var X=arguments[ue];if(X){var ve=typeof X;if(ve==="string"||ve==="number")ne.push(X);else if(Array.isArray(X)&&X.length){var xe=R.apply(null,X);xe&&ne.push(xe)}else if(ve==="object")for(var be in X)D.call(X,be)&&X[be]&&ne.push(be)}}return ne.join(" ")}G.exports?(R.default=R,G.exports=R):(c=(function(){return R}).apply(T,[]))===void 0||(G.exports=c)})()},function(G,T,h){(function(c){var D=/^\s+|\s+$/g,R=/^[-+]0x[0-9a-f]+$/i,ne=/^0b[01]+$/i,ue=/^0o[0-7]+$/i,X=parseInt,ve=typeof c=="object"&&c&&c.Object===Object&&c,xe=typeof self=="object"&&self&&self.Object===Object&&self,be=ve||xe||Function("return this")(),Ce=Object.prototype.toString,we=be.Symbol,Ee=we?we.prototype:void 0,he=Ee?Ee.toString:void 0;function C(S){if(typeof S=="string")return S;if(F(S))return he?he.call(S):"";var x=S+"";return x=="0"&&1/S==-1/0?"-0":x}function Ie(S){var x=typeof S;return!!S&&(x=="object"||x=="function")}function F(S){return typeof S=="symbol"||function(x){return!!x&&typeof x=="object"}(S)&&Ce.call(S)=="[object Symbol]"}function V(S){return S?(S=function(x){if(typeof x=="number")return x;if(F(x))return NaN;if(Ie(x)){var W=typeof x.valueOf=="function"?x.valueOf():x;x=Ie(W)?W+"":W}if(typeof x!="string")return x===0?x:+x;x=x.replace(D,"");var re=ne.test(x);return re||ue.test(x)?X(x.slice(2),re?2:8):R.test(x)?NaN:+x}(S))===1/0||S===-1/0?17976931348623157e292*(S<0?-1:1):S==S?S:0:S===0?S:0}G.exports=function(S,x,W){var re,K,ce,U;return S=(re=S)==null?"":C(re),K=function(_e){var m=V(_e),ee=m%1;return m==m?ee?m-ee:m:0}(W),ce=0,U=S.length,K==K&&(U!==void 0&&(K=K<=U?K:U),ce!==void 0&&(K=K>=ce?K:ce)),W=K,x=C(x),S.slice(W,W+x.length)==x}}).call(this,h(3))},function(G,T){var h;h=function(){return this}();try{h=h||new Function("return this")()}catch{typeof window=="object"&&(h=window)}G.exports=h},function(G,T,h){(function(c){var D=/^\[object .+?Constructor\]$/,R=typeof c=="object"&&c&&c.Object===Object&&c,ne=typeof self=="object"&&self&&self.Object===Object&&self,ue=R||ne||Function("return this")(),X,ve=Array.prototype,xe=Function.prototype,be=Object.prototype,Ce=ue["__core-js_shared__"],we=(X=/[^.]+$/.exec(Ce&&Ce.keys&&Ce.keys.IE_PROTO||""))?"Symbol(src)_1."+X:"",Ee=xe.toString,he=be.hasOwnProperty,C=be.toString,Ie=RegExp("^"+Ee.call(he).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=ve.splice,V=_e(ue,"Map"),S=_e(Object,"create");function x(i){var f=-1,d=i?i.length:0;for(this.clear();++f<d;){var k=i[f];this.set(k[0],k[1])}}function W(i){var f=-1,d=i?i.length:0;for(this.clear();++f<d;){var k=i[f];this.set(k[0],k[1])}}function re(i){var f=-1,d=i?i.length:0;for(this.clear();++f<d;){var k=i[f];this.set(k[0],k[1])}}function K(i,f){for(var d,k,J=i.length;J--;)if((d=i[J][0])===(k=f)||d!=d&&k!=k)return J;return-1}function ce(i){return!(!ee(i)||(f=i,we&&we in f))&&(function(d){var k=ee(d)?C.call(d):"";return k=="[object Function]"||k=="[object GeneratorFunction]"}(i)||function(d){var k=!1;if(d!=null&&typeof d.toString!="function")try{k=!!(d+"")}catch{}return k}(i)?Ie:D).test(function(d){if(d!=null){try{return Ee.call(d)}catch{}try{return d+""}catch{}}return""}(i));var f}function U(i,f){var d,k,J=i.__data__;return((k=typeof(d=f))=="string"||k=="number"||k=="symbol"||k=="boolean"?d!=="__proto__":d===null)?J[typeof f=="string"?"string":"hash"]:J.map}function _e(i,f){var d=function(k,J){return k==null?void 0:k[J]}(i,f);return ce(d)?d:void 0}function m(i,f){if(typeof i!="function"||f&&typeof f!="function")throw new TypeError("Expected a function");var d=function(){var k=arguments,J=f?f.apply(this,k):k[0],Pe=d.cache;if(Pe.has(J))return Pe.get(J);var v=i.apply(this,k);return d.cache=Pe.set(J,v),v};return d.cache=new(m.Cache||re),d}function ee(i){var f=typeof i;return!!i&&(f=="object"||f=="function")}x.prototype.clear=function(){this.__data__=S?S(null):{}},x.prototype.delete=function(i){return this.has(i)&&delete this.__data__[i]},x.prototype.get=function(i){var f=this.__data__;if(S){var d=f[i];return d==="__lodash_hash_undefined__"?void 0:d}return he.call(f,i)?f[i]:void 0},x.prototype.has=function(i){var f=this.__data__;return S?f[i]!==void 0:he.call(f,i)},x.prototype.set=function(i,f){return this.__data__[i]=S&&f===void 0?"__lodash_hash_undefined__":f,this},W.prototype.clear=function(){this.__data__=[]},W.prototype.delete=function(i){var f=this.__data__,d=K(f,i);return!(d<0)&&(d==f.length-1?f.pop():F.call(f,d,1),!0)},W.prototype.get=function(i){var f=this.__data__,d=K(f,i);return d<0?void 0:f[d][1]},W.prototype.has=function(i){return K(this.__data__,i)>-1},W.prototype.set=function(i,f){var d=this.__data__,k=K(d,i);return k<0?d.push([i,f]):d[k][1]=f,this},re.prototype.clear=function(){this.__data__={hash:new x,map:new(V||W),string:new x}},re.prototype.delete=function(i){return U(this,i).delete(i)},re.prototype.get=function(i){return U(this,i).get(i)},re.prototype.has=function(i){return U(this,i).has(i)},re.prototype.set=function(i,f){return U(this,i).set(i,f),this},m.Cache=re,G.exports=m}).call(this,h(3))},function(G,T,h){(function(c){var D=/^\s+|\s+$/g,R=/^[-+]0x[0-9a-f]+$/i,ne=/^0b[01]+$/i,ue=/^0o[0-7]+$/i,X=parseInt,ve=typeof c=="object"&&c&&c.Object===Object&&c,xe=typeof self=="object"&&self&&self.Object===Object&&self,be=ve||xe||Function("return this")(),Ce=Object.prototype.toString,we=Math.max,Ee=Math.min,he=function(){return be.Date.now()};function C(F){var V=typeof F;return!!F&&(V=="object"||V=="function")}function Ie(F){if(typeof F=="number")return F;if(function(x){return typeof x=="symbol"||function(W){return!!W&&typeof W=="object"}(x)&&Ce.call(x)=="[object Symbol]"}(F))return NaN;if(C(F)){var V=typeof F.valueOf=="function"?F.valueOf():F;F=C(V)?V+"":V}if(typeof F!="string")return F===0?F:+F;F=F.replace(D,"");var S=ne.test(F);return S||ue.test(F)?X(F.slice(2),S?2:8):R.test(F)?NaN:+F}G.exports=function(F,V,S){var x,W,re,K,ce,U,_e=0,m=!1,ee=!1,i=!0;if(typeof F!="function")throw new TypeError("Expected a function");function f(l){var E=x,z=W;return x=W=void 0,_e=l,K=F.apply(z,E)}function d(l){return _e=l,ce=setTimeout(J,V),m?f(l):K}function k(l){var E=l-U;return U===void 0||E>=V||E<0||ee&&l-_e>=re}function J(){var l=he();if(k(l))return Pe(l);ce=setTimeout(J,function(E){var z=V-(E-U);return ee?Ee(z,re-(E-_e)):z}(l))}function Pe(l){return ce=void 0,i&&x?f(l):(x=W=void 0,K)}function v(){var l=he(),E=k(l);if(x=arguments,W=this,U=l,E){if(ce===void 0)return d(U);if(ee)return ce=setTimeout(J,V),f(U)}return ce===void 0&&(ce=setTimeout(J,V)),K}return V=Ie(V)||0,C(S)&&(m=!!S.leading,re=(ee="maxWait"in S)?we(Ie(S.maxWait)||0,V):re,i="trailing"in S?!!S.trailing:i),v.cancel=function(){ce!==void 0&&clearTimeout(ce),_e=0,x=U=W=ce=void 0},v.flush=function(){return ce===void 0?K:Pe(he())},v}}).call(this,h(3))},function(G,T,h){(function(c,D){var R="[object Arguments]",ne="[object Map]",ue="[object Object]",X="[object Set]",ve=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xe=/^\w*$/,be=/^\./,Ce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,we=/\\(\\)?/g,Ee=/^\[object .+?Constructor\]$/,he=/^(?:0|[1-9]\d*)$/,C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C[R]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object Boolean]"]=C["[object DataView]"]=C["[object Date]"]=C["[object Error]"]=C["[object Function]"]=C[ne]=C["[object Number]"]=C[ue]=C["[object RegExp]"]=C[X]=C["[object String]"]=C["[object WeakMap]"]=!1;var Ie=typeof c=="object"&&c&&c.Object===Object&&c,F=typeof self=="object"&&self&&self.Object===Object&&self,V=Ie||F||Function("return this")(),S=T&&!T.nodeType&&T,x=S&&typeof D=="object"&&D&&!D.nodeType&&D,W=x&&x.exports===S&&Ie.process,re=function(){try{return W&&W.binding("util")}catch{}}(),K=re&&re.isTypedArray;function ce(e,r,a,u){var j=-1,_=e?e.length:0;for(u&&_&&(a=e[++j]);++j<_;)a=r(a,e[j],j,e);return a}function U(e,r){for(var a=-1,u=e?e.length:0;++a<u;)if(r(e[a],a,e))return!0;return!1}function _e(e,r,a,u,j){return j(e,function(_,P,ie){a=u?(u=!1,_):r(a,_,P,ie)}),a}function m(e){var r=!1;if(e!=null&&typeof e.toString!="function")try{r=!!(e+"")}catch{}return r}function ee(e){var r=-1,a=Array(e.size);return e.forEach(function(u,j){a[++r]=[j,u]}),a}function i(e){var r=-1,a=Array(e.size);return e.forEach(function(u){a[++r]=u}),a}var f,d,k,J=Array.prototype,Pe=Function.prototype,v=Object.prototype,l=V["__core-js_shared__"],E=(f=/[^.]+$/.exec(l&&l.keys&&l.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",z=Pe.toString,p=v.hasOwnProperty,t=v.toString,q=RegExp("^"+z.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),B=V.Symbol,$=V.Uint8Array,le=v.propertyIsEnumerable,ae=J.splice,de=(d=Object.keys,k=Object,function(e){return d(k(e))}),pe=He(V,"DataView"),me=He(V,"Map"),fe=He(V,"Promise"),n=He(V,"Set"),o=He(V,"WeakMap"),g=He(Object,"create"),O=Ke(pe),I=Ke(me),A=Ke(fe),M=Ke(n),Z=Ke(o),b=B?B.prototype:void 0,N=b?b.valueOf:void 0,L=b?b.toString:void 0;function y(e){var r=-1,a=e?e.length:0;for(this.clear();++r<a;){var u=e[r];this.set(u[0],u[1])}}function w(e){var r=-1,a=e?e.length:0;for(this.clear();++r<a;){var u=e[r];this.set(u[0],u[1])}}function oe(e){var r=-1,a=e?e.length:0;for(this.clear();++r<a;){var u=e[r];this.set(u[0],u[1])}}function Te(e){var r=-1,a=e?e.length:0;for(this.__data__=new oe;++r<a;)this.add(e[r])}function Se(e){this.__data__=new w(e)}function Oe(e,r){var a=Re(e)||Ot(e)?function(P,ie){for(var se=-1,Q=Array(P);++se<P;)Q[se]=ie(se);return Q}(e.length,String):[],u=a.length,j=!!u;for(var _ in e)!p.call(e,_)||j&&(_=="length"||Et(_,u))||a.push(_);return a}function Fe(e,r){for(var a=e.length;a--;)if(Dt(e[a][0],r))return a;return-1}y.prototype.clear=function(){this.__data__=g?g(null):{}},y.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},y.prototype.get=function(e){var r=this.__data__;if(g){var a=r[e];return a==="__lodash_hash_undefined__"?void 0:a}return p.call(r,e)?r[e]:void 0},y.prototype.has=function(e){var r=this.__data__;return g?r[e]!==void 0:p.call(r,e)},y.prototype.set=function(e,r){return this.__data__[e]=g&&r===void 0?"__lodash_hash_undefined__":r,this},w.prototype.clear=function(){this.__data__=[]},w.prototype.delete=function(e){var r=this.__data__,a=Fe(r,e);return!(a<0)&&(a==r.length-1?r.pop():ae.call(r,a,1),!0)},w.prototype.get=function(e){var r=this.__data__,a=Fe(r,e);return a<0?void 0:r[a][1]},w.prototype.has=function(e){return Fe(this.__data__,e)>-1},w.prototype.set=function(e,r){var a=this.__data__,u=Fe(a,e);return u<0?a.push([e,r]):a[u][1]=r,this},oe.prototype.clear=function(){this.__data__={hash:new y,map:new(me||w),string:new y}},oe.prototype.delete=function(e){return rt(this,e).delete(e)},oe.prototype.get=function(e){return rt(this,e).get(e)},oe.prototype.has=function(e){return rt(this,e).has(e)},oe.prototype.set=function(e,r){return rt(this,e).set(e,r),this},Te.prototype.add=Te.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Te.prototype.has=function(e){return this.__data__.has(e)},Se.prototype.clear=function(){this.__data__=new w},Se.prototype.delete=function(e){return this.__data__.delete(e)},Se.prototype.get=function(e){return this.__data__.get(e)},Se.prototype.has=function(e){return this.__data__.has(e)},Se.prototype.set=function(e,r){var a=this.__data__;if(a instanceof w){var u=a.__data__;if(!me||u.length<199)return u.push([e,r]),this;a=this.__data__=new oe(u)}return a.set(e,r),this};var Ve,ge=(Ve=function(e,r){return e&&qe(e,r,st)},function(e,r){if(e==null)return e;if(!vt(e))return Ve(e,r);for(var a=e.length,u=-1,j=Object(e);++u<a&&r(j[u],u,j)!==!1;);return e}),qe=function(e){return function(r,a,u){for(var j=-1,_=Object(r),P=u(r),ie=P.length;ie--;){var se=P[++j];if(a(_[se],se,_)===!1)break}return r}}();function Ze(e,r){for(var a=0,u=(r=nt(r,e)?[r]:Nt(r)).length;e!=null&&a<u;)e=e[at(r[a++])];return a&&a==u?e:void 0}function bt(e,r){return e!=null&&r in Object(e)}function Ye(e,r,a,u,j){return e===r||(e==null||r==null||!ot(e)&&!it(r)?e!=e&&r!=r:function(_,P,ie,se,Q,H){var Ae=Re(_),Ne=Re(P),ye="[object Array]",je="[object Array]";Ae||(ye=(ye=Le(_))==R?ue:ye),Ne||(je=(je=Le(P))==R?ue:je);var Me=ye==ue&&!m(_),We=je==ue&&!m(P),Be=ye==je;if(Be&&!Me)return H||(H=new Se),Ae||Gt(_)?kt(_,P,ie,se,Q,H):function(te,Y,wt,Ue,ut,De,ze){switch(wt){case"[object DataView]":if(te.byteLength!=Y.byteLength||te.byteOffset!=Y.byteOffset)return!1;te=te.buffer,Y=Y.buffer;case"[object ArrayBuffer]":return!(te.byteLength!=Y.byteLength||!Ue(new $(te),new $(Y)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Dt(+te,+Y);case"[object Error]":return te.name==Y.name&&te.message==Y.message;case"[object RegExp]":case"[object String]":return te==Y+"";case ne:var $e=ee;case X:var Xe=2&De;if($e||($e=i),te.size!=Y.size&&!Xe)return!1;var ct=ze.get(te);if(ct)return ct==Y;De|=1,ze.set(te,Y);var Je=kt($e(te),$e(Y),Ue,ut,De,ze);return ze.delete(te),Je;case"[object Symbol]":if(N)return N.call(te)==N.call(Y)}return!1}(_,P,ye,ie,se,Q,H);if(!(2&Q)){var Pt=Me&&p.call(_,"__wrapped__"),Mt=We&&p.call(P,"__wrapped__");if(Pt||Mt){var Kt=Pt?_.value():_,Ut=Mt?P.value():P;return H||(H=new Se),ie(Kt,Ut,se,Q,H)}}return Be?(H||(H=new Se),function(te,Y,wt,Ue,ut,De){var ze=2&ut,$e=st(te),Xe=$e.length,ct=st(Y).length;if(Xe!=ct&&!ze)return!1;for(var Je=Xe;Je--;){var Ge=$e[Je];if(!(ze?Ge in Y:p.call(Y,Ge)))return!1}var Ft=De.get(te);if(Ft&&De.get(Y))return Ft==Y;var lt=!0;De.set(te,Y),De.set(Y,te);for(var jt=ze;++Je<Xe;){Ge=$e[Je];var dt=te[Ge],ft=Y[Ge];if(Ue)var zt=ze?Ue(ft,dt,Ge,Y,te,De):Ue(dt,ft,Ge,te,Y,De);if(!(zt===void 0?dt===ft||wt(dt,ft,Ue,ut,De):zt)){lt=!1;break}jt||(jt=Ge=="constructor")}if(lt&&!jt){var pt=te.constructor,ht=Y.constructor;pt==ht||!("constructor"in te)||!("constructor"in Y)||typeof pt=="function"&&pt instanceof pt&&typeof ht=="function"&&ht instanceof ht||(lt=!1)}return De.delete(te),De.delete(Y),lt}(_,P,ie,se,Q,H)):!1}(e,r,Ye,a,u,j))}function Qe(e){return!(!ot(e)||function(r){return!!E&&E in r}(e))&&(At(e)||m(e)?q:Ee).test(Ke(e))}function Rt(e){return typeof e=="function"?e:e==null?Vt:typeof e=="object"?Re(e)?function(u,j){return nt(u)&&It(j)?Tt(at(u),j):function(_){var P=function(ie,se,Q){var H=ie==null?void 0:Ze(ie,se);return H===void 0?Q:H}(_,u);return P===void 0&&P===j?function(ie,se){return ie!=null&&function(Q,H,Ae){H=nt(H,Q)?[H]:Nt(H);for(var Ne,ye=-1,je=H.length;++ye<je;){var Me=at(H[ye]);if(!(Ne=Q!=null&&Ae(Q,Me)))break;Q=Q[Me]}return Ne||!!(je=Q?Q.length:0)&&xt(je)&&Et(Me,je)&&(Re(Q)||Ot(Q))}(ie,se,bt)}(_,u):Ye(j,P,void 0,3)}}(e[0],e[1]):function(u){var j=function(_){for(var P=st(_),ie=P.length;ie--;){var se=P[ie],Q=_[se];P[ie]=[se,Q,It(Q)]}return P}(u);return j.length==1&&j[0][2]?Tt(j[0][0],j[0][1]):function(_){return _===u||function(P,ie,se,Q){var H=se.length,Ae=H;if(P==null)return!Ae;for(P=Object(P);H--;){var Ne=se[H];if(Ne[2]?Ne[1]!==P[Ne[0]]:!(Ne[0]in P))return!1}for(;++H<Ae;){var ye=(Ne=se[H])[0],je=P[ye],Me=Ne[1];if(Ne[2]){if(je===void 0&&!(ye in P))return!1}else{var We=new Se,Be;if(!(Be===void 0?Ye(Me,je,Q,3,We):Be))return!1}}return!0}(_,u,j)}}(e):nt(r=e)?(a=at(r),function(u){return u==null?void 0:u[a]}):function(u){return function(j){return Ze(j,u)}}(r);var r,a}function Bt(e){if(a=(r=e)&&r.constructor,u=typeof a=="function"&&a.prototype||v,r!==u)return de(e);var r,a,u,j=[];for(var _ in Object(e))p.call(e,_)&&_!="constructor"&&j.push(_);return j}function Nt(e){return Re(e)?e:$t(e)}function kt(e,r,a,u,j,_){var P=2&j,ie=e.length,se=r.length;if(ie!=se&&!(P&&se>ie))return!1;var Q=_.get(e);if(Q&&_.get(r))return Q==r;var H=-1,Ae=!0,Ne=1&j?new Te:void 0;for(_.set(e,r),_.set(r,e);++H<ie;){var ye=e[H],je=r[H];if(u)var Me=P?u(je,ye,H,r,e,_):u(ye,je,H,e,r,_);if(Me!==void 0){if(Me)continue;Ae=!1;break}if(Ne){if(!U(r,function(We,Be){if(!Ne.has(Be)&&(ye===We||a(ye,We,u,j,_)))return Ne.add(Be)})){Ae=!1;break}}else if(ye!==je&&!a(ye,je,u,j,_)){Ae=!1;break}}return _.delete(e),_.delete(r),Ae}function rt(e,r){var a,u,j=e.__data__;return((u=typeof(a=r))=="string"||u=="number"||u=="symbol"||u=="boolean"?a!=="__proto__":a===null)?j[typeof r=="string"?"string":"hash"]:j.map}function He(e,r){var a=function(u,j){return u==null?void 0:u[j]}(e,r);return Qe(a)?a:void 0}var Le=function(e){return t.call(e)};function Et(e,r){return!!(r=r??9007199254740991)&&(typeof e=="number"||he.test(e))&&e>-1&&e%1==0&&e<r}function nt(e,r){if(Re(e))return!1;var a=typeof e;return!(a!="number"&&a!="symbol"&&a!="boolean"&&e!=null&&!Ct(e))||xe.test(e)||!ve.test(e)||r!=null&&e in Object(r)}function It(e){return e==e&&!ot(e)}function Tt(e,r){return function(a){return a!=null&&a[e]===r&&(r!==void 0||e in Object(a))}}(pe&&Le(new pe(new ArrayBuffer(1)))!="[object DataView]"||me&&Le(new me)!=ne||fe&&Le(fe.resolve())!="[object Promise]"||n&&Le(new n)!=X||o&&Le(new o)!="[object WeakMap]")&&(Le=function(e){var r=t.call(e),a=r==ue?e.constructor:void 0,u=a?Ke(a):void 0;if(u)switch(u){case O:return"[object DataView]";case I:return ne;case A:return"[object Promise]";case M:return X;case Z:return"[object WeakMap]"}return r});var $t=yt(function(e){var r;e=(r=e)==null?"":function(u){if(typeof u=="string")return u;if(Ct(u))return L?L.call(u):"";var j=u+"";return j=="0"&&1/u==-1/0?"-0":j}(r);var a=[];return be.test(e)&&a.push(""),e.replace(Ce,function(u,j,_,P){a.push(_?P.replace(we,"$1"):j||u)}),a});function at(e){if(typeof e=="string"||Ct(e))return e;var r=e+"";return r=="0"&&1/e==-1/0?"-0":r}function Ke(e){if(e!=null){try{return z.call(e)}catch{}try{return e+""}catch{}}return""}function yt(e,r){if(typeof e!="function"||r&&typeof r!="function")throw new TypeError("Expected a function");var a=function(){var u=arguments,j=r?r.apply(this,u):u[0],_=a.cache;if(_.has(j))return _.get(j);var P=e.apply(this,u);return a.cache=_.set(j,P),P};return a.cache=new(yt.Cache||oe),a}function Dt(e,r){return e===r||e!=e&&r!=r}function Ot(e){return function(r){return it(r)&&vt(r)}(e)&&p.call(e,"callee")&&(!le.call(e,"callee")||t.call(e)==R)}yt.Cache=oe;var Re=Array.isArray;function vt(e){return e!=null&&xt(e.length)&&!At(e)}function At(e){var r=ot(e)?t.call(e):"";return r=="[object Function]"||r=="[object GeneratorFunction]"}function xt(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991}function ot(e){var r=typeof e;return!!e&&(r=="object"||r=="function")}function it(e){return!!e&&typeof e=="object"}function Ct(e){return typeof e=="symbol"||it(e)&&t.call(e)=="[object Symbol]"}var Gt=K?function(e){return function(r){return e(r)}}(K):function(e){return it(e)&&xt(e.length)&&!!C[t.call(e)]};function st(e){return vt(e)?Oe(e):Bt(e)}function Vt(e){return e}D.exports=function(e,r,a){var u=Re(e)?ce:_e,j=arguments.length<3;return u(e,Rt(r),a,j,ge)}}).call(this,h(3),h(7)(G))},function(G,T){G.exports=function(h){return h.webpackPolyfill||(h.deprecate=function(){},h.paths=[],h.children||(h.children=[]),Object.defineProperty(h,"loaded",{enumerable:!0,get:function(){return h.l}}),Object.defineProperty(h,"id",{enumerable:!0,get:function(){return h.i}}),h.webpackPolyfill=1),h}},function(G,T){String.prototype.padEnd||(String.prototype.padEnd=function(h,c){return h>>=0,c=String(c!==void 0?c:" "),this.length>h?String(this):((h-=this.length)>c.length&&(c+=c.repeat(h/c.length)),String(this)+c.slice(0,h))})},function(G,T,h){function c(v,l,E){return l in v?Object.defineProperty(v,l,{value:E,enumerable:!0,configurable:!0,writable:!0}):v[l]=E,v}function D(v){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]")return Array.from(v)}function R(v){return function(l){if(Array.isArray(l)){for(var E=0,z=new Array(l.length);E<l.length;E++)z[E]=l[E];return z}}(v)||D(v)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ne(v){if(Array.isArray(v))return v}function ue(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function X(v,l){if(!(v instanceof l))throw new TypeError("Cannot call a class as a function")}function ve(v,l){for(var E=0;E<l.length;E++){var z=l[E];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(v,z.key,z)}}function xe(v){return(xe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(v)}function be(v){return(be=typeof Symbol=="function"&&xe(Symbol.iterator)==="symbol"?function(l){return xe(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":xe(l)})(v)}function Ce(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function we(v){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(v)}function Ee(v,l){return(Ee=Object.setPrototypeOf||function(E,z){return E.__proto__=z,E})(v,l)}h.r(T);var he=h(0),C=h.n(he),Ie=h(5),F=h.n(Ie),V=h(4),S=h.n(V),x=h(6),W=h.n(x),re=h(2),K=h.n(re),ce=h(1),U=h.n(ce);h(8);function _e(v,l){return ne(v)||function(E,z){var p=[],t=!0,q=!1,B=void 0;try{for(var $,le=E[Symbol.iterator]();!(t=($=le.next()).done)&&(p.push($.value),!z||p.length!==z);t=!0);}catch(ae){q=!0,B=ae}finally{try{t||le.return==null||le.return()}finally{if(q)throw B}}return p}(v,l)||ue()}var m=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........",0,["11","221","223","261","264","2652","280","2905","291","2920","2966","299","341","342","343","351","376","379","381","3833","385","387","388"]],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ....",0,["2","3","4","7","8","02","03","04","07","08"]],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599","",1],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86","..-........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506","....-...."],["Côte d’Ivoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Curaçao",["america","carribean"],"cw","599","",0],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1","",2,["809","829","849"]],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503","....-...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502","....-...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509","....-...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91",".....-....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... .......",0],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ...-..-..",1,["310","311","312","313","315","318","321","324","325","326","327","336","7172","73622"]],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60","..-....-...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ....",0,["55","81","33","656","664","998","774","229"]],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) ..-..-.."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","...-...-...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","...-......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","...-...-..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1","",3,["787","939"]],["Qatar",["middle-east"],"qa","974"],["Réunion",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ...-..-..",0],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["São Tomé and Príncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65","....-...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ...-..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ...-....",0,["907","205","251","256","334","479","501","870","480","520","602","623","928","209","213","310","323","408","415","510","530","559","562","619","626","650","661","707","714","760","805","818","831","858","909","916","925","949","951","303","719","970","203","860","202","302","239","305","321","352","386","407","561","727","772","813","850","863","904","941","954","229","404","478","706","770","912","808","319","515","563","641","712","208","217","309","312","618","630","708","773","815","847","219","260","317","574","765","812","316","620","785","913","270","502","606","859","225","318","337","504","985","413","508","617","781","978","301","410","207","231","248","269","313","517","586","616","734","810","906","989","218","320","507","612","651","763","952","314","417","573","636","660","816","228","601","662","406","252","336","704","828","910","919","701","308","402","603","201","609","732","856","908","973","505","575","702","775","212","315","516","518","585","607","631","716","718","845","914","216","330","419","440","513","614","740","937","405","580","918","503","541","215","412","570","610","717","724","814","401","803","843","864","605","423","615","731","865","901","931","210","214","254","281","325","361","409","432","512","713","806","817","830","903","915","936","940","956","972","979","435","801","276","434","540","703","757","804","802","206","253","360","425","509","262","414","608","715","920","304","307"]],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ....",1],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],ee=[["American Samoa",["oceania"],"as","1684"],["Anguilla",["america","carribean"],"ai","1264"],["Bermuda",["america","north-america"],"bm","1441"],["British Virgin Islands",["america","carribean"],"vg","1284"],["Cayman Islands",["america","carribean"],"ky","1345"],["Cook Islands",["oceania"],"ck","682"],["Falkland Islands",["america","south-america"],"fk","500"],["Faroe Islands",["europe"],"fo","298"],["Gibraltar",["europe"],"gi","350"],["Greenland",["america"],"gl","299"],["Jersey",["europe","eu-union"],"je","44",".... ......"],["Montserrat",["america","carribean"],"ms","1664"],["Niue",["asia"],"nu","683"],["Norfolk Island",["oceania"],"nf","672"],["Northern Mariana Islands",["oceania"],"mp","1670"],["Saint Barthélemy",["america","carribean"],"bl","590","",1],["Saint Helena",["africa"],"sh","290"],["Saint Martin",["america","carribean"],"mf","590","",2],["Saint Pierre and Miquelon",["america","north-america"],"pm","508"],["Sint Maarten",["america","carribean"],"sx","1721"],["Tokelau",["oceania"],"tk","690"],["Turks and Caicos Islands",["america","carribean"],"tc","1649"],["U.S. Virgin Islands",["america","carribean"],"vi","1340"],["Wallis and Futuna",["oceania"],"wf","681"]];function i(v,l,E,z,p){return!E||p?v+"".padEnd(l.length,".")+" "+z:v+"".padEnd(l.length,".")+" "+E}function f(v,l,E,z,p){var t,q,B=[];return q=l===!0,[(t=[]).concat.apply(t,R(v.map(function($){var le={name:$[0],regions:$[1],iso2:$[2],countryCode:$[3],dialCode:$[3],format:i(E,$[3],$[4],z,p),priority:$[5]||0},ae=[];return $[6]&&$[6].map(function(de){var pe=function(me){for(var fe=1;fe<arguments.length;fe++){var n=arguments[fe]!=null?arguments[fe]:{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(g){return Object.getOwnPropertyDescriptor(n,g).enumerable}))),o.forEach(function(g){c(me,g,n[g])})}return me}({},le);pe.dialCode=$[3]+de,pe.isAreaCode=!0,pe.areaCodeLength=de.length,ae.push(pe)}),ae.length>0?(le.mainCode=!0,q||l.constructor.name==="Array"&&l.includes($[2])?(le.hasAreaCodes=!0,[le].concat(ae)):(B=B.concat(ae),[le])):[le]}))),B]}function d(v,l,E,z){if(E!==null){var p=Object.keys(E),t=Object.values(E);p.forEach(function(q,B){if(z)return v.push([q,t[B]]);var $=v.findIndex(function(ae){return ae[0]===q});if($===-1){var le=[q];le[l]=t[B],v.push(le)}else v[$][l]=t[B]})}}function k(v,l){return l.length===0?v:v.map(function(E){var z=l.findIndex(function(t){return t[0]===E[2]});if(z===-1)return E;var p=l[z];return p[1]&&(E[4]=p[1]),p[3]&&(E[5]=p[3]),p[2]&&(E[6]=p[2]),E})}var J=function v(l,E,z,p,t,q,B,$,le,ae,de,pe,me,fe){X(this,v),this.filterRegions=function(b,N){if(typeof b=="string"){var L=b;return N.filter(function(y){return y.regions.some(function(w){return w===L})})}return N.filter(function(y){return b.map(function(w){return y.regions.some(function(oe){return oe===w})}).some(function(w){return w})})},this.sortTerritories=function(b,N){var L=[].concat(R(b),R(N));return L.sort(function(y,w){return y.name<w.name?-1:y.name>w.name?1:0}),L},this.getFilteredCountryList=function(b,N,L){return b.length===0?N:L?b.map(function(y){var w=N.find(function(oe){return oe.iso2===y});if(w)return w}).filter(function(y){return y}):N.filter(function(y){return b.some(function(w){return w===y.iso2})})},this.localizeCountries=function(b,N,L){for(var y=0;y<b.length;y++)N[b[y].iso2]!==void 0?b[y].localName=N[b[y].iso2]:N[b[y].name]!==void 0&&(b[y].localName=N[b[y].name]);return L||b.sort(function(w,oe){return w.localName<oe.localName?-1:w.localName>oe.localName?1:0}),b},this.getCustomAreas=function(b,N){for(var L=[],y=0;y<N.length;y++){var w=JSON.parse(JSON.stringify(b));w.dialCode+=N[y],L.push(w)}return L},this.excludeCountries=function(b,N){return N.length===0?b:b.filter(function(L){return!N.includes(L.iso2)})};var n=function(b,N,L){var y=[];return d(y,1,b,!0),d(y,3,N),d(y,2,L),y}($,le,ae),o=k(JSON.parse(JSON.stringify(m)),n),g=k(JSON.parse(JSON.stringify(ee)),n),O=_e(f(o,l,pe,me,fe),2),I=O[0],A=O[1];if(E){var M=_e(f(g,l,pe,me,fe),2),Z=M[0];M[1],I=this.sortTerritories(Z,I)}z&&(I=this.filterRegions(z,I)),this.onlyCountries=this.localizeCountries(this.excludeCountries(this.getFilteredCountryList(p,I,B.includes("onlyCountries")),q),de,B.includes("onlyCountries")),this.preferredCountries=t.length===0?[]:this.localizeCountries(this.getFilteredCountryList(t,I,B.includes("preferredCountries")),de,B.includes("preferredCountries")),this.hiddenAreaCodes=this.excludeCountries(this.getFilteredCountryList(p,A),q)},Pe=function(v){function l(p){var t;X(this,l),(t=function(n,o){return!o||be(o)!=="object"&&typeof o!="function"?Ce(n):o}(this,we(l).call(this,p))).getProbableCandidate=S()(function(n){return n&&n.length!==0?t.state.onlyCountries.filter(function(o){return K()(o.name.toLowerCase(),n.toLowerCase())},Ce(Ce(t)))[0]:null}),t.guessSelectedCountry=S()(function(n,o,g,O){var I;if(t.props.enableAreaCodes===!1&&(O.some(function(Z){if(K()(n,Z.dialCode))return g.some(function(b){if(Z.iso2===b.iso2&&b.mainCode)return I=b,!0}),!0}),I))return I;var A=g.find(function(Z){return Z.iso2==o});if(n.trim()==="")return A;var M=g.reduce(function(Z,b){return K()(n,b.dialCode)&&(b.dialCode.length>Z.dialCode.length||b.dialCode.length===Z.dialCode.length&&b.priority<Z.priority)?b:Z},{dialCode:"",priority:10001},Ce(Ce(t)));return M.name?M:A}),t.updateCountry=function(n){var o,g=t.state.onlyCountries;(o=n.indexOf(0)>="0"&&n.indexOf(0)<="9"?g.find(function(O){return O.dialCode==+n}):g.find(function(O){return O.iso2==n}))&&o.dialCode&&t.setState({selectedCountry:o,formattedNumber:t.props.disableCountryCode?"":t.formatNumber(o.dialCode,o)})},t.scrollTo=function(n,o){if(n){var g=t.dropdownRef;if(g&&document.body){var O=g.offsetHeight,I=g.getBoundingClientRect().top+document.body.scrollTop,A=I+O,M=n,Z=M.getBoundingClientRect(),b=M.offsetHeight,N=Z.top+document.body.scrollTop,L=N+b,y=N-I+g.scrollTop,w=O/2-b/2;if(t.props.enableSearch?N<I+32:N<I)o&&(y-=w),g.scrollTop=y;else if(L>A){o&&(y+=w);var oe=O-b;g.scrollTop=y-oe}}}},t.scrollToTop=function(){var n=t.dropdownRef;n&&document.body&&(n.scrollTop=0)},t.formatNumber=function(n,o){if(!o)return n;var g,O=o.format,I=t.props,A=I.disableCountryCode,M=I.enableAreaCodeStretch,Z=I.enableLongNumbers,b=I.autoFormat;if(A?((g=O.split(" ")).shift(),g=g.join(" ")):M&&o.isAreaCode?((g=O.split(" "))[1]=g[1].replace(/\.+/,"".padEnd(o.areaCodeLength,".")),g=g.join(" ")):g=O,!n||n.length===0)return A?"":t.props.prefix;if(n&&n.length<2||!g||!b)return A?n:t.props.prefix+n;var N,L=W()(g,function(y,w){if(y.remainingText.length===0)return y;if(w!==".")return{formattedText:y.formattedText+w,remainingText:y.remainingText};var oe,Te=ne(oe=y.remainingText)||D(oe)||ue(),Se=Te[0],Oe=Te.slice(1);return{formattedText:y.formattedText+Se,remainingText:Oe}},{formattedText:"",remainingText:n.split("")});return(N=Z?L.formattedText+L.remainingText.join(""):L.formattedText).includes("(")&&!N.includes(")")&&(N+=")"),N},t.cursorToEnd=function(){var n=t.numberInputRef;if(document.activeElement===n){n.focus();var o=n.value.length;n.value.charAt(o-1)===")"&&(o-=1),n.setSelectionRange(o,o)}},t.getElement=function(n){return t["flag_no_".concat(n)]},t.getCountryData=function(){return t.state.selectedCountry?{name:t.state.selectedCountry.name||"",dialCode:t.state.selectedCountry.dialCode||"",countryCode:t.state.selectedCountry.iso2||"",format:t.state.selectedCountry.format||""}:{}},t.handleFlagDropdownClick=function(n){if(n.preventDefault(),t.state.showDropdown||!t.props.disabled){var o=t.state,g=o.preferredCountries,O=o.onlyCountries,I=o.selectedCountry,A=t.concatPreferredCountries(g,O).findIndex(function(M){return M.dialCode===I.dialCode&&M.iso2===I.iso2});t.setState({showDropdown:!t.state.showDropdown,highlightCountryIndex:A},function(){t.state.showDropdown&&t.scrollTo(t.getElement(t.state.highlightCountryIndex))})}},t.handleInput=function(n){var o=n.target.value,g=t.props,O=g.prefix,I=g.onChange,A=t.props.disableCountryCode?"":O,M=t.state.selectedCountry,Z=t.state.freezeSelection;if(!t.props.countryCodeEditable){var b=O+(M.hasAreaCodes?t.state.onlyCountries.find(function(ge){return ge.iso2===M.iso2&&ge.mainCode}).dialCode:M.dialCode);if(o.slice(0,b.length)!==b)return}if(o===O)return I&&I("",t.getCountryData(),n,""),t.setState({formattedNumber:""});if(!(o.replace(/\D/g,"").length>15&&(t.props.enableLongNumbers===!1||typeof t.props.enableLongNumbers=="number"&&o.replace(/\D/g,"").length>t.props.enableLongNumbers))&&o!==t.state.formattedNumber){n.preventDefault?n.preventDefault():n.returnValue=!1;var N=t.props.country,L=t.state,y=L.onlyCountries,w=L.selectedCountry,oe=L.hiddenAreaCodes;if(I&&n.persist(),o.length>0){var Te=o.replace(/\D/g,"");(!t.state.freezeSelection||w&&w.dialCode.length>Te.length)&&(M=t.props.disableCountryGuess?w:t.guessSelectedCountry(Te.substring(0,6),N,y,oe)||w,Z=!1),A=t.formatNumber(Te,M),M=M.dialCode?M:w}var Se=n.target.selectionStart,Oe=n.target.selectionStart,Fe=t.state.formattedNumber,Ve=A.length-Fe.length;t.setState({formattedNumber:A,freezeSelection:Z,selectedCountry:M},function(){Ve>0&&(Oe-=Ve),A.charAt(A.length-1)==")"?t.numberInputRef.setSelectionRange(A.length-1,A.length-1):Oe>0&&Fe.length>=A.length?t.numberInputRef.setSelectionRange(Oe,Oe):Se<Fe.length&&t.numberInputRef.setSelectionRange(Se,Se),I&&I(A.replace(/[^0-9]+/g,""),t.getCountryData(),n,A)})}},t.handleInputClick=function(n){t.setState({showDropdown:!1}),t.props.onClick&&t.props.onClick(n,t.getCountryData())},t.handleDoubleClick=function(n){var o=n.target.value.length;n.target.setSelectionRange(0,o)},t.handleFlagItemClick=function(n,o){var g=t.state.selectedCountry,O=t.state.onlyCountries.find(function(Z){return Z==n});if(O){var I=t.state.formattedNumber.replace(" ","").replace("(","").replace(")","").replace("-",""),A=I.length>1?I.replace(g.dialCode,O.dialCode):O.dialCode,M=t.formatNumber(A.replace(/\D/g,""),O);t.setState({showDropdown:!1,selectedCountry:O,freezeSelection:!0,formattedNumber:M,searchValue:""},function(){t.cursorToEnd(),t.props.onChange&&t.props.onChange(M.replace(/[^0-9]+/g,""),t.getCountryData(),o,M)})}},t.handleInputFocus=function(n){t.numberInputRef&&t.numberInputRef.value===t.props.prefix&&t.state.selectedCountry&&!t.props.disableCountryCode&&t.setState({formattedNumber:t.props.prefix+t.state.selectedCountry.dialCode},function(){t.props.jumpCursorToEnd&&setTimeout(t.cursorToEnd,0)}),t.setState({placeholder:""}),t.props.onFocus&&t.props.onFocus(n,t.getCountryData()),t.props.jumpCursorToEnd&&setTimeout(t.cursorToEnd,0)},t.handleInputBlur=function(n){n.target.value||t.setState({placeholder:t.props.placeholder}),t.props.onBlur&&t.props.onBlur(n,t.getCountryData())},t.handleInputCopy=function(n){if(t.props.copyNumbersOnly){var o=window.getSelection().toString().replace(/[^0-9]+/g,"");n.clipboardData.setData("text/plain",o),n.preventDefault()}},t.getHighlightCountryIndex=function(n){var o=t.state.highlightCountryIndex+n;return o<0||o>=t.state.onlyCountries.length+t.state.preferredCountries.length?o-n:t.props.enableSearch&&o>t.getSearchFilteredCountries().length?0:o},t.searchCountry=function(){var n=t.getProbableCandidate(t.state.queryString)||t.state.onlyCountries[0],o=t.state.onlyCountries.findIndex(function(g){return g==n})+t.state.preferredCountries.length;t.scrollTo(t.getElement(o),!0),t.setState({queryString:"",highlightCountryIndex:o})},t.handleKeydown=function(n){var o=t.props.keys,g=n.target.className;if(g.includes("selected-flag")&&n.which===o.ENTER&&!t.state.showDropdown)return t.handleFlagDropdownClick(n);if(g.includes("form-control")&&(n.which===o.ENTER||n.which===o.ESC))return n.target.blur();if(t.state.showDropdown&&!t.props.disabled&&(!g.includes("search-box")||n.which===o.UP||n.which===o.DOWN||n.which===o.ENTER||n.which===o.ESC&&n.target.value==="")){n.preventDefault?n.preventDefault():n.returnValue=!1;var O=function(I){t.setState({highlightCountryIndex:t.getHighlightCountryIndex(I)},function(){t.scrollTo(t.getElement(t.state.highlightCountryIndex),!0)})};switch(n.which){case o.DOWN:O(1);break;case o.UP:O(-1);break;case o.ENTER:t.props.enableSearch?t.handleFlagItemClick(t.getSearchFilteredCountries()[t.state.highlightCountryIndex]||t.getSearchFilteredCountries()[0],n):t.handleFlagItemClick([].concat(R(t.state.preferredCountries),R(t.state.onlyCountries))[t.state.highlightCountryIndex],n);break;case o.ESC:case o.TAB:t.setState({showDropdown:!1},t.cursorToEnd);break;default:(n.which>=o.A&&n.which<=o.Z||n.which===o.SPACE)&&t.setState({queryString:t.state.queryString+String.fromCharCode(n.which)},t.state.debouncedQueryStingSearcher)}}},t.handleInputKeyDown=function(n){var o=t.props,g=o.keys,O=o.onEnterKeyPress,I=o.onKeyDown;n.which===g.ENTER&&O&&O(n),I&&I(n)},t.handleClickOutside=function(n){t.dropdownRef&&!t.dropdownContainerRef.contains(n.target)&&t.state.showDropdown&&t.setState({showDropdown:!1})},t.handleSearchChange=function(n){var o=n.currentTarget.value,g=t.state,O=g.preferredCountries,I=g.selectedCountry,A=0;if(o===""&&I){var M=t.state.onlyCountries;A=t.concatPreferredCountries(O,M).findIndex(function(Z){return Z==I}),setTimeout(function(){return t.scrollTo(t.getElement(A))},100)}t.setState({searchValue:o,highlightCountryIndex:A})},t.concatPreferredCountries=function(n,o){return n.length>0?R(new Set(n.concat(o))):o},t.getDropdownCountryName=function(n){return n.localName||n.name},t.getSearchFilteredCountries=function(){var n=t.state,o=n.preferredCountries,g=n.onlyCountries,O=n.searchValue,I=t.props.enableSearch,A=t.concatPreferredCountries(o,g),M=O.trim().toLowerCase().replace("+","");if(I&&M){if(/^\d+$/.test(M))return A.filter(function(N){var L=N.dialCode;return["".concat(L)].some(function(y){return y.toLowerCase().includes(M)})});var Z=A.filter(function(N){var L=N.iso2;return["".concat(L)].some(function(y){return y.toLowerCase().includes(M)})}),b=A.filter(function(N){var L=N.name,y=N.localName;return N.iso2,["".concat(L),"".concat(y||"")].some(function(w){return w.toLowerCase().includes(M)})});return t.scrollToTop(),R(new Set([].concat(Z,b)))}return A},t.getCountryDropdownList=function(){var n=t.state,o=n.preferredCountries,g=n.highlightCountryIndex,O=n.showDropdown,I=n.searchValue,A=t.props,M=A.disableDropdown,Z=A.prefix,b=t.props,N=b.enableSearch,L=b.searchNotFound,y=b.disableSearchIcon,w=b.searchClass,oe=b.searchStyle,Te=b.searchPlaceholder,Se=b.autocompleteSearch,Oe=t.getSearchFilteredCountries().map(function(ge,qe){var Ze=g===qe,bt=U()({country:!0,preferred:ge.iso2==="us"||ge.iso2==="gb",active:ge.iso2==="us",highlight:Ze}),Ye="flag ".concat(ge.iso2);return C.a.createElement("li",Object.assign({ref:function(Qe){return t["flag_no_".concat(qe)]=Qe},key:"flag_no_".concat(qe),"data-flag-key":"flag_no_".concat(qe),className:bt,"data-dial-code":"1",tabIndex:M?"-1":"0","data-country-code":ge.iso2,onClick:function(Qe){return t.handleFlagItemClick(ge,Qe)},role:"option"},Ze?{"aria-selected":!0}:{}),C.a.createElement("div",{className:Ye}),C.a.createElement("span",{className:"country-name"},t.getDropdownCountryName(ge)),C.a.createElement("span",{className:"dial-code"},ge.format?t.formatNumber(ge.dialCode,ge):Z+ge.dialCode))}),Fe=C.a.createElement("li",{key:"dashes",className:"divider"});o.length>0&&(!N||N&&!I.trim())&&Oe.splice(o.length,0,Fe);var Ve=U()(c({"country-list":!0,hide:!O},t.props.dropdownClass,!0));return C.a.createElement("ul",{ref:function(ge){return!N&&ge&&ge.focus(),t.dropdownRef=ge},className:Ve,style:t.props.dropdownStyle,role:"listbox",tabIndex:"0"},N&&C.a.createElement("li",{className:U()(c({search:!0},w,w))},!y&&C.a.createElement("span",{className:U()(c({"search-emoji":!0},"".concat(w,"-emoji"),w)),role:"img","aria-label":"Magnifying glass"},"🔎"),C.a.createElement("input",{className:U()(c({"search-box":!0},"".concat(w,"-box"),w)),style:oe,type:"search",placeholder:Te,autoFocus:!0,autoComplete:Se?"on":"off",value:I,onChange:t.handleSearchChange})),Oe.length>0?Oe:C.a.createElement("li",{className:"no-entries-message"},C.a.createElement("span",null,L)))};var q,B=new J(p.enableAreaCodes,p.enableTerritories,p.regions,p.onlyCountries,p.preferredCountries,p.excludeCountries,p.preserveOrder,p.masks,p.priority,p.areaCodes,p.localization,p.prefix,p.defaultMask,p.alwaysDefaultMask),$=B.onlyCountries,le=B.preferredCountries,ae=B.hiddenAreaCodes,de=p.value?p.value.replace(/\D/g,""):"";q=p.disableInitialCountryGuess?0:de.length>1?t.guessSelectedCountry(de.substring(0,6),p.country,$,ae)||0:p.country&&$.find(function(n){return n.iso2==p.country})||0;var pe,me=de.length<2&&q&&!K()(de,q.dialCode)?q.dialCode:"";pe=de===""&&q===0?"":t.formatNumber((p.disableCountryCode?"":me)+de,q.name?q:void 0);var fe=$.findIndex(function(n){return n==q});return t.state={showDropdown:p.showDropdown,formattedNumber:pe,onlyCountries:$,preferredCountries:le,hiddenAreaCodes:ae,selectedCountry:q,highlightCountryIndex:fe,queryString:"",freezeSelection:!1,debouncedQueryStingSearcher:F()(t.searchCountry,250),searchValue:""},t}var E,z;return function(p,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(t&&t.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),t&&Ee(p,t)}(l,v),E=l,(z=[{key:"componentDidMount",value:function(){document.addEventListener&&this.props.enableClickOutside&&document.addEventListener("mousedown",this.handleClickOutside),this.props.onMount&&this.props.onMount(this.state.formattedNumber.replace(/[^0-9]+/g,""),this.getCountryData(),this.state.formattedNumber)}},{key:"componentWillUnmount",value:function(){document.removeEventListener&&this.props.enableClickOutside&&document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(p,t,q){p.country!==this.props.country?this.updateCountry(this.props.country):p.value!==this.props.value&&this.updateFormattedNumber(this.props.value)}},{key:"updateFormattedNumber",value:function(p){if(p===null)return this.setState({selectedCountry:0,formattedNumber:""});var t=this.state,q=t.onlyCountries,B=t.selectedCountry,$=t.hiddenAreaCodes,le=this.props,ae=le.country,de=le.prefix;if(p==="")return this.setState({selectedCountry:B,formattedNumber:""});var pe,me,fe=p.replace(/\D/g,"");if(B&&K()(p,de+B.dialCode))me=this.formatNumber(fe,B),this.setState({formattedNumber:me});else{var n=(pe=this.props.disableCountryGuess?B:this.guessSelectedCountry(fe.substring(0,6),ae,q,$)||B)&&K()(fe,de+pe.dialCode)?pe.dialCode:"";me=this.formatNumber((this.props.disableCountryCode?"":n)+fe,pe||void 0),this.setState({selectedCountry:pe,formattedNumber:me})}}},{key:"render",value:function(){var p,t,q,B=this,$=this.state,le=$.onlyCountries,ae=$.selectedCountry,de=$.showDropdown,pe=$.formattedNumber,me=$.hiddenAreaCodes,fe=this.props,n=fe.disableDropdown,o=fe.renderStringAsFlag,g=fe.isValid,O=fe.defaultErrorMessage,I=fe.specialLabel;if(typeof g=="boolean")t=g;else{var A=g(pe.replace(/\D/g,""),ae,le,me);typeof A=="boolean"?(t=A)===!1&&(q=O):(t=!1,q=A)}var M=U()((c(p={},this.props.containerClass,!0),c(p,"react-tel-input",!0),p)),Z=U()({arrow:!0,up:de}),b=U()(c({"form-control":!0,"invalid-number":!t,open:de},this.props.inputClass,!0)),N=U()({"selected-flag":!0,open:de}),L=U()(c({"flag-dropdown":!0,"invalid-number":!t,open:de},this.props.buttonClass,!0)),y="flag ".concat(ae&&ae.iso2);return C.a.createElement("div",{className:"".concat(M," ").concat(this.props.className),style:this.props.style||this.props.containerStyle,onKeyDown:this.handleKeydown},I&&C.a.createElement("div",{className:"special-label"},I),q&&C.a.createElement("div",{className:"invalid-number-message"},q),C.a.createElement("input",Object.assign({className:b,style:this.props.inputStyle,onChange:this.handleInput,onClick:this.handleInputClick,onDoubleClick:this.handleDoubleClick,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onCopy:this.handleInputCopy,value:pe,onKeyDown:this.handleInputKeyDown,placeholder:this.props.placeholder,disabled:this.props.disabled,type:"tel"},this.props.inputProps,{ref:function(w){B.numberInputRef=w,typeof B.props.inputProps.ref=="function"?B.props.inputProps.ref(w):typeof B.props.inputProps.ref=="object"&&(B.props.inputProps.ref.current=w)}})),C.a.createElement("div",{className:L,style:this.props.buttonStyle,ref:function(w){return B.dropdownContainerRef=w}},o?C.a.createElement("div",{className:N},o):C.a.createElement("div",{onClick:n?void 0:this.handleFlagDropdownClick,className:N,title:ae?"".concat(ae.localName||ae.name,": + ").concat(ae.dialCode):"",tabIndex:n?"-1":"0",role:"button","aria-haspopup":"listbox","aria-expanded":!!de||void 0},C.a.createElement("div",{className:y},!n&&C.a.createElement("div",{className:Z}))),de&&this.getCountryDropdownList()))}}])&&ve(E.prototype,z),l}(C.a.Component);Pe.defaultProps={country:"",value:"",onlyCountries:[],preferredCountries:[],excludeCountries:[],placeholder:"1 (702) 123-4567",searchPlaceholder:"search",searchNotFound:"No entries to show",flagsImagePath:"./flags.png",disabled:!1,containerStyle:{},inputStyle:{},buttonStyle:{},dropdownStyle:{},searchStyle:{},containerClass:"",inputClass:"",buttonClass:"",dropdownClass:"",searchClass:"",className:"",autoFormat:!0,enableAreaCodes:!1,enableTerritories:!1,disableCountryCode:!1,disableDropdown:!1,enableLongNumbers:!1,countryCodeEditable:!0,enableSearch:!1,disableSearchIcon:!1,disableInitialCountryGuess:!1,disableCountryGuess:!1,regions:"",inputProps:{},localization:{},masks:null,priority:null,areaCodes:null,preserveOrder:[],defaultMask:"... ... ... ... ..",alwaysDefaultMask:!1,prefix:"+",copyNumbersOnly:!0,renderStringAsFlag:"",autocompleteSearch:!1,jumpCursorToEnd:!0,enableAreaCodeStretch:!1,enableClickOutside:!0,showDropdown:!1,isValid:!0,defaultErrorMessage:"",specialLabel:"Phone",onEnterKeyPress:null,keys:{UP:38,DOWN:40,RIGHT:39,LEFT:37,ENTER:13,ESC:27,PLUS:43,A:65,Z:90,SPACE:32,TAB:9}},T.default=Pe}]);const Tr=qt(wr),Dr=({isOpen:G,contact:T,onClose:h})=>{const[c,D]=ke.useState([]),[R,ne]=ke.useState(""),[ue,X]=ke.useState(!1),[ve,xe]=ke.useState(!1),[be,Ce]=ke.useState(!1),[we,Ee]=ke.useState([]),[he,C]=ke.useState(""),[Ie,F]=ke.useState(!1),V=ke.useRef(null),S=()=>{var m;(m=V.current)==null||m.scrollIntoView({behavior:"smooth"})};ke.useEffect(()=>{S()},[c]),ke.useEffect(()=>{T&&G&&W()},[T,G]),ke.useEffect(()=>{if(!T||!G||!T.id)return;const m=setInterval(async()=>{var ee;try{const i=c[c.length-1],f=i==null?void 0:i.id;console.log(`🔍 Polling for new incoming messages for contact ${T.id} after ID: ${f}`);const d=await br(T.id,f);if(d.success&&d.hasNewMessages&&d.messages.length>0){console.log(`📨 Found ${d.messages.length} new incoming messages`);const k=d.messages.map(J=>({id:J.id.toString(),content:J.content,sender:J.sender,timestamp:new Date(J.timestamp),status:J.status,messageId:J.messageId}));D(J=>[...J,...k]),mt.success(`New message from ${((ee=T.email)==null?void 0:ee.split("@")[0])||"Contact"}`)}}catch(i){console.error("Error polling for new messages:",i)}},2e3);return()=>{clearInterval(m)}},[T==null?void 0:T.id,G,c]);const x=async()=>{try{const m=await xr();m.success&&m.data&&(Ee(m.data),m.data.length>0&&!he&&C(m.data[0].number))}catch(m){console.error("Failed to load phone numbers:",m)}};ke.useEffect(()=>{G&&x()},[G]),ke.useEffect(()=>{G||(D([]),ne(""),Ce(!1))},[G]);const W=async()=>{if(T){X(!0);try{const m=await gr(T.id);if(m.success){const ee=m.messages.map(i=>({id:i.id.toString(),content:i.content,sender:i.sender,timestamp:new Date(i.timestamp),status:i.status,messageId:i.message_id}));D(ee)}else D([])}catch(m){console.error("Failed to load message history:",m),mt.error("Failed to load message history"),D([])}finally{X(!1)}}},re=async()=>{if(!R.trim()||!T||ve)return;const m=R.trim();ne(""),xe(!0);const ee={id:Date.now().toString(),content:m,sender:"user",timestamp:new Date,status:"sending"};D(i=>[...i,ee]);try{const i=yr(T.contact_number),f=await vr({toPhoneNumber:i,message:m,contactId:T.id,fromPhoneNumber:he||void 0});if(f.success)D(d=>d.map(k=>k.id===ee.id?{...k,status:"sent",messageId:f.messageId}:k)),mt.success("Message sent successfully");else throw new Error(f.error||"Failed to send message")}catch(i){console.error("Failed to send message:",i),D(f=>f.map(d=>d.id===ee.id?{...d,status:"failed"}:d)),mt.error("Failed to send message")}finally{xe(!1)}},K=m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),re())},ce=m=>m.split("@")[0].substring(0,2).toUpperCase(),U=m=>{const ee=new Date,i=new Date(m),f=ee.toDateString()===i.toDateString(),d=new Date(ee);d.setDate(d.getDate()-1);const k=d.toDateString()===i.toDateString();return f?i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):k?`Yesterday ${i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:i.toLocaleDateString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},_e=m=>{switch(m){case"sending":return s.jsx(St,{className:"h-3 w-3 animate-spin text-gray-400"});case"sent":return s.jsx(Xt,{className:"h-3 w-3 text-gray-400"});case"delivered":return s.jsx(Qt,{className:"h-3 w-3 text-blue-500"});case"failed":return s.jsx(Yt,{className:"h-3 w-3 text-red-500"});default:return null}};return T?s.jsxs(s.Fragment,{children:[G&&s.jsx("div",{className:"fixed inset-0 bg-black/20 z-40 lg:hidden",onClick:h}),s.jsxs("div",{className:et("fixed top-0 right-0 h-full w-full sm:w-3/5 lg:w-1/2 xl:w-2/5 bg-white shadow-2xl z-50 transform transition-transform duration-300 ease-in-out flex flex-col border-l border-gray-200",G?"translate-x-0":"translate-x-full"),children:[s.jsx("div",{className:"p-6 border-b bg-gradient-to-r from-slate-50 via-blue-50 to-indigo-50 flex-shrink-0 shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(hr,{className:"h-16 w-16 bg-gradient-to-br from-blue-500 via-indigo-500 to-purple-600 shadow-lg ring-2 ring-white",children:s.jsx(mr,{className:"text-white font-bold text-xl",children:ce(T.email)})}),s.jsx("div",{className:"absolute -bottom-1 -right-1 h-5 w-5 bg-green-500 border-2 border-white rounded-full shadow-sm"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-bold text-gray-900 text-xl mb-1 truncate",children:T.email.split("@")[0]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("div",{className:"flex items-center space-x-2 text-sm",children:s.jsxs("div",{className:"flex items-center space-x-1.5 bg-white/70 backdrop-blur-sm rounded-full px-2.5 py-1 shadow-sm",children:[s.jsx(Ht,{className:"h-3.5 w-3.5 text-blue-500"}),s.jsx("span",{className:"truncate font-medium text-gray-700 max-w-[200px]",children:T.email})]})}),s.jsx("div",{className:"flex items-center space-x-2 text-sm",children:s.jsxs("div",{className:"flex items-center space-x-1.5 bg-white/70 backdrop-blur-sm rounded-full px-2.5 py-1 shadow-sm",children:[s.jsx(_t,{className:"h-3.5 w-3.5 text-green-500"}),s.jsx("span",{className:"font-medium text-gray-700",children:tt(T.contact_number)})]})})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[T.list_name&&s.jsx(rr,{variant:"secondary",className:"text-xs bg-gradient-to-r from-blue-100 to-indigo-100 text-blue-700 border-blue-200 shadow-sm",children:T.list_name}),s.jsx(gt,{variant:"ghost",size:"sm",onClick:()=>Ce(!be),className:"h-9 w-9 p-0 hover:bg-white/80 hover:shadow-sm rounded-full transition-all duration-200",children:be?s.jsx(Wt,{className:"h-4 w-4 text-gray-600"}):s.jsx(Jt,{className:"h-4 w-4 text-gray-600"})}),s.jsx(gt,{variant:"ghost",size:"sm",onClick:h,className:"h-9 w-9 p-0 hover:bg-red-50 hover:shadow-sm text-gray-600 hover:text-red-600 rounded-full transition-all duration-200",children:s.jsx(Zt,{className:"h-4 w-4"})})]})]})}),!be&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:s.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gradient-to-b from-gray-50/50 to-white",style:{maxHeight:"calc(100vh - 280px)"},children:ue?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[s.jsx(St,{className:"h-8 w-8 animate-spin mb-4 text-blue-500"}),s.jsx("p",{className:"text-center text-sm",children:"Loading messages..."})]}):c.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-full flex items-center justify-center mb-4 shadow-sm",children:s.jsx(Lt,{className:"h-10 w-10 text-blue-500"})}),s.jsx("p",{className:"text-center text-sm font-medium text-gray-600",children:"No messages yet"}),s.jsxs("p",{className:"text-center text-xs text-gray-400 mt-1",children:["Start a conversation with ",T.email.split("@")[0],"!"]})]}):s.jsxs("div",{className:"space-y-4",children:[c.map(m=>s.jsx("div",{className:et("flex",m.sender==="user"?"justify-end":"justify-start"),children:s.jsxs("div",{className:et("max-w-[85%] rounded-2xl px-4 py-3 shadow-sm relative",m.sender==="user"?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white":"bg-white text-gray-900 border border-gray-200 shadow-md"),children:[s.jsx("p",{className:"text-sm leading-relaxed",children:m.content}),s.jsxs("div",{className:et("flex items-center justify-end space-x-1.5 mt-2",m.sender==="user"?"text-white/80":"text-gray-500"),children:[s.jsx("span",{className:"text-xs font-medium",children:U(m.timestamp)}),m.sender==="user"&&_e(m.status)]}),s.jsx("div",{className:et("absolute top-3 w-3 h-3 transform rotate-45",m.sender==="user"?"bg-gradient-to-r from-blue-500 to-indigo-600 -right-1.5":"bg-white border-r border-b border-gray-200 -left-1.5")})]})},m.id)),s.jsx("div",{ref:V})]})})}),s.jsxs("div",{className:"p-6 border-t bg-gradient-to-r from-gray-50 to-white flex-shrink-0 shadow-lg",children:[we.length>0?s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center space-x-2",children:[s.jsx(_t,{className:"h-4 w-4 text-blue-500"}),s.jsx("span",{children:"Send from phone number:"})]}),s.jsxs(nr,{value:he,onValueChange:C,children:[s.jsx(ar,{className:"w-full border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-lg shadow-sm",children:s.jsx(or,{placeholder:"Select phone number"})}),s.jsx(ir,{children:we.map(m=>s.jsx(sr,{value:m.number,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium",children:tt(m.number)}),m.friendlyName&&s.jsxs("span",{className:"text-gray-500 text-sm",children:["(",m.friendlyName,")"]})]})},m.id))})]})]}):s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center space-x-2",children:[s.jsx(_t,{className:"h-4 w-4 text-blue-500"}),s.jsx("span",{children:"Phone number required to send SMS:"})]}),s.jsx("div",{className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:s.jsxs(gt,{onClick:()=>F(!0),variant:"ghost",className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 font-medium",children:[s.jsx(er,{className:"h-4 w-4"}),s.jsx("span",{children:"Add Phone Number"})]})})]}),s.jsxs("div",{className:"flex items-end space-x-3",children:[s.jsx("div",{className:"flex-1",children:s.jsx(ur,{value:R,onChange:m=>ne(m.target.value),onKeyPress:K,placeholder:we.length===0?"Add a phone number to send messages...":"Type your message...",className:"w-full border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-xl px-4 py-3 shadow-sm resize-none",disabled:ve||we.length===0})}),s.jsx(gt,{onClick:re,disabled:!R.trim()||ve||!he||we.length===0,size:"sm",className:"px-4 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-xl shadow-md transition-all duration-200 hover:shadow-lg",children:ve?s.jsx(St,{className:"h-5 w-5 animate-spin"}):s.jsx(tr,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[s.jsxs("p",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[s.jsx(Lt,{className:"h-3 w-3"}),s.jsx("span",{children:he?`From ${tt(he)} to ${tt(T.contact_number)}`:`SMS to ${tt(T.contact_number)}`})]}),c.length>0&&s.jsxs("p",{className:"text-xs text-gray-400",children:[c.length," message",c.length!==1?"s":""]})]})]})]})]}),s.jsx(cr,{open:Ie,onOpenChange:F,children:s.jsxs(lr,{className:"max-w-7xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(dr,{children:[s.jsx(fr,{children:"Create New Phone Number"}),s.jsx(pr,{children:"Get a free AI CRUITMENT phone number to send SMS messages."})]}),s.jsx(Cr,{onSuccess:()=>{F(!1),x()},onCancel:()=>F(!1)})]})})]}):null};export{Dr as C,Tr as P};
//# sourceMappingURL=ChatSidebar-DzbB4q_-.js.map
