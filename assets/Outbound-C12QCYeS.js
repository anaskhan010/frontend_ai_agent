import{j as e,aT as C,aV as U,bh as H,C as de,aA as oe,an as me,av as se,aW as W,aX as le,D as ge,bi as pe,f as fe,y as Ne,T as Ce}from"./ui-BZ34e_bG.js";import{r as v}from"./vendor-DG599jyl.js";import{b as R,u as ve,c as k}from"./query-BwaCLewj.js";import{C as u,b as j,c as g,a as h,d as xe}from"./card-BYrCuzD5.js";import{B as o}from"./button-Cm3qqFtR.js";import{B as ae}from"./badge-CiNZHaLO.js";import{T as ue,a as he,b as y,c as m,d as je,e as r}from"./table-C6M1Val8.js";import{c as X,d as J,e as ye,D as ie,b as re}from"./dialog-Dr0dXxlM.js";import{u as be,a as we,t as E,d as Se}from"./index-DWPNxztX.js";import{P as ce}from"./Page-RlnDfmDi.js";import{T as Ae,a as Ie,b as Z,c as ee}from"./tabs-BYqCgTJp.js";import{g as Pe,a as Te,b as Fe,l as ke,p as Ee,r as Re,c as qe,d as De}from"./campaignService-N0-8H3KJ.js";import{h as Me}from"./phoneNumberService-DUWl0Q64.js";import{g as Le}from"./agentService-DYqi_QtR.js";import{C as Be,d as Oe,e as Ve}from"./CallRecordingPlayer-CNB_OkLd.js";import{u as Ke}from"./router-BavLd_S0.js";import"./scroll-area-sAMvAiol.js";import"./index-3J7IwK8P.js";import"./index-DwBQLlhe.js";import"./slider-sBISlhuE.js";import"./index-HDeFwIcs.js";function _e({campaignId:f,onClose:$}){var O,V,K,_,Q,T;const[b,q]=v.useState("overview"),[D,M]=v.useState(null),[w,L]=v.useState(!1),{data:S,isLoading:p}=R({queryKey:["campaign",f],queryFn:()=>Pe(f),retry:1}),{data:N,isLoading:z}=R({queryKey:["campaignCalls",f],queryFn:()=>Te(f),retry:1}),t=S==null?void 0:S.data,A=(N==null?void 0:N.data)||{},l=Object.values(A);console.log("🔍 Campaign calls data:",A),console.log("🔍 Calls list:",l),l.length>0&&(console.log("🔍 First call structure:",l[0]),console.log("🔍 First call customer:",l[0].customer),console.log("🔍 First call status:",l[0].status));const I=a=>{let s=a.duration||0;if(!s&&a.startedAt&&a.endedAt){const n=new Date(a.startedAt).getTime(),d=new Date(a.endedAt).getTime();s=Math.round((d-n)/1e3)}return{...a,duration:s,customer:a.customer||{name:null,email:null,number:null}}};console.log("Raw calls data:",N==null?void 0:N.data),console.log("Calls object:",A),console.log("Calls list:",l),console.log("First call in list:",l[0]),l[0]&&(console.log("First call ID access:",l[0].id),console.log("First call keys:",Object.keys(l[0])));const{data:i}=R({queryKey:["phoneNumber",t==null?void 0:t.phoneNumberId],queryFn:()=>Me(t.phoneNumberId),enabled:!!(t!=null&&t.phoneNumberId),retry:1}),{data:c}=R({queryKey:["assistant",t==null?void 0:t.assistantId],queryFn:()=>Le(t.assistantId),enabled:!!(t!=null&&t.assistantId),retry:1}),P=a=>{var d,x,F;console.log("Converting campaign call to CallHistoryItem:",a);const s=a.id,n={id:s,call_id:s,customer_number:((d=a.customer)==null?void 0:d.number)||"",status:a.status,type:"outbound",duration:a.duration||0,cost:a.cost||0,transcript:a.transcript||((x=a.analysis)==null?void 0:x.summary)||"",recording_url:a.recording,recordingUrl:a.recording,recording:a.recording,assistant_id:t==null?void 0:t.assistantId,assistant_name:(F=c==null?void 0:c.data)==null?void 0:F.name,end_reason:a.endedReason,started_at:a.startedAt,ended_at:a.endedAt,created_at:a.startedAt||new Date().toISOString(),updated_at:a.endedAt||new Date().toISOString(),metadata:{customer:a.customer}};return console.log("Converted CallHistoryItem:",n),n},G=a=>{const n={scheduled:{variant:"outline",icon:e.jsx(de,{className:"h-3 w-3 mr-1"})},"in-progress":{variant:"default",icon:e.jsx(H,{className:"h-3 w-3 mr-1"})},ended:{variant:"secondary",icon:e.jsx(U,{className:"h-3 w-3 mr-1"})}}[a]||{variant:"outline",icon:null};return e.jsxs(ae,{variant:n.variant,className:"flex items-center",children:[n.icon,a==="in-progress"?"Running":a.charAt(0).toUpperCase()+a.slice(1)]})},Y=a=>{const s={queued:"outline",ringing:"secondary","in-progress":"default",ended:"secondary",failed:"destructive"};return e.jsx(ae,{variant:s[a]||"outline",children:a})},B=a=>{if(!a)return"0:00";const s=Math.floor(a/60),n=a%60;return`${s}:${n.toString().padStart(2,"0")}`};return p?e.jsxs(e.Fragment,{children:[e.jsx(X,{children:e.jsx(J,{children:"Campaign Details"})}),e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(C,{className:"h-8 w-8 animate-spin"})})]}):t?e.jsxs(e.Fragment,{children:[e.jsxs(X,{children:[e.jsxs(J,{className:"flex items-center gap-2",children:[t.name,G(t.status)]}),e.jsxs(ye,{children:["Created on ",new Date(t.createdAt).toLocaleDateString()]})]}),e.jsxs(Ae,{value:b,onValueChange:q,className:"w-full",children:[e.jsxs(Ie,{className:"grid w-full grid-cols-3",children:[e.jsx(Z,{value:"overview",children:"Overview"}),e.jsx(Z,{value:"calls",children:"Calls"}),e.jsx(Z,{value:"analytics",children:"Analytics"})]}),e.jsxs(ee,{value:"overview",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(u,{children:[e.jsx(j,{className:"pb-2",children:e.jsxs(g,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(oe,{className:"h-4 w-4"}),"Total Calls"]})}),e.jsxs(h,{children:[e.jsx("div",{className:"text-2xl font-bold",children:l.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Actual calls made"})]})]}),e.jsxs(u,{children:[e.jsx(j,{className:"pb-2",children:e.jsxs(g,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4"}),"Completed"]})}),e.jsx(h,{children:e.jsx("div",{className:"text-2xl font-bold",children:t.callsCounterEnded||0})})]}),e.jsxs(u,{children:[e.jsx(j,{className:"pb-2",children:e.jsxs(g,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(me,{className:"h-4 w-4"}),"Pick Up"]})}),e.jsx(h,{children:e.jsx("div",{className:"text-2xl font-bold",children:t.callsCounterEnded>0?`${Math.round((t.callsCounterEnded-t.callsCounterEndedVoicemail)/t.callsCounterEnded*100)}%`:"0%"})})]}),e.jsxs(u,{children:[e.jsx(j,{className:"pb-2",children:e.jsxs(g,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(se,{className:"h-4 w-4"}),"Voicemail"]})}),e.jsx(h,{children:e.jsx("div",{className:"text-2xl font-bold",children:t.callsCounterEndedVoicemail||0})})]})]}),e.jsxs(u,{children:[e.jsx(j,{children:e.jsx(g,{children:"Campaign Information"})}),e.jsx(h,{className:"space-y-3",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Phone Number"}),e.jsx("p",{className:"text-sm font-mono",children:((O=i==null?void 0:i.data)==null?void 0:O.number)||((V=i==null?void 0:i.data)==null?void 0:V.friendlyName)||t.phoneNumberId}),((K=i==null?void 0:i.data)==null?void 0:K.number)&&e.jsx("p",{className:"text-xs text-muted-foreground",children:i.data.friendlyName||"AI CRUITMENT Number"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Assistant"}),e.jsx("p",{className:"text-sm",children:((_=c==null?void 0:c.data)==null?void 0:_.name)||t.assistantId||t.workflowId||"N/A"}),((Q=c==null?void 0:c.data)==null?void 0:Q.name)&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",t.assistantId]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),e.jsx("p",{className:"text-sm",children:new Date(t.createdAt).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),e.jsx("p",{className:"text-sm",children:new Date(t.updatedAt).toLocaleString()})]})]})})]})]}),e.jsx(ee,{value:"calls",className:"space-y-4",children:e.jsxs(u,{children:[e.jsxs(j,{children:[e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5"}),"Campaign Calls"]}),e.jsx(xe,{children:"Individual call details and outcomes"})]}),e.jsx(h,{children:z?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(C,{className:"h-8 w-8 animate-spin"})}):e.jsxs(ue,{children:[e.jsx(he,{children:e.jsxs(y,{children:[e.jsx(m,{children:"Customer"}),e.jsx(m,{children:"Phone Number"}),e.jsx(m,{children:"Status"}),e.jsx(m,{children:"Duration"}),e.jsx(m,{children:"Started"}),e.jsx(m,{children:"Recording"})]})}),e.jsx(je,{children:l.length===0?e.jsx(y,{children:e.jsx(r,{colSpan:6,className:"text-center text-muted-foreground py-8",children:"No calls found for this campaign"})}):l.map(a=>{var n,d,x;const s=I(a);return e.jsxs(y,{children:[e.jsx(r,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:((n=s.customer)==null?void 0:n.name)||"Unknown Customer"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:((d=s.customer)==null?void 0:d.email)||"-"})]})}),e.jsx(r,{className:"font-mono",children:((x=s.customer)==null?void 0:x.number)||"-"}),e.jsx(r,{children:Y(s.status)}),e.jsx(r,{children:B(s.duration)}),e.jsx(r,{children:s.startedAt?new Date(s.startedAt).toLocaleString():"-"}),e.jsx(r,{children:e.jsx("div",{className:"flex gap-2",children:e.jsxs(o,{size:"sm",variant:"outline",onClick:()=>{M(a),L(!0)},title:"Play Recording & View Transcript",children:[e.jsx(H,{className:"h-3 w-3 mr-1"}),"Recording"]})})})]},a.id)})})]})})]})}),e.jsx(ee,{value:"analytics",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(u,{children:[e.jsx(j,{children:e.jsx(g,{children:"Call Status Distribution"})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Scheduled"}),e.jsx("span",{className:"text-sm font-medium",children:t.callsCounterScheduled||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Queued"}),e.jsx("span",{className:"text-sm font-medium",children:t.callsCounterQueued||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"In Progress"}),e.jsx("span",{className:"text-sm font-medium",children:t.callsCounterInProgress||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Completed"}),e.jsx("span",{className:"text-sm font-medium",children:t.callsCounterEnded||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Voicemail"}),e.jsx("span",{className:"text-sm font-medium",children:t.callsCounterEndedVoicemail||0})]})]})})]}),e.jsxs(u,{children:[e.jsx(j,{children:e.jsx(g,{children:"Performance Metrics"})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Success Rate"}),e.jsx("span",{className:"text-sm font-medium",children:t.callsCounterEnded>0?`${Math.round((t.callsCounterEnded-t.callsCounterEndedVoicemail)/t.callsCounterEnded*100)}%`:"0%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Completion Rate"}),e.jsx("span",{className:"text-sm font-medium",children:((T=t.customers)==null?void 0:T.length)>0?`${Math.round(t.callsCounterEnded/t.customers.length*100)}%`:"0%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Avg Duration"}),e.jsx("span",{className:"text-sm font-medium",children:l.length>0?B(Math.round(l.reduce((a,s)=>a+(s.duration||0),0)/l.length)):"0:00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Total Cost"}),e.jsxs("span",{className:"text-sm font-medium",children:["$",l.reduce((a,s)=>a+(s.cost||0),0).toFixed(2)]})]})]})})]}),e.jsxs(u,{className:"md:col-span-2",children:[e.jsx(j,{children:e.jsx(g,{children:"Call Outcomes"})}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.filter(a=>a.status==="ended"&&a.duration&&a.duration>30).length}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Successful Calls"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:l.filter(a=>a.status==="ended"&&(!a.duration||a.duration<=30)).length}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Short Calls"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t.callsCounterEndedVoicemail||0}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Voicemails"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:l.filter(a=>a.status!=="ended").length}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Failed Calls"})]})]})})]})]})})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t",children:e.jsx(o,{onClick:$,children:"Close"})}),w&&D&&e.jsx(Be,{call:P(D),isOpen:w,onClose:()=>{L(!1),M(null)},customGetRecording:Ve,customGetTranscript:Oe})]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{children:e.jsx(J,{children:"Campaign Details"})}),e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:"Campaign not found"})})]})}const os=()=>{var a;const f=Ke(),[$,b]=v.useState(!1),[q,D]=v.useState(null),[M,w]=v.useState(!1),[L,S]=v.useState(0),p=ve(),{user:N}=be(),{isSuperAdmin:z}=we(),{data:t,isLoading:A,error:l}=R({queryKey:["outboundCampaigns"],queryFn:()=>Fe(),retry:(s,n)=>{var x;return[404,204,402].includes((x=n==null?void 0:n.response)==null?void 0:x.status)?!1:s<1}}),I=k({mutationFn:ke,onSuccess:()=>{p.invalidateQueries({queryKey:["outboundCampaigns"]}),E.success("Campaign launched successfully")},onError:s=>{var x,F,te,ne;const n=((F=(x=s.response)==null?void 0:x.data)==null?void 0:F.message)||"Failed to launch campaign";((ne=(te=s.response)==null?void 0:te.data)==null?void 0:ne.currentStatus)==="in-progress"?E.info("Campaign is already running"):E.error(n),p.invalidateQueries({queryKey:["outboundCampaigns"]})}}),i=k({mutationFn:Ee,onSuccess:()=>{p.invalidateQueries({queryKey:["outboundCampaigns"]})}});k({mutationFn:Re,onSuccess:()=>{p.invalidateQueries({queryKey:["outboundCampaigns"]})}});const c=k({mutationFn:qe,onSuccess:()=>{p.invalidateQueries({queryKey:["outboundCampaigns"]})}}),P=k({mutationFn:De,onSuccess:()=>{p.invalidateQueries({queryKey:["outboundCampaigns"]})}}),G=s=>{I.mutate(s)},Y=s=>{i.mutate(s)},B=s=>{confirm("Are you sure you want to cancel this campaign?")&&c.mutate(s)},O=s=>{confirm("Are you sure you want to delete this campaign? This action cannot be undone.")&&P.mutate(s)},V=s=>{D(s),b(!0)},K=()=>{p.invalidateQueries({queryKey:["outboundCampaigns"]}),E.success("Campaigns refreshed")},_=async()=>{if(z){f("/outbound/create-campaign");return}try{const n=(await Se.get("/api/credits/balance")).data.data;if(!n||parseFloat(n.available_credits)<1){S((n==null?void 0:n.available_credits)||0),w(!0);return}f("/outbound/create-campaign")}catch(s){console.error("Error checking credit balance:",s),E.error("Unable to verify credit balance. Please try again.")}},Q=s=>{const d={scheduled:{variant:"outline",icon:e.jsx(de,{className:"h-3 w-3 mr-1"}),label:"Scheduled"},"in-progress":{variant:"default",icon:e.jsx(H,{className:"h-3 w-3 mr-1"}),label:"Running"},ended:{variant:"secondary",icon:e.jsx(U,{className:"h-3 w-3 mr-1"}),label:"Ended"}}[s]||{variant:"outline",icon:e.jsx(W,{className:"h-3 w-3 mr-1"}),label:s.charAt(0).toUpperCase()+s.slice(1)};return e.jsxs(ae,{variant:d.variant,className:"flex items-center",children:[d.icon,d.label]})},T=Array.isArray(t==null?void 0:t.data)?t.data:[];if(l){const n=((a=l==null?void 0:l.response)==null?void 0:a.status)===402;return e.jsx(ce,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Outbound"}),e.jsx("p",{className:"text-muted-foreground",children:"Create and manage outbound campaigns"})]}),e.jsx(u,{children:e.jsx(h,{className:"pt-6",children:e.jsx("div",{className:"text-center",children:n?e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"h-12 w-12 text-orange-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Insufficient Credits"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"You need credits to access campaign features. Please purchase credits to continue."}),e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsx(o,{onClick:()=>f("/credits/purchase"),className:"bg-orange-500 hover:bg-orange-600",children:"Purchase Credits"}),e.jsxs(o,{variant:"outline",onClick:()=>window.location.reload(),children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"Unable to connect to the backend API. Please ensure the backend server is running."}),e.jsx(o,{onClick:()=>window.location.reload(),children:"Retry Connection"})]})})})})]})})}return e.jsx(ce,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Outbound"}),e.jsx("p",{className:"text-muted-foreground",children:"Create and manage outbound campaigns"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(o,{variant:"outline",onClick:K,title:"Refresh Campaigns",children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(o,{className:"bg-teal-600 hover:bg-teal-700 text-white",onClick:_,children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"Create Campaign"]})]})]}),e.jsxs(u,{children:[e.jsxs(j,{children:[e.jsxs(g,{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5"}),"Campaigns"]}),e.jsx(xe,{children:"Manage your outbound call campaigns"})]}),e.jsx(h,{children:A?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(C,{className:"h-8 w-8 animate-spin"})}):e.jsxs(ue,{children:[e.jsx(he,{children:e.jsxs(y,{children:[e.jsx(m,{children:"Campaign Name"}),e.jsx(m,{children:"Status"}),e.jsx(m,{children:"Total Calls"}),e.jsx(m,{children:"Completed"}),e.jsx(m,{children:"Pick Up"}),e.jsx(m,{children:"Actions"})]})}),e.jsx(je,{children:T.length===0?e.jsx(y,{children:e.jsx(r,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"No campaigns found. Create your first campaign to get started."})}):T.map(s=>{var n;return e.jsxs(y,{children:[e.jsx(r,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Created on ",new Date(s.createdAt).toLocaleDateString()]})]})}),e.jsx(r,{children:Q(s.status)}),e.jsx(r,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(oe,{className:"h-3 w-3"}),((n=s.customers)==null?void 0:n.length)||s.callsCounterEnded||0,s.status==="in-progress"&&e.jsxs("span",{className:"ml-2 text-xs text-green-600 font-medium",children:["(",s.callsCounterInProgress||0," active)"]})]})}),e.jsx(r,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(U,{className:"h-3 w-3"}),s.callsCounterEnded||0]})}),e.jsx(r,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(me,{className:"h-3 w-3"}),s.callsCounterEnded>0?`${Math.round((s.callsCounterEnded-s.callsCounterEndedVoicemail)/s.callsCounterEnded*100)}%`:"0%"]})}),e.jsx(r,{children:e.jsxs("div",{className:"flex gap-2",children:[s.status==="scheduled"&&e.jsx(o,{size:"sm",variant:"outline",onClick:()=>G(s.id),disabled:I.isPending,title:"Launch Campaign",children:I.isPending?e.jsx(C,{className:"h-3 w-3 animate-spin"}):e.jsx(H,{className:"h-3 w-3"})}),s.status==="in-progress"&&e.jsx(o,{size:"sm",variant:"outline",onClick:()=>Y(s.id),disabled:i.isPending,title:"Pause Campaign",children:i.isPending?e.jsx(C,{className:"h-3 w-3 animate-spin"}):e.jsx(pe,{className:"h-3 w-3"})}),(s.status==="scheduled"||s.status==="in-progress")&&e.jsx(o,{size:"sm",variant:"outline",onClick:()=>B(s.id),disabled:c.isPending,title:"Cancel Campaign",children:c.isPending?e.jsx(C,{className:"h-3 w-3 animate-spin"}):e.jsx(fe,{className:"h-3 w-3"})}),e.jsx(o,{size:"sm",variant:"outline",onClick:()=>V(s),title:"View Details",children:e.jsx(Ne,{className:"h-3 w-3"})}),s.status==="ended"&&e.jsx(o,{size:"sm",variant:"outline",onClick:()=>O(s.id),disabled:P.isPending,title:"Delete Campaign",children:P.isPending?e.jsx(C,{className:"h-3 w-3 animate-spin"}):e.jsx(Ce,{className:"h-3 w-3"})})]})})]},s.id)})})]})})]}),q&&e.jsx(ie,{open:$,onOpenChange:b,children:e.jsx(re,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:e.jsx(_e,{campaignId:q.id,onClose:()=>b(!1)})})}),e.jsx(ie,{open:M,onOpenChange:w,children:e.jsx(re,{className:"max-w-md",children:e.jsxs("div",{className:"text-center p-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:e.jsx(W,{className:"h-8 w-8 text-orange-600"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Insufficient Credits"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["You need at least 1 credit to use campaign creation.",e.jsxs("span",{className:"block mt-1",children:["Current balance: ",L," credits"]})]}),e.jsx("div",{className:"space-y-3",children:e.jsx("p",{className:"text-xs text-gray-500",children:"Credits are added instantly after purchase"})})]})})})]})})};export{os as default};
//# sourceMappingURL=Outbound-C12QCYeS.js.map
