import{j as e,m as J,a9 as x,ag as K,bv as I,bo as M,aj as O,ay as k,aw as W,aB as p}from"./ui-h9OBLyTx.js";import{r as t}from"./vendor-DG599jyl.js";import{u as X,d as Y}from"./router-BnJytTjr.js";import{t as h,B as w,Q as ee,R as se,U as F,V as D,C as g,d as u,e as f,b as j,L as i,I as T,p as ae,T as B,g as $,h as E,i as P,j as z,k as b}from"./index-1Kut4QPD.js";import{P as re}from"./Page-UYQEDYff.js";import{a as v}from"./client-BRl1a7Ju.js";import"./query-B7U7fZu0.js";function xe(){const C=X(),[N]=Y(),[c,_]=t.useState("vapi");t.useEffect(()=>{N.get("service")==="retell"&&_("retell")},[N]);const[a,S]=t.useState("female"),[o,q]=t.useState({name:"",description:"",firstMessage:"",voice:"female"}),[V,H]=t.useState([]),[A,Q]=t.useState([]),[te,R]=t.useState(!1),[n,U]=t.useState({agent_name:"",voice_id:"",llm_id:"",response_engine:{llm_id:"",type:"retell-llm"}});t.useEffect(()=>{c==="retell"&&Z()},[c]);const Z=async()=>{R(!0);try{const[s,l]=await Promise.all([v.get("/api/retell/voices"),v.get("/api/retell/llms")]);H(s.data.data||[]),Q(l.data.data||[])}catch(s){console.error("Error fetching Retell data:",s),h.error("Failed to load Retell options")}finally{R(!1)}},m=(s,l)=>{q(d=>({...d,[s]:l}))},y=(s,l)=>{U(d=>({...d,[s]:l}))},G=async s=>{var l,d;s.preventDefault();try{if(c==="vapi"){const r={name:o.name,firstMessage:o.firstMessage,voice:{provider:"11labs",voiceId:a==="female"?"sarah":"brian"}};console.log("Creating Vapi agent:",r),await v.post("/api/assistant/create_assistant",r),h.success("Vapi Agent Created Successfully")}else{const r={agent_name:n.agent_name,voice_id:n.voice_id,response_engine:{type:"retell-llm",llm_id:n.llm_id||"default-llm-id"}};console.log("Creating Retell agent:",r),await v.post("/api/retell/create-agent",r),h.success("Retell Agent Created Successfully")}C("/agents")}catch(r){console.error("Error creating agent:",r),h.error("Failed to create agent: "+(((d=(l=r.response)==null?void 0:l.data)==null?void 0:d.message)||r.message))}},L=()=>{C("/agents")};return e.jsxs(re,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex items-center gap-4 mb-6",children:e.jsxs(w,{variant:"ghost",size:"sm",onClick:L,className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[e.jsx(J,{className:"h-4 w-4"}),"Back to Agents"]})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary/20 to-accent/20 rounded-2xl mb-4",children:e.jsx(x,{className:"h-8 w-8 text-primary"})}),e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent mb-2",children:"Create Voice AI Agent"}),e.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Configure your new voice agent's settings and behavior to create personalized AI interactions"})]})]}),e.jsx("div",{className:"max-w-4xl mx-auto mb-8",children:e.jsxs(ee,{defaultValue:"vapi",value:c,onValueChange:s=>_(s),className:"w-full",children:[!N.get("service")&&e.jsxs(se,{className:"grid w-full grid-cols-2",children:[e.jsx(F,{value:"vapi",children:"Vapi.ai"}),e.jsx(F,{value:"retell",children:"Retell AI"})]}),e.jsxs("form",{onSubmit:G,className:"space-y-8 mt-8",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 border border-border/50 flex items-center gap-3",children:[e.jsx(K,{className:"h-5 w-5 text-primary"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Creating agent using ",e.jsx("strong",{children:c==="vapi"?"Vapi.ai":"Retell AI"})," services."]})]}),e.jsxs(D,{value:"vapi",className:"space-y-8",children:[e.jsxs(g,{className:"border-border/50 shadow-lg",children:[e.jsx(u,{className:"pb-4",children:e.jsxs(f,{className:"flex items-center gap-3 text-xl",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(I,{className:"h-5 w-5 text-primary"})}),"Basic Information"]})}),e.jsxs(j,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"name",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(x,{className:"h-4 w-4 text-primary"}),"Agent Name"]}),e.jsx(T,{id:"name",placeholder:"e.g., Customer Support Assistant",value:o.name,onChange:s=>m("name",s.target.value),className:"h-11 border-border/50 bg-background focus:border-primary/50 focus:ring-primary/20",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4 text-primary"}),"Agent Type"]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(ae,{variant:"secondary",className:"px-3 py-1",children:[e.jsx(O,{className:"h-3 w-3 mr-1"}),"Voice Assistant"]})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),e.jsx(B,{id:"description",placeholder:"Describe what this agent does and how it should behave...",value:o.description,onChange:s=>m("description",s.target.value),className:"min-h-[120px] border-border/50 bg-background focus:border-primary/50 focus:ring-primary/20 resize-none"})]})]})]}),e.jsxs(g,{className:"border-border/50 shadow-lg",children:[e.jsx(u,{className:"pb-4",children:e.jsxs(f,{className:"flex items-center gap-3 text-xl",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(k,{className:"h-5 w-5 text-primary"})}),"Voice Configuration"]})}),e.jsxs(j,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"first_message",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(W,{className:"h-4 w-4 text-primary"}),"First Message"]}),e.jsx(B,{id:"first_message",placeholder:"Hello! I'm your AI assistant. How can I help you today?",value:o.firstMessage,onChange:s=>m("firstMessage",s.target.value),className:"min-h-[100px] border-border/50 bg-background focus:border-primary/50 focus:ring-primary/20 resize-none"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(i,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(p,{className:"h-4 w-4 text-primary"}),"Voice Type"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:`border-2 rounded-xl p-6 cursor-pointer transition-all duration-200 ${a==="female"?"border-primary bg-primary/5 shadow-md":"border-border/50 hover:border-primary/30 hover:bg-primary/2"}`,onClick:()=>{S("female"),m("voice","female")},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${a==="female"?"bg-primary/20":"bg-muted"}`,children:e.jsx(p,{className:`h-5 w-5 ${a==="female"?"text-primary":"text-muted-foreground"}`})}),e.jsx("span",{className:"font-semibold text-lg",children:"Female Voice"})]}),e.jsx("div",{className:`h-5 w-5 rounded-full border-2 flex items-center justify-center ${a==="female"?"border-primary":"border-border"}`,children:a==="female"&&e.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-primary"})})]}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Natural sounding female voice with clear pronunciation and warm, professional tone"})]}),e.jsxs("div",{className:`border-2 rounded-xl p-6 cursor-pointer transition-all duration-200 ${a==="male"?"border-primary bg-primary/5 shadow-md":"border-border/50 hover:border-primary/30 hover:bg-primary/2"}`,onClick:()=>{S("male"),m("voice","male")},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${a==="male"?"bg-primary/20":"bg-muted"}`,children:e.jsx(p,{className:`h-5 w-5 ${a==="male"?"text-primary":"text-muted-foreground"}`})}),e.jsx("span",{className:"font-semibold text-lg",children:"Male Voice"})]}),e.jsx("div",{className:`h-5 w-5 rounded-full border-2 flex items-center justify-center ${a==="male"?"border-primary":"border-border"}`,children:a==="male"&&e.jsx("div",{className:"h-2.5 w-2.5 rounded-full bg-primary"})})]}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Deep male voice with professional tone, clarity, and authoritative presence"})]})]})]})]})]})]}),e.jsxs(D,{value:"retell",className:"space-y-8",children:[e.jsxs(g,{className:"border-border/50 shadow-lg",children:[e.jsx(u,{className:"pb-4",children:e.jsxs(f,{className:"flex items-center gap-3 text-xl",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(I,{className:"h-5 w-5 text-primary"})}),"Basic Information"]})}),e.jsx(j,{className:"space-y-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"retell_name",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(x,{className:"h-4 w-4 text-primary"}),"Agent Name"]}),e.jsx(T,{id:"retell_name",placeholder:"e.g., Booking Agent",value:n.agent_name,onChange:s=>y("agent_name",s.target.value),className:"h-11 border-border/50 bg-background focus:border-primary/50 focus:ring-primary/20",required:!0})]})})]}),e.jsxs(g,{className:"border-border/50 shadow-lg",children:[e.jsx(u,{className:"pb-4",children:e.jsxs(f,{className:"flex items-center gap-3 text-xl",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(k,{className:"h-5 w-5 text-primary"})}),"Agent Configuration"]})}),e.jsxs(j,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"voice_id",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(p,{className:"h-4 w-4 text-primary"}),"Voice"]}),e.jsxs($,{value:n.voice_id,onValueChange:s=>y("voice_id",s),children:[e.jsx(E,{className:"h-11 border-border/50 bg-background",children:e.jsx(P,{placeholder:"Select a Voice"})}),e.jsxs(z,{children:[V.map(s=>e.jsxs(b,{value:s.voice_id,children:[s.voice_name||s.voice_id," (",s.provider||"Retell",")"]},s.voice_id)),V.length===0&&e.jsx(b,{value:"custom",disabled:!0,children:"No voices found"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"llm_id",className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4 text-primary"}),"LLM / Response Engine"]}),e.jsxs($,{value:n.llm_id,onValueChange:s=>y("llm_id",s),children:[e.jsx(E,{className:"h-11 border-border/50 bg-background",children:e.jsx(P,{placeholder:"Select an LLM"})}),e.jsxs(z,{children:[A.map(s=>e.jsxs(b,{value:s.llm_id,children:[s.llm_id," (",s.model||"Default",")"]},s.llm_id)),A.length===0&&e.jsx(b,{value:"custom",disabled:!0,children:"No LLMs found"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Select the LLM that will power the agent's responses."})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-end pt-6 border-t border-border/50",children:[e.jsx(w,{type:"button",variant:"outline",onClick:L,className:"sm:w-auto w-full h-11 border-border/50 hover:bg-muted/50",children:"Cancel"}),e.jsxs(w,{type:"submit",className:"sm:w-auto w-full h-11 bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-white shadow-lg",children:[e.jsx(x,{className:"h-4 w-4 mr-2"}),"Create ",c==="vapi"?"Vapi":"Retell"," Agent"]})]})]})]})})]})}export{xe as AddAgent};
//# sourceMappingURL=AddAgent-Coi_jLD7.js.map
